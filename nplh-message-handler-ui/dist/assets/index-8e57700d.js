var ch=Object.defineProperty;var uh=(e,t,r)=>t in e?ch(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ce=(e,t,r)=>(uh(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Wl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wp={exports:{}},uo={},Np={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ms=Symbol.for("react.element"),dh=Symbol.for("react.portal"),ph=Symbol.for("react.fragment"),fh=Symbol.for("react.strict_mode"),mh=Symbol.for("react.profiler"),gh=Symbol.for("react.provider"),hh=Symbol.for("react.context"),vh=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),yh=Symbol.for("react.memo"),bh=Symbol.for("react.lazy"),yu=Symbol.iterator;function Sh(e){return e===null||typeof e!="object"?null:(e=yu&&e[yu]||e["@@iterator"],typeof e=="function"?e:null)}var Ep={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cp=Object.assign,jp={};function Pn(e,t,r){this.props=e,this.context=t,this.refs=jp,this.updater=r||Ep}Pn.prototype.isReactComponent={};Pn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dp(){}Dp.prototype=Pn.prototype;function Vl(e,t,r){this.props=e,this.context=t,this.refs=jp,this.updater=r||Ep}var ql=Vl.prototype=new Dp;ql.constructor=Vl;Cp(ql,Pn.prototype);ql.isPureReactComponent=!0;var bu=Array.isArray,kp=Object.prototype.hasOwnProperty,Kl={current:null},Ip={key:!0,ref:!0,__self:!0,__source:!0};function Tp(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)kp.call(t,n)&&!Ip.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),p=0;p<l;p++)c[p]=arguments[p+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ms,type:e,key:i,ref:a,props:s,_owner:Kl.current}}function wh(e,t){return{$$typeof:Ms,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ql(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ms}function Nh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Su=/\/+/g;function Ko(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nh(""+e.key):t.toString(36)}function vi(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ms:case dh:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ko(a,0):n,bu(s)?(r="",e!=null&&(r=e.replace(Su,"$&/")+"/"),vi(s,t,r,"",function(p){return p})):s!=null&&(Ql(s)&&(s=wh(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Su,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",bu(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ko(i,l);a+=vi(i,t,r,c,s)}else if(c=Sh(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ko(i,l++),a+=vi(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ys(e,t,r){if(e==null)return e;var n=[],s=0;return vi(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Eh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},xi={transition:null},Ch={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:xi,ReactCurrentOwner:Kl};function Rp(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ys,forEach:function(e,t,r){Ys(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ys(e,function(){t++}),t},toArray:function(e){return Ys(e,function(t){return t})||[]},only:function(e){if(!Ql(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Pn;re.Fragment=ph;re.Profiler=mh;re.PureComponent=Vl;re.StrictMode=fh;re.Suspense=xh;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ch;re.act=Rp;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Cp({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Kl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)kp.call(t,c)&&!Ip.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var p=0;p<c;p++)l[p]=arguments[p+2];n.children=l}return{$$typeof:Ms,type:e.type,key:s,ref:i,props:n,_owner:a}};re.createContext=function(e){return e={$$typeof:hh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gh,_context:e},e.Consumer=e};re.createElement=Tp;re.createFactory=function(e){var t=Tp.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:vh,render:e}};re.isValidElement=Ql;re.lazy=function(e){return{$$typeof:bh,_payload:{_status:-1,_result:e},_init:Eh}};re.memo=function(e,t){return{$$typeof:yh,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=xi.transition;xi.transition={};try{e()}finally{xi.transition=t}};re.unstable_act=Rp;re.useCallback=function(e,t){return qe.current.useCallback(e,t)};re.useContext=function(e){return qe.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};re.useEffect=function(e,t){return qe.current.useEffect(e,t)};re.useId=function(){return qe.current.useId()};re.useImperativeHandle=function(e,t,r){return qe.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return qe.current.useMemo(e,t)};re.useReducer=function(e,t,r){return qe.current.useReducer(e,t,r)};re.useRef=function(e){return qe.current.useRef(e)};re.useState=function(e){return qe.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return qe.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return qe.current.useTransition()};re.version="18.3.1";Np.exports=re;var I=Np.exports;const fe=Wl(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh=I,Dh=Symbol.for("react.element"),kh=Symbol.for("react.fragment"),Ih=Object.prototype.hasOwnProperty,Th=jh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rh={key:!0,ref:!0,__self:!0,__source:!0};function Pp(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Ih.call(t,n)&&!Rh.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Dh,type:e,key:i,ref:a,props:s,_owner:Th.current}}uo.Fragment=kh;uo.jsx=Pp;uo.jsxs=Pp;wp.exports=uo;var o=wp.exports,Oa={},Mp={exports:{}},ct={},Op={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,k){var M=S.length;S.push(k);e:for(;0<M;){var $=M-1>>>1,R=S[$];if(0<s(R,k))S[$]=k,S[M]=R,M=$;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var k=S[0],M=S.pop();if(M!==k){S[0]=M;e:for(var $=0,R=S.length,H=R>>>1;$<H;){var G=2*($+1)-1,V=S[G],_=G+1,q=S[_];if(0>s(V,M))_<R&&0>s(q,V)?(S[$]=q,S[_]=M,$=_):(S[$]=V,S[G]=M,$=G);else if(_<R&&0>s(q,M))S[$]=q,S[_]=M,$=_;else break e}}return k}function s(S,k){var M=S.sortIndex-k.sortIndex;return M!==0?M:S.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],p=[],f=1,u=null,d=3,m=!1,h=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(S){for(var k=r(p);k!==null;){if(k.callback===null)n(p);else if(k.startTime<=S)n(p),k.sortIndex=k.expirationTime,t(c,k);else break;k=r(p)}}function b(S){if(y=!1,x(S),!h)if(r(c)!==null)h=!0,B(E);else{var k=r(p);k!==null&&j(b,k.startTime-S)}}function E(S,k){h=!1,y&&(y=!1,v(T),T=-1),m=!0;var M=d;try{for(x(k),u=r(c);u!==null&&(!(u.expirationTime>k)||S&&!U());){var $=u.callback;if(typeof $=="function"){u.callback=null,d=u.priorityLevel;var R=$(u.expirationTime<=k);k=e.unstable_now(),typeof R=="function"?u.callback=R:u===r(c)&&n(c),x(k)}else n(c);u=r(c)}if(u!==null)var H=!0;else{var G=r(p);G!==null&&j(b,G.startTime-k),H=!1}return H}finally{u=null,d=M,m=!1}}var w=!1,D=null,T=-1,P=5,O=-1;function U(){return!(e.unstable_now()-O<P)}function X(){if(D!==null){var S=e.unstable_now();O=S;var k=!0;try{k=D(!0,S)}finally{k?Y():(w=!1,D=null)}}else w=!1}var Y;if(typeof g=="function")Y=function(){g(X)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,A=K.port2;K.port1.onmessage=X,Y=function(){A.postMessage(null)}}else Y=function(){N(X,0)};function B(S){D=S,w||(w=!0,Y())}function j(S,k){T=N(function(){S(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,B(E))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(S){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var M=d;d=k;try{return S()}finally{d=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,k){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var M=d;d=S;try{return k()}finally{d=M}},e.unstable_scheduleCallback=function(S,k,M){var $=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?$+M:$):M=$,S){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=M+R,S={id:f++,callback:k,priorityLevel:S,startTime:M,expirationTime:R,sortIndex:-1},M>$?(S.sortIndex=M,t(p,S),r(c)===null&&S===r(p)&&(y?(v(T),T=-1):y=!0,j(b,M-$))):(S.sortIndex=R,t(c,S),h||m||(h=!0,B(E))),S},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(S){var k=d;return function(){var M=d;d=k;try{return S.apply(this,arguments)}finally{d=M}}}})(Lp);Op.exports=Lp;var Ph=Op.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh=I,lt=Ph;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ap=new Set,us={};function Yr(e,t){wn(e,t),wn(e+"Capture",t)}function wn(e,t){for(us[e]=t,e=0;e<t.length;e++)Ap.add(t[e])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=Object.prototype.hasOwnProperty,Oh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wu={},Nu={};function Lh(e){return La.call(Nu,e)?!0:La.call(wu,e)?!1:Oh.test(e)?Nu[e]=!0:(wu[e]=!0,!1)}function Ah(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bh(e,t,r,n){if(t===null||typeof t>"u"||Ah(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yl=/[\-:]([a-z])/g;function Jl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yl,Jl);Fe[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yl,Jl);Fe[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yl,Jl);Fe[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xl(e,t,r,n){var s=Fe.hasOwnProperty(t)?Fe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bh(t,r,s,n)&&(r=null),n||s===null?Lh(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kt=Mh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Js=Symbol.for("react.element"),rn=Symbol.for("react.portal"),nn=Symbol.for("react.fragment"),Zl=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Bp=Symbol.for("react.provider"),Fp=Symbol.for("react.context"),ec=Symbol.for("react.forward_ref"),Ba=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),tc=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),zp=Symbol.for("react.offscreen"),Eu=Symbol.iterator;function Fn(e){return e===null||typeof e!="object"?null:(e=Eu&&e[Eu]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Qo;function Qn(e){if(Qo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qo=t&&t[1]||""}return`
`+Qo+e}var Yo=!1;function Jo(e,t){if(!e||Yo)return"";Yo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Yo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qn(e):""}function Fh(e){switch(e.tag){case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 2:case 15:return e=Jo(e.type,!1),e;case 11:return e=Jo(e.type.render,!1),e;case 1:return e=Jo(e.type,!0),e;default:return""}}function za(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nn:return"Fragment";case rn:return"Portal";case Aa:return"Profiler";case Zl:return"StrictMode";case Ba:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fp:return(e.displayName||"Context")+".Consumer";case Bp:return(e._context.displayName||"Context")+".Provider";case ec:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tc:return t=e.displayName||null,t!==null?t:za(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return za(e(t))}catch{}}return null}function zh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return za(t);case 8:return t===Zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $p(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $h(e){var t=$p(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xs(e){e._valueTracker||(e._valueTracker=$h(e))}function Up(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$p(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $a(e,t){var r=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Cu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=yr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hp(e,t){t=t.checked,t!=null&&Xl(e,"checked",t,!1)}function Ua(e,t){Hp(e,t);var r=yr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ha(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ha(e,t.type,yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ju(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ha(e,t,r){(t!=="number"||Ti(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Yn=Array.isArray;function gn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+yr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ga(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Du(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Yn(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:yr(r)}}function Gp(e,t){var r=yr(t.value),n=yr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ku(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _p(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _a(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_p(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zs,Wp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zs=Zs||document.createElement("div"),Zs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ds(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uh=["Webkit","ms","Moz","O"];Object.keys(Zn).forEach(function(e){Uh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zn[t]=Zn[e]})});function Vp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zn.hasOwnProperty(e)&&Zn[e]?(""+t).trim():t+"px"}function qp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Vp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Hh=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wa(e,t){if(t){if(Hh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Va(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qa=null;function rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ka=null,hn=null,vn=null;function Iu(e){if(e=As(e)){if(typeof Ka!="function")throw Error(L(280));var t=e.stateNode;t&&(t=ho(t),Ka(e.stateNode,e.type,t))}}function Kp(e){hn?vn?vn.push(e):vn=[e]:hn=e}function Qp(){if(hn){var e=hn,t=vn;if(vn=hn=null,Iu(e),t)for(e=0;e<t.length;e++)Iu(t[e])}}function Yp(e,t){return e(t)}function Jp(){}var Xo=!1;function Xp(e,t,r){if(Xo)return e(t,r);Xo=!0;try{return Yp(e,t,r)}finally{Xo=!1,(hn!==null||vn!==null)&&(Jp(),Qp())}}function ps(e,t){var r=e.stateNode;if(r===null)return null;var n=ho(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Qa=!1;if(_t)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){Qa=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{Qa=!1}function Gh(e,t,r,n,s,i,a,l,c){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(f){this.onError(f)}}var es=!1,Ri=null,Pi=!1,Ya=null,_h={onError:function(e){es=!0,Ri=e}};function Wh(e,t,r,n,s,i,a,l,c){es=!1,Ri=null,Gh.apply(_h,arguments)}function Vh(e,t,r,n,s,i,a,l,c){if(Wh.apply(this,arguments),es){if(es){var p=Ri;es=!1,Ri=null}else throw Error(L(198));Pi||(Pi=!0,Ya=p)}}function Jr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Zp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tu(e){if(Jr(e)!==e)throw Error(L(188))}function qh(e){var t=e.alternate;if(!t){if(t=Jr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Tu(s),e;if(i===n)return Tu(s),t;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function ef(e){return e=qh(e),e!==null?tf(e):null}function tf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tf(e);if(t!==null)return t;e=e.sibling}return null}var rf=lt.unstable_scheduleCallback,Ru=lt.unstable_cancelCallback,Kh=lt.unstable_shouldYield,Qh=lt.unstable_requestPaint,Se=lt.unstable_now,Yh=lt.unstable_getCurrentPriorityLevel,nc=lt.unstable_ImmediatePriority,nf=lt.unstable_UserBlockingPriority,Mi=lt.unstable_NormalPriority,Jh=lt.unstable_LowPriority,sf=lt.unstable_IdlePriority,po=null,Bt=null;function Xh(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(po,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:tv,Zh=Math.log,ev=Math.LN2;function tv(e){return e>>>=0,e===0?32:31-(Zh(e)/ev|0)|0}var ei=64,ti=4194304;function Jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Jn(l):(i&=a,i!==0&&(n=Jn(i)))}else a=r&~s,a!==0?n=Jn(a):i!==0&&(n=Jn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Dt(t),s=1<<r,n|=e[r],t&=~s;return n}function rv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Dt(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=rv(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Ja(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function of(){var e=ei;return ei<<=1,!(ei&4194240)&&(ei=64),e}function Zo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Os(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=r}function sv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Dt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function sc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Dt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var oe=0;function af(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lf,ic,cf,uf,df,Xa=!1,ri=[],or=null,ar=null,lr=null,fs=new Map,ms=new Map,tr=[],iv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pu(e,t){switch(e){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(t.pointerId)}}function $n(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=As(t),t!==null&&ic(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ov(e,t,r,n,s){switch(t){case"focusin":return or=$n(or,e,t,r,n,s),!0;case"dragenter":return ar=$n(ar,e,t,r,n,s),!0;case"mouseover":return lr=$n(lr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return fs.set(i,$n(fs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ms.set(i,$n(ms.get(i)||null,e,t,r,n,s)),!0}return!1}function pf(e){var t=Br(e.target);if(t!==null){var r=Jr(t);if(r!==null){if(t=r.tag,t===13){if(t=Zp(r),t!==null){e.blockedOn=t,df(e.priority,function(){cf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Za(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);qa=n,r.target.dispatchEvent(n),qa=null}else return t=As(r),t!==null&&ic(t),e.blockedOn=r,!1;t.shift()}return!0}function Mu(e,t,r){yi(e)&&r.delete(t)}function av(){Xa=!1,or!==null&&yi(or)&&(or=null),ar!==null&&yi(ar)&&(ar=null),lr!==null&&yi(lr)&&(lr=null),fs.forEach(Mu),ms.forEach(Mu)}function Un(e,t){e.blockedOn===t&&(e.blockedOn=null,Xa||(Xa=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,av)))}function gs(e){function t(s){return Un(s,e)}if(0<ri.length){Un(ri[0],e);for(var r=1;r<ri.length;r++){var n=ri[r];n.blockedOn===e&&(n.blockedOn=null)}}for(or!==null&&Un(or,e),ar!==null&&Un(ar,e),lr!==null&&Un(lr,e),fs.forEach(t),ms.forEach(t),r=0;r<tr.length;r++)n=tr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<tr.length&&(r=tr[0],r.blockedOn===null);)pf(r),r.blockedOn===null&&tr.shift()}var xn=Kt.ReactCurrentBatchConfig,Li=!0;function lv(e,t,r,n){var s=oe,i=xn.transition;xn.transition=null;try{oe=1,oc(e,t,r,n)}finally{oe=s,xn.transition=i}}function cv(e,t,r,n){var s=oe,i=xn.transition;xn.transition=null;try{oe=4,oc(e,t,r,n)}finally{oe=s,xn.transition=i}}function oc(e,t,r,n){if(Li){var s=Za(e,t,r,n);if(s===null)ca(e,t,n,Ai,r),Pu(e,n);else if(ov(s,e,t,r,n))n.stopPropagation();else if(Pu(e,n),t&4&&-1<iv.indexOf(e)){for(;s!==null;){var i=As(s);if(i!==null&&lf(i),i=Za(e,t,r,n),i===null&&ca(e,t,n,Ai,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ca(e,t,n,null,r)}}var Ai=null;function Za(e,t,r,n){if(Ai=null,e=rc(n),e=Br(e),e!==null)if(t=Jr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Zp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ai=e,null}function ff(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yh()){case nc:return 1;case nf:return 4;case Mi:case Jh:return 16;case sf:return 536870912;default:return 16}default:return 16}}var sr=null,ac=null,bi=null;function mf(){if(bi)return bi;var e,t=ac,r=t.length,n,s="value"in sr?sr.value:sr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return bi=s.slice(e,1<n?1-n:void 0)}function Si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function Ou(){return!1}function ut(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ni:Ou,this.isPropagationStopped=Ou,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=ut(Mn),Ls=ye({},Mn,{view:0,detail:0}),uv=ut(Ls),ea,ta,Hn,fo=ye({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hn&&(Hn&&e.type==="mousemove"?(ea=e.screenX-Hn.screenX,ta=e.screenY-Hn.screenY):ta=ea=0,Hn=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),Lu=ut(fo),dv=ye({},fo,{dataTransfer:0}),pv=ut(dv),fv=ye({},Ls,{relatedTarget:0}),ra=ut(fv),mv=ye({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),gv=ut(mv),hv=ye({},Mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vv=ut(hv),xv=ye({},Mn,{data:0}),Au=ut(xv),yv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sv[e])?!!t[e]:!1}function cc(){return wv}var Nv=ye({},Ls,{key:function(e){if(e.key){var t=yv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(e){return e.type==="keypress"?Si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ev=ut(Nv),Cv=ye({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bu=ut(Cv),jv=ye({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),Dv=ut(jv),kv=ye({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iv=ut(kv),Tv=ye({},fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rv=ut(Tv),Pv=[9,13,27,32],uc=_t&&"CompositionEvent"in window,ts=null;_t&&"documentMode"in document&&(ts=document.documentMode);var Mv=_t&&"TextEvent"in window&&!ts,gf=_t&&(!uc||ts&&8<ts&&11>=ts),Fu=String.fromCharCode(32),zu=!1;function hf(e,t){switch(e){case"keyup":return Pv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sn=!1;function Ov(e,t){switch(e){case"compositionend":return vf(t);case"keypress":return t.which!==32?null:(zu=!0,Fu);case"textInput":return e=t.data,e===Fu&&zu?null:e;default:return null}}function Lv(e,t){if(sn)return e==="compositionend"||!uc&&hf(e,t)?(e=mf(),bi=ac=sr=null,sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gf&&t.locale!=="ko"?null:t.data;default:return null}}var Av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Av[e.type]:t==="textarea"}function xf(e,t,r,n){Kp(n),t=Bi(t,"onChange"),0<t.length&&(r=new lc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var rs=null,hs=null;function Bv(e){If(e,0)}function mo(e){var t=ln(e);if(Up(t))return e}function Fv(e,t){if(e==="change")return t}var yf=!1;if(_t){var na;if(_t){var sa="oninput"in document;if(!sa){var Uu=document.createElement("div");Uu.setAttribute("oninput","return;"),sa=typeof Uu.oninput=="function"}na=sa}else na=!1;yf=na&&(!document.documentMode||9<document.documentMode)}function Hu(){rs&&(rs.detachEvent("onpropertychange",bf),hs=rs=null)}function bf(e){if(e.propertyName==="value"&&mo(hs)){var t=[];xf(t,hs,e,rc(e)),Xp(Bv,t)}}function zv(e,t,r){e==="focusin"?(Hu(),rs=t,hs=r,rs.attachEvent("onpropertychange",bf)):e==="focusout"&&Hu()}function $v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mo(hs)}function Uv(e,t){if(e==="click")return mo(t)}function Hv(e,t){if(e==="input"||e==="change")return mo(t)}function Gv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:Gv;function vs(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!La.call(t,s)||!It(e[s],t[s]))return!1}return!0}function Gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _u(e,t){var r=Gu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gu(r)}}function Sf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wf(){for(var e=window,t=Ti();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ti(e.document)}return t}function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _v(e){var t=wf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Sf(r.ownerDocument.documentElement,r)){if(n!==null&&dc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=_u(r,i);var a=_u(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wv=_t&&"documentMode"in document&&11>=document.documentMode,on=null,el=null,ns=null,tl=!1;function Wu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tl||on==null||on!==Ti(n)||(n=on,"selectionStart"in n&&dc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ns&&vs(ns,n)||(ns=n,n=Bi(el,"onSelect"),0<n.length&&(t=new lc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=on)))}function si(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var an={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionend:si("Transition","TransitionEnd")},ia={},Nf={};_t&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function go(e){if(ia[e])return ia[e];if(!an[e])return e;var t=an[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Nf)return ia[e]=t[r];return e}var Ef=go("animationend"),Cf=go("animationiteration"),jf=go("animationstart"),Df=go("transitionend"),kf=new Map,Vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){kf.set(e,t),Yr(t,[e])}for(var oa=0;oa<Vu.length;oa++){var aa=Vu[oa],Vv=aa.toLowerCase(),qv=aa[0].toUpperCase()+aa.slice(1);Nr(Vv,"on"+qv)}Nr(Ef,"onAnimationEnd");Nr(Cf,"onAnimationIteration");Nr(jf,"onAnimationStart");Nr("dblclick","onDoubleClick");Nr("focusin","onFocus");Nr("focusout","onBlur");Nr(Df,"onTransitionEnd");wn("onMouseEnter",["mouseout","mouseover"]);wn("onMouseLeave",["mouseout","mouseover"]);wn("onPointerEnter",["pointerout","pointerover"]);wn("onPointerLeave",["pointerout","pointerover"]);Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xn));function qu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Vh(n,t,void 0,e),e.currentTarget=null}function If(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,p=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;qu(s,l,p),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,p=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;qu(s,l,p),i=c}}}if(Pi)throw e=Ya,Pi=!1,Ya=null,e}function de(e,t){var r=t[ol];r===void 0&&(r=t[ol]=new Set);var n=e+"__bubble";r.has(n)||(Tf(t,e,2,!1),r.add(n))}function la(e,t,r){var n=0;t&&(n|=4),Tf(r,e,n,t)}var ii="_reactListening"+Math.random().toString(36).slice(2);function xs(e){if(!e[ii]){e[ii]=!0,Ap.forEach(function(r){r!=="selectionchange"&&(Kv.has(r)||la(r,!1,e),la(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ii]||(t[ii]=!0,la("selectionchange",!1,t))}}function Tf(e,t,r,n){switch(ff(t)){case 1:var s=lv;break;case 4:s=cv;break;default:s=oc}r=s.bind(null,t,r,e),s=void 0,!Qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ca(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Br(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Xp(function(){var p=i,f=rc(r),u=[];e:{var d=kf.get(e);if(d!==void 0){var m=lc,h=e;switch(e){case"keypress":if(Si(r)===0)break e;case"keydown":case"keyup":m=Ev;break;case"focusin":h="focus",m=ra;break;case"focusout":h="blur",m=ra;break;case"beforeblur":case"afterblur":m=ra;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Dv;break;case Ef:case Cf:case jf:m=gv;break;case Df:m=Iv;break;case"scroll":m=uv;break;case"wheel":m=Rv;break;case"copy":case"cut":case"paste":m=vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Bu}var y=(t&4)!==0,N=!y&&e==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var g=p,x;g!==null;){x=g;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=ps(g,v),b!=null&&y.push(ys(g,b,x)))),N)break;g=g.return}0<y.length&&(d=new m(d,h,null,r,f),u.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&r!==qa&&(h=r.relatedTarget||r.fromElement)&&(Br(h)||h[Wt]))break e;if((m||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,m?(h=r.relatedTarget||r.toElement,m=p,h=h?Br(h):null,h!==null&&(N=Jr(h),h!==N||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=p),m!==h)){if(y=Lu,b="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Bu,b="onPointerLeave",v="onPointerEnter",g="pointer"),N=m==null?d:ln(m),x=h==null?d:ln(h),d=new y(b,g+"leave",m,r,f),d.target=N,d.relatedTarget=x,b=null,Br(f)===p&&(y=new y(v,g+"enter",h,r,f),y.target=x,y.relatedTarget=N,b=y),N=b,m&&h)t:{for(y=m,v=h,g=0,x=y;x;x=en(x))g++;for(x=0,b=v;b;b=en(b))x++;for(;0<g-x;)y=en(y),g--;for(;0<x-g;)v=en(v),x--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=en(y),v=en(v)}y=null}else y=null;m!==null&&Ku(u,d,m,y,!1),h!==null&&N!==null&&Ku(u,N,h,y,!0)}}e:{if(d=p?ln(p):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var E=Fv;else if($u(d))if(yf)E=Hv;else{E=$v;var w=zv}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Uv);if(E&&(E=E(e,p))){xf(u,E,r,f);break e}w&&w(e,d,p),e==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&Ha(d,"number",d.value)}switch(w=p?ln(p):window,e){case"focusin":($u(w)||w.contentEditable==="true")&&(on=w,el=p,ns=null);break;case"focusout":ns=el=on=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,Wu(u,r,f);break;case"selectionchange":if(Wv)break;case"keydown":case"keyup":Wu(u,r,f)}var D;if(uc)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else sn?hf(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(gf&&r.locale!=="ko"&&(sn||T!=="onCompositionStart"?T==="onCompositionEnd"&&sn&&(D=mf()):(sr=f,ac="value"in sr?sr.value:sr.textContent,sn=!0)),w=Bi(p,T),0<w.length&&(T=new Au(T,e,null,r,f),u.push({event:T,listeners:w}),D?T.data=D:(D=vf(r),D!==null&&(T.data=D)))),(D=Mv?Ov(e,r):Lv(e,r))&&(p=Bi(p,"onBeforeInput"),0<p.length&&(f=new Au("onBeforeInput","beforeinput",null,r,f),u.push({event:f,listeners:p}),f.data=D))}If(u,t)})}function ys(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ps(e,r),i!=null&&n.unshift(ys(e,i,s)),i=ps(e,t),i!=null&&n.push(ys(e,i,s))),e=e.return}return n}function en(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ku(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,p=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&p!==null&&(l=p,s?(c=ps(r,i),c!=null&&a.unshift(ys(r,c,l))):s||(c=ps(r,i),c!=null&&a.push(ys(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Qv=/\r\n?/g,Yv=/\u0000|\uFFFD/g;function Qu(e){return(typeof e=="string"?e:""+e).replace(Qv,`
`).replace(Yv,"")}function oi(e,t,r){if(t=Qu(t),Qu(e)!==t&&r)throw Error(L(425))}function Fi(){}var rl=null,nl=null;function sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,Jv=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,Xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(e){return Yu.resolve(null).then(e).catch(Zv)}:il;function Zv(e){setTimeout(function(){throw e})}function ua(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),gs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);gs(t)}function cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ju(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var On=Math.random().toString(36).slice(2),At="__reactFiber$"+On,bs="__reactProps$"+On,Wt="__reactContainer$"+On,ol="__reactEvents$"+On,e0="__reactListeners$"+On,t0="__reactHandles$"+On;function Br(e){var t=e[At];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wt]||r[At]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ju(e);e!==null;){if(r=e[At])return r;e=Ju(e)}return t}e=r,r=e.parentNode}return null}function As(e){return e=e[At]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function ho(e){return e[bs]||null}var al=[],cn=-1;function Er(e){return{current:e}}function me(e){0>cn||(e.current=al[cn],al[cn]=null,cn--)}function ue(e,t){cn++,al[cn]=e.current,e.current=t}var br={},He=Er(br),Xe=Er(!1),Gr=br;function Nn(e,t){var r=e.type.contextTypes;if(!r)return br;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ze(e){return e=e.childContextTypes,e!=null}function zi(){me(Xe),me(He)}function Xu(e,t,r){if(He.current!==br)throw Error(L(168));ue(He,t),ue(Xe,r)}function Rf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,zh(e)||"Unknown",s));return ye({},r,n)}function $i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,Gr=He.current,ue(He,e),ue(Xe,Xe.current),!0}function Zu(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=Rf(e,t,Gr),n.__reactInternalMemoizedMergedChildContext=e,me(Xe),me(He),ue(He,e)):me(Xe),ue(Xe,r)}var $t=null,vo=!1,da=!1;function Pf(e){$t===null?$t=[e]:$t.push(e)}function r0(e){vo=!0,Pf(e)}function Cr(){if(!da&&$t!==null){da=!0;var e=0,t=oe;try{var r=$t;for(oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$t=null,vo=!1}catch(s){throw $t!==null&&($t=$t.slice(e+1)),rf(nc,Cr),s}finally{oe=t,da=!1}}return null}var un=[],dn=0,Ui=null,Hi=0,ft=[],mt=0,_r=null,Ut=1,Ht="";function Ir(e,t){un[dn++]=Hi,un[dn++]=Ui,Ui=e,Hi=t}function Mf(e,t,r){ft[mt++]=Ut,ft[mt++]=Ht,ft[mt++]=_r,_r=e;var n=Ut;e=Ht;var s=32-Dt(n)-1;n&=~(1<<s),r+=1;var i=32-Dt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Ut=1<<32-Dt(t)+s|r<<s|n,Ht=i+e}else Ut=1<<i|r<<s|n,Ht=e}function pc(e){e.return!==null&&(Ir(e,1),Mf(e,1,0))}function fc(e){for(;e===Ui;)Ui=un[--dn],un[dn]=null,Hi=un[--dn],un[dn]=null;for(;e===_r;)_r=ft[--mt],ft[mt]=null,Ht=ft[--mt],ft[mt]=null,Ut=ft[--mt],ft[mt]=null}var it=null,nt=null,ge=!1,Ct=null;function Of(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ed(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,nt=cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_r!==null?{id:Ut,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,it=e,nt=null,!0):!1;default:return!1}}function ll(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(ge){var t=nt;if(t){var r=t;if(!ed(e,t)){if(ll(e))throw Error(L(418));t=cr(r.nextSibling);var n=it;t&&ed(e,t)?Of(n,r):(e.flags=e.flags&-4097|2,ge=!1,it=e)}}else{if(ll(e))throw Error(L(418));e.flags=e.flags&-4097|2,ge=!1,it=e}}}function td(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function ai(e){if(e!==it)return!1;if(!ge)return td(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sl(e.type,e.memoizedProps)),t&&(t=nt)){if(ll(e))throw Lf(),Error(L(418));for(;t;)Of(e,t),t=cr(t.nextSibling)}if(td(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nt=cr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=it?cr(e.stateNode.nextSibling):null;return!0}function Lf(){for(var e=nt;e;)e=cr(e.nextSibling)}function En(){nt=it=null,ge=!1}function mc(e){Ct===null?Ct=[e]:Ct.push(e)}var n0=Kt.ReactCurrentBatchConfig;function Gn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function li(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rd(e){var t=e._init;return t(e._payload)}function Af(e){function t(v,g){if(e){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=fr(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,x,b){return g===null||g.tag!==6?(g=xa(x,v.mode,b),g.return=v,g):(g=s(g,x),g.return=v,g)}function c(v,g,x,b){var E=x.type;return E===nn?f(v,g,x.props.children,b,x.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Jt&&rd(E)===g.type)?(b=s(g,x.props),b.ref=Gn(v,g,x),b.return=v,b):(b=ki(x.type,x.key,x.props,null,v.mode,b),b.ref=Gn(v,g,x),b.return=v,b)}function p(v,g,x,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=ya(x,v.mode,b),g.return=v,g):(g=s(g,x.children||[]),g.return=v,g)}function f(v,g,x,b,E){return g===null||g.tag!==7?(g=Hr(x,v.mode,b,E),g.return=v,g):(g=s(g,x),g.return=v,g)}function u(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=xa(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Js:return x=ki(g.type,g.key,g.props,null,v.mode,x),x.ref=Gn(v,null,g),x.return=v,x;case rn:return g=ya(g,v.mode,x),g.return=v,g;case Jt:var b=g._init;return u(v,b(g._payload),x)}if(Yn(g)||Fn(g))return g=Hr(g,v.mode,x,null),g.return=v,g;li(v,g)}return null}function d(v,g,x,b){var E=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:l(v,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Js:return x.key===E?c(v,g,x,b):null;case rn:return x.key===E?p(v,g,x,b):null;case Jt:return E=x._init,d(v,g,E(x._payload),b)}if(Yn(x)||Fn(x))return E!==null?null:f(v,g,x,b,null);li(v,x)}return null}function m(v,g,x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,l(g,v,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Js:return v=v.get(b.key===null?x:b.key)||null,c(g,v,b,E);case rn:return v=v.get(b.key===null?x:b.key)||null,p(g,v,b,E);case Jt:var w=b._init;return m(v,g,x,w(b._payload),E)}if(Yn(b)||Fn(b))return v=v.get(x)||null,f(g,v,b,E,null);li(g,b)}return null}function h(v,g,x,b){for(var E=null,w=null,D=g,T=g=0,P=null;D!==null&&T<x.length;T++){D.index>T?(P=D,D=null):P=D.sibling;var O=d(v,D,x[T],b);if(O===null){D===null&&(D=P);break}e&&D&&O.alternate===null&&t(v,D),g=i(O,g,T),w===null?E=O:w.sibling=O,w=O,D=P}if(T===x.length)return r(v,D),ge&&Ir(v,T),E;if(D===null){for(;T<x.length;T++)D=u(v,x[T],b),D!==null&&(g=i(D,g,T),w===null?E=D:w.sibling=D,w=D);return ge&&Ir(v,T),E}for(D=n(v,D);T<x.length;T++)P=m(D,v,T,x[T],b),P!==null&&(e&&P.alternate!==null&&D.delete(P.key===null?T:P.key),g=i(P,g,T),w===null?E=P:w.sibling=P,w=P);return e&&D.forEach(function(U){return t(v,U)}),ge&&Ir(v,T),E}function y(v,g,x,b){var E=Fn(x);if(typeof E!="function")throw Error(L(150));if(x=E.call(x),x==null)throw Error(L(151));for(var w=E=null,D=g,T=g=0,P=null,O=x.next();D!==null&&!O.done;T++,O=x.next()){D.index>T?(P=D,D=null):P=D.sibling;var U=d(v,D,O.value,b);if(U===null){D===null&&(D=P);break}e&&D&&U.alternate===null&&t(v,D),g=i(U,g,T),w===null?E=U:w.sibling=U,w=U,D=P}if(O.done)return r(v,D),ge&&Ir(v,T),E;if(D===null){for(;!O.done;T++,O=x.next())O=u(v,O.value,b),O!==null&&(g=i(O,g,T),w===null?E=O:w.sibling=O,w=O);return ge&&Ir(v,T),E}for(D=n(v,D);!O.done;T++,O=x.next())O=m(D,v,T,O.value,b),O!==null&&(e&&O.alternate!==null&&D.delete(O.key===null?T:O.key),g=i(O,g,T),w===null?E=O:w.sibling=O,w=O);return e&&D.forEach(function(X){return t(v,X)}),ge&&Ir(v,T),E}function N(v,g,x,b){if(typeof x=="object"&&x!==null&&x.type===nn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Js:e:{for(var E=x.key,w=g;w!==null;){if(w.key===E){if(E=x.type,E===nn){if(w.tag===7){r(v,w.sibling),g=s(w,x.props.children),g.return=v,v=g;break e}}else if(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Jt&&rd(E)===w.type){r(v,w.sibling),g=s(w,x.props),g.ref=Gn(v,w,x),g.return=v,v=g;break e}r(v,w);break}else t(v,w);w=w.sibling}x.type===nn?(g=Hr(x.props.children,v.mode,b,x.key),g.return=v,v=g):(b=ki(x.type,x.key,x.props,null,v.mode,b),b.ref=Gn(v,g,x),b.return=v,v=b)}return a(v);case rn:e:{for(w=x.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(v,g.sibling),g=s(g,x.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=ya(x,v.mode,b),g.return=v,v=g}return a(v);case Jt:return w=x._init,N(v,g,w(x._payload),b)}if(Yn(x))return h(v,g,x,b);if(Fn(x))return y(v,g,x,b);li(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,x),g.return=v,v=g):(r(v,g),g=xa(x,v.mode,b),g.return=v,v=g),a(v)):r(v,g)}return N}var Cn=Af(!0),Bf=Af(!1),Gi=Er(null),_i=null,pn=null,gc=null;function hc(){gc=pn=_i=null}function vc(e){var t=Gi.current;me(Gi),e._currentValue=t}function ul(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yn(e,t){_i=e,gc=pn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(gc!==e)if(e={context:e,memoizedValue:t,next:null},pn===null){if(_i===null)throw Error(L(308));pn=e,_i.dependencies={lanes:0,firstContext:e}}else pn=pn.next=e;return t}var Fr=null;function xc(e){Fr===null?Fr=[e]:Fr.push(e)}function Ff(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,xc(t)):(r.next=s.next,s.next=r),t.interleaved=r,Vt(e,n)}function Vt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xt=!1;function yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ur(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,se&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Vt(e,r)}return s=n.interleaved,s===null?(t.next=t,xc(n)):(t.next=s.next,s.next=t),n.interleaved=t,Vt(e,r)}function wi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sc(e,r)}}function nd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wi(e,t,r,n){var s=e.updateQueue;Xt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,p=c.next;c.next=null,a===null?i=p:a.next=p,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=p:l.next=p,f.lastBaseUpdate=c))}if(i!==null){var u=s.baseState;a=0,f=p=c=null,l=i;do{var d=l.lane,m=l.eventTime;if((n&d)===d){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,y=l;switch(d=t,m=r,y.tag){case 1:if(h=y.payload,typeof h=="function"){u=h.call(m,u,d);break e}u=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,d=typeof h=="function"?h.call(m,u,d):h,d==null)break e;u=ye({},u,d);break e;case 2:Xt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else m={eventTime:m,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(p=f=m,c=u):f=f.next=m,a|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(f===null&&(c=u),s.baseState=c,s.firstBaseUpdate=p,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Vr|=a,e.lanes=a,e.memoizedState=u}}function sd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Bs={},Ft=Er(Bs),Ss=Er(Bs),ws=Er(Bs);function zr(e){if(e===Bs)throw Error(L(174));return e}function bc(e,t){switch(ue(ws,t),ue(Ss,e),ue(Ft,Bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_a(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_a(t,e)}me(Ft),ue(Ft,t)}function jn(){me(Ft),me(Ss),me(ws)}function $f(e){zr(ws.current);var t=zr(Ft.current),r=_a(t,e.type);t!==r&&(ue(Ss,e),ue(Ft,r))}function Sc(e){Ss.current===e&&(me(Ft),me(Ss))}var ve=Er(0);function Vi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=[];function wc(){for(var e=0;e<pa.length;e++)pa[e]._workInProgressVersionPrimary=null;pa.length=0}var Ni=Kt.ReactCurrentDispatcher,fa=Kt.ReactCurrentBatchConfig,Wr=0,xe=null,Ne=null,je=null,qi=!1,ss=!1,Ns=0,s0=0;function ze(){throw Error(L(321))}function Nc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!It(e[r],t[r]))return!1;return!0}function Ec(e,t,r,n,s,i){if(Wr=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ni.current=e===null||e.memoizedState===null?l0:c0,e=r(n,s),ss){i=0;do{if(ss=!1,Ns=0,25<=i)throw Error(L(301));i+=1,je=Ne=null,t.updateQueue=null,Ni.current=u0,e=r(n,s)}while(ss)}if(Ni.current=Ki,t=Ne!==null&&Ne.next!==null,Wr=0,je=Ne=xe=null,qi=!1,t)throw Error(L(300));return e}function Cc(){var e=Ns!==0;return Ns=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?xe.memoizedState=je=e:je=je.next=e,je}function bt(){if(Ne===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=je===null?xe.memoizedState:je.next;if(t!==null)je=t,Ne=e;else{if(e===null)throw Error(L(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},je===null?xe.memoizedState=je=e:je=je.next=e}return je}function Es(e,t){return typeof t=="function"?t(e):t}function ma(e){var t=bt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Ne,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,p=i;do{var f=p.lane;if((Wr&f)===f)c!==null&&(c=c.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var u={lane:f,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};c===null?(l=c=u,a=n):c=c.next=u,xe.lanes|=f,Vr|=f}p=p.next}while(p!==null&&p!==i);c===null?a=n:c.next=l,It(n,t.memoizedState)||(Je=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,xe.lanes|=i,Vr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ga(e){var t=bt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);It(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Uf(){}function Hf(e,t){var r=xe,n=bt(),s=t(),i=!It(n.memoizedState,s);if(i&&(n.memoizedState=s,Je=!0),n=n.queue,jc(Wf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||je!==null&&je.memoizedState.tag&1){if(r.flags|=2048,Cs(9,_f.bind(null,r,n,s,t),void 0,null),De===null)throw Error(L(349));Wr&30||Gf(r,t,s)}return s}function Gf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _f(e,t,r,n){t.value=r,t.getSnapshot=n,Vf(t)&&qf(e)}function Wf(e,t,r){return r(function(){Vf(t)&&qf(e)})}function Vf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!It(e,r)}catch{return!0}}function qf(e){var t=Vt(e,1);t!==null&&kt(t,e,1,-1)}function id(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t.queue=e,e=e.dispatch=a0.bind(null,xe,e),[t.memoizedState,e]}function Cs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Kf(){return bt().memoizedState}function Ei(e,t,r,n){var s=Lt();xe.flags|=e,s.memoizedState=Cs(1|t,r,void 0,n===void 0?null:n)}function xo(e,t,r,n){var s=bt();n=n===void 0?null:n;var i=void 0;if(Ne!==null){var a=Ne.memoizedState;if(i=a.destroy,n!==null&&Nc(n,a.deps)){s.memoizedState=Cs(t,r,i,n);return}}xe.flags|=e,s.memoizedState=Cs(1|t,r,i,n)}function od(e,t){return Ei(8390656,8,e,t)}function jc(e,t){return xo(2048,8,e,t)}function Qf(e,t){return xo(4,2,e,t)}function Yf(e,t){return xo(4,4,e,t)}function Jf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xf(e,t,r){return r=r!=null?r.concat([e]):null,xo(4,4,Jf.bind(null,t,e),r)}function Dc(){}function Zf(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Nc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function em(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Nc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function tm(e,t,r){return Wr&21?(It(r,t)||(r=of(),xe.lanes|=r,Vr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=r)}function i0(e,t){var r=oe;oe=r!==0&&4>r?r:4,e(!0);var n=fa.transition;fa.transition={};try{e(!1),t()}finally{oe=r,fa.transition=n}}function rm(){return bt().memoizedState}function o0(e,t,r){var n=pr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nm(e))sm(t,r);else if(r=Ff(e,t,r,n),r!==null){var s=Ve();kt(r,e,n,s),im(r,t,n)}}function a0(e,t,r){var n=pr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nm(e))sm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,It(l,a)){var c=t.interleaved;c===null?(s.next=s,xc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ff(e,t,s,n),r!==null&&(s=Ve(),kt(r,e,n,s),im(r,t,n))}}function nm(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function sm(e,t){ss=qi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function im(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sc(e,r)}}var Ki={readContext:yt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},l0={readContext:yt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:od,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ei(4194308,4,Jf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var r=Lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Lt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=o0.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:id,useDebugValue:Dc,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=id(!1),t=e[0];return e=i0.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=xe,s=Lt();if(ge){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),De===null)throw Error(L(349));Wr&30||Gf(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,od(Wf.bind(null,n,i,e),[e]),n.flags|=2048,Cs(9,_f.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Lt(),t=De.identifierPrefix;if(ge){var r=Ht,n=Ut;r=(n&~(1<<32-Dt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ns++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=s0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},c0={readContext:yt,useCallback:Zf,useContext:yt,useEffect:jc,useImperativeHandle:Xf,useInsertionEffect:Qf,useLayoutEffect:Yf,useMemo:em,useReducer:ma,useRef:Kf,useState:function(){return ma(Es)},useDebugValue:Dc,useDeferredValue:function(e){var t=bt();return tm(t,Ne.memoizedState,e)},useTransition:function(){var e=ma(Es)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:Hf,useId:rm,unstable_isNewReconciler:!1},u0={readContext:yt,useCallback:Zf,useContext:yt,useEffect:jc,useImperativeHandle:Xf,useInsertionEffect:Qf,useLayoutEffect:Yf,useMemo:em,useReducer:ga,useRef:Kf,useState:function(){return ga(Es)},useDebugValue:Dc,useDeferredValue:function(e){var t=bt();return Ne===null?t.memoizedState=e:tm(t,Ne.memoizedState,e)},useTransition:function(){var e=ga(Es)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:Hf,useId:rm,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function dl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yo={isMounted:function(e){return(e=e._reactInternals)?Jr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ve(),s=pr(e),i=Gt(n,s);i.payload=t,r!=null&&(i.callback=r),t=ur(e,i,s),t!==null&&(kt(t,e,s,n),wi(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ve(),s=pr(e),i=Gt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ur(e,i,s),t!==null&&(kt(t,e,s,n),wi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ve(),n=pr(e),s=Gt(r,n);s.tag=2,t!=null&&(s.callback=t),t=ur(e,s,n),t!==null&&(kt(t,e,n,r),wi(t,e,n))}};function ad(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!vs(r,n)||!vs(s,i):!0}function om(e,t,r){var n=!1,s=br,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(s=Ze(t)?Gr:He.current,n=t.contextTypes,i=(n=n!=null)?Nn(e,s):br),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ld(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function pl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},yc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=yt(i):(i=Ze(t)?Gr:He.current,s.context=Nn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yo.enqueueReplaceState(s,s.state,null),Wi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Dn(e,t){try{var r="",n=t;do r+=Fh(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ha(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var d0=typeof WeakMap=="function"?WeakMap:Map;function am(e,t,r){r=Gt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yi||(Yi=!0,Nl=n),fl(e,t)},r}function lm(e,t,r){r=Gt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){fl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){fl(e,t),typeof n!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function cd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new d0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=C0.bind(null,e,t,r),t.then(e,e))}function ud(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dd(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gt(-1,1),t.tag=2,ur(r,t,1))),r.lanes|=1),e)}var p0=Kt.ReactCurrentOwner,Je=!1;function We(e,t,r,n){t.child=e===null?Bf(t,null,r,n):Cn(t,e.child,r,n)}function pd(e,t,r,n,s){r=r.render;var i=t.ref;return yn(t,s),n=Ec(e,t,r,n,i,s),r=Cc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(ge&&r&&pc(t),t.flags|=1,We(e,t,n,s),t.child)}function fd(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Lc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,cm(e,t,i,n,s)):(e=ki(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:vs,r(a,n)&&e.ref===t.ref)return qt(e,t,s)}return t.flags|=1,e=fr(i,n),e.ref=t.ref,e.return=t,t.child=e}function cm(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(vs(i,n)&&e.ref===t.ref)if(Je=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,qt(e,t,s)}return ml(e,t,r,n,s)}function um(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(mn,rt),rt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(mn,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ue(mn,rt),rt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ue(mn,rt),rt|=n;return We(e,t,s,r),t.child}function dm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ml(e,t,r,n,s){var i=Ze(r)?Gr:He.current;return i=Nn(t,i),yn(t,s),r=Ec(e,t,r,n,i,s),n=Cc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(ge&&n&&pc(t),t.flags|=1,We(e,t,r,s),t.child)}function md(e,t,r,n,s){if(Ze(r)){var i=!0;$i(t)}else i=!1;if(yn(t,s),t.stateNode===null)Ci(e,t),om(t,r,n),pl(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,p=r.contextType;typeof p=="object"&&p!==null?p=yt(p):(p=Ze(r)?Gr:He.current,p=Nn(t,p));var f=r.getDerivedStateFromProps,u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==p)&&ld(t,a,n,p),Xt=!1;var d=t.memoizedState;a.state=d,Wi(t,n,a,s),c=t.memoizedState,l!==n||d!==c||Xe.current||Xt?(typeof f=="function"&&(dl(t,r,f,n),c=t.memoizedState),(l=Xt||ad(t,r,l,n,d,c,p))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=p,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,zf(e,t),l=t.memoizedProps,p=t.type===t.elementType?l:Nt(t.type,l),a.props=p,u=t.pendingProps,d=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=yt(c):(c=Ze(r)?Gr:He.current,c=Nn(t,c));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==u||d!==c)&&ld(t,a,n,c),Xt=!1,d=t.memoizedState,a.state=d,Wi(t,n,a,s);var h=t.memoizedState;l!==u||d!==h||Xe.current||Xt?(typeof m=="function"&&(dl(t,r,m,n),h=t.memoizedState),(p=Xt||ad(t,r,p,n,d,h,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,h,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,h,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=c,n=p):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return gl(e,t,r,n,i,s)}function gl(e,t,r,n,s,i){dm(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Zu(t,r,!1),qt(e,t,i);n=t.stateNode,p0.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Cn(t,e.child,null,i),t.child=Cn(t,null,l,i)):We(e,t,l,i),t.memoizedState=n.state,s&&Zu(t,r,!0),t.child}function pm(e){var t=e.stateNode;t.pendingContext?Xu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xu(e,t.context,!1),bc(e,t.containerInfo)}function gd(e,t,r,n,s){return En(),mc(s),t.flags|=256,We(e,t,r,n),t.child}var hl={dehydrated:null,treeContext:null,retryLane:0};function vl(e){return{baseLanes:e,cachePool:null,transitions:null}}function fm(e,t,r){var n=t.pendingProps,s=ve.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(ve,s&1),e===null)return cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=wo(a,n,0,null),e=Hr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vl(r),t.memoizedState=hl,e):kc(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return f0(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=fr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=fr(l,i):(i=Hr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?vl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=hl,n}return i=e.child,e=i.sibling,n=fr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function kc(e,t){return t=wo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ci(e,t,r,n){return n!==null&&mc(n),Cn(t,e.child,null,r),e=kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function f0(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ha(Error(L(422))),ci(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=wo({mode:"visible",children:n.children},s,0,null),i=Hr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Cn(t,e.child,null,a),t.child.memoizedState=vl(a),t.memoizedState=hl,i);if(!(t.mode&1))return ci(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(L(419)),n=ha(i,n,void 0),ci(e,t,a,n)}if(l=(a&e.childLanes)!==0,Je||l){if(n=De,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vt(e,s),kt(n,e,s,-1))}return Oc(),n=ha(Error(L(421))),ci(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=j0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,nt=cr(s.nextSibling),it=t,ge=!0,Ct=null,e!==null&&(ft[mt++]=Ut,ft[mt++]=Ht,ft[mt++]=_r,Ut=e.id,Ht=e.overflow,_r=t),t=kc(t,n.children),t.flags|=4096,t)}function hd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ul(e.return,t,r)}function va(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function mm(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(We(e,t,n.children,r),n=ve.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,r,t);else if(e.tag===19)hd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(ve,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Vi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),va(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}va(t,!0,r,null,i);break;case"together":va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=fr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function m0(e,t,r){switch(t.tag){case 3:pm(t),En();break;case 5:$f(t);break;case 1:Ze(t.type)&&$i(t);break;case 4:bc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ue(Gi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(ve,ve.current&1),t.flags|=128,null):r&t.child.childLanes?fm(e,t,r):(ue(ve,ve.current&1),e=qt(e,t,r),e!==null?e.sibling:null);ue(ve,ve.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return mm(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ve,ve.current),n)break;return null;case 22:case 23:return t.lanes=0,um(e,t,r)}return qt(e,t,r)}var gm,xl,hm,vm;gm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xl=function(){};hm=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,zr(Ft.current);var i=null;switch(r){case"input":s=$a(e,s),n=$a(e,n),i=[];break;case"select":s=ye({},s,{value:void 0}),n=ye({},n,{value:void 0}),i=[];break;case"textarea":s=Ga(e,s),n=Ga(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fi)}Wa(r,n);var a;r=null;for(p in s)if(!n.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var l=s[p];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(us.hasOwnProperty(p)?i||(i=[]):(i=i||[]).push(p,null));for(p in n){var c=n[p];if(l=s!=null?s[p]:void 0,n.hasOwnProperty(p)&&c!==l&&(c!=null||l!=null))if(p==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(p,r)),r=c;else p==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(p,c)):p==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(p,""+c):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(us.hasOwnProperty(p)?(c!=null&&p==="onScroll"&&de("scroll",e),i||l===c||(i=[])):(i=i||[]).push(p,c))}r&&(i=i||[]).push("style",r);var p=i;(t.updateQueue=p)&&(t.flags|=4)}};vm=function(e,t,r,n){r!==n&&(t.flags|=4)};function _n(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function g0(e,t,r){var n=t.pendingProps;switch(fc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return Ze(t.type)&&zi(),$e(t),null;case 3:return n=t.stateNode,jn(),me(Xe),me(He),wc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(jl(Ct),Ct=null))),xl(e,t),$e(t),null;case 5:Sc(t);var s=zr(ws.current);if(r=t.type,e!==null&&t.stateNode!=null)hm(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return $e(t),null}if(e=zr(Ft.current),ai(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[At]=t,n[bs]=i,e=(t.mode&1)!==0,r){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(s=0;s<Xn.length;s++)de(Xn[s],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":Cu(n,i),de("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},de("invalid",n);break;case"textarea":Du(n,i),de("invalid",n)}Wa(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&oi(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&oi(n.textContent,l,e),s=["children",""+l]):us.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&de("scroll",n)}switch(r){case"input":Xs(n),ju(n,i,!0);break;case"textarea":Xs(n),ku(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Fi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_p(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[At]=t,e[bs]=n,gm(e,t,!1,!1),t.stateNode=e;e:{switch(a=Va(r,n),r){case"dialog":de("cancel",e),de("close",e),s=n;break;case"iframe":case"object":case"embed":de("load",e),s=n;break;case"video":case"audio":for(s=0;s<Xn.length;s++)de(Xn[s],e);s=n;break;case"source":de("error",e),s=n;break;case"img":case"image":case"link":de("error",e),de("load",e),s=n;break;case"details":de("toggle",e),s=n;break;case"input":Cu(e,n),s=$a(e,n),de("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ye({},n,{value:void 0}),de("invalid",e);break;case"textarea":Du(e,n),s=Ga(e,n),de("invalid",e);break;default:s=n}Wa(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?qp(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wp(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ds(e,c):typeof c=="number"&&ds(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(us.hasOwnProperty(i)?c!=null&&i==="onScroll"&&de("scroll",e):c!=null&&Xl(e,i,c,a))}switch(r){case"input":Xs(e),ju(e,n,!1);break;case"textarea":Xs(e),ku(e);break;case"option":n.value!=null&&e.setAttribute("value",""+yr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?gn(e,!!n.multiple,i,!1):n.defaultValue!=null&&gn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)vm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=zr(ws.current),zr(Ft.current),ai(t)){if(n=t.stateNode,r=t.memoizedProps,n[At]=t,(i=n.nodeValue!==r)&&(e=it,e!==null))switch(e.tag){case 3:oi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[At]=t,t.stateNode=n}return $e(t),null;case 13:if(me(ve),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&nt!==null&&t.mode&1&&!(t.flags&128))Lf(),En(),t.flags|=98560,i=!1;else if(i=ai(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[At]=t}else En(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),i=!1}else Ct!==null&&(jl(Ct),Ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Ee===0&&(Ee=3):Oc())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return jn(),xl(e,t),e===null&&xs(t.stateNode.containerInfo),$e(t),null;case 10:return vc(t.type._context),$e(t),null;case 17:return Ze(t.type)&&zi(),$e(t),null;case 19:if(me(ve),i=t.memoizedState,i===null)return $e(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)_n(i,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Vi(e),a!==null){for(t.flags|=128,_n(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Se()>kn&&(t.flags|=128,n=!0,_n(i,!1),t.lanes=4194304)}else{if(!n)if(e=Vi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_n(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ge)return $e(t),null}else 2*Se()-i.renderingStartTime>kn&&r!==1073741824&&(t.flags|=128,n=!0,_n(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Se(),t.sibling=null,r=ve.current,ue(ve,n?r&1|2:r&1),t):($e(t),null);case 22:case 23:return Mc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rt&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function h0(e,t){switch(fc(t),t.tag){case 1:return Ze(t.type)&&zi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jn(),me(Xe),me(He),wc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sc(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));En()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return jn(),null;case 10:return vc(t.type._context),null;case 22:case 23:return Mc(),null;case 24:return null;default:return null}}var ui=!1,Ue=!1,v0=typeof WeakSet=="function"?WeakSet:Set,W=null;function fn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){be(e,t,n)}else r.current=null}function yl(e,t,r){try{r()}catch(n){be(e,t,n)}}var vd=!1;function x0(e,t){if(rl=Li,e=wf(),dc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,p=0,f=0,u=e,d=null;t:for(;;){for(var m;u!==r||s!==0&&u.nodeType!==3||(l=a+s),u!==i||n!==0&&u.nodeType!==3||(c=a+n),u.nodeType===3&&(a+=u.nodeValue.length),(m=u.firstChild)!==null;)d=u,u=m;for(;;){if(u===e)break t;if(d===r&&++p===s&&(l=a),d===i&&++f===n&&(c=a),(m=u.nextSibling)!==null)break;u=d,d=u.parentNode}u=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(nl={focusedElem:e,selectionRange:r},Li=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,N=h.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Nt(t.type,y),N);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){be(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return h=vd,vd=!1,h}function is(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&yl(t,r,i)}s=s.next}while(s!==n)}}function bo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function bl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xm(e){var t=e.alternate;t!==null&&(e.alternate=null,xm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[bs],delete t[ol],delete t[e0],delete t[t0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ym(e){return e.tag===5||e.tag===3||e.tag===4}function xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ym(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fi));else if(n!==4&&(e=e.child,e!==null))for(Sl(e,t,r),e=e.sibling;e!==null;)Sl(e,t,r),e=e.sibling}function wl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wl(e,t,r),e=e.sibling;e!==null;)wl(e,t,r),e=e.sibling}var Le=null,Et=!1;function Yt(e,t,r){for(r=r.child;r!==null;)bm(e,t,r),r=r.sibling}function bm(e,t,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(po,r)}catch{}switch(r.tag){case 5:Ue||fn(r,t);case 6:var n=Le,s=Et;Le=null,Yt(e,t,r),Le=n,Et=s,Le!==null&&(Et?(e=Le,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Le.removeChild(r.stateNode));break;case 18:Le!==null&&(Et?(e=Le,r=r.stateNode,e.nodeType===8?ua(e.parentNode,r):e.nodeType===1&&ua(e,r),gs(e)):ua(Le,r.stateNode));break;case 4:n=Le,s=Et,Le=r.stateNode.containerInfo,Et=!0,Yt(e,t,r),Le=n,Et=s;break;case 0:case 11:case 14:case 15:if(!Ue&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&yl(r,t,a),s=s.next}while(s!==n)}Yt(e,t,r);break;case 1:if(!Ue&&(fn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){be(r,t,l)}Yt(e,t,r);break;case 21:Yt(e,t,r);break;case 22:r.mode&1?(Ue=(n=Ue)||r.memoizedState!==null,Yt(e,t,r),Ue=n):Yt(e,t,r);break;default:Yt(e,t,r)}}function yd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new v0),t.forEach(function(n){var s=D0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function St(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Le=l.stateNode,Et=!1;break e;case 3:Le=l.stateNode.containerInfo,Et=!0;break e;case 4:Le=l.stateNode.containerInfo,Et=!0;break e}l=l.return}if(Le===null)throw Error(L(160));bm(i,a,s),Le=null,Et=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(p){be(s,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sm(t,e),t=t.sibling}function Sm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),Ot(e),n&4){try{is(3,e,e.return),bo(3,e)}catch(y){be(e,e.return,y)}try{is(5,e,e.return)}catch(y){be(e,e.return,y)}}break;case 1:St(t,e),Ot(e),n&512&&r!==null&&fn(r,r.return);break;case 5:if(St(t,e),Ot(e),n&512&&r!==null&&fn(r,r.return),e.flags&32){var s=e.stateNode;try{ds(s,"")}catch(y){be(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Hp(s,i),Va(l,a);var p=Va(l,i);for(a=0;a<c.length;a+=2){var f=c[a],u=c[a+1];f==="style"?qp(s,u):f==="dangerouslySetInnerHTML"?Wp(s,u):f==="children"?ds(s,u):Xl(s,f,u,p)}switch(l){case"input":Ua(s,i);break;case"textarea":Gp(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?gn(s,!!i.multiple,m,!1):d!==!!i.multiple&&(i.defaultValue!=null?gn(s,!!i.multiple,i.defaultValue,!0):gn(s,!!i.multiple,i.multiple?[]:"",!1))}s[bs]=i}catch(y){be(e,e.return,y)}}break;case 6:if(St(t,e),Ot(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){be(e,e.return,y)}}break;case 3:if(St(t,e),Ot(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gs(t.containerInfo)}catch(y){be(e,e.return,y)}break;case 4:St(t,e),Ot(e);break;case 13:St(t,e),Ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rc=Se())),n&4&&yd(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Ue=(p=Ue)||f,St(t,e),Ue=p):St(t,e),Ot(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!f&&e.mode&1)for(W=e,f=e.child;f!==null;){for(u=W=f;W!==null;){switch(d=W,m=d.child,d.tag){case 0:case 11:case 14:case 15:is(4,d,d.return);break;case 1:fn(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){be(n,r,y)}}break;case 5:fn(d,d.return);break;case 22:if(d.memoizedState!==null){Sd(u);continue}}m!==null?(m.return=d,W=m):Sd(u)}f=f.sibling}e:for(f=null,u=e;;){if(u.tag===5){if(f===null){f=u;try{s=u.stateNode,p?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,c=u.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Vp("display",a))}catch(y){be(e,e.return,y)}}}else if(u.tag===6){if(f===null)try{u.stateNode.nodeValue=p?"":u.memoizedProps}catch(y){be(e,e.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:St(t,e),Ot(e),n&4&&yd(e);break;case 21:break;default:St(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ym(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ds(s,""),n.flags&=-33);var i=xd(e);wl(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=xd(e);Sl(e,l,a);break;default:throw Error(L(161))}}catch(c){be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function y0(e,t,r){W=e,wm(e)}function wm(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||ui;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ue;l=ui;var p=Ue;if(ui=a,(Ue=c)&&!p)for(W=s;W!==null;)a=W,c=a.child,a.tag===22&&a.memoizedState!==null?wd(s):c!==null?(c.return=a,W=c):wd(s);for(;i!==null;)W=i,wm(i),i=i.sibling;W=s,ui=l,Ue=p}bd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):bd(e)}}function bd(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||bo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ue)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Nt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sd(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sd(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var f=p.memoizedState;if(f!==null){var u=f.dehydrated;u!==null&&gs(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ue||t.flags&512&&bl(t)}catch(d){be(t,t.return,d)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Sd(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function wd(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bo(4,t)}catch(c){be(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){be(t,s,c)}}var i=t.return;try{bl(t)}catch(c){be(t,i,c)}break;case 5:var a=t.return;try{bl(t)}catch(c){be(t,a,c)}}}catch(c){be(t,t.return,c)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var b0=Math.ceil,Qi=Kt.ReactCurrentDispatcher,Ic=Kt.ReactCurrentOwner,vt=Kt.ReactCurrentBatchConfig,se=0,De=null,we=null,Be=0,rt=0,mn=Er(0),Ee=0,js=null,Vr=0,So=0,Tc=0,os=null,Ye=null,Rc=0,kn=1/0,zt=null,Yi=!1,Nl=null,dr=null,di=!1,ir=null,Ji=0,as=0,El=null,ji=-1,Di=0;function Ve(){return se&6?Se():ji!==-1?ji:ji=Se()}function pr(e){return e.mode&1?se&2&&Be!==0?Be&-Be:n0.transition!==null?(Di===0&&(Di=of()),Di):(e=oe,e!==0||(e=window.event,e=e===void 0?16:ff(e.type)),e):1}function kt(e,t,r,n){if(50<as)throw as=0,El=null,Error(L(185));Os(e,r,n),(!(se&2)||e!==De)&&(e===De&&(!(se&2)&&(So|=r),Ee===4&&rr(e,Be)),et(e,n),r===1&&se===0&&!(t.mode&1)&&(kn=Se()+500,vo&&Cr()))}function et(e,t){var r=e.callbackNode;nv(e,t);var n=Oi(e,e===De?Be:0);if(n===0)r!==null&&Ru(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ru(r),t===1)e.tag===0?r0(Nd.bind(null,e)):Pf(Nd.bind(null,e)),Xv(function(){!(se&6)&&Cr()}),r=null;else{switch(af(n)){case 1:r=nc;break;case 4:r=nf;break;case 16:r=Mi;break;case 536870912:r=sf;break;default:r=Mi}r=Tm(r,Nm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Nm(e,t){if(ji=-1,Di=0,se&6)throw Error(L(327));var r=e.callbackNode;if(bn()&&e.callbackNode!==r)return null;var n=Oi(e,e===De?Be:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xi(e,n);else{t=n;var s=se;se|=2;var i=Cm();(De!==e||Be!==t)&&(zt=null,kn=Se()+500,Ur(e,t));do try{N0();break}catch(l){Em(e,l)}while(1);hc(),Qi.current=i,se=s,we!==null?t=0:(De=null,Be=0,t=Ee)}if(t!==0){if(t===2&&(s=Ja(e),s!==0&&(n=s,t=Cl(e,s))),t===1)throw r=js,Ur(e,0),rr(e,n),et(e,Se()),r;if(t===6)rr(e,n);else{if(s=e.current.alternate,!(n&30)&&!S0(s)&&(t=Xi(e,n),t===2&&(i=Ja(e),i!==0&&(n=i,t=Cl(e,i))),t===1))throw r=js,Ur(e,0),rr(e,n),et(e,Se()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Tr(e,Ye,zt);break;case 3:if(rr(e,n),(n&130023424)===n&&(t=Rc+500-Se(),10<t)){if(Oi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=il(Tr.bind(null,e,Ye,zt),t);break}Tr(e,Ye,zt);break;case 4:if(rr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Dt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*b0(n/1960))-n,10<n){e.timeoutHandle=il(Tr.bind(null,e,Ye,zt),n);break}Tr(e,Ye,zt);break;case 5:Tr(e,Ye,zt);break;default:throw Error(L(329))}}}return et(e,Se()),e.callbackNode===r?Nm.bind(null,e):null}function Cl(e,t){var r=os;return e.current.memoizedState.isDehydrated&&(Ur(e,t).flags|=256),e=Xi(e,t),e!==2&&(t=Ye,Ye=r,t!==null&&jl(t)),e}function jl(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function S0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!It(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rr(e,t){for(t&=~Tc,t&=~So,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dt(t),n=1<<r;e[r]=-1,t&=~n}}function Nd(e){if(se&6)throw Error(L(327));bn();var t=Oi(e,0);if(!(t&1))return et(e,Se()),null;var r=Xi(e,t);if(e.tag!==0&&r===2){var n=Ja(e);n!==0&&(t=n,r=Cl(e,n))}if(r===1)throw r=js,Ur(e,0),rr(e,t),et(e,Se()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tr(e,Ye,zt),et(e,Se()),null}function Pc(e,t){var r=se;se|=1;try{return e(t)}finally{se=r,se===0&&(kn=Se()+500,vo&&Cr())}}function qr(e){ir!==null&&ir.tag===0&&!(se&6)&&bn();var t=se;se|=1;var r=vt.transition,n=oe;try{if(vt.transition=null,oe=1,e)return e()}finally{oe=n,vt.transition=r,se=t,!(se&6)&&Cr()}}function Mc(){rt=mn.current,me(mn)}function Ur(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Jv(r)),we!==null)for(r=we.return;r!==null;){var n=r;switch(fc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zi();break;case 3:jn(),me(Xe),me(He),wc();break;case 5:Sc(n);break;case 4:jn();break;case 13:me(ve);break;case 19:me(ve);break;case 10:vc(n.type._context);break;case 22:case 23:Mc()}r=r.return}if(De=e,we=e=fr(e.current,null),Be=rt=t,Ee=0,js=null,Tc=So=Vr=0,Ye=os=null,Fr!==null){for(t=0;t<Fr.length;t++)if(r=Fr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Fr=null}return e}function Em(e,t){do{var r=we;try{if(hc(),Ni.current=Ki,qi){for(var n=xe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}qi=!1}if(Wr=0,je=Ne=xe=null,ss=!1,Ns=0,Ic.current=null,r===null||r.return===null){Ee=1,js=t,we=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=Be,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c,f=l,u=f.tag;if(!(f.mode&1)&&(u===0||u===11||u===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=ud(a);if(m!==null){m.flags&=-257,dd(m,a,l,i,t),m.mode&1&&cd(i,p,t),t=m,c=p;var h=t.updateQueue;if(h===null){var y=new Set;y.add(c),t.updateQueue=y}else h.add(c);break e}else{if(!(t&1)){cd(i,p,t),Oc();break e}c=Error(L(426))}}else if(ge&&l.mode&1){var N=ud(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),dd(N,a,l,i,t),mc(Dn(c,l));break e}}i=c=Dn(c,l),Ee!==4&&(Ee=2),os===null?os=[i]:os.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=am(i,c,t);nd(i,v);break e;case 1:l=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(dr===null||!dr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=lm(i,l,t);nd(i,b);break e}}i=i.return}while(i!==null)}Dm(r)}catch(E){t=E,we===r&&r!==null&&(we=r=r.return);continue}break}while(1)}function Cm(){var e=Qi.current;return Qi.current=Ki,e===null?Ki:e}function Oc(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),De===null||!(Vr&268435455)&&!(So&268435455)||rr(De,Be)}function Xi(e,t){var r=se;se|=2;var n=Cm();(De!==e||Be!==t)&&(zt=null,Ur(e,t));do try{w0();break}catch(s){Em(e,s)}while(1);if(hc(),se=r,Qi.current=n,we!==null)throw Error(L(261));return De=null,Be=0,Ee}function w0(){for(;we!==null;)jm(we)}function N0(){for(;we!==null&&!Kh();)jm(we)}function jm(e){var t=Im(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?Dm(e):we=t,Ic.current=null}function Dm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=h0(r,t),r!==null){r.flags&=32767,we=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,we=null;return}}else if(r=g0(r,t,rt),r!==null){we=r;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ee===0&&(Ee=5)}function Tr(e,t,r){var n=oe,s=vt.transition;try{vt.transition=null,oe=1,E0(e,t,r,n)}finally{vt.transition=s,oe=n}return null}function E0(e,t,r,n){do bn();while(ir!==null);if(se&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(sv(e,i),e===De&&(we=De=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||di||(di=!0,Tm(Mi,function(){return bn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=vt.transition,vt.transition=null;var a=oe;oe=1;var l=se;se|=4,Ic.current=null,x0(e,r),Sm(r,e),_v(nl),Li=!!rl,nl=rl=null,e.current=r,y0(r),Qh(),se=l,oe=a,vt.transition=i}else e.current=r;if(di&&(di=!1,ir=e,Ji=s),i=e.pendingLanes,i===0&&(dr=null),Xh(r.stateNode),et(e,Se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Yi)throw Yi=!1,e=Nl,Nl=null,e;return Ji&1&&e.tag!==0&&bn(),i=e.pendingLanes,i&1?e===El?as++:(as=0,El=e):as=0,Cr(),null}function bn(){if(ir!==null){var e=af(Ji),t=vt.transition,r=oe;try{if(vt.transition=null,oe=16>e?16:e,ir===null)var n=!1;else{if(e=ir,ir=null,Ji=0,se&6)throw Error(L(331));var s=se;for(se|=4,W=e.current;W!==null;){var i=W,a=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var p=l[c];for(W=p;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:is(8,f,i)}var u=f.child;if(u!==null)u.return=f,W=u;else for(;W!==null;){f=W;var d=f.sibling,m=f.return;if(xm(f),f===p){W=null;break}if(d!==null){d.return=m,W=d;break}W=m}}}var h=i.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var N=y.sibling;y.sibling=null,y=N}while(y!==null)}}W=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,W=a;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:is(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,W=v;break e}W=i.return}}var g=e.current;for(W=g;W!==null;){a=W;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,W=x;else e:for(a=g;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bo(9,l)}}catch(E){be(l,l.return,E)}if(l===a){W=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,W=b;break e}W=l.return}}if(se=s,Cr(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(po,e)}catch{}n=!0}return n}finally{oe=r,vt.transition=t}}return!1}function Ed(e,t,r){t=Dn(r,t),t=am(e,t,1),e=ur(e,t,1),t=Ve(),e!==null&&(Os(e,1,t),et(e,t))}function be(e,t,r){if(e.tag===3)Ed(e,e,r);else for(;t!==null;){if(t.tag===3){Ed(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dr===null||!dr.has(n))){e=Dn(r,e),e=lm(t,e,1),t=ur(t,e,1),e=Ve(),t!==null&&(Os(t,1,e),et(t,e));break}}t=t.return}}function C0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&r,De===e&&(Be&r)===r&&(Ee===4||Ee===3&&(Be&130023424)===Be&&500>Se()-Rc?Ur(e,0):Tc|=r),et(e,t)}function km(e,t){t===0&&(e.mode&1?(t=ti,ti<<=1,!(ti&130023424)&&(ti=4194304)):t=1);var r=Ve();e=Vt(e,t),e!==null&&(Os(e,t,r),et(e,r))}function j0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),km(e,r)}function D0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),km(e,r)}var Im;Im=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Je=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Je=!1,m0(e,t,r);Je=!!(e.flags&131072)}else Je=!1,ge&&t.flags&1048576&&Mf(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ci(e,t),e=t.pendingProps;var s=Nn(t,He.current);yn(t,r),s=Ec(null,t,n,e,s,r);var i=Cc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(n)?(i=!0,$i(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yc(t),s.updater=yo,t.stateNode=s,s._reactInternals=t,pl(t,n,e,r),t=gl(null,t,n,!0,i,r)):(t.tag=0,ge&&i&&pc(t),We(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ci(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=I0(n),e=Nt(n,e),s){case 0:t=ml(null,t,n,e,r);break e;case 1:t=md(null,t,n,e,r);break e;case 11:t=pd(null,t,n,e,r);break e;case 14:t=fd(null,t,n,Nt(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),ml(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),md(e,t,n,s,r);case 3:e:{if(pm(t),e===null)throw Error(L(387));n=t.pendingProps,i=t.memoizedState,s=i.element,zf(e,t),Wi(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Dn(Error(L(423)),t),t=gd(e,t,n,r,s);break e}else if(n!==s){s=Dn(Error(L(424)),t),t=gd(e,t,n,r,s);break e}else for(nt=cr(t.stateNode.containerInfo.firstChild),it=t,ge=!0,Ct=null,r=Bf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(En(),n===s){t=qt(e,t,r);break e}We(e,t,n,r)}t=t.child}return t;case 5:return $f(t),e===null&&cl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,sl(n,s)?a=null:i!==null&&sl(n,i)&&(t.flags|=32),dm(e,t),We(e,t,a,r),t.child;case 6:return e===null&&cl(t),null;case 13:return fm(e,t,r);case 4:return bc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Cn(t,null,n,r):We(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),pd(e,t,n,s,r);case 7:return We(e,t,t.pendingProps,r),t.child;case 8:return We(e,t,t.pendingProps.children,r),t.child;case 12:return We(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ue(Gi,n._currentValue),n._currentValue=a,i!==null)if(It(i.value,a)){if(i.children===s.children&&!Xe.current){t=qt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Gt(-1,r&-r),c.tag=2;var p=i.updateQueue;if(p!==null){p=p.shared;var f=p.pending;f===null?c.next=c:(c.next=f.next,f.next=c),p.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ul(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(L(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ul(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}We(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,yn(t,r),s=yt(s),n=n(s),t.flags|=1,We(e,t,n,r),t.child;case 14:return n=t.type,s=Nt(n,t.pendingProps),s=Nt(n.type,s),fd(e,t,n,s,r);case 15:return cm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Nt(n,s),Ci(e,t),t.tag=1,Ze(n)?(e=!0,$i(t)):e=!1,yn(t,r),om(t,n,s),pl(t,n,s,r),gl(null,t,n,!0,e,r);case 19:return mm(e,t,r);case 22:return um(e,t,r)}throw Error(L(156,t.tag))};function Tm(e,t){return rf(e,t)}function k0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,n){return new k0(e,t,r,n)}function Lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I0(e){if(typeof e=="function")return Lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ec)return 11;if(e===tc)return 14}return 2}function fr(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ki(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Lc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case nn:return Hr(r.children,s,i,t);case Zl:a=8,s|=8;break;case Aa:return e=gt(12,r,t,s|2),e.elementType=Aa,e.lanes=i,e;case Ba:return e=gt(13,r,t,s),e.elementType=Ba,e.lanes=i,e;case Fa:return e=gt(19,r,t,s),e.elementType=Fa,e.lanes=i,e;case zp:return wo(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bp:a=10;break e;case Fp:a=9;break e;case ec:a=11;break e;case tc:a=14;break e;case Jt:a=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=gt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Hr(e,t,r,n){return e=gt(7,e,n,t),e.lanes=r,e}function wo(e,t,r,n){return e=gt(22,e,n,t),e.elementType=zp,e.lanes=r,e.stateNode={isHidden:!1},e}function xa(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function ya(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function T0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ac(e,t,r,n,s,i,a,l,c){return e=new T0(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yc(i),e}function R0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Rm(e){if(!e)return br;e=e._reactInternals;e:{if(Jr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(Ze(r))return Rf(e,r,t)}return t}function Pm(e,t,r,n,s,i,a,l,c){return e=Ac(r,n,!0,e,s,i,a,l,c),e.context=Rm(null),r=e.current,n=Ve(),s=pr(r),i=Gt(n,s),i.callback=t??null,ur(r,i,s),e.current.lanes=s,Os(e,s,n),et(e,n),e}function No(e,t,r,n){var s=t.current,i=Ve(),a=pr(s);return r=Rm(r),t.context===null?t.context=r:t.pendingContext=r,t=Gt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ur(s,t,a),e!==null&&(kt(e,s,a,i),wi(e,s,a)),a}function Zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Bc(e,t){Cd(e,t),(e=e.alternate)&&Cd(e,t)}function P0(){return null}var Mm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fc(e){this._internalRoot=e}Eo.prototype.render=Fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));No(e,t,null,null)};Eo.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qr(function(){No(null,e,null,null)}),t[Wt]=null}};function Eo(e){this._internalRoot=e}Eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=uf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<tr.length&&t!==0&&t<tr[r].priority;r++);tr.splice(r,0,e),r===0&&pf(e)}};function zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jd(){}function M0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var p=Zi(a);i.call(p)}}var a=Pm(t,n,e,0,null,!1,!1,"",jd);return e._reactRootContainer=a,e[Wt]=a.current,xs(e.nodeType===8?e.parentNode:e),qr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var p=Zi(c);l.call(p)}}var c=Ac(e,0,!1,null,null,!1,!1,"",jd);return e._reactRootContainer=c,e[Wt]=c.current,xs(e.nodeType===8?e.parentNode:e),qr(function(){No(t,c,r,n)}),c}function jo(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Zi(a);l.call(c)}}No(t,a,e,s)}else a=M0(r,t,e,s,n);return Zi(a)}lf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Jn(t.pendingLanes);r!==0&&(sc(t,r|1),et(t,Se()),!(se&6)&&(kn=Se()+500,Cr()))}break;case 13:qr(function(){var n=Vt(e,1);if(n!==null){var s=Ve();kt(n,e,1,s)}}),Bc(e,1)}};ic=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var r=Ve();kt(t,e,134217728,r)}Bc(e,134217728)}};cf=function(e){if(e.tag===13){var t=pr(e),r=Vt(e,t);if(r!==null){var n=Ve();kt(r,e,t,n)}Bc(e,t)}};uf=function(){return oe};df=function(e,t){var r=oe;try{return oe=e,t()}finally{oe=r}};Ka=function(e,t,r){switch(t){case"input":if(Ua(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ho(n);if(!s)throw Error(L(90));Up(n),Ua(n,s)}}}break;case"textarea":Gp(e,r);break;case"select":t=r.value,t!=null&&gn(e,!!r.multiple,t,!1)}};Yp=Pc;Jp=qr;var O0={usingClientEntryPoint:!1,Events:[As,ln,ho,Kp,Qp,Pc]},Wn={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L0={bundleType:Wn.bundleType,version:Wn.version,rendererPackageName:Wn.rendererPackageName,rendererConfig:Wn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ef(e),e===null?null:e.stateNode},findFiberByHostInstance:Wn.findFiberByHostInstance||P0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pi.isDisabled&&pi.supportsFiber)try{po=pi.inject(L0),Bt=pi}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O0;ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zc(t))throw Error(L(200));return R0(e,t,null,r)};ct.createRoot=function(e,t){if(!zc(e))throw Error(L(299));var r=!1,n="",s=Mm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ac(e,1,!1,null,null,r,!1,n,s),e[Wt]=t.current,xs(e.nodeType===8?e.parentNode:e),new Fc(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=ef(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return qr(e)};ct.hydrate=function(e,t,r){if(!Co(t))throw Error(L(200));return jo(null,e,t,!0,r)};ct.hydrateRoot=function(e,t,r){if(!zc(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Mm;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Pm(t,null,e,1,r??null,s,!1,i,a),e[Wt]=t.current,xs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Eo(t)};ct.render=function(e,t,r){if(!Co(t))throw Error(L(200));return jo(null,e,t,!1,r)};ct.unmountComponentAtNode=function(e){if(!Co(e))throw Error(L(40));return e._reactRootContainer?(qr(function(){jo(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};ct.unstable_batchedUpdates=Pc;ct.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Co(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return jo(e,t,r,!1,n)};ct.version="18.3.1-next-f1338f8080-20240426";function Om(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Om)}catch(e){console.error(e)}}Om(),Mp.exports=ct;var $c=Mp.exports;const A0=Wl($c);var Dd=$c;Oa.createRoot=Dd.createRoot,Oa.hydrateRoot=Dd.hydrateRoot;const Pr=class Pr{static getInstance(){return Pr.instance||(Pr.instance=new Pr),Pr.instance}async fetchMessageData(t){if(!t)throw new Error("Sample ID is required");const r=await fetch("http://localhost:8085/api/messages/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sampleId:t})});if(!r.ok)throw new Error(`Error: ${r.status}`);return await r.json()}async generateMessage(t,r,n,s,i,a,l,c,p){if(!t)throw new Error("No hay datos iniciales disponibles.");let f={message:t,messageType:r,hostName:n,hostType:s,status:i||null};p?p.type==="Specimen"?f.specimen=a:p.type==="Block"?f.block=l:p.type==="Slide"&&(f.slide=c):(a&&(f.specimen=a),l&&(f.block=l),c&&(f.slide=c));const u=await fetch("http://localhost:8085/api/messages/convert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!u.ok)throw new Error(`Error: ${u.status}`);return await u.json()}async sendMessage(t){const r=await fetch("http://localhost:8085/api/messages/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Error: ${r.status}`);const n=r.headers.get("content-type");return n&&n.includes("application/json")?await r.json():[{message:await r.text(),receiveTime:new Date().toISOString()}]}async deleteAllMessages(){const t=await fetch("http://localhost:8085/api/messages/deleteAll",{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){const r=await t.text();throw new Error(r||"Error al eliminar respuestas")}}};ce(Pr,"instance");let Dl=Pr;const $r=Dl.getInstance(),kd="http://localhost:8085/api/hosts";class B0{constructor(){ce(this,"cachedHosts",[]);ce(this,"hostMappings",new Map);ce(this,"clientData",new Map);this.initializeHostMappings()}initializeHostMappings(){this.hostMappings.set("LIS","LIS_HL7"),this.hostMappings.set("UPATH CLOUD","UPATH_CLOUD"),this.hostMappings.set("VANTAGE WS","VANTAGE_WS"),this.hostMappings.set("AUTOMATION SOFTWARE","AUTOMATION_SW")}async getHosts(){try{console.log("Fetching hosts from backend...");let t=await fetch(`${kd}/clients`);if(!t.ok&&(console.warn("hostClients endpoint failed, trying hostsClient"),t=await fetch(`${kd}/client`),!t.ok))throw new Error(`Both endpoints failed: ${t.status}`);const r=await t.json();if(console.log("Received clients from backend:",r),r.length>0&&r.every(i=>Object.keys(i).length===0||!i.clientName&&!i.name&&!i.hostName&&!i.id))throw console.warn("Received empty client objects from backend"),new Error("Received empty client objects");const n=r.map(i=>{const a=i.clientName||i.name||i.hostName||i.id;return a&&this.clientData.set(a,i),a}).filter(i=>i!=null&&i.trim()!=="");console.log("Extracted host names:",n);const s=[...new Set(n)];if(s.length===0)throw console.warn("No valid host names received from backend, using fallback"),new Error("No valid host names in response");return this.cachedHosts=s,s}catch(t){throw console.error("Error obteniendo hosts desde el backend:",t),this.cachedHosts=[],new Error(`Failed to fetch hosts from backend: ${t}`)}}getCachedHosts(){return this.cachedHosts}getClientType(t){const r=this.clientData.get(t);return r==null?void 0:r.clientType}getClientData(t){return this.clientData.get(t)}migrateHost(t){if(this.cachedHosts.includes(t))return t;const r=this.hostMappings.get(t);if(r&&this.cachedHosts.includes(r))return r;const n=this.cachedHosts.find(s=>s.includes(t)||t.includes(s));return n||t}hostExists(t){return this.cachedHosts.includes(t)}getDetectedMigrations(){const t=[];return this.hostMappings.forEach((r,n)=>{this.cachedHosts.includes(r)&&!this.cachedHosts.includes(n)&&t.push({oldHost:n,newHost:r})}),t}addHostMapping(t,r){this.hostMappings.set(t,r)}async initialize(){await this.getHosts()}}const nr=new B0,Zt=class Zt{constructor(){ce(this,"messages",[]);ce(this,"listeners",[])}static getInstance(){return Zt.instance||(Zt.instance=new Zt,Zt.instance.initializeMigrations()),Zt.instance}subscribe(t){return this.listeners.push(t),t(this.messages),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(){this.listeners.forEach(t=>t(this.messages))}getMessages(){return[...this.messages]}addMessage(t,r,n,s){const i={id:Date.now().toString(),content:t,host:r,messageType:n,messageControlId:s,timestamp:new Date};return this.messages.push(i),this.notifyListeners(),i}removeMessage(t){this.messages=this.messages.filter(r=>r.id!==t),this.notifyListeners()}updateMessageResponses(t,r){this.messages=this.messages.map(n=>n.messageControlId===t?{...n,responses:r}:n),this.notifyListeners()}clearAllResponses(){this.messages=this.messages.map(t=>({...t,responses:void 0,sentTimestamp:void 0})),this.notifyListeners()}clearMessageResponses(t){this.messages=this.messages.map(r=>r.id===t?{...r,responses:void 0,sentTimestamp:void 0}:r),this.notifyListeners()}reorderMessages(t,r){const n=Array.from(this.messages),[s]=n.splice(t,1);n.splice(r,0,s),this.messages=n,this.notifyListeners()}async sendMessage(t){const r=nr.migrateHost(t.host),n={message:t.content,hostName:r,messageType:t.messageType,controlId:t.messageControlId},s=await $r.sendMessage(n);return this.messages=this.messages.map(i=>i.id===t.id?{...i,host:r,responses:s,sentTimestamp:new Date}:i),this.notifyListeners(),s}async sendAllMessages(){if(this.messages.length===0)throw new Error("No hay mensajes guardados para enviar.");for(const t of this.messages)await this.sendMessage(t)}updateMessageContent(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,content:r}:n),this.notifyListeners()}updateMessageComment(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,comment:r.trim()||void 0}:n),this.notifyListeners()}updateMessageControlId(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,messageControlId:r.trim()||void 0}:n),this.notifyListeners()}exportMessages(){const t={version:"1.0",exportDate:new Date().toISOString(),messages:this.messages.map(r=>{var n;return{...r,timestamp:r.timestamp.toISOString(),sentTimestamp:(n=r.sentTimestamp)==null?void 0:n.toISOString()}})};return JSON.stringify(t,null,2)}importMessages(t){try{const r=JSON.parse(t);if(!r.messages||!Array.isArray(r.messages))return{success:!1,message:"Formato de archivo invlido: no se encontraron mensajes"};const n=r.messages.map(s=>({...s,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date(s.timestamp),sentTimestamp:s.sentTimestamp?new Date(s.sentTimestamp):void 0,responses:void 0}));return this.messages=[...this.messages,...n],this.notifyListeners(),{success:!0,message:`${n.length} mensajes importados exitosamente`,importedCount:n.length}}catch{return{success:!1,message:"Error al procesar el archivo: formato JSON invlido"}}}clearAllMessages(){this.messages=[],this.notifyListeners()}migrateHostsInSavedMessages(){let t=!1;this.messages=this.messages.map(r=>{const n=nr.migrateHost(r.host);return n!==r.host?(console.log(`Migrando mensaje ${r.id}: ${r.host}  ${n}`),t=!0,{...r,host:n}):r}),t&&(this.notifyListeners(),console.log("Migracin de hosts en mensajes guardados completada"))}initializeMigrations(){setTimeout(()=>{this.migrateHostsInSavedMessages()},1e3)}};ce(Zt,"instance");let kl=Zt;const Me=kl.getInstance(),er=class er{constructor(){ce(this,"lists",[]);ce(this,"activeListId",null);ce(this,"listeners",[]);ce(this,"STORAGE_KEY","messageLists");this.lists.length===0&&this.createList("Default","Lista principal de mensajes","#3B82F6")}static getInstance(){return er.instance||(er.instance=new er,er.instance.loadFromStorage()),er.instance}subscribe(t){return this.listeners.push(t),t(this.lists,this.activeListId),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(){this.saveToStorage(),this.listeners.forEach(t=>t(this.lists,this.activeListId))}saveToStorage(){try{const t={lists:this.lists.map(r=>({...r,createdAt:r.createdAt.toISOString(),updatedAt:r.updatedAt.toISOString(),messages:r.messages.map(n=>{var s;return{...n,timestamp:n.timestamp.toISOString(),sentTimestamp:(s=n.sentTimestamp)==null?void 0:s.toISOString()}})})),activeListId:this.activeListId};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(t){console.error("Error saving message lists to localStorage:",t)}}loadFromStorage(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(t){const r=JSON.parse(t);this.lists=r.lists.map(n=>({...n,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt),messages:n.messages.map(s=>({...s,timestamp:new Date(s.timestamp),sentTimestamp:s.sentTimestamp?new Date(s.sentTimestamp):void 0}))})),this.activeListId=r.activeListId,this.lists.length===0&&this.createList("Default","Lista principal de mensajes","#3B82F6"),(!this.activeListId||!this.lists.find(n=>n.id===this.activeListId))&&(this.activeListId=this.lists[0].id)}}catch(t){console.error("Error loading message lists from localStorage:",t),this.createList("Default","Lista principal de mensajes","#3B82F6")}}createList(t,r,n){const s={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:t.trim(),description:r==null?void 0:r.trim(),color:n||"#3B82F6",createdAt:new Date,updatedAt:new Date,messages:[]};return this.lists.push(s),this.activeListId||(this.activeListId=s.id),this.notifyListeners(),s}updateList(t,r){this.lists=this.lists.map(n=>n.id===t?{...n,...r,updatedAt:new Date}:n),this.notifyListeners()}deleteList(t){if(this.lists.length<=1)throw new Error("No se puede eliminar la nica lista existente");this.lists=this.lists.filter(r=>r.id!==t),this.activeListId===t&&(this.activeListId=this.lists[0].id),this.notifyListeners()}duplicateList(t,r){const n=this.lists.find(i=>i.id===t);if(!n)throw new Error("Lista no encontrada");const s={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:r||`${n.name} (Copia)`,description:n.description,color:n.color,createdAt:new Date,updatedAt:new Date,messages:n.messages.map(i=>({...i,id:Date.now().toString()+Math.random().toString(36).substr(2,9),responses:void 0,sentTimestamp:void 0}))};return this.lists.push(s),this.notifyListeners(),s}getLists(){return[...this.lists]}getActiveList(){return this.lists.find(t=>t.id===this.activeListId)||null}setActiveList(t){this.lists.find(r=>r.id===t)&&(this.activeListId=t,this.notifyListeners())}addMessage(t,r,n,s,i){const a=i||this.activeListId;if(!a)throw new Error("No hay lista activa");const l={id:Date.now().toString()+Math.random().toString(36).substr(2,9),content:t,host:r,messageType:n,messageControlId:s,timestamp:new Date};return this.lists=this.lists.map(c=>c.id===a?{...c,messages:[...c.messages,l],updatedAt:new Date}:c),this.notifyListeners(),l}removeMessage(t,r){const n=r||this.activeListId;n&&(this.lists=this.lists.map(s=>s.id===n?{...s,messages:s.messages.filter(i=>i.id!==t),updatedAt:new Date}:s),this.notifyListeners())}moveMessage(t,r,n){var i;const s=(i=this.lists.find(a=>a.id===r))==null?void 0:i.messages.find(a=>a.id===t);s&&(this.lists=this.lists.map(a=>a.id===r?{...a,messages:a.messages.filter(l=>l.id!==t),updatedAt:new Date}:a),this.lists=this.lists.map(a=>a.id===n?{...a,messages:[...a.messages,{...s,responses:void 0,sentTimestamp:void 0}],updatedAt:new Date}:a),this.notifyListeners())}updateMessageResponses(t,r,n){const s=n||this.activeListId;if(!s){console.warn("updateMessageResponses: No target list ID");return}console.log(`MessageListsService.updateMessageResponses called with controlId: ${t}`,r),console.log(`Target list ID: ${s}`),console.log("Current lists:",this.lists.map(i=>({id:i.id,name:i.name,messageCount:i.messages.length}))),this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.messageControlId===t?{...a,responses:r}:a),updatedAt:new Date}:i),this.notifyListeners()}clearAllResponses(t){const r=t||this.activeListId;r&&(this.lists=this.lists.map(n=>n.id===r?{...n,messages:n.messages.map(s=>({...s,responses:void 0,sentTimestamp:void 0})),updatedAt:new Date}:n),this.notifyListeners())}clearMessageResponses(t,r){const n=r||this.activeListId;n&&(this.lists=this.lists.map(s=>s.id===n?{...s,messages:s.messages.map(i=>i.id===t?{...i,responses:void 0,sentTimestamp:void 0}:i),updatedAt:new Date}:s),this.notifyListeners())}reorderMessages(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>{if(i.id===s){const a=Array.from(i.messages),[l]=a.splice(t,1);return a.splice(r,0,l),{...i,messages:a,updatedAt:new Date}}return i}),this.notifyListeners())}reorderLists(t,r){const n=Array.from(this.lists),[s]=n.splice(t,1);n.splice(r,0,s),this.lists=n,this.notifyListeners()}async sendMessage(t,r){const n={message:t.content,hostName:t.host,messageType:t.messageType,controlId:t.messageControlId},s=await $r.sendMessage(n),i=r||this.activeListId;return i&&(this.lists=this.lists.map(a=>a.id===i?{...a,messages:a.messages.map(l=>l.id===t.id?{...l,responses:s,sentTimestamp:new Date}:l),updatedAt:new Date}:a),this.notifyListeners()),s}updateMessageContent(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.id===t?{...a,content:r}:a),updatedAt:new Date}:i),this.notifyListeners())}updateMessageComment(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.id===t?{...a,comment:r.trim()||void 0}:a),updatedAt:new Date}:i),this.notifyListeners())}updateMessageControlId(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.id===t?{...a,messageControlId:r.trim()||void 0}:a),updatedAt:new Date}:i),this.notifyListeners())}exportList(t){const r=this.lists.find(s=>s.id===t);if(!r)throw new Error("Lista no encontrada");const n={version:"1.0",exportDate:new Date().toISOString(),listInfo:{name:r.name,description:r.description,color:r.color},messages:r.messages.map(s=>{var i;return{...s,timestamp:s.timestamp.toISOString(),sentTimestamp:(i=s.sentTimestamp)==null?void 0:i.toISOString()}})};return JSON.stringify(n,null,2)}exportAllLists(){const t={version:"1.0",exportDate:new Date().toISOString(),lists:this.lists.map(r=>({...r,createdAt:r.createdAt.toISOString(),updatedAt:r.updatedAt.toISOString(),messages:r.messages.map(n=>{var s;return{...n,timestamp:n.timestamp.toISOString(),sentTimestamp:(s=n.sentTimestamp)==null?void 0:s.toISOString()}})}))};return JSON.stringify(t,null,2)}};ce(er,"instance");let Il=er;const pe=Il.getInstance();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lm=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>I.createElement("svg",{ref:c,...z0,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Lm("lucide",s),...l},[...a.map(([p,f])=>I.createElement(p,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const r=I.forwardRef(({className:n,...s},i)=>I.createElement($0,{ref:i,iconNode:t,className:Lm(`lucide-${F0(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sr=he("ChevronDown",U0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kr=he("ChevronRight",H0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Am=he("CircleAlert",G0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],W0=he("CircleCheckBig",_0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bm=he("CircleX",V0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],K0=he("Copy",q0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Y0=he("Download",Q0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Fm=he("GripVertical",J0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Id=he("Info",X0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]],zm=he("ListTree",Z0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],tx=he("MessageCircle",ex);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]],nx=he("MessagesSquare",rx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ix=he("Pen",sx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mr=he("Plus",ox);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Td=he("RefreshCw",ax);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Tl=he("RotateCcw",lx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Do=he("Save",cx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$m=he("Send",ux);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Sn=he("SquarePen",dx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],gr=he("Trash2",px);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],mx=he("Trash",fx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]],hx=he("Tv",gx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],xx=he("Upload",vx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tt=he("X",yx);function Rl(e,t){return Rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Rl(e,t)}function Um(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Rl(e,t)}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J.apply(null,arguments)}function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function bx(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sx(e){var t=bx(e,"string");return Ds(t)=="symbol"?t:t+""}function wx(e,t,r){return(t=Sx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rd(Object(r),!0).forEach(function(n){wx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Md=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ba=function(){return Math.random().toString(36).substring(7).split("").join(".")},Od={INIT:"@@redux/INIT"+ba(),REPLACE:"@@redux/REPLACE"+ba(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ba()}};function Nx(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Hm(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Qe(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Qe(1));return r(Hm)(e,t)}if(typeof e!="function")throw new Error(Qe(2));var s=e,i=t,a=[],l=a,c=!1;function p(){l===a&&(l=a.slice())}function f(){if(c)throw new Error(Qe(3));return i}function u(y){if(typeof y!="function")throw new Error(Qe(4));if(c)throw new Error(Qe(5));var N=!0;return p(),l.push(y),function(){if(N){if(c)throw new Error(Qe(6));N=!1,p();var g=l.indexOf(y);l.splice(g,1),a=null}}}function d(y){if(!Nx(y))throw new Error(Qe(7));if(typeof y.type>"u")throw new Error(Qe(8));if(c)throw new Error(Qe(9));try{c=!0,i=s(i,y)}finally{c=!1}for(var N=a=l,v=0;v<N.length;v++){var g=N[v];g()}return y}function m(y){if(typeof y!="function")throw new Error(Qe(10));s=y,d({type:Od.REPLACE})}function h(){var y,N=u;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Qe(11));function x(){g.next&&g.next(f())}x();var b=N(x);return{unsubscribe:b}}},y[Md]=function(){return this},y}return d({type:Od.INIT}),n={dispatch:d,subscribe:u,getState:f,replaceReducer:m},n[Md]=h,n}function Ld(e,t){return function(){return t(e.apply(this,arguments))}}function Ad(e,t){if(typeof e=="function")return Ld(e,t);if(typeof e!="object"||e===null)throw new Error(Qe(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=Ld(s,t))}return r}function Gm(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function Ex(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),i=function(){throw new Error(Qe(15))},a={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(a)});return i=Gm.apply(void 0,l)(s.dispatch),Pd(Pd({},s),{},{dispatch:i})}}}var _m=fe.createContext(null);function Cx(e){e()}var Wm=Cx,jx=function(t){return Wm=t},Dx=function(){return Wm};function kx(){var e=Dx(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],i=t;i;)s.push(i),i=i.next;return s},subscribe:function(s){var i=!0,a=r={callback:s,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Bd={notify:function(){},get:function(){return[]}};function Vm(e,t){var r,n=Bd;function s(u){return c(),n.subscribe(u)}function i(){n.notify()}function a(){f.onStateChange&&f.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=kx())}function p(){r&&(r(),r=void 0,n.clear(),n=Bd)}var f={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:a,isSubscribed:l,trySubscribe:c,tryUnsubscribe:p,getListeners:function(){return n}};return f}var qm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect;function Ix(e){var t=e.store,r=e.context,n=e.children,s=I.useMemo(function(){var l=Vm(t);return{store:t,subscription:l}},[t]),i=I.useMemo(function(){return t.getState()},[t]);qm(function(){var l=s.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[s,i]);var a=r||_m;return fe.createElement(a.Provider,{value:s},n)}function eo(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Km={exports:{}},ae={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Te=typeof Symbol=="function"&&Symbol.for,Uc=Te?Symbol.for("react.element"):60103,Hc=Te?Symbol.for("react.portal"):60106,ko=Te?Symbol.for("react.fragment"):60107,Io=Te?Symbol.for("react.strict_mode"):60108,To=Te?Symbol.for("react.profiler"):60114,Ro=Te?Symbol.for("react.provider"):60109,Po=Te?Symbol.for("react.context"):60110,Gc=Te?Symbol.for("react.async_mode"):60111,Mo=Te?Symbol.for("react.concurrent_mode"):60111,Oo=Te?Symbol.for("react.forward_ref"):60112,Lo=Te?Symbol.for("react.suspense"):60113,Tx=Te?Symbol.for("react.suspense_list"):60120,Ao=Te?Symbol.for("react.memo"):60115,Bo=Te?Symbol.for("react.lazy"):60116,Rx=Te?Symbol.for("react.block"):60121,Px=Te?Symbol.for("react.fundamental"):60117,Mx=Te?Symbol.for("react.responder"):60118,Ox=Te?Symbol.for("react.scope"):60119;function dt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Uc:switch(e=e.type,e){case Gc:case Mo:case ko:case To:case Io:case Lo:return e;default:switch(e=e&&e.$$typeof,e){case Po:case Oo:case Bo:case Ao:case Ro:return e;default:return t}}case Hc:return t}}}function Qm(e){return dt(e)===Mo}ae.AsyncMode=Gc;ae.ConcurrentMode=Mo;ae.ContextConsumer=Po;ae.ContextProvider=Ro;ae.Element=Uc;ae.ForwardRef=Oo;ae.Fragment=ko;ae.Lazy=Bo;ae.Memo=Ao;ae.Portal=Hc;ae.Profiler=To;ae.StrictMode=Io;ae.Suspense=Lo;ae.isAsyncMode=function(e){return Qm(e)||dt(e)===Gc};ae.isConcurrentMode=Qm;ae.isContextConsumer=function(e){return dt(e)===Po};ae.isContextProvider=function(e){return dt(e)===Ro};ae.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uc};ae.isForwardRef=function(e){return dt(e)===Oo};ae.isFragment=function(e){return dt(e)===ko};ae.isLazy=function(e){return dt(e)===Bo};ae.isMemo=function(e){return dt(e)===Ao};ae.isPortal=function(e){return dt(e)===Hc};ae.isProfiler=function(e){return dt(e)===To};ae.isStrictMode=function(e){return dt(e)===Io};ae.isSuspense=function(e){return dt(e)===Lo};ae.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ko||e===Mo||e===To||e===Io||e===Lo||e===Tx||typeof e=="object"&&e!==null&&(e.$$typeof===Bo||e.$$typeof===Ao||e.$$typeof===Ro||e.$$typeof===Po||e.$$typeof===Oo||e.$$typeof===Px||e.$$typeof===Mx||e.$$typeof===Ox||e.$$typeof===Rx)};ae.typeOf=dt;Km.exports=ae;var Lx=Km.exports,_c=Lx,Ax={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Bx={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Fx={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ym={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Wc={};Wc[_c.ForwardRef]=Fx;Wc[_c.Memo]=Ym;function Fd(e){return _c.isMemo(e)?Ym:Wc[e.$$typeof]||Ax}var zx=Object.defineProperty,$x=Object.getOwnPropertyNames,zd=Object.getOwnPropertySymbols,Ux=Object.getOwnPropertyDescriptor,Hx=Object.getPrototypeOf,$d=Object.prototype;function Jm(e,t,r){if(typeof t!="string"){if($d){var n=Hx(t);n&&n!==$d&&Jm(e,n,r)}var s=$x(t);zd&&(s=s.concat(zd(t)));for(var i=Fd(e),a=Fd(t),l=0;l<s.length;++l){var c=s[l];if(!Bx[c]&&!(r&&r[c])&&!(a&&a[c])&&!(i&&i[c])){var p=Ux(t,c);try{zx(e,c,p)}catch{}}}}return e}var Gx=Jm;const Ud=Wl(Gx);var Xm={exports:{}},le={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=60103,zo=60106,Fs=60107,zs=60108,$s=60114,Us=60109,Hs=60110,Gs=60112,_s=60113,Vc=60120,Ws=60115,Vs=60116,Zm=60121,eg=60122,tg=60117,rg=60129,ng=60131;if(typeof Symbol=="function"&&Symbol.for){var Pe=Symbol.for;Fo=Pe("react.element"),zo=Pe("react.portal"),Fs=Pe("react.fragment"),zs=Pe("react.strict_mode"),$s=Pe("react.profiler"),Us=Pe("react.provider"),Hs=Pe("react.context"),Gs=Pe("react.forward_ref"),_s=Pe("react.suspense"),Vc=Pe("react.suspense_list"),Ws=Pe("react.memo"),Vs=Pe("react.lazy"),Zm=Pe("react.block"),eg=Pe("react.server.block"),tg=Pe("react.fundamental"),rg=Pe("react.debug_trace_mode"),ng=Pe("react.legacy_hidden")}function Rt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Fo:switch(e=e.type,e){case Fs:case $s:case zs:case _s:case Vc:return e;default:switch(e=e&&e.$$typeof,e){case Hs:case Gs:case Vs:case Ws:case Us:return e;default:return t}}case zo:return t}}}var _x=Us,Wx=Fo,Vx=Gs,qx=Fs,Kx=Vs,Qx=Ws,Yx=zo,Jx=$s,Xx=zs,Zx=_s;le.ContextConsumer=Hs;le.ContextProvider=_x;le.Element=Wx;le.ForwardRef=Vx;le.Fragment=qx;le.Lazy=Kx;le.Memo=Qx;le.Portal=Yx;le.Profiler=Jx;le.StrictMode=Xx;le.Suspense=Zx;le.isAsyncMode=function(){return!1};le.isConcurrentMode=function(){return!1};le.isContextConsumer=function(e){return Rt(e)===Hs};le.isContextProvider=function(e){return Rt(e)===Us};le.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fo};le.isForwardRef=function(e){return Rt(e)===Gs};le.isFragment=function(e){return Rt(e)===Fs};le.isLazy=function(e){return Rt(e)===Vs};le.isMemo=function(e){return Rt(e)===Ws};le.isPortal=function(e){return Rt(e)===zo};le.isProfiler=function(e){return Rt(e)===$s};le.isStrictMode=function(e){return Rt(e)===zs};le.isSuspense=function(e){return Rt(e)===_s};le.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fs||e===$s||e===rg||e===zs||e===_s||e===Vc||e===ng||typeof e=="object"&&e!==null&&(e.$$typeof===Vs||e.$$typeof===Ws||e.$$typeof===Us||e.$$typeof===Hs||e.$$typeof===Gs||e.$$typeof===tg||e.$$typeof===Zm||e[0]===eg)};le.typeOf=Rt;Xm.exports=le;var ey=Xm.exports,ty=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],ry=["reactReduxForwardedRef"],ny=[],sy=[null,null];function iy(e,t){var r=e[1];return[t.payload,r+1]}function Hd(e,t,r){qm(function(){return e.apply(void 0,t)},r)}function oy(e,t,r,n,s,i,a){e.current=n,t.current=s,r.current=!1,i.current&&(i.current=null,a())}function ay(e,t,r,n,s,i,a,l,c,p){if(e){var f=!1,u=null,d=function(){if(!f){var y=t.getState(),N,v;try{N=n(y,s.current)}catch(g){v=g,u=g}v||(u=null),N===i.current?a.current||c():(i.current=N,l.current=N,a.current=!0,p({type:"STORE_UPDATED",payload:{error:v}}))}};r.onStateChange=d,r.trySubscribe(),d();var m=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,u)throw u};return m}}var ly=function(){return[null,0]};function cy(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,s=n===void 0?function(x){return"ConnectAdvanced("+x+")"}:n,i=r.methodName,a=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,p=r.shouldHandleStateChanges,f=p===void 0?!0:p,u=r.storeKey,d=u===void 0?"store":u;r.withRef;var m=r.forwardRef,h=m===void 0?!1:m,y=r.context,N=y===void 0?_m:y,v=eo(r,ty),g=N;return function(b){var E=b.displayName||b.name||"Component",w=s(E),D=J({},v,{getDisplayName:s,methodName:a,renderCountProp:c,shouldHandleStateChanges:f,storeKey:d,displayName:w,wrappedComponentName:E,WrappedComponent:b}),T=v.pure;function P(K){return e(K.dispatch,D)}var O=T?I.useMemo:function(K){return K()};function U(K){var A=I.useMemo(function(){var Qt=K.reactReduxForwardedRef,Zr=eo(K,ry);return[K.context,Qt,Zr]},[K]),B=A[0],j=A[1],S=A[2],k=I.useMemo(function(){return B&&B.Consumer&&ey.isContextConsumer(fe.createElement(B.Consumer,null))?B:g},[B,g]),M=I.useContext(k),$=!!K.store&&!!K.store.getState&&!!K.store.dispatch;M&&M.store;var R=$?K.store:M.store,H=I.useMemo(function(){return P(R)},[R]),G=I.useMemo(function(){if(!f)return sy;var Qt=Vm(R,$?null:M.subscription),Zr=Qt.notifyNestedSubs.bind(Qt);return[Qt,Zr]},[R,$,M]),V=G[0],_=G[1],q=I.useMemo(function(){return $?M:J({},M,{subscription:V})},[$,M,V]),C=I.useReducer(iy,ny,ly),z=C[0],ee=z[0],ie=C[1];if(ee&&ee.error)throw ee.error;var Re=I.useRef(),tt=I.useRef(S),Ge=I.useRef(),Pt=I.useRef(!1),Mt=O(function(){return Ge.current&&S===tt.current?Ge.current:H(R.getState(),S)},[R,ee,S]);Hd(oy,[tt,Re,Pt,S,Mt,Ge,_]),Hd(ay,[f,R,V,H,tt,Re,Pt,Ge,_,ie],[R,V,H]);var Xr=I.useMemo(function(){return fe.createElement(b,J({},Mt,{ref:j}))},[j,b,Mt]),Qs=I.useMemo(function(){return f?fe.createElement(k.Provider,{value:q},Xr):Xr},[k,Xr,q]);return Qs}var X=T?fe.memo(U):U;if(X.WrappedComponent=b,X.displayName=U.displayName=w,h){var Y=fe.forwardRef(function(A,B){return fe.createElement(X,J({},A,{reactReduxForwardedRef:B}))});return Y.displayName=w,Y.WrappedComponent=b,Ud(Y,b)}return Ud(X,b)}}function Gd(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Sa(e,t){if(Gd(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!Gd(e[r[s]],t[r[s]]))return!1;return!0}function uy(e,t){var r={},n=function(a){var l=e[a];typeof l=="function"&&(r[a]=function(){return t(l.apply(void 0,arguments))})};for(var s in e)n(s);return r}function qc(e){return function(r,n){var s=e(r,n);function i(){return s}return i.dependsOnOwnProps=!1,i}}function _d(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function sg(e,t){return function(n,s){s.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=_d(e);var p=i(l,c);return typeof p=="function"&&(i.mapToProps=p,i.dependsOnOwnProps=_d(p),p=i(l,c)),p},i}}function dy(e){return typeof e=="function"?sg(e):void 0}function py(e){return e?void 0:qc(function(t){return{dispatch:t}})}function fy(e){return e&&typeof e=="object"?qc(function(t){return uy(e,t)}):void 0}const my=[dy,py,fy];function gy(e){return typeof e=="function"?sg(e):void 0}function hy(e){return e?void 0:qc(function(){return{}})}const vy=[gy,hy];function xy(e,t,r){return J({},r,e,t)}function yy(e){return function(r,n){n.displayName;var s=n.pure,i=n.areMergedPropsEqual,a=!1,l;return function(p,f,u){var d=e(p,f,u);return a?(!s||!i(d,l))&&(l=d):(a=!0,l=d),l}}}function by(e){return typeof e=="function"?yy(e):void 0}function Sy(e){return e?void 0:function(){return xy}}const wy=[by,Sy];var Ny=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ey(e,t,r,n){return function(i,a){return r(e(i,a),t(n,a),a)}}function Cy(e,t,r,n,s){var i=s.areStatesEqual,a=s.areOwnPropsEqual,l=s.areStatePropsEqual,c=!1,p,f,u,d,m;function h(x,b){return p=x,f=b,u=e(p,f),d=t(n,f),m=r(u,d,f),c=!0,m}function y(){return u=e(p,f),t.dependsOnOwnProps&&(d=t(n,f)),m=r(u,d,f),m}function N(){return e.dependsOnOwnProps&&(u=e(p,f)),t.dependsOnOwnProps&&(d=t(n,f)),m=r(u,d,f),m}function v(){var x=e(p,f),b=!l(x,u);return u=x,b&&(m=r(u,d,f)),m}function g(x,b){var E=!a(b,f),w=!i(x,p,b,f);return p=x,f=b,E&&w?y():E?N():w?v():m}return function(b,E){return c?g(b,E):h(b,E)}}function jy(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,i=eo(t,Ny),a=r(e,i),l=n(e,i),c=s(e,i),p=i.pure?Cy:Ey;return p(a,l,c,e,i)}var Dy=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function wa(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(i,a){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+a.wrappedComponentName+".")}}function ky(e,t){return e===t}function Iy(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?cy:r,s=t.mapStateToPropsFactories,i=s===void 0?vy:s,a=t.mapDispatchToPropsFactories,l=a===void 0?my:a,c=t.mergePropsFactories,p=c===void 0?wy:c,f=t.selectorFactory,u=f===void 0?jy:f;return function(m,h,y,N){N===void 0&&(N={});var v=N,g=v.pure,x=g===void 0?!0:g,b=v.areStatesEqual,E=b===void 0?ky:b,w=v.areOwnPropsEqual,D=w===void 0?Sa:w,T=v.areStatePropsEqual,P=T===void 0?Sa:T,O=v.areMergedPropsEqual,U=O===void 0?Sa:O,X=eo(v,Dy),Y=wa(m,i,"mapStateToProps"),K=wa(h,l,"mapDispatchToProps"),A=wa(y,p,"mergeProps");return n(u,J({methodName:"connect",getDisplayName:function(j){return"Connect("+j+")"},shouldHandleStateChanges:!!m,initMapStateToProps:Y,initMapDispatchToProps:K,initMergeProps:A,pure:x,areStatesEqual:E,areOwnPropsEqual:D,areStatePropsEqual:P,areMergedPropsEqual:U},X))}}const ig=Iy();jx($c.unstable_batchedUpdates);function Ty(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function og(e,t){var r=I.useState(function(){return{inputs:t,result:e()}})[0],n=I.useRef(!0),s=I.useRef(r),i=n.current||!!(t&&s.current.inputs&&Ty(t,s.current.inputs)),a=i?s.current:{inputs:t,result:e()};return I.useEffect(function(){n.current=!1,s.current=a},[a]),a.result}function Ry(e,t){return og(function(){return e},t)}var ne=og,Q=Ry,Py=!0,Na="Invariant failed";function My(e,t){if(!e){if(Py)throw new Error(Na);var r=typeof t=="function"?t():t,n=r?"".concat(Na,": ").concat(r):Na;throw new Error(n)}}var jt=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,a=n-i,l=s-r,c={top:r,right:n,bottom:s,left:i,width:a,height:l,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return c},Kc=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Wd=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Oy=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ea={top:0,right:0,bottom:0,left:0},Qc=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?Ea:n,i=t.border,a=i===void 0?Ea:i,l=t.padding,c=l===void 0?Ea:l,p=jt(Kc(r,s)),f=jt(Wd(r,a)),u=jt(Wd(f,c));return{marginBox:p,borderBox:jt(r),paddingBox:f,contentBox:u,margin:s,border:a,padding:c}},pt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&My(!1),s},Ly=function(){return{x:window.pageXOffset,y:window.pageYOffset}},to=function(t,r){var n=t.borderBox,s=t.border,i=t.margin,a=t.padding,l=Oy(n,r);return Qc({borderBox:l,border:s,margin:i,padding:a})},ro=function(t,r){return r===void 0&&(r=Ly()),to(t,r)},ag=function(t,r){var n={top:pt(r.marginTop),right:pt(r.marginRight),bottom:pt(r.marginBottom),left:pt(r.marginLeft)},s={top:pt(r.paddingTop),right:pt(r.paddingRight),bottom:pt(r.paddingBottom),left:pt(r.paddingLeft)},i={top:pt(r.borderTopWidth),right:pt(r.borderRightWidth),bottom:pt(r.borderBottomWidth),left:pt(r.borderLeftWidth)};return Qc({borderBox:t,margin:n,padding:s,border:i})},lg=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return ag(r,n)},Vd=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ay(e,t){return!!(e===t||Vd(e)&&Vd(t))}function By(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Ay(e[r],t[r]))return!1;return!0}function ke(e,t){t===void 0&&(t=By);var r,n=[],s,i=!1;function a(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&t(l,n)||(s=e.apply(this,l),i=!0,r=this,n=l),s}return a}var Fy=function(t){var r=[],n=null,s=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};const ks=Fy;function cg(e,t){}cg.bind(null,"warn");cg.bind(null,"error");function hr(){}function zy(e,t){return J({},e,{},t)}function ht(e,t,r){var n=t.map(function(s){var i=zy(r,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){n.forEach(function(i){i()})}}var $y="Invariant failed";function no(e){this.message=e}no.prototype.toString=function(){return this.message};function F(e,t){if(!e)throw new no($y)}var Uy=function(e){Um(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=hr,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var p=l.error;p instanceof no&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=ht(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(s){if(s instanceof no){this.setState({});return}throw s},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(fe.Component),Hy=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,so=function(t){return t+1},Gy=function(t){return`
  You have lifted an item in position `+so(t.source.index)+`
`},ug=function(t,r){var n=t.droppableId===r.droppableId,s=so(t.index),i=so(r.index);return n?`
      You have moved the item from position `+s+`
      to position `+i+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},dg=function(t,r,n){var s=r.droppableId===n.droppableId;return s?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},_y=function(t){var r=t.destination;if(r)return ug(t.source,r);var n=t.combine;return n?dg(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},qd=function(t){return`
  The item has returned to its starting position
  of `+so(t.index)+`
`},Wy=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+qd(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+ug(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+dg(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+qd(t.source)+`
  `},Ii={dragHandleUsageInstructions:Hy,onDragStart:Gy,onDragUpdate:_y,onDragEnd:Wy},Ie={x:0,y:0},Ae=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},st=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},vr=function(t,r){return t.x===r.x&&t.y===r.y},Ln=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Qr=function(t,r,n){var s;return n===void 0&&(n=0),s={},s[t]=r,s[t==="x"?"y":"x"]=n,s},Is=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Kd=function(t,r){return Math.min.apply(Math,r.map(function(n){return Is(t,n)}))},pg=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},Vy=function(e,t){var r=jt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},qs=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Qd=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},qy={top:0,right:0,bottom:0,left:0},Ky=function(t,r){return r?qs(t,r.scroll.diff.displacement):t},Qy=function(t,r,n){if(n&&n.increasedBy){var s;return J({},t,(s={},s[r.end]=t[r.end]+n.increasedBy[r.line],s))}return t},Yy=function(t,r){return r&&r.shouldClipSubject?Vy(r.pageMarginBox,t):jt(t)},In=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,s=e.frame,i=Ky(t.marginBox,s),a=Qy(i,n,r),l=Yy(a,s);return{page:t,withPlaceholder:r,active:l}},Yc=function(e,t){e.frame||F(!1);var r=e.frame,n=st(t,r.scroll.initial),s=Ln(n),i=J({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}}),a=In({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=J({},e,{frame:i,subject:a});return l};function io(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Jc(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function jr(e,t){if(e.find)return e.find(t);var r=Jc(e,t);if(r!==-1)return e[r]}function fg(e){return Array.prototype.slice.call(e)}var mg=ke(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),gg=ke(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),$o=ke(function(e){return io(e)}),Jy=ke(function(e){return io(e)}),An=ke(function(e,t){var r=Jy(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,s){return n.descriptor.index-s.descriptor.index});return r});function Xc(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Uo(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ho=ke(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),Xy=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var a=Xc(i);if(!a)return null;function l(y){var N={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return J({},i,{at:N})}var c=i.displaced.all,p=c.length?c[0]:null;if(t)return p?l(p):null;var f=Ho(r,s);if(!p){if(!f.length)return null;var u=f[f.length-1];return l(u.descriptor.id)}var d=Jc(f,function(y){return y.descriptor.id===p});d===-1&&F(!1);var m=d-1;if(m<0)return null;var h=f[m];return l(h.descriptor.id)},Bn=function(e,t){return e.descriptor.droppableId===t.descriptor.id},hg={point:Ie,value:0},Ts={invisible:{},visible:{},all:[]},Zy={displaced:Ts,displacedBy:hg,at:null},xt=function(e,t){return function(r){return e<=r&&r<=t}},vg=function(e){var t=xt(e.top,e.bottom),r=xt(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(s)return!0;var i=t(n.top)||t(n.bottom),a=r(n.left)||r(n.right),l=i&&a;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,p=n.left<e.left&&n.right>e.right,f=c&&p;if(f)return!0;var u=c&&a||p&&i;return u}},eb=function(e){var t=xt(e.top,e.bottom),r=xt(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return s}},Zc={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xg={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},tb=function(e){return function(t){var r=xt(t.top,t.bottom),n=xt(t.left,t.right);return function(s){return e===Zc?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)}}},rb=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Ie;return qs(t,n)},nb=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},sb=function(t,r,n){return n(r)(t)},eu=function(t){var r=t.target,n=t.destination,s=t.viewport,i=t.withDroppableDisplacement,a=t.isVisibleThroughFrameFn,l=i?rb(r,n):r;return nb(l,n,a)&&sb(l,s,a)},ib=function(t){return eu(J({},t,{isVisibleThroughFrameFn:vg}))},yg=function(t){return eu(J({},t,{isVisibleThroughFrameFn:eb}))},ob=function(t){return eu(J({},t,{isVisibleThroughFrameFn:tb(t.destination.axis)}))},ab=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var s=r.invisible,i=r.visible;if(s[t])return!1;var a=i[t];return a?a.shouldAnimate:!0};function lb(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return jt(Kc(r,n))}function Rs(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,s=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce(function(c,p){var f=lb(p,n),u=p.descriptor.id;c.all.push(u);var d=ib({target:f,destination:r,viewport:s,withDroppableDisplacement:!0});if(!d)return c.invisible[p.descriptor.id]=!0,c;var m=ab(u,a,i),h={draggableId:u,shouldAnimate:m};return c.visible[u]=h,c},{all:[],visible:{},invisible:{}})}function cb(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Yd(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,s=e.destination,i=cb(t,{inHomeList:r});return{displaced:Ts,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:i}}}}function oo(e){var t=e.draggable,r=e.insideDestination,n=e.destination,s=e.viewport,i=e.displacedBy,a=e.last,l=e.index,c=e.forceShouldAnimate,p=Bn(t,n);if(l==null)return Yd({insideDestination:r,inHomeList:p,displacedBy:i,destination:n});var f=jr(r,function(y){return y.descriptor.index===l});if(!f)return Yd({insideDestination:r,inHomeList:p,displacedBy:i,destination:n});var u=Ho(t,r),d=r.indexOf(f),m=u.slice(d),h=Rs({afterDragging:m,destination:n,displacedBy:i,last:a,viewport:s.frame,forceShouldAnimate:c});return{displaced:h,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function wr(e,t){return!!t.effected[e]}var ub=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,s=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var a=s.draggableId,l=n[a],c=l.descriptor.index,p=wr(a,i);return p?t?c:c-1:t?c+1:c},db=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,s=e.location;if(!n.length)return null;var i=s.index,a=t?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,p=r?c:c+1;return a<l||a>p?null:a},pb=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,s=e.draggables,i=e.destination,a=e.insideDestination,l=e.previousImpact,c=e.viewport,p=e.afterCritical,f=l.at;if(f||F(!1),f.type==="REORDER"){var u=db({isMovingForward:t,isInHomeList:r,location:f.destination,insideDestination:a});return u==null?null:oo({draggable:n,insideDestination:a,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:u})}var d=ub({isMovingForward:t,destination:i,displaced:l.displaced,draggables:s,combine:f.combine,afterCritical:p});return d==null?null:oo({draggable:n,insideDestination:a,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:d})},fb=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,s=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return wr(n,r)?i?Ie:Ln(s.point):i?s.point:Ie},mb=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,s=Uo(r);s||F(!1);var i=s.draggableId,a=n[i].page.borderBox.center,l=fb({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return Ae(a,l)},bg=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},gb=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},tu=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Jd=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Qr(r.line,n.marginBox[r.end]+bg(r,s),tu(r,n.marginBox,s))},Xd=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Qr(r.line,n.marginBox[r.start]-gb(r,s),tu(r,n.marginBox,s))},hb=function(t){var r=t.axis,n=t.moveInto,s=t.isMoving;return Qr(r.line,n.contentBox[r.start]+bg(r,s),tu(r,n.contentBox,s))},vb=function(e){var t=e.impact,r=e.draggable,n=e.draggables,s=e.droppable,i=e.afterCritical,a=An(s.descriptor.id,n),l=r.page,c=s.axis;if(!a.length)return hb({axis:c,moveInto:s.page,isMoving:l});var p=t.displaced,f=t.displacedBy,u=p.all[0];if(u){var d=n[u];if(wr(u,i))return Xd({axis:c,moveRelativeTo:d.page,isMoving:l});var m=to(d.page,f.point);return Xd({axis:c,moveRelativeTo:m,isMoving:l})}var h=a[a.length-1];if(h.descriptor.id===r.descriptor.id)return l.borderBox.center;if(wr(h.descriptor.id,i)){var y=to(h.page,Ln(i.displacedBy.point));return Jd({axis:c,moveRelativeTo:y,isMoving:l})}return Jd({axis:c,moveRelativeTo:h.page,isMoving:l})},Pl=function(e,t){var r=e.frame;return r?Ae(t,r.scroll.diff.displacement):t},xb=function(t){var r=t.impact,n=t.draggable,s=t.droppable,i=t.draggables,a=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!s||!c?l:c.type==="REORDER"?vb({impact:r,draggable:n,draggables:i,droppable:s,afterCritical:a}):mb({impact:r,draggables:i,afterCritical:a})},Go=function(e){var t=xb(e),r=e.droppable,n=r?Pl(r,t):t;return n},Sg=function(e,t){var r=st(t,e.scroll.initial),n=Ln(r),s=jt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function Zd(e,t){return e.map(function(r){return t[r]})}function yb(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var bb=function(e){var t=e.impact,r=e.viewport,n=e.destination,s=e.draggables,i=e.maxScrollChange,a=Sg(r,Ae(r.scroll.current,i)),l=n.frame?Yc(n,Ae(n.frame.scroll.current,i)):n,c=t.displaced,p=Rs({afterDragging:Zd(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=Rs({afterDragging:Zd(c.all,s),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),u={},d={},m=[c,p,f];c.all.forEach(function(y){var N=yb(y,m);if(N){d[y]=N;return}u[y]=!0});var h=J({},t,{displaced:{all:c.all,invisible:u,visible:d}});return h},Sb=function(e,t){return Ae(e.scroll.diff.displacement,t)},ru=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,s=Sb(n,t),i=st(s,r.page.borderBox.center);return Ae(r.client.borderBox.center,i)},wg=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,s=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=a===void 0?!1:a,c=st(n,t.page.borderBox.center),p=qs(t.page.borderBox,c),f={target:p,destination:r,withDroppableDisplacement:i,viewport:s};return l?ob(f):yg(f)},wb=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,p=e.afterCritical;if(!n.isEnabled)return null;var f=An(n.descriptor.id,s),u=Bn(r,n),d=Xy({isMovingForward:t,draggable:r,destination:n,insideDestination:f,previousImpact:i})||pb({isMovingForward:t,isInHomeList:u,draggable:r,draggables:s,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:p});if(!d)return null;var m=Go({impact:d,draggable:r,droppable:n,draggables:s,afterCritical:p}),h=wg({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(h){var y=ru({pageBorderBoxCenter:m,draggable:r,viewport:a});return{clientSelection:y,impact:d,scrollJumpRequest:null}}var N=st(m,l),v=bb({impact:d,viewport:a,destination:n,draggables:s,maxScrollChange:N});return{clientSelection:c,impact:v,scrollJumpRequest:N}},_e=function(t){var r=t.subject.active;return r||F(!1),r},Nb=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,s=e.droppables,i=e.viewport,a=n.subject.active;if(!a)return null;var l=n.axis,c=xt(a[l.start],a[l.end]),p=$o(s).filter(function(u){return u!==n}).filter(function(u){return u.isEnabled}).filter(function(u){return!!u.subject.active}).filter(function(u){return vg(i.frame)(_e(u))}).filter(function(u){var d=_e(u);return t?a[l.crossAxisEnd]<d[l.crossAxisEnd]:d[l.crossAxisStart]<a[l.crossAxisStart]}).filter(function(u){var d=_e(u),m=xt(d[l.start],d[l.end]);return c(d[l.start])||c(d[l.end])||m(a[l.start])||m(a[l.end])}).sort(function(u,d){var m=_e(u)[l.crossAxisStart],h=_e(d)[l.crossAxisStart];return t?m-h:h-m}).filter(function(u,d,m){return _e(u)[l.crossAxisStart]===_e(m[0])[l.crossAxisStart]});if(!p.length)return null;if(p.length===1)return p[0];var f=p.filter(function(u){var d=xt(_e(u)[l.start],_e(u)[l.end]);return d(r[l.line])});return f.length===1?f[0]:f.length>1?f.sort(function(u,d){return _e(u)[l.start]-_e(d)[l.start]})[0]:p.sort(function(u,d){var m=Kd(r,Qd(_e(u))),h=Kd(r,Qd(_e(d)));return m!==h?m-h:_e(u)[l.start]-_e(d)[l.start]})[0]},ep=function(t,r){var n=t.page.borderBox.center;return wr(t.descriptor.id,r)?st(n,r.displacedBy.point):n},Eb=function(t,r){var n=t.page.borderBox;return wr(t.descriptor.id,r)?qs(n,Ln(r.displacedBy.point)):n},Cb=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,s=e.insideDestination,i=e.afterCritical,a=s.filter(function(l){return yg({target:Eb(l,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var p=Is(t,Pl(n,ep(l,i))),f=Is(t,Pl(n,ep(c,i)));return p<f?-1:f<p?1:l.descriptor.index-c.descriptor.index});return a[0]||null},Ks=ke(function(t,r){var n=r[t.line];return{value:n,point:Qr(t.line,n)}}),jb=function(t,r,n){var s=t.axis;if(t.descriptor.mode==="virtual")return Qr(s.line,r[s.line]);var i=t.subject.page.contentBox[s.size],a=An(t.descriptor.id,n),l=a.reduce(function(f,u){return f+u.client.marginBox[s.size]},0),c=l+r[s.line],p=c-i;return p<=0?null:Qr(s.line,p)},Ng=function(t,r){return J({},t,{scroll:J({},t.scroll,{max:r})})},Eg=function(t,r,n){var s=t.frame;Bn(r,t)&&F(!1),t.subject.withPlaceholder&&F(!1);var i=Ks(t.axis,r.displaceBy).point,a=jb(t,i,n),l={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=In({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return J({},t,{subject:c})}var p=a?Ae(s.scroll.max,a):s.scroll.max,f=Ng(s,p),u=In({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:f});return J({},t,{subject:u,frame:f})},Db=function(t){var r=t.subject.withPlaceholder;r||F(!1);var n=t.frame;if(!n){var s=In({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return J({},t,{subject:s})}var i=r.oldFrameMaxScroll;i||F(!1);var a=Ng(n,i),l=In({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return J({},t,{subject:l,frame:a})},kb=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,s=e.draggable,i=e.draggables,a=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var p={displaced:Ts,displacedBy:hg,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},f=Go({impact:p,draggable:s,droppable:a,draggables:i,afterCritical:c}),u=Bn(s,a)?a:Eg(a,s,i),d=wg({draggable:s,destination:u,newPageBorderBoxCenter:f,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return d?p:null}var m=t[a.axis.line]<=r.page.borderBox.center[a.axis.line],h=function(){var N=r.descriptor.index;return r.descriptor.id===s.descriptor.id||m?N:N+1}(),y=Ks(a.axis,s.displaceBy);return oo({draggable:s,insideDestination:n,destination:a,viewport:l,displacedBy:y,last:Ts,index:h})},Ib=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,s=e.isOver,i=e.draggables,a=e.droppables,l=e.viewport,c=e.afterCritical,p=Nb({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:a,viewport:l});if(!p)return null;var f=An(p.descriptor.id,i),u=Cb({pageBorderBoxCenter:r,viewport:l,destination:p,insideDestination:f,afterCritical:c}),d=kb({previousPageBorderBoxCenter:r,destination:p,draggable:n,draggables:i,moveRelativeTo:u,insideDestination:f,viewport:l,afterCritical:c});if(!d)return null;var m=Go({impact:d,draggable:n,droppable:p,draggables:i,afterCritical:c}),h=ru({pageBorderBoxCenter:m,draggable:n,viewport:l});return{clientSelection:h,impact:d,scrollJumpRequest:null}},ot=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Tb=function(t,r){var n=ot(t);return n?r[n]:null},Rb=function(e){var t=e.state,r=e.type,n=Tb(t.impact,t.dimensions.droppables),s=!!n,i=t.dimensions.droppables[t.critical.droppable.id],a=n||i,l=a.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!s)return null;var p=r==="MOVE_DOWN"||r==="MOVE_RIGHT",f=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,d=t.dimensions,m=d.draggables,h=d.droppables;return c?wb({isMovingForward:p,previousPageBorderBoxCenter:u,draggable:f,destination:a,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Ib({isMovingForward:p,previousPageBorderBoxCenter:u,draggable:f,isOver:a,draggables:m,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Rr(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Cg(e){var t=xt(e.top,e.bottom),r=xt(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function Pb(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Mb(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,s=r.page.borderBox.center,i=n.map(function(a){var l=a.axis,c=Qr(a.axis.line,t.center[l.line],a.page.borderBox.center[l.crossAxisLine]);return{id:a.descriptor.id,distance:Is(s,c)}}).sort(function(a,l){return l.distance-a.distance});return i[0]?i[0].id:null}function Ob(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,s=$o(n).filter(function(i){if(!i.isEnabled)return!1;var a=i.subject.active;if(!a||!Pb(t,a))return!1;if(Cg(a)(t.center))return!0;var l=i.axis,c=a.center[l.crossAxisLine],p=t[l.crossAxisStart],f=t[l.crossAxisEnd],u=xt(a[l.crossAxisStart],a[l.crossAxisEnd]),d=u(p),m=u(f);return!d&&!m?!0:d?p<c:f>c});return s.length?s.length===1?s[0].descriptor.id:Mb({pageBorderBox:t,draggable:r,candidates:s}):null}var jg=function(t,r){return jt(qs(t,r))},Lb=function(e,t){var r=e.frame;return r?jg(t,r.scroll.diff.value):t};function Dg(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function Ab(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var Bb=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,s=e.insideDestination,i=e.last,a=e.viewport,l=e.afterCritical,c=n.axis,p=Ks(n.axis,r.displaceBy),f=p.value,u=t[c.start],d=t[c.end],m=Ho(r,s),h=jr(m,function(N){var v=N.descriptor.id,g=N.page.borderBox.center[c.line],x=wr(v,l),b=Dg({displaced:i,id:v});return x?b?d<=g:u<g-f:b?d<=g+f:u<g}),y=Ab({draggable:r,closest:h,inHomeList:Bn(r,n)});return oo({draggable:r,insideDestination:s,destination:n,viewport:a,last:i,displacedBy:p,index:y})},Fb=4,zb=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,s=e.destination,i=e.insideDestination,a=e.afterCritical;if(!s.isCombineEnabled)return null;var l=s.axis,c=Ks(s.axis,t.displaceBy),p=c.value,f=r[l.start],u=r[l.end],d=Ho(t,i),m=jr(d,function(y){var N=y.descriptor.id,v=y.page.borderBox,g=v[l.size],x=g/Fb,b=wr(N,a),E=Dg({displaced:n.displaced,id:N});return b?E?u>v[l.start]+x&&u<v[l.end]-x:f>v[l.start]-p+x&&f<v[l.end]-p-x:E?u>v[l.start]+p+x&&u<v[l.end]+p-x:f>v[l.start]+x&&f<v[l.end]-x});if(!m)return null;var h={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}};return h},kg=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,s=e.droppables,i=e.previousImpact,a=e.viewport,l=e.afterCritical,c=jg(r.page.borderBox,t),p=Ob({pageBorderBox:c,draggable:r,droppables:s});if(!p)return Zy;var f=s[p],u=An(f.descriptor.id,n),d=Lb(f,c);return zb({pageBorderBoxWithDroppableScroll:d,draggable:r,previousImpact:i,destination:f,insideDestination:u,afterCritical:l})||Bb({pageBorderBoxWithDroppableScroll:d,draggable:r,destination:f,insideDestination:u,last:i.displaced,viewport:a,afterCritical:l})},nu=function(e,t){var r;return J({},e,(r={},r[t.descriptor.id]=t,r))},$b=function(t){var r=t.previousImpact,n=t.impact,s=t.droppables,i=ot(r),a=ot(n);if(!i||i===a)return s;var l=s[i];if(!l.subject.withPlaceholder)return s;var c=Db(l);return nu(s,c)},Ub=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,s=e.previousImpact,i=e.impact,a=$b({previousImpact:s,impact:i,droppables:n}),l=ot(i);if(!l)return a;var c=n[l];if(Bn(t,c)||c.subject.withPlaceholder)return a;var p=Eg(c,t,r);return nu(a,p)},ls=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,s=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=s||t.viewport,c=n||t.dimensions,p=r||t.current.client.selection,f=st(p,t.initial.client.selection),u={offset:f,selection:p,borderBoxCenter:Ae(t.initial.client.borderBoxCenter,f)},d={selection:Ae(u.selection,l.scroll.current),borderBoxCenter:Ae(u.borderBoxCenter,l.scroll.current),offset:Ae(u.offset,l.scroll.diff.value)},m={client:u,page:d};if(t.phase==="COLLECTING")return J({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var h=c.draggables[t.critical.draggable.id],y=i||kg({pageOffset:d.offset,draggable:h,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),N=Ub({draggable:h,impact:y,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),v=J({},t,{current:m,dimensions:{draggables:c.draggables,droppables:N},impact:y,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return v};function Hb(e,t){return e.map(function(r){return t[r]})}var Ig=function(e){var t=e.impact,r=e.viewport,n=e.draggables,s=e.destination,i=e.forceShouldAnimate,a=t.displaced,l=Hb(a.all,n),c=Rs({afterDragging:l,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:a});return J({},t,{displaced:c})},Tg=function(e){var t=e.impact,r=e.draggable,n=e.droppable,s=e.draggables,i=e.viewport,a=e.afterCritical,l=Go({impact:t,draggable:r,draggables:s,droppable:n,afterCritical:a});return ru({pageBorderBoxCenter:l,draggable:r,viewport:i})},Rg=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&F(!1);var s=t.impact,i=n||t.viewport,a=r||t.dimensions,l=a.draggables,c=a.droppables,p=l[t.critical.draggable.id],f=ot(s);f||F(!1);var u=c[f],d=Ig({impact:s,viewport:i,destination:u,draggables:l}),m=Tg({impact:d,draggable:p,droppable:u,draggables:l,viewport:i,afterCritical:t.afterCritical});return ls({impact:d,clientSelection:m,state:t,dimensions:a,viewport:i})},Gb=function(e){return{index:e.index,droppableId:e.droppableId}},Pg=function(e){var t=e.draggable,r=e.home,n=e.draggables,s=e.viewport,i=Ks(r.axis,t.displaceBy),a=An(r.descriptor.id,n),l=a.indexOf(t);l===-1&&F(!1);var c=a.slice(l+1),p=c.reduce(function(m,h){return m[h.descriptor.id]=!0,m},{}),f={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:p},u=Rs({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:s.frame,forceShouldAnimate:!1}),d={displaced:u,displacedBy:i,at:{type:"REORDER",destination:Gb(t.descriptor)}};return{impact:d,afterCritical:f}},_b=function(e,t){return{draggables:e.draggables,droppables:nu(e.droppables,t)}},Wb=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,s=to(t.client,r),i=ro(s,n),a=J({},t,{placeholder:J({},t.placeholder,{client:s}),client:s,page:i});return a},Vb=function(e){var t=e.frame;return t||F(!1),t},qb=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,s=n.scroll.diff.value;return t.map(function(i){var a=i.descriptor.droppableId,l=r[a],c=Vb(l),p=c.scroll.diff.value,f=Ae(s,p),u=Wb({draggable:i,offset:f,initialWindowScroll:n.scroll.initial});return u})},Kb=function(e){var t=e.state,r=e.published,n=r.modified.map(function(x){var b=t.dimensions.droppables[x.droppableId],E=Yc(b,x.scroll);return E}),s=J({},t.dimensions.droppables,{},mg(n)),i=gg(qb({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),a=J({},t.dimensions.draggables,{},i);r.removals.forEach(function(x){delete a[x]});var l={droppables:s,draggables:a},c=ot(t.impact),p=c?l.droppables[c]:null,f=l.draggables[t.critical.draggable.id],u=l.droppables[t.critical.droppable.id],d=Pg({draggable:f,home:u,draggables:a,viewport:t.viewport}),m=d.impact,h=d.afterCritical,y=p&&p.isCombineEnabled?t.impact:m,N=kg({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:t.viewport,afterCritical:h}),v=J({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:N,onLiftImpact:m,dimensions:l,afterCritical:h,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return v;var g=J({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return g},Ml=function(t){return t.movementMode==="SNAP"},Ca=function(t,r,n){var s=_b(t.dimensions,r);return!Ml(t)||n?ls({state:t,dimensions:s}):Rg({state:t,dimensions:s})};function ja(e){return e.isDragging&&e.movementMode==="SNAP"?J({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var tp={phase:"IDLE",completed:null,shouldFlush:!1},Qb=function(e,t){if(e===void 0&&(e=tp),t.type==="FLUSH")return J({},tp,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&F(!1);var r=t.payload,n=r.critical,s=r.clientSelection,i=r.viewport,a=r.dimensions,l=r.movementMode,c=a.draggables[n.draggable.id],p=a.droppables[n.droppable.id],f={selection:s,borderBoxCenter:c.client.borderBox.center,offset:Ie},u={client:f,page:{selection:Ae(f.selection,i.scroll.initial),borderBoxCenter:Ae(f.selection,i.scroll.initial),offset:Ae(f.selection,i.scroll.diff.value)}},d=$o(a.droppables).every(function(ie){return!ie.isFixedOnPage}),m=Pg({draggable:c,home:p,draggables:a.draggables,viewport:i}),h=m.impact,y=m.afterCritical,N={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:a,initial:u,current:u,isWindowScrollAllowed:d,impact:h,afterCritical:y,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return N}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&F(!1);var v=J({phase:"COLLECTING"},e,{phase:"COLLECTING"});return v}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||F(!1),Kb({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Rr(e)||F(!1);var g=t.payload.client;return vr(g,e.current.client.selection)?e:ls({state:e,clientSelection:g,impact:Ml(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return ja(e);Rr(e)||F(!1);var x=t.payload,b=x.id,E=x.newScroll,w=e.dimensions.droppables[b];if(!w)return e;var D=Yc(w,E);return Ca(e,D,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Rr(e)||F(!1);var T=t.payload,P=T.id,O=T.isEnabled,U=e.dimensions.droppables[P];U||F(!1),U.isEnabled===O&&F(!1);var X=J({},U,{isEnabled:O});return Ca(e,X,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Rr(e)||F(!1);var Y=t.payload,K=Y.id,A=Y.isCombineEnabled,B=e.dimensions.droppables[K];B||F(!1),B.isCombineEnabled===A&&F(!1);var j=J({},B,{isCombineEnabled:A});return Ca(e,j,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Rr(e)||F(!1),e.isWindowScrollAllowed||F(!1);var S=t.payload.newScroll;if(vr(e.viewport.scroll.current,S))return ja(e);var k=Sg(e.viewport,S);return Ml(e)?Rg({state:e,viewport:k}):ls({state:e,viewport:k})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Rr(e))return e;var M=t.payload.maxScroll;if(vr(M,e.viewport.scroll.max))return e;var $=J({},e.viewport,{scroll:J({},e.viewport.scroll,{max:M})});return J({phase:"DRAGGING"},e,{viewport:$})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&F(!1);var R=Rb({state:e,type:t.type});return R?ls({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var H=t.payload.reason;e.phase!=="COLLECTING"&&F(!1);var G=J({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:H});return G}if(t.type==="DROP_ANIMATE"){var V=t.payload,_=V.completed,q=V.dropDuration,C=V.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||F(!1);var z={phase:"DROP_ANIMATING",completed:_,dropDuration:q,newHomeClientOffset:C,dimensions:e.dimensions};return z}if(t.type==="DROP_COMPLETE"){var ee=t.payload.completed;return{phase:"IDLE",completed:ee,shouldFlush:!1}}return e},Yb=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},Jb=function(t){return{type:"LIFT",payload:t}},Xb=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Zb=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},eS=function(){return{type:"COLLECTION_STARTING",payload:null}},tS=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},rS=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},nS=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Mg=function(t){return{type:"MOVE",payload:t}},sS=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},iS=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},oS=function(){return{type:"MOVE_UP",payload:null}},aS=function(){return{type:"MOVE_DOWN",payload:null}},lS=function(){return{type:"MOVE_RIGHT",payload:null}},cS=function(){return{type:"MOVE_LEFT",payload:null}},su=function(){return{type:"FLUSH",payload:null}},uS=function(t){return{type:"DROP_ANIMATE",payload:t}},iu=function(t){return{type:"DROP_COMPLETE",payload:t}},Og=function(t){return{type:"DROP",payload:t}},dS=function(t){return{type:"DROP_PENDING",payload:t}},Lg=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},pS=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(s){return function(i){if(i.type!=="LIFT"){s(i);return}var a=i.payload,l=a.id,c=a.clientSelection,p=a.movementMode,f=r();f.phase==="DROP_ANIMATING"&&n(iu({completed:f.completed})),r().phase!=="IDLE"&&F(!1),n(su()),n(Yb({draggableId:l,movementMode:p}));var u={shouldPublishImmediately:p==="SNAP"},d={draggableId:l,scrollOptions:u},m=e.startPublishing(d),h=m.critical,y=m.dimensions,N=m.viewport;n(Xb({critical:h,dimensions:y,clientSelection:c,movementMode:p,viewport:N}))}}}},fS=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},ou={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ps={opacity:{drop:0,combining:.7},scale:{drop:.75}},au={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Dr=au.outOfTheWay+"s "+ou.outOfTheWay,cs={fluid:"opacity "+Dr,snap:"transform "+Dr+", opacity "+Dr,drop:function(t){var r=t+"s "+ou.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Dr,placeholder:"height "+Dr+", width "+Dr+", margin "+Dr},rp=function(t){return vr(t,Ie)?null:"translate("+t.x+"px, "+t.y+"px)"},Ol={moveTo:rp,drop:function(t,r){var n=rp(t);return n?r?n+" scale("+Ps.scale.drop+")":n:null}},Ll=au.minDropTime,Ag=au.maxDropTime,mS=Ag-Ll,np=1500,gS=.6,hS=function(e){var t=e.current,r=e.destination,n=e.reason,s=Is(t,r);if(s<=0)return Ll;if(s>=np)return Ag;var i=s/np,a=Ll+mS*i,l=n==="CANCEL"?a*gS:a;return Number(l.toFixed(2))},vS=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,s=e.viewport,i=e.afterCritical,a=n.draggables,l=n.droppables,c=ot(t),p=c?l[c]:null,f=l[r.descriptor.droppableId],u=Tg({impact:t,draggable:r,draggables:a,afterCritical:i,droppable:p||f,viewport:s}),d=st(u,r.client.borderBox.center);return d},xS=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,s=e.home,i=e.viewport,a=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=Ig({draggables:t,impact:a,destination:s,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=J({},n,{displaced:Ts});return{impact:c,didDropInsideDroppable:!0}},yS=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(s){if(s.type!=="DROP"){n(s);return}var i=t(),a=s.payload.reason;if(i.phase==="COLLECTING"){r(dS({reason:a}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&F(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||F(!1);var c=i.critical,p=i.dimensions,f=p.draggables[i.critical.draggable.id],u=xS({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=u.impact,m=u.didDropInsideDroppable,h=m?Xc(d):null,y=m?Uo(d):null,N={index:c.draggable.index,droppableId:c.droppable.id},v={draggableId:f.descriptor.id,type:f.descriptor.type,source:N,reason:a,mode:i.movementMode,destination:h,combine:y},g=vS({impact:d,draggable:f,dimensions:p,viewport:i.viewport,afterCritical:i.afterCritical}),x={critical:i.critical,afterCritical:i.afterCritical,result:v,impact:d},b=!vr(i.current.client.offset,g)||!!v.combine;if(!b){r(iu({completed:x}));return}var E=hS({current:i.current.client.offset,destination:g,reason:a}),w={newHomeClientOffset:g,dropDuration:E,completed:x};r(uS(w))}}}},Bg=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function bS(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function SS(e){var t=e.onWindowScroll;function r(){t(Bg())}var n=ks(r),s=bS(n),i=hr;function a(){return i!==hr}function l(){a()&&F(!1),i=ht(window,[s])}function c(){a()||F(!1),n.cancel(),i(),i=hr}return{start:l,stop:c,isActive:a}}var wS=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},NS=function(e){var t=SS({onWindowScroll:function(n){e.dispatch(sS({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&wS(n)&&t.stop(),r(n)}}},ES=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),s=function(a){t||r||(t=!0,e(a),clearTimeout(n))};return s.wasCalled=function(){return t},s},CS=function(){var e=[],t=function(i){var a=Jc(e,function(p){return p.timerId===i});a===-1&&F(!1);var l=e.splice(a,1),c=l[0];c.callback()},r=function(i){var a=setTimeout(function(){return t(a)}),l={timerId:a,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:r,flush:n}},jS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},DS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},kS=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&s},Vn=function(t,r){r()},fi=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Da=function(t,r,n,s){if(!t){n(s(r));return}var i=ES(n),a={announce:i};t(r,a),i.wasCalled()||n(s(r))},IS=function(e,t){var r=CS(),n=null,s=function(d,m){n&&F(!1),Vn("onBeforeCapture",function(){var h=e().onBeforeCapture;if(h){var y={draggableId:d,mode:m};h(y)}})},i=function(d,m){n&&F(!1),Vn("onBeforeDragStart",function(){var h=e().onBeforeDragStart;h&&h(fi(d,m))})},a=function(d,m){n&&F(!1);var h=fi(d,m);n={mode:m,lastCritical:d,lastLocation:h.source,lastCombine:null},r.add(function(){Vn("onDragStart",function(){return Da(e().onDragStart,h,t,Ii.onDragStart)})})},l=function(d,m){var h=Xc(m),y=Uo(m);n||F(!1);var N=!kS(d,n.lastCritical);N&&(n.lastCritical=d);var v=!jS(n.lastLocation,h);v&&(n.lastLocation=h);var g=!DS(n.lastCombine,y);if(g&&(n.lastCombine=y),!(!N&&!v&&!g)){var x=J({},fi(d,n.mode),{combine:y,destination:h});r.add(function(){Vn("onDragUpdate",function(){return Da(e().onDragUpdate,x,t,Ii.onDragUpdate)})})}},c=function(){n||F(!1),r.flush()},p=function(d){n||F(!1),n=null,Vn("onDragEnd",function(){return Da(e().onDragEnd,d,t,Ii.onDragEnd)})},f=function(){if(n){var d=J({},fi(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});p(d)}};return{beforeCapture:s,beforeStart:i,start:a,update:l,flush:c,drop:p,abort:f}},TS=function(e,t){var r=IS(e,t);return function(n){return function(s){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var a=i.payload.critical;r.beforeStart(a,i.payload.movementMode),s(i),r.start(a,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),s(i),r.drop(l);return}if(s(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},RS=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&F(!1),e.dispatch(iu({completed:n.completed}))}}},PS=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(s){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),s(i),i.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(Lg())}};r=requestAnimationFrame(function(){r=null,t=ht(window,[a])})}}}},MS=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},OS=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},LS=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},AS=function(e){return function(t){return function(r){return function(n){if(LS(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var s=t.getState();s.phase!=="DRAGGING"&&F(!1),e.start(s);return}r(n),e.scroll(t.getState())}}}},BS=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Og({reason:n.reason})))}}}},FS=Gm,zS=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,i=e.announce,a=e.autoScroller;return Hm(Qb,FS(Ex(fS(n),MS(t),pS(t),yS,RS,PS,BS,AS(a),NS,OS(r),TS(s,i))))},ka=function(){return{additions:{},removals:{},modified:{}}};function $S(e){var t=e.registry,r=e.callbacks,n=ka(),s=null,i=function(){s||(r.collectionStarting(),s=requestAnimationFrame(function(){s=null;var f=n,u=f.additions,d=f.removals,m=f.modified,h=Object.keys(u).map(function(v){return t.draggable.getById(v).getDimension(Ie)}).sort(function(v,g){return v.descriptor.index-g.descriptor.index}),y=Object.keys(m).map(function(v){var g=t.droppable.getById(v),x=g.callbacks.getScrollWhileDragging();return{droppableId:v,scroll:x}}),N={additions:h,removals:Object.keys(d),modified:y};n=ka(),r.publish(N)}))},a=function(f){var u=f.descriptor.id;n.additions[u]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},l=function(f){var u=f.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},c=function(){s&&(cancelAnimationFrame(s),s=null,n=ka())};return{add:a,remove:l,stop:c}}var Fg=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,s=e.width,i=st({x:r,y:t},{x:s,y:n}),a={x:Math.max(0,i.x),y:Math.max(0,i.y)};return a},zg=function(){var e=document.documentElement;return e||F(!1),e},$g=function(){var e=zg(),t=Fg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},US=function(){var e=Bg(),t=$g(),r=e.y,n=e.x,s=zg(),i=s.clientWidth,a=s.clientHeight,l=n+i,c=r+a,p=jt({top:r,left:n,right:l,bottom:c}),f={frame:p,scroll:{initial:e,current:e,max:t,diff:{value:Ie,displacement:Ie}}};return f},HS=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,s=US(),i=s.scroll.current,a=t.droppable,l=n.droppable.getAllByType(a.type).map(function(u){return u.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(u){return u.getDimension(i)}),p={draggables:gg(c),droppables:mg(l)},f={dimensions:p,critical:t,viewport:s};return f};function sp(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var GS=function(e,t){var r=null,n=$S({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(m,h){e.droppable.exists(m)||F(!1),r&&t.updateDroppableIsEnabled({id:m,isEnabled:h})},i=function(m,h){r&&(e.droppable.exists(m)||F(!1),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:h}))},a=function(m,h){r&&(e.droppable.exists(m)||F(!1),t.updateDroppableScroll({id:m,newScroll:h}))},l=function(m,h){r&&e.droppable.getById(m).callbacks.scroll(h)},c=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(h){return h.callbacks.dragStopped()}),r.unsubscribe(),r=null}},p=function(m){r||F(!1);var h=r.critical.draggable;m.type==="ADDITION"&&sp(e,h,m.value)&&n.add(m.value),m.type==="REMOVAL"&&sp(e,h,m.value)&&n.remove(m.value)},f=function(m){r&&F(!1);var h=e.draggable.getById(m.draggableId),y=e.droppable.getById(h.descriptor.droppableId),N={draggable:h.descriptor,droppable:y.descriptor},v=e.subscribe(p);return r={critical:N,unsubscribe:v},HS({critical:N,registry:e,scrollOptions:m.scrollOptions})},u={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:f,stopPublishing:c};return u},Ug=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},_S=function(e){window.scrollBy(e.x,e.y)},WS=ke(function(e){return $o(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),VS=function(t,r){var n=jr(WS(r),function(s){return s.frame||F(!1),Cg(s.frame.pageMarginBox)(t)});return n},qS=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var s=n[r];return s.frame?s:null}var i=VS(t,n);return i},xr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},KS=function(e,t){var r=e[t.size]*xr.startFromPercentage,n=e[t.size]*xr.maxScrollAtPercentage,s={startScrollingFrom:r,maxScrollValueAt:n};return s},Hg=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,s=r-t;if(s===0)return 0;var i=n-t,a=i/s;return a},lu=1,QS=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return xr.maxPixelScroll;if(e===t.startScrollingFrom)return lu;var r=Hg({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,s=xr.maxPixelScroll*xr.ease(n);return Math.ceil(s)},ip=xr.durationDampening.accelerateAt,op=xr.durationDampening.stopDampeningAt,YS=function(e,t){var r=t,n=op,s=Date.now(),i=s-r;if(i>=op)return e;if(i<ip)return lu;var a=Hg({startOfRange:ip,endOfRange:n,current:i}),l=e*xr.ease(a);return Math.ceil(l)},ap=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,s=e.shouldUseTimeDampening,i=QS(t,r);return i===0?0:s?Math.max(YS(i,n),lu):i},lp=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,s=e.axis,i=e.shouldUseTimeDampening,a=KS(t,s),l=r[s.end]<r[s.start];return l?ap({distanceToEdge:r[s.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i}):-1*ap({distanceToEdge:r[s.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i})},JS=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,s=r.height>t.height,i=r.width>t.width;return!i&&!s?n:i&&s?null:{x:i?0:n.x,y:s?0:n.y}},XS=pg(function(e){return e===0?0:e}),Gg=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,s=e.center,i=e.shouldUseTimeDampening,a={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},l=lp({container:r,distanceToEdges:a,dragStartTime:t,axis:Zc,shouldUseTimeDampening:i}),c=lp({container:r,distanceToEdges:a,dragStartTime:t,axis:xg,shouldUseTimeDampening:i}),p=XS({x:c,y:l});if(vr(p,Ie))return null;var f=JS({container:r,subject:n,proposedScroll:p});return f?vr(f,Ie)?null:f:null},ZS=pg(function(e){return e===0?0:e>0?1:-1}),cu=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,s=t.change,i=Ae(r,s),a={x:e(i.x,n.x),y:e(i.y,n.y)};return vr(a,Ie)?null:a}}(),_g=function(t){var r=t.max,n=t.current,s=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},a=ZS(s),l=cu({max:i,current:n,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},uu=function(t,r){return _g({current:t.scroll.current,max:t.scroll.max,change:r})},e1=function(t,r){if(!uu(t,r))return null;var n=t.scroll.max,s=t.scroll.current;return cu({current:s,max:n,change:r})},du=function(t,r){var n=t.frame;return n?_g({current:n.scroll.current,max:n.scroll.max,change:r}):!1},t1=function(t,r){var n=t.frame;return!n||!du(t,r)?null:cu({current:n.scroll.current,max:n.scroll.max,change:r})},r1=function(e){var t=e.viewport,r=e.subject,n=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,a=Gg({dragStartTime:s,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return a&&uu(t,a)?a:null},n1=function(e){var t=e.droppable,r=e.subject,n=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var l=Gg({dragStartTime:s,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return l&&du(t,l)?l:null},cp=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,s=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var p=t.viewport,f=r1({dragStartTime:r,viewport:p,subject:c,center:a,shouldUseTimeDampening:n});if(f){s(f);return}}var u=qS({center:a,destination:ot(t.impact),droppables:t.dimensions.droppables});if(u){var d=n1({dragStartTime:r,droppable:u,subject:c,center:a,shouldUseTimeDampening:n});d&&i(u.descriptor.id,d)}},s1=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=ks(t),s=ks(r),i=null,a=function(f){i||F(!1);var u=i,d=u.shouldUseTimeDampening,m=u.dragStartTime;cp({state:f,scrollWindow:n,scrollDroppable:s,dragStartTime:m,shouldUseTimeDampening:d})},l=function(f){i&&F(!1);var u=Date.now(),d=!1,m=function(){d=!0};cp({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),i={dragStartTime:u,shouldUseTimeDampening:d},d&&a(f)},c=function(){i&&(n.cancel(),s.cancel(),i=null)};return{start:l,stop:c,scroll:a}},i1=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,s=function(p,f){var u=Ae(p.current.client.selection,f);t({client:u})},i=function(p,f){if(!du(p,f))return f;var u=t1(p,f);if(!u)return r(p.descriptor.id,f),null;var d=st(f,u);r(p.descriptor.id,d);var m=st(f,d);return m},a=function(p,f,u){if(!p||!uu(f,u))return u;var d=e1(f,u);if(!d)return n(u),null;var m=st(u,d);n(m);var h=st(u,m);return h},l=function(p){var f=p.scrollJumpRequest;if(f){var u=ot(p.impact);u||F(!1);var d=i(p.dimensions.droppables[u],f);if(d){var m=p.viewport,h=a(p.isWindowScrollAllowed,m,d);h&&s(p,h)}}};return l},o1=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,s=s1({scrollWindow:r,scrollDroppable:t}),i=i1({move:n,scrollWindow:r,scrollDroppable:t}),a=function(p){if(p.phase==="DRAGGING"){if(p.movementMode==="FLUID"){s.scroll(p);return}p.scrollJumpRequest&&i(p)}},l={scroll:a,start:s.start,stop:s.stop};return l},Tn="data-rbd",Rn=function(){var e=Tn+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Al=function(){var e=Tn+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),a1=function(){var e=Tn+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),up={contextId:Tn+"-scroll-container-context-id"},l1=function(t){return function(r){return"["+r+'="'+t+'"]'}},qn=function(t,r){return t.map(function(n){var s=n.styles[r];return s?n.selector+" { "+s+" }":""}).join(" ")},c1="pointer-events: none;",u1=function(e){var t=l1(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Rn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:c1,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+cs.outOfTheWay+`;
    `;return{selector:t(Al.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),s={selector:t(a1.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[n,r,s,i];return{always:qn(a,"always"),resting:qn(a,"resting"),dragging:qn(a,"dragging"),dropAnimating:qn(a,"dropAnimating"),userCancel:qn(a,"userCancel")}},at=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect,Ia=function(){var t=document.querySelector("head");return t||F(!1),t},dp=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function d1(e,t){var r=ne(function(){return u1(e)},[e]),n=I.useRef(null),s=I.useRef(null),i=Q(ke(function(u){var d=s.current;d||F(!1),d.textContent=u}),[]),a=Q(function(u){var d=n.current;d||F(!1),d.textContent=u},[]);at(function(){!n.current&&!s.current||F(!1);var u=dp(t),d=dp(t);return n.current=u,s.current=d,u.setAttribute(Tn+"-always",e),d.setAttribute(Tn+"-dynamic",e),Ia().appendChild(u),Ia().appendChild(d),a(r.always),i(r.resting),function(){var m=function(y){var N=y.current;N||F(!1),Ia().removeChild(N),y.current=null};m(n),m(s)}},[t,a,i,r.always,r.resting,e]);var l=Q(function(){return i(r.dragging)},[i,r.dragging]),c=Q(function(u){if(u==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),p=Q(function(){s.current&&i(r.resting)},[i,r.resting]),f=ne(function(){return{dragging:l,dropping:c,resting:p}},[l,c,p]);return f}var Wg=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function _o(e){return e instanceof Wg(e).HTMLElement}function p1(e,t){var r="["+Rn.contextId+'="'+e+'"]',n=fg(document.querySelectorAll(r));if(!n.length)return null;var s=jr(n,function(i){return i.getAttribute(Rn.draggableId)===t});return!s||!_o(s)?null:s}function f1(e){var t=I.useRef({}),r=I.useRef(null),n=I.useRef(null),s=I.useRef(!1),i=Q(function(d,m){var h={id:d,focus:m};return t.current[d]=h,function(){var N=t.current,v=N[d];v!==h&&delete N[d]}},[]),a=Q(function(d){var m=p1(e,d);m&&m!==document.activeElement&&m.focus()},[e]),l=Q(function(d,m){r.current===d&&(r.current=m)},[]),c=Q(function(){n.current||s.current&&(n.current=requestAnimationFrame(function(){n.current=null;var d=r.current;d&&a(d)}))},[a]),p=Q(function(d){r.current=null;var m=document.activeElement;m&&m.getAttribute(Rn.draggableId)===d&&(r.current=d)},[]);at(function(){return s.current=!0,function(){s.current=!1;var d=n.current;d&&cancelAnimationFrame(d)}},[]);var f=ne(function(){return{register:i,tryRecordFocus:p,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,p,c,l]);return f}function m1(){var e={draggables:{},droppables:{}},t=[];function r(u){return t.push(u),function(){var m=t.indexOf(u);m!==-1&&t.splice(m,1)}}function n(u){t.length&&t.forEach(function(d){return d(u)})}function s(u){return e.draggables[u]||null}function i(u){var d=s(u);return d||F(!1),d}var a={register:function(d){e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:function(d,m){var h=e.draggables[m.descriptor.id];h&&h.uniqueId===d.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:function(d){var m=d.descriptor.id,h=s(m);h&&d.uniqueId===h.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:d}))},getById:i,findById:s,exists:function(d){return!!s(d)},getAllByType:function(d){return io(e.draggables).filter(function(m){return m.descriptor.type===d})}};function l(u){return e.droppables[u]||null}function c(u){var d=l(u);return d||F(!1),d}var p={register:function(d){e.droppables[d.descriptor.id]=d},unregister:function(d){var m=l(d.descriptor.id);m&&d.uniqueId===m.uniqueId&&delete e.droppables[d.descriptor.id]},getById:c,findById:l,exists:function(d){return!!l(d)},getAllByType:function(d){return io(e.droppables).filter(function(m){return m.descriptor.type===d})}};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:p,subscribe:r,clean:f}}function g1(){var e=ne(m1,[]);return I.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var pu=fe.createContext(null),ao=function(){var e=document.body;return e||F(!1),e},h1={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},v1=function(t){return"rbd-announcement-"+t};function x1(e){var t=ne(function(){return v1(e)},[e]),r=I.useRef(null);I.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),J(i.style,h1),ao().appendChild(i),function(){setTimeout(function(){var c=ao();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=Q(function(s){var i=r.current;if(i){i.textContent=s;return}},[]);return n}var y1=0,b1={separator:"::"};function fu(e,t){return t===void 0&&(t=b1),ne(function(){return""+e+t.separator+y1++},[t.separator,e])}function S1(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function w1(e){var t=e.contextId,r=e.text,n=fu("hidden-text",{separator:"-"}),s=ne(function(){return S1({contextId:t,uniqueId:n})},[n,t]);return I.useEffect(function(){var a=document.createElement("div");return a.id=s,a.textContent=r,a.style.display="none",ao().appendChild(a),function(){var c=ao();c.contains(a)&&c.removeChild(a)}},[s,r]),s}var Wo=fe.createContext(null);function Vg(e){var t=I.useRef(e);return I.useEffect(function(){t.current=e}),t}function N1(){var e=null;function t(){return!!e}function r(a){return a===e}function n(a){e&&F(!1);var l={abandon:a};return e=l,l}function s(){e||F(!1),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:i}}var E1=9,C1=13,mu=27,qg=32,j1=33,D1=34,k1=35,I1=36,T1=37,R1=38,P1=39,M1=40,mi,O1=(mi={},mi[C1]=!0,mi[E1]=!0,mi),Kg=function(e){O1[e.keyCode]&&e.preventDefault()},Vo=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=jr(t,function(n){return"on"+n in document});return r||e}(),Qg=0,pp=5;function L1(e,t){return Math.abs(t.x-e.x)>=pp||Math.abs(t.y-e.y)>=pp}var fp={type:"IDLE"};function A1(e){var t=e.cancel,r=e.completed,n=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(a){var l=a.button,c=a.clientX,p=a.clientY;if(l===Qg){var f={x:c,y:p},u=n();if(u.type==="DRAGGING"){a.preventDefault(),u.actions.move(f);return}u.type!=="PENDING"&&F(!1);var d=u.point;if(L1(d,f)){a.preventDefault();var m=u.actions.fluidLift(f);s({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(a){var l=n();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(a){n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:function(a){var l=n();if(l.type==="PENDING"){t();return}if(a.keyCode===mu){a.preventDefault(),t();return}Kg(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(a){var l=n();if(l.type==="IDLE"&&F(!1),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:Vo,fn:t}]}function B1(e){var t=I.useRef(fp),r=I.useRef(hr),n=ne(function(){return{eventName:"mousedown",fn:function(u){if(!u.defaultPrevented&&u.button===Qg&&!(u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)){var d=e.findClosestDraggableId(u);if(d){var m=e.tryGetLock(d,a,{sourceEvent:u});if(m){u.preventDefault();var h={x:u.clientX,y:u.clientY};r.current(),p(m,h)}}}}}},[e]),s=ne(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(u){if(!u.defaultPrevented){var d=e.findClosestDraggableId(u);if(d){var m=e.findOptionsForDraggable(d);m&&(m.shouldRespectForcePress||e.canGetLock(d)&&u.preventDefault())}}}}},[e]),i=Q(function(){var u={passive:!1,capture:!0};r.current=ht(window,[s,n],u)},[s,n]),a=Q(function(){var f=t.current;f.type!=="IDLE"&&(t.current=fp,r.current(),i())},[i]),l=Q(function(){var f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=Q(function(){var u={capture:!0,passive:!1},d=A1({cancel:l,completed:a,getPhase:function(){return t.current},setPhase:function(h){t.current=h}});r.current=ht(window,d,u)},[l,a]),p=Q(function(u,d){t.current.type!=="IDLE"&&F(!1),t.current={type:"PENDING",point:d,actions:u},c()},[c]);at(function(){return i(),function(){r.current()}},[i])}var tn;function F1(){}var z1=(tn={},tn[D1]=!0,tn[j1]=!0,tn[I1]=!0,tn[k1]=!0,tn);function $1(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===mu){i.preventDefault(),r();return}if(i.keyCode===qg){i.preventDefault(),n();return}if(i.keyCode===M1){i.preventDefault(),e.moveDown();return}if(i.keyCode===R1){i.preventDefault(),e.moveUp();return}if(i.keyCode===P1){i.preventDefault(),e.moveRight();return}if(i.keyCode===T1){i.preventDefault(),e.moveLeft();return}if(z1[i.keyCode]){i.preventDefault();return}Kg(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Vo,fn:r}]}function U1(e){var t=I.useRef(F1),r=ne(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==qg)return;var a=e.findClosestDraggableId(i);if(!a)return;var l=e.tryGetLock(a,f,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,p=l.snapLift();t.current();function f(){c||F(!1),c=!1,t.current(),n()}t.current=ht(window,$1(p,f),{capture:!0,passive:!1})}}},[e]),n=Q(function(){var i={passive:!1,capture:!0};t.current=ht(window,[r],i)},[r]);at(function(){return n(),function(){t.current()}},[n])}var Ta={type:"IDLE"},H1=120,G1=.15;function _1(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.keyCode===mu&&s.preventDefault(),t()}},{eventName:Vo,fn:t}]}function W1(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;var l=i.touches[0],c=l.clientX,p=l.clientY,f={x:c,y:p};i.preventDefault(),a.actions.move(f)}},{eventName:"touchend",fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var a=n();a.type==="IDLE"&&F(!1);var l=i.touches[0];if(l){var c=l.force>=G1;if(c){var p=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){p&&t();return}if(p){if(a.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:Vo,fn:t}]}function V1(e){var t=I.useRef(Ta),r=I.useRef(hr),n=Q(function(){return t.current},[]),s=Q(function(m){t.current=m},[]),i=ne(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var h=e.findClosestDraggableId(m);if(h){var y=e.tryGetLock(h,l,{sourceEvent:m});if(y){var N=m.touches[0],v=N.clientX,g=N.clientY,x={x:v,y:g};r.current(),u(y,x)}}}}}},[e]),a=Q(function(){var m={capture:!0,passive:!1};r.current=ht(window,[i],m)},[i]),l=Q(function(){var d=t.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),s(Ta),r.current(),a())},[a,s]),c=Q(function(){var d=t.current;l(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[l]),p=Q(function(){var m={capture:!0,passive:!1},h={cancel:c,completed:l,getPhase:n},y=ht(window,W1(h),m),N=ht(window,_1(h),m);r.current=function(){y(),N()}},[c,n,l]),f=Q(function(){var m=n();m.type!=="PENDING"&&F(!1);var h=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:h,hasMoved:!1})},[n,s]),u=Q(function(m,h){n().type!=="IDLE"&&F(!1);var y=setTimeout(f,H1);s({type:"PENDING",point:h,actions:m,longPressTimerId:y}),p()},[p,n,s,f]);at(function(){return a(),function(){r.current();var h=n();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),s(Ta))}},[n,a,s]),at(function(){var m=ht(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var q1={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Yg(e,t){if(t==null)return!1;var r=!!q1[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Yg(e,t.parentElement)}function K1(e,t){var r=t.target;return _o(r)?Yg(e,r):!1}var Q1=function(e){return jt(e.getBoundingClientRect()).center};function Y1(e){return e instanceof Wg(e).Element}var J1=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=jr(t,function(n){return n in Element.prototype});return r||e}();function Jg(e,t){return e==null?null:e[J1](t)?e:Jg(e.parentElement,t)}function X1(e,t){return e.closest?e.closest(t):Jg(e,t)}function Z1(e){return"["+Rn.contextId+'="'+e+'"]'}function ew(e,t){var r=t.target;if(!Y1(r))return null;var n=Z1(e),s=X1(r,n);return!s||!_o(s)?null:s}function tw(e,t){var r=ew(e,t);return r?r.getAttribute(Rn.draggableId):null}function rw(e,t){var r="["+Al.contextId+'="'+e+'"]',n=fg(document.querySelectorAll(r)),s=jr(n,function(i){return i.getAttribute(Al.id)===t});return!s||!_o(s)?null:s}function nw(e){e.preventDefault()}function gi(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function Xg(e){var t=e.lockAPI,r=e.store,n=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(s);return!(!i||!i.options.isEnabled||!Ug(r.getState(),s))}function sw(e){var t=e.lockAPI,r=e.contextId,n=e.store,s=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent,c=Xg({lockAPI:t,store:n,registry:s,draggableId:i});if(!c)return null;var p=s.draggable.getById(i),f=rw(r,p.descriptor.id);if(!f||l&&!p.options.canDragInteractiveElements&&K1(f,l))return null;var u=t.claim(a||hr),d="PRE_DRAG";function m(){return p.options.shouldRespectForcePress}function h(){return t.isActive(u)}function y(w,D){gi({expected:w,phase:d,isLockActive:h,shouldWarn:!0})&&n.dispatch(D())}var N=y.bind(null,"DRAGGING");function v(w){function D(){t.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(D(),d!=="PRE_DRAG"&&F(!1)),n.dispatch(Jb(w.liftActionArgs)),d="DRAGGING";function T(P,O){if(O===void 0&&(O={shouldBlockNextClick:!1}),w.cleanup(),O.shouldBlockNextClick){var U=ht(window,[{eventName:"click",fn:nw,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(U)}D(),n.dispatch(Og({reason:P}))}return J({isActive:function(){return gi({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(O){return T("DROP",O)},cancel:function(O){return T("CANCEL",O)}},w.actions)}function g(w){var D=ks(function(P){N(function(){return Mg({client:P})})}),T=v({liftActionArgs:{id:i,clientSelection:w,movementMode:"FLUID"},cleanup:function(){return D.cancel()},actions:{move:D}});return J({},T,{move:D})}function x(){var w={moveUp:function(){return N(oS)},moveRight:function(){return N(lS)},moveDown:function(){return N(aS)},moveLeft:function(){return N(cS)}};return v({liftActionArgs:{id:i,clientSelection:Q1(f),movementMode:"SNAP"},cleanup:hr,actions:w})}function b(){var w=gi({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0});w&&t.release()}var E={isActive:function(){return gi({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:g,snapLift:x,abort:b};return E}var iw=[B1,U1,V1];function ow(e){var t=e.contextId,r=e.store,n=e.registry,s=e.customSensors,i=e.enableDefaultSensors,a=[].concat(i?iw:[],s||[]),l=I.useState(function(){return N1()})[0],c=Q(function(g,x){g.isDragging&&!x.isDragging&&l.tryAbandon()},[l]);at(function(){var g=r.getState(),x=r.subscribe(function(){var b=r.getState();c(g,b),g=b});return x},[l,r,c]),at(function(){return l.tryAbandon},[l.tryAbandon]);for(var p=Q(function(v){return Xg({lockAPI:l,registry:n,store:r,draggableId:v})},[l,n,r]),f=Q(function(v,g,x){return sw({lockAPI:l,registry:n,contextId:t,store:r,draggableId:v,forceSensorStop:g,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null})},[t,l,n,r]),u=Q(function(v){return tw(t,v)},[t]),d=Q(function(v){var g=n.draggable.findById(v);return g?g.options:null},[n.draggable]),m=Q(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(su()))},[l,r]),h=Q(l.isClaimed,[l]),y=ne(function(){return{canGetLock:p,tryGetLock:f,findClosestDraggableId:u,findOptionsForDraggable:d,tryReleaseLock:m,isLockClaimed:h}},[p,f,u,d,m,h]),N=0;N<a.length;N++)a[N](y)}var aw=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Kn(e){return e.current||F(!1),e.current}function lw(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,s=e.nonce,i=e.dragHandleUsageInstructions,a=I.useRef(null),l=Vg(e),c=Q(function(){return aw(l.current)},[l]),p=x1(t),f=w1({contextId:t,text:i}),u=d1(t,s),d=Q(function(P){Kn(a).dispatch(P)},[]),m=ne(function(){return Ad({publishWhileDragging:Zb,updateDroppableScroll:tS,updateDroppableIsEnabled:rS,updateDroppableIsCombineEnabled:nS,collectionStarting:eS},d)},[d]),h=g1(),y=ne(function(){return GS(h,m)},[h,m]),N=ne(function(){return o1(J({scrollWindow:_S,scrollDroppable:y.scrollDroppable},Ad({move:Mg},d)))},[y.scrollDroppable,d]),v=f1(t),g=ne(function(){return zS({announce:p,autoScroller:N,dimensionMarshal:y,focusMarshal:v,getResponders:c,styleMarshal:u})},[p,N,y,v,c,u]);a.current=g;var x=Q(function(){var P=Kn(a),O=P.getState();O.phase!=="IDLE"&&P.dispatch(su())},[]),b=Q(function(){var P=Kn(a).getState();return P.isDragging||P.phase==="DROP_ANIMATING"},[]),E=ne(function(){return{isDragging:b,tryAbort:x}},[b,x]);r(E);var w=Q(function(P){return Ug(Kn(a).getState(),P)},[]),D=Q(function(){return Rr(Kn(a).getState())},[]),T=ne(function(){return{marshal:y,focus:v,contextId:t,canLift:w,isMovementAllowed:D,dragHandleUsageInstructionsId:f,registry:h}},[t,y,f,v,w,D,h]);return ow({contextId:t,store:g,registry:h,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),I.useEffect(function(){return x},[x]),fe.createElement(Wo.Provider,{value:T},fe.createElement(Ix,{context:pu,store:g},e.children))}var cw=0;function uw(){return ne(function(){return""+cw++},[])}function Zg(e){var t=uw(),r=e.dragHandleUsageInstructions||Ii.dragHandleUsageInstructions;return fe.createElement(Uy,null,function(n){return fe.createElement(lw,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var eh=function(t){return function(r){return t===r}},dw=eh("scroll"),pw=eh("auto"),mp=function(t,r){return r(t.overflowX)||r(t.overflowY)},fw=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return mp(n,dw)||mp(n,pw)},mw=function(){return!1},gw=function e(t){return t==null?null:t===document.body?mw()?t:null:t===document.documentElement?null:fw(t)?t:e(t.parentElement)},Bl=function(e){return{x:e.scrollLeft,y:e.scrollTop}},hw=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},vw=function(e){var t=gw(e),r=hw(e);return{closestScrollable:t,isFixedOnPage:r}},xw=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,s=e.isFixedOnPage,i=e.direction,a=e.client,l=e.page,c=e.closest,p=function(){if(!c)return null;var m=c.scrollSize,h=c.client,y=Fg({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:h,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:y,diff:{value:Ie,displacement:Ie}}}}(),f=i==="vertical"?Zc:xg,u=In({page:l,withPlaceholder:null,axis:f,frame:p}),d={descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:f,isEnabled:r,client:a,page:l,frame:p,subject:u};return d},yw=function(t,r){var n=lg(t);if(!r||t!==r)return n;var s=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,a=s+r.scrollHeight,l=i+r.scrollWidth,c={top:s,right:l,bottom:a,left:i},p=Kc(c,n.border),f=Qc({borderBox:p,margin:n.margin,border:n.border,padding:n.padding});return f},bw=function(e){var t=e.ref,r=e.descriptor,n=e.env,s=e.windowScroll,i=e.direction,a=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,p=n.closestScrollable,f=yw(t,p),u=ro(f,s),d=function(){if(!p)return null;var h=lg(p),y={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:h,page:ro(h,s),scroll:Bl(p),scrollSize:y,shouldClipSubject:c}}(),m=xw({descriptor:r,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:u,closest:d});return m},Sw={passive:!1},ww={passive:!0},gp=function(e){return e.shouldPublishImmediately?Sw:ww};function lo(e){var t=I.useContext(e);return t||F(!1),t}var hi=function(t){return t&&t.env.closestScrollable||null};function Nw(e){var t=I.useRef(null),r=lo(Wo),n=fu("droppable"),s=r.registry,i=r.marshal,a=Vg(e),l=ne(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=I.useRef(l),p=ne(function(){return ke(function(b,E){t.current||F(!1);var w={x:b,y:E};i.updateDroppableScroll(l.id,w)})},[l.id,i]),f=Q(function(){var b=t.current;return!b||!b.env.closestScrollable?Ie:Bl(b.env.closestScrollable)},[]),u=Q(function(){var b=f();p(b.x,b.y)},[f,p]),d=ne(function(){return ks(u)},[u]),m=Q(function(){var b=t.current,E=hi(b);b&&E||F(!1);var w=b.scrollOptions;if(w.shouldPublishImmediately){u();return}d()},[d,u]),h=Q(function(b,E){t.current&&F(!1);var w=a.current,D=w.getDroppableRef();D||F(!1);var T=vw(D),P={ref:D,descriptor:l,env:T,scrollOptions:E};t.current=P;var O=bw({ref:D,descriptor:l,env:T,windowScroll:b,direction:w.direction,isDropDisabled:w.isDropDisabled,isCombineEnabled:w.isCombineEnabled,shouldClipSubject:!w.ignoreContainerClipping}),U=T.closestScrollable;return U&&(U.setAttribute(up.contextId,r.contextId),U.addEventListener("scroll",m,gp(P.scrollOptions))),O},[r.contextId,l,m,a]),y=Q(function(){var b=t.current,E=hi(b);return b&&E||F(!1),Bl(E)},[]),N=Q(function(){var b=t.current;b||F(!1);var E=hi(b);t.current=null,E&&(d.cancel(),E.removeAttribute(up.contextId),E.removeEventListener("scroll",m,gp(b.scrollOptions)))},[m,d]),v=Q(function(b){var E=t.current;E||F(!1);var w=hi(E);w||F(!1),w.scrollTop+=b.y,w.scrollLeft+=b.x},[]),g=ne(function(){return{getDimensionAndWatchScroll:h,getScrollWhileDragging:y,dragStopped:N,scroll:v}},[N,h,y,v]),x=ne(function(){return{uniqueId:n,descriptor:l,callbacks:g}},[g,l,n]);at(function(){return c.current=x.descriptor,s.droppable.register(x),function(){t.current&&N(),s.droppable.unregister(x)}},[g,l,N,x,i,s.droppable]),at(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),at(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Ra(){}var hp={width:0,height:0,margin:qy},Ew=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate;return r||s==="close"?hp:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},Cw=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate,i=Ew({isAnimatingOpenOnMount:r,placeholder:n,animate:s});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?cs.placeholder:null}};function jw(e){var t=I.useRef(null),r=Q(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,s=e.onTransitionEnd,i=e.onClose,a=e.contextId,l=I.useState(e.animate==="open"),c=l[0],p=l[1];I.useEffect(function(){return c?n!=="open"?(r(),p(!1),Ra):t.current?Ra:(t.current=setTimeout(function(){t.current=null,p(!1)}),r):Ra},[n,c,r]);var f=Q(function(d){d.propertyName==="height"&&(s(),n==="close"&&i())},[n,i,s]),u=Cw({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return fe.createElement(e.placeholder.tagName,{style:u,"data-rbd-placeholder-context-id":a,onTransitionEnd:f,ref:e.innerRef})}var Dw=fe.memo(jw),gu=fe.createContext(null),kw=function(e){Um(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(s,i){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(fe.PureComponent),vp={dragging:5e3,dropAnimating:4500},Iw=function(t,r){return r?cs.drop(r.duration):t?cs.snap:cs.fluid},Tw=function(t,r){return t?r?Ps.opacity.drop:Ps.opacity.combining:null},Rw=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Pw(e){var t=e.dimension,r=t.client,n=e.offset,s=e.combineWith,i=e.dropping,a=!!s,l=Rw(e),c=!!i,p=c?Ol.drop(n,a):Ol.moveTo(n),f={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Iw(l,i),transform:p,opacity:Tw(a,c),zIndex:c?vp.dropAnimating:vp.dragging,pointerEvents:"none"};return f}function Mw(e){return{transform:Ol.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Ow(e){return e.type==="DRAGGING"?Pw(e):Mw(e)}function Lw(e,t,r){r===void 0&&(r=Ie);var n=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=ag(s,n),a=ro(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},p={descriptor:e,placeholder:l,displaceBy:c,client:i,page:a};return p}function Aw(e){var t=fu("draggable"),r=e.descriptor,n=e.registry,s=e.getDraggableRef,i=e.canDragInteractiveElements,a=e.shouldRespectForcePress,l=e.isEnabled,c=ne(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}},[i,l,a]),p=Q(function(m){var h=s();return h||F(!1),Lw(r,h,m)},[r,s]),f=ne(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:p}},[r,p,c,t]),u=I.useRef(f),d=I.useRef(!0);at(function(){return n.draggable.register(u.current),function(){return n.draggable.unregister(u.current)}},[n.draggable]),at(function(){if(d.current){d.current=!1;return}var m=u.current;u.current=f,n.draggable.update(f,m)},[f,n.draggable])}function Bw(e){e.preventDefault()}function Fw(e){var t=I.useRef(null),r=Q(function(P){t.current=P},[]),n=Q(function(){return t.current},[]),s=lo(Wo),i=s.contextId,a=s.dragHandleUsageInstructionsId,l=s.registry,c=lo(gu),p=c.type,f=c.droppableId,u=ne(function(){return{id:e.draggableId,index:e.index,type:p,droppableId:f}},[e.draggableId,e.index,p,f]),d=e.children,m=e.draggableId,h=e.isEnabled,y=e.shouldRespectForcePress,N=e.canDragInteractiveElements,v=e.isClone,g=e.mapped,x=e.dropAnimationFinished;if(!v){var b=ne(function(){return{descriptor:u,registry:l,getDraggableRef:n,canDragInteractiveElements:N,shouldRespectForcePress:y,isEnabled:h}},[u,l,n,N,y,h]);Aw(b)}var E=ne(function(){return h?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Bw}:null},[i,a,m,h]),w=Q(function(P){g.type==="DRAGGING"&&g.dropping&&P.propertyName==="transform"&&x()},[x,g]),D=ne(function(){var P=Ow(g),O=g.type==="DRAGGING"&&g.dropping?w:null,U={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":m,style:P,onTransitionEnd:O},dragHandleProps:E};return U},[i,E,m,g,w,r]),T=ne(function(){return{draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}},[u.droppableId,u.id,u.index,u.type]);return d(D,g.snapshot,T)}var th=function(e,t){return e===t},rh=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},zw=function(t){return t.combine?t.combine.draggableId:null},$w=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Uw(){var e=ke(function(s,i){return{x:s,y:i}}),t=ke(function(s,i,a,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:a,combineWith:l,combineTargetFor:null}}),r=ke(function(s,i,a,l,c,p,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:p,mode:i,offset:s,dimension:a,forceShouldAnimate:f,snapshot:t(i,l,c,p,null)}}}),n=function(i,a){if(i.isDragging){if(i.critical.draggable.id!==a.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],p=ot(i.impact),f=$w(i.impact),u=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,c,a.isClone,p,f,u)}if(i.phase==="DROP_ANIMATING"){var d=i.completed;if(d.result.draggableId!==a.draggableId)return null;var m=a.isClone,h=i.dimensions.draggables[a.draggableId],y=d.result,N=y.mode,v=rh(y),g=zw(y),x=i.dropDuration,b={duration:x,curve:ou.drop,moveTo:i.newHomeClientOffset,opacity:g?Ps.opacity.drop:null,scale:g?Ps.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:h,dropping:b,draggingOver:v,combineWith:g,mode:N,forceShouldAnimate:null,snapshot:t(N,m,v,g,b)}}}return null};return n}function nh(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Hw={mapped:{type:"SECONDARY",offset:Ie,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:nh(null)}};function Gw(){var e=ke(function(a,l){return{x:a,y:l}}),t=ke(nh),r=ke(function(a,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(Ie,l,!0):null},s=function(l,c,p,f){var u=p.displaced.visible[l],d=!!(f.inVirtualList&&f.effected[l]),m=Uo(p),h=m&&m.draggableId===l?c:null;if(!u){if(!d)return n(h);if(p.displaced.invisible[l])return null;var y=Ln(f.displacedBy.point),N=e(y.x,y.y);return r(N,h,!0)}if(d)return n(h);var v=p.displacedBy.point,g=e(v.x,v.y);return r(g,h,u.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:s(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var p=l.completed;return p.result.draggableId===c.draggableId?null:s(c.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null};return i}var _w=function(){var t=Uw(),r=Gw(),n=function(i,a){return t(i,a)||r(i,a)||Hw};return n},Ww={dropAnimationFinished:Lg},Vw=ig(_w,Ww,null,{context:pu,pure:!0,areStatePropsEqual:th})(Fw);function sh(e){var t=lo(gu),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:fe.createElement(Vw,e)}function ih(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return fe.createElement(sh,J({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function qw(e){var t=I.useContext(Wo);t||F(!1);var r=t.contextId,n=t.isMovementAllowed,s=I.useRef(null),i=I.useRef(null),a=e.children,l=e.droppableId,c=e.type,p=e.mode,f=e.direction,u=e.ignoreContainerClipping,d=e.isDropDisabled,m=e.isCombineEnabled,h=e.snapshot,y=e.useClone,N=e.updateViewportMaxScroll,v=e.getContainerForClone,g=Q(function(){return s.current},[]),x=Q(function(U){s.current=U},[]);Q(function(){return i.current},[]);var b=Q(function(U){i.current=U},[]),E=Q(function(){n()&&N({maxScroll:$g()})},[n,N]);Nw({droppableId:l,type:c,mode:p,direction:f,isDropDisabled:d,isCombineEnabled:m,ignoreContainerClipping:u,getDroppableRef:g});var w=fe.createElement(kw,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(U){var X=U.onClose,Y=U.data,K=U.animate;return fe.createElement(Dw,{placeholder:Y,onClose:X,innerRef:b,animate:K,contextId:r,onTransitionEnd:E})}),D=ne(function(){return{innerRef:x,placeholder:w,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,w,x]),T=y?y.dragging.draggableId:null,P=ne(function(){return{droppableId:l,type:c,isUsingCloneFor:T}},[l,T,c]);function O(){if(!y)return null;var U=y.dragging,X=y.render,Y=fe.createElement(sh,{draggableId:U.draggableId,index:U.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(K,A){return X(K,A,U)});return A0.createPortal(Y,v())}return fe.createElement(gu.Provider,{value:P},a(D,h),O())}var Pa=function(t,r){return t===r.droppable.type},xp=function(t,r){return r.draggables[t.draggable.id]},Kw=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=J({},t,{shouldAnimatePlaceholder:!1}),n=ke(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),s=ke(function(a,l,c,p,f,u){var d=f.descriptor.id,m=f.descriptor.droppableId===a;if(m){var h=u?{render:u,dragging:n(f.descriptor)}:null,y={isDraggingOver:c,draggingOverWith:c?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:h}}if(!l)return r;if(!p)return t;var N={isDraggingOver:c,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:N,useClone:null}}),i=function(l,c){var p=c.droppableId,f=c.type,u=!c.isDropDisabled,d=c.renderClone;if(l.isDragging){var m=l.critical;if(!Pa(f,m))return r;var h=xp(m,l.dimensions),y=ot(l.impact)===p;return s(p,u,y,y,h,d)}if(l.phase==="DROP_ANIMATING"){var N=l.completed;if(!Pa(f,N.critical))return r;var v=xp(N.critical,l.dimensions);return s(p,u,rh(N.result)===p,ot(N.impact)===p,v,d)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var g=l.completed;if(!Pa(f,g.critical))return r;var x=ot(g.impact)===p,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),E=g.critical.droppable.id===p;return x?b?t:r:E?t:r}return r};return i},Qw={updateViewportMaxScroll:iS};function Yw(){return document.body||F(!1),document.body}var Jw={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Yw},oh=ig(Kw,Qw,null,{context:pu,pure:!0,areStatePropsEqual:th})(qw);oh.defaultProps=Jw;const Xw=e=>{const t=e.trim();return t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")},Zw=e=>{const t=e.trim();return t.startsWith("<")&&t.includes(">")},eN=e=>{try{const t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(t){return console.warn("Failed to parse JSON response:",t),e}},tN=e=>{if(!e.trim().startsWith("<"))return e;try{let t=e.replace(/></g,`>
<`).replace(/^\s+|\s+$/g,"").split(`
`),r="",n=0;for(let s of t){const i=s.trim();i&&(i.startsWith("</")&&(n=Math.max(0,n-1)),r+="  ".repeat(n)+i+`
`,i.startsWith("<")&&!i.startsWith("</")&&!i.endsWith("/>")&&!i.includes("</",1)&&n++)}return r.trim()}catch(t){return console.warn("Failed to format XML response:",t),e}},rN=e=>{try{const t=JSON.parse(e);return t.code!==void 0?{hasError:!0,errorDetails:t.message||t.description||`Error code: ${t.code}`}:t.error?{hasError:!0,errorDetails:t.error}:t.success===!1?{hasError:!0,errorDetails:t.message||t.error||"Operation failed"}:t.status==="error"||t.status==="failed"?{hasError:!0,errorDetails:t.message||t.error||"Operation failed"}:t.statusCode&&t.statusCode>=400?{hasError:!0,errorDetails:`HTTP ${t.statusCode}: ${t.message||"Error"}`}:t.errorMessage?{hasError:!0,errorDetails:t.errorMessage}:t.errors&&Array.isArray(t.errors)&&t.errors.length>0?{hasError:!0,errorDetails:t.errors.join(", ")}:{hasError:!1}}catch{return e.includes('"code":')?{hasError:!0,errorDetails:"JSON response contains error code"}:{hasError:e.includes("ERR|"),errorDetails:e.includes("ERR|")?"HL7 Error detected":void 0}}},nN=e=>{try{const t=e.match(/<faultstring>(.*?)<\/faultstring>/i);let r=t?t[1]:"";const n=e.match(/<text[^>]*>(.*?)<\/text>/i);return n&&n[1]&&(r=n[1].replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),r||"SOAP Fault detected"}catch{return"SOAP Fault detected (unable to parse details)"}},sN=e=>e.includes("ERR|")?{hasError:!0,errorDetails:"HL7 Error detected"}:e.toLowerCase().includes("<error>")||e.toLowerCase().includes("<fault>")||e.toLowerCase().includes("<exception>")?{hasError:!0,errorDetails:"XML Error detected"}:e.toLowerCase().includes("soap-env:fault")||e.toLowerCase().includes("soap:fault")||e.toLowerCase().includes("soapenv:fault")?{hasError:!0,errorDetails:nN(e)}:{hasError:!1},qo=e=>{const t=e.trim();if(Xw(t)){const n=rN(t);return{content:eN(t),format:"json",isFormatted:!0,hasError:n.hasError,errorDetails:n.errorDetails}}if(Zw(t)){const n=sN(t);return{content:tN(t),format:"xml",isFormatted:!0,hasError:n.hasError,errorDetails:n.errorDetails}}const r=t.includes("ERR|");return{content:t,format:"text",isFormatted:!1,hasError:r,errorDetails:r?"HL7 Error detected":void 0}},co=e=>qo(e).hasError||!1,ah=({children:e,...t})=>{const[r,n]=I.useState(!1);return I.useEffect(()=>{const s=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(s),n(!1)}},[]),r?o.jsx(oh,{...t,children:e}):null},iN=({lists:e,activeListId:t,onSelectList:r,onCreateList:n,onUpdateList:s,onDeleteList:i,onDuplicateList:a,onExportList:l,onImportList:c,onReorderLists:p})=>{const[f,u]=I.useState(!1),[d,m]=I.useState(!1),[h,y]=I.useState(!1),[N,v]=I.useState(null),[g,x]=I.useState({name:"",description:"",color:"#3B82F6"}),b=I.useRef(null),E=e.find(A=>A.id===t),w=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#6B7280","#F97316"];I.useEffect(()=>{const A=j=>{b.current&&!b.current.contains(j.target)&&u(!1)},B=j=>{j.key==="Escape"&&(u(!1),m(!1),y(!1))};return f&&(document.addEventListener("mousedown",A),document.addEventListener("keydown",B)),()=>{document.removeEventListener("mousedown",A),document.removeEventListener("keydown",B)}},[f]);const D=()=>{x({name:"",description:"",color:"#3B82F6"}),m(!0),u(!1)},T=A=>{x({name:A.name,description:A.description||"",color:A.color||"#3B82F6"}),v(A.id),y(!0),u(!1)},P=A=>{A.preventDefault(),A.stopPropagation(),g.name.trim()&&(n(g.name.trim(),g.description.trim()||void 0,g.color),m(!1),x({name:"",description:"",color:"#3B82F6"}))},O=A=>{A.preventDefault(),A.stopPropagation(),N&&g.name.trim()&&(s(N,{name:g.name.trim(),description:g.description.trim()||void 0,color:g.color}),y(!1),v(null),x({name:"",description:"",color:"#3B82F6"}))},U=A=>{if(!A.destination)return;const B=A.source.index,j=A.destination.index;B!==j&&p(B,j)},X=A=>{const B=prompt(`Nombre para la copia de "${A.name}":`,`${A.name} (Copia)`);B!=null&&B.trim()&&a(A.id,B.trim()),u(!1)},Y=A=>{if(e.length<=1){alert("No se puede eliminar la nica lista existente.");return}confirm(`Ests seguro de que quieres eliminar la lista "${A.name}"? Esta accin no se puede deshacer.`)&&i(A.id),u(!1)},K=({isOpen:A,onClose:B,title:j,children:S})=>A?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:k=>{k.target===k.currentTarget&&B()},children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",onClick:k=>k.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:j}),o.jsx("button",{onClick:B,className:"text-gray-400 hover:text-gray-600",children:""})]}),S]})}):null;return o.jsxs("div",{className:"relative",ref:b,children:[o.jsxs("button",{onClick:()=>u(!f),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(E==null?void 0:E.color)||"#3B82F6"}}),o.jsx("span",{className:"font-medium text-gray-700",children:(E==null?void 0:E.name)||"Sin lista"}),o.jsx(Sr,{size:16,className:`text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),"      ",f&&o.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-300 rounded-lg shadow-lg z-50",onClick:A=>A.stopPropagation(),children:[o.jsx("div",{className:"p-2 border-b border-gray-200",children:o.jsxs("button",{onClick:D,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-md transition-colors",children:[o.jsx(mr,{size:16}),"Nueva Lista"]})}),"          ",o.jsx("div",{className:"max-h-60 overflow-y-auto",children:o.jsxs(Zg,{onDragEnd:U,children:["              ",o.jsx(ah,{droppableId:"lists",children:(A,B)=>o.jsxs("div",{...A.droppableProps,ref:A.innerRef,className:`${B.isDraggingOver?"bg-blue-50 border-blue-200":""} transition-all duration-200 rounded-md`,children:[e.map((j,S)=>o.jsx(ih,{draggableId:j.id,index:S,children:(k,M)=>{var $;return o.jsx("div",{ref:k.innerRef,...k.draggableProps,className:`group relative border-b border-gray-100 last:border-b-0 transition-all duration-200 ${M.isDragging?"shadow-lg rounded-lg bg-white border border-blue-200 z-50 opacity-90":"hover:bg-gray-50 opacity-100"}`,style:{...k.draggableProps.style,...M.isDragging&&{transform:`${($=k.draggableProps.style)==null?void 0:$.transform} rotate(1deg)`}},children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{...k.dragHandleProps,className:"flex items-center justify-center p-3 cursor-grab active:cursor-grabbing text-gray-500 hover:text-gray-700 opacity-70 group-hover:opacity-100 transition-opacity",children:o.jsx(Fm,{size:14})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("button",{onClick:()=>{r(j.id),u(!1)},className:`w-full flex items-center gap-3 px-3 py-3 text-sm transition-colors ${j.id===t?"bg-blue-50 text-blue-800 font-medium":"text-gray-800 hover:bg-gray-100 hover:text-gray-900"}`,children:[o.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:j.color||"#3B82F6"}}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:`font-semibold ${j.id===t?"text-blue-900":"text-gray-900"}`,children:j.name}),j.description&&o.jsx("div",{className:`text-xs truncate ${j.id===t?"text-blue-600":"text-gray-600"}`,children:j.description}),o.jsxs("div",{className:`text-xs ${j.id===t?"text-blue-500":"text-gray-500"}`,children:[j.messages.length," mensaje",j.messages.length!==1?"s":""]})]})]}),o.jsx("div",{className:"px-3 pb-2 opacity-70 group-hover:opacity-100 transition-opacity",children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx("button",{onClick:R=>{R.stopPropagation(),T(j)},className:"p-1.5 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded transition-colors",title:"Editar lista",children:o.jsx(ix,{size:14})}),o.jsx("button",{onClick:R=>{R.stopPropagation(),X(j)},className:"p-1.5 text-gray-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors",title:"Duplicar lista",children:o.jsx(K0,{size:14})}),o.jsx("button",{onClick:R=>{R.stopPropagation(),l(j.id)},className:"p-1.5 text-gray-600 hover:text-orange-700 hover:bg-orange-50 rounded transition-colors",title:"Exportar lista",children:o.jsx(Y0,{size:14})}),e.length>1&&o.jsx("button",{onClick:R=>{R.stopPropagation(),Y(j)},className:"p-1.5 text-gray-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Eliminar lista",children:o.jsx(gr,{size:14})})]})})]})]})})}},j.id)),A.placeholder]})})]})}),o.jsx("div",{className:"p-2 border-t border-gray-200",children:o.jsxs("button",{onClick:()=>{c(),u(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-md transition-colors",children:[o.jsx(xx,{size:16}),"Importar Lista"]})})]}),o.jsxs(K,{isOpen:d,onClose:()=>m(!1),title:"Nueva Lista",children:["        ",o.jsxs("form",{onSubmit:P,className:"space-y-4",children:["          ",o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),o.jsx("input",{type:"text",value:g.name,onChange:A=>x({...g,name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de la lista",autoFocus:!0,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),o.jsx("textarea",{value:g.description,onChange:A=>x({...g,description:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripcin opcional",rows:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),o.jsx("div",{className:"flex gap-2",children:w.map(A=>o.jsx("button",{type:"button",onClick:()=>x({...g,color:A}),className:`w-8 h-8 rounded-full border-2 transition-all ${g.color===A?"border-gray-400 scale-110":"border-gray-200"}`,style:{backgroundColor:A}},A))})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Crear"})]})]})]}),o.jsxs(K,{isOpen:h,onClose:()=>y(!1),title:"Editar Lista",children:["        ",o.jsxs("form",{onSubmit:O,className:"space-y-4",children:[o.jsxs("div",{children:["            ",o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),"            ",o.jsx("input",{type:"text",value:g.name,onChange:A=>x({...g,name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de la lista",autoFocus:!0,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),o.jsx("textarea",{value:g.description,onChange:A=>x({...g,description:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripcin opcional",rows:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),o.jsx("div",{className:"flex gap-2",children:w.map(A=>o.jsx("button",{type:"button",onClick:()=>x({...g,color:A}),className:`w-8 h-8 rounded-full border-2 transition-all ${g.color===A?"border-gray-400 scale-110":"border-gray-200"}`,style:{backgroundColor:A}},A))})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Guardar"})]})]})]}),"      ",(f||d||h)&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{u(!1)}})]})},Mr=class Mr{constructor(){ce(this,"state");ce(this,"callbacks",new Set);ce(this,"autoCloseTimeout",null);this.state={isVisible:!1,message:"",type:"info"}}static getInstance(){return Mr.instance||(Mr.instance=new Mr),Mr.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}show(t,r="info",n=!0){this.autoCloseTimeout&&(window.clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.updateState({isVisible:!0,message:t,type:r}),n&&(this.autoCloseTimeout=window.setTimeout(()=>{this.close()},5e3))}showSuccess(t,r=!0){this.show(t,"success",r)}showError(t,r=!0){this.show(t,"error",r)}showWarning(t,r=!0){this.show(t,"warning",r)}showInfo(t,r=!0){this.show(t,"info",r)}close(){this.autoCloseTimeout&&(window.clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.updateState({isVisible:!1})}isVisible(){return this.state.isVisible}getCurrentMessage(){return this.state.message}getCurrentType(){return this.state.type}clear(){this.autoCloseTimeout&&(clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.state={isVisible:!1,message:"",type:"info"},this.notifySubscribers()}};ce(Mr,"instance");let Fl=Mr;const Ce=Fl.getInstance(),oN=({children:e,content:t,position:r="bottom"})=>{const[n,s]=I.useState(!1);if(!t.trim())return o.jsx(o.Fragment,{children:e});const i={top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"},a={top:"top-full left-1/2 transform -translate-x-1/2 -mt-1",bottom:"bottom-full left-1/2 transform -translate-x-1/2 -mb-1",left:"left-full top-1/2 transform -translate-y-1/2 -ml-1",right:"right-full top-1/2 transform -translate-y-1/2 -mr-1"};return o.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[e,n&&o.jsxs("div",{className:`absolute z-50 px-3 py-2 text-sm text-white bg-gray-800 rounded-lg shadow-lg whitespace-normal max-w-xs ${i[r]}`,style:{wordBreak:"break-word",minWidth:"200px",maxWidth:"300px"},children:[t,o.jsx("div",{className:`absolute w-2 h-2 bg-gray-800 transform rotate-45 ${a[r]}`})]})]})},aN=({isOpen:e,onClose:t,onMessageClick:r,onEditMessage:n})=>{const[s,i]=I.useState(new Set),[a,l]=I.useState([]),[c,p]=I.useState(null),[f,u]=I.useState(!1),[d,m]=I.useState(384),[h,y]=I.useState(!1),N=I.useRef(!1),v=a.find(j=>j.id===c),g=(v==null?void 0:v.messages)||[];I.useEffect(()=>pe.subscribe((S,k)=>{l(S),p(k)}),[]);const x=I.useMemo(()=>{let j=300;const S=g.reduce((G,V)=>{const _=(V.host+V.messageType).length+5;return _>G?_:G},0),k=v!=null&&v.name?v.name.length+15:0,M=v!=null&&v.description?v.description.length+10:0,$=18+5,H=Math.max(S,k,M,$)*8+120;return j=Math.min(Math.max(H,320),650),j},[g,v]);I.useEffect(()=>{m(x)},[x]);const b=j=>{if(N.current){const S=window.innerWidth-j.clientX;m(Math.min(Math.max(S,320),650))}},E=()=>{N.current=!1,y(!1),document.body.style.cursor="",document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",E)};if(I.useEffect(()=>()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",E),document.body.style.cursor=""},[]),!e)return null;const w=j=>{if(!j.destination)return;const S=j.source.index,k=j.destination.index;S!==k&&pe.reorderMessages(S,k)},D=j=>{N.current=!0,y(!0),document.body.style.cursor="col-resize",document.addEventListener("mousemove",b),document.addEventListener("mouseup",E)},T=j=>new Date(j).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),P=j=>{const S=new Set(s);S.has(j)?S.delete(j):S.add(j),i(S)},O=async j=>{try{await pe.sendMessage(j)}catch(S){console.error("Error sending message:",S),alert("Error al enviar el mensaje. Por favor, intenta de nuevo.")}},U=async()=>{if(g.length!==0){u(!0);try{for(const j of g)await pe.sendMessage(j)}catch(j){console.error("Error sending all messages:",j),alert("Error al enviar los mensajes. Algunos mensajes pueden no haberse enviado.")}finally{u(!1)}}},X=async()=>{try{await $r.deleteAllMessages(),pe.clearAllResponses(),Ce.showSuccess("Deleted all messages from monitoring. All acks deleted successfully")}catch(j){console.error("Failed to clear all responses:",j),pe.clearAllResponses(),Ce.showWarning("Ack deleted (Server error)")}},Y=j=>{g.find(k=>k.id===j)&&c&&(pe.clearMessageResponses(j),Ce.showInfo("Message responses cleared successfully"))},K=j=>{pe.removeMessage(j)},A=j=>{try{const S=pe.exportList(j),k=new Blob([S],{type:"application/json"}),M=URL.createObjectURL(k),$=document.createElement("a"),R=a.find(H=>H.id===j);$.href=M,$.download=`${(R==null?void 0:R.name)||"lista"}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(M)}catch(S){console.error("Error exporting list:",S),alert("Error al exportar la lista.")}},B=()=>{const j=document.createElement("input");j.type="file",j.accept=".json",j.onchange=async S=>{var M,$,R,H,G;const k=(M=S.target.files)==null?void 0:M[0];if(k)try{const V=await k.text(),_=JSON.parse(V),q=pe.createList((($=_.listInfo)==null?void 0:$.name)||"Lista Importada",(R=_.listInfo)==null?void 0:R.description,(H=_.listInfo)==null?void 0:H.color);if(_.messages&&Array.isArray(_.messages))for(const C of _.messages)pe.addMessage(C.content,C.host,C.messageType,C.messageControlId,q.id);alert(`Lista "${q.name}" importada exitosamente con ${((G=_.messages)==null?void 0:G.length)||0} mensajes.`)}catch(V){console.error("Error importing list:",V),alert("Error al importar la lista. Verifica que el archivo sea vlido.")}},j.click()};return o.jsxs("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-lg border-l border-gray-200 z-50 transform transition-transform duration-300 flex flex-col",style:{width:`${d}px`,transition:h?"none":"width 0.2s ease"},children:[o.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 -ml-1 cursor-col-resize hover:bg-blue-200 active:bg-blue-300 z-10",onMouseDown:D}),o.jsxs("div",{className:"flex flex-col p-3 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mensajes Guardados"}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:o.jsx(Tt,{size:20})})]}),"        ",o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsxs("div",{className:"flex-1",children:["            ",o.jsx(iN,{lists:a,activeListId:c,onSelectList:j=>pe.setActiveList(j),onCreateList:(j,S,k)=>pe.createList(j,S,k),onUpdateList:(j,S)=>pe.updateList(j,S),onDeleteList:j=>pe.deleteList(j),onDuplicateList:(j,S)=>pe.duplicateList(j,S),onExportList:A,onImportList:B,onReorderLists:(j,S)=>pe.reorderLists(j,S)})]}),g.length>0&&o.jsx("button",{onClick:X,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Limpiar todas las respuestas de esta lista",children:o.jsx(Tl,{size:18})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:g.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("p",{className:"text-gray-500",children:"No hay mensajes en esta lista"})}):o.jsxs(Zg,{onDragEnd:w,children:["            ",o.jsx(ah,{droppableId:"messages",children:j=>o.jsxs("div",{className:"p-3 space-y-3",...j.droppableProps,ref:j.innerRef,children:[g.map((S,k)=>{var R;const M=S.responses&&S.responses.length>0,$=M&&((R=S.responses)==null?void 0:R.some(H=>co(H.message)));return o.jsx(ih,{draggableId:S.id,index:k,children:(H,G)=>{var V,_;return o.jsxs("div",{ref:H.innerRef,...H.draggableProps,className:`rounded-lg border transition-shadow ${G.isDragging?"shadow-lg":""} ${$?"bg-red-50 border-red-200":M?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center border-b border-gray-200",children:[o.jsx("div",{...H.dragHandleProps,className:"flex items-center justify-center p-2 cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600",children:o.jsx(Fm,{size:16})}),o.jsx("div",{className:"flex-1 p-2",children:o.jsx(oN,{content:S.comment||"",position:"bottom",children:o.jsxs("div",{className:"text-sm flex items-center",children:[o.jsx("span",{className:"font-medium text-blue-600",children:S.host}),o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:`${$?"text-red-700":M?"text-green-700":"text-gray-700"}`,children:S.messageType}),S.comment&&o.jsx("span",{className:"ml-2 text-orange-500",title:"Tiene comentarios",children:o.jsx(tx,{size:14})})]})})})]}),o.jsx("div",{className:"cursor-pointer",onClick:()=>r(S),children:o.jsxs("div",{className:"p-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("div",{className:"text-xs text-gray-500",children:S.sentTimestamp?`Enviado: ${T(S.sentTimestamp)}`:""}),o.jsxs("div",{className:"flex gap-1",onClick:q=>q.stopPropagation(),children:[o.jsx("button",{onClick:q=>{q.stopPropagation(),P(S.id)},className:"p-1 text-gray-600 hover:bg-gray-200 rounded",title:"Ver/ocultar respuesta",children:s.has(S.id)?o.jsx(Sr,{size:16}):o.jsx(Kr,{size:16})}),o.jsx("button",{onClick:q=>{q.stopPropagation(),Y(S.id)},className:"p-1 text-gray-400 hover:bg-gray-200 rounded",title:"Limpiar respuestas",children:o.jsx(Tl,{size:16})}),o.jsx("button",{onClick:q=>{q.stopPropagation(),!S.sentTimestamp&&n&&n(S)},disabled:!!S.sentTimestamp||!n,className:`p-1 rounded transition-colors ${S.sentTimestamp||!n?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-100 cursor-pointer"}`,title:n?S.sentTimestamp?"No se puede editar mensaje enviado":"Editar mensaje":"Edicin no disponible",children:o.jsx(Sn,{size:16})}),o.jsx("button",{onClick:q=>{q.stopPropagation(),O(S)},className:"p-1 text-green-600 hover:bg-green-100 rounded",title:"Enviar mensaje",children:o.jsx($m,{size:16})}),o.jsx("button",{onClick:q=>{q.stopPropagation(),K(S.id)},className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Eliminar mensaje",children:o.jsx(mx,{size:16})})]})]}),s.has(S.id)&&o.jsxs("div",{className:"bg-white p-2 rounded text-xs font-mono max-h-32 overflow-y-auto hover:bg-gray-50 cursor-text mb-2",onClick:q=>q.stopPropagation(),children:[S.content.substring(0,200),S.content.length>200&&"..."]}),S.responses&&S.responses.length>0&&s.has(S.id)&&o.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",onClick:q=>q.stopPropagation(),children:[o.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-1",children:["Respuesta",(((V=S.responses)==null?void 0:V.length)||0)>1?"s":"",":"]}),o.jsx("div",{className:"space-y-2",children:(_=S.responses)==null?void 0:_.map((q,C)=>{var Re;const z=co(q.message),ee=qo(q.message),ie=new Date(q.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:`p-2 rounded text-xs font-mono max-h-40 overflow-y-auto border cursor-text ${z?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{className:"flex gap-2",children:[(((Re=S.responses)==null?void 0:Re.length)||0)>1&&o.jsxs("div",{className:`text-xs font-semibold ${z?"text-red-600":"text-green-600"}`,children:["#",C+1]}),o.jsx("div",{className:`text-xs px-1 py-0.5 rounded ${ee.format==="json"?"bg-blue-100 text-blue-700":ee.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:ee.format.toUpperCase()})]}),o.jsx("div",{className:`text-xs ${z?"text-red-500":"text-green-500"}`,children:ie})]}),o.jsx("div",{className:`text-xs leading-relaxed font-mono ${z?"text-red-800":"text-green-800"}`,dangerouslySetInnerHTML:{__html:ee.content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;")}})]},C)})})]})]})})]})}},S.id)}),j.placeholder,"                "]})})]})}),g.length>0&&o.jsx("div",{className:"p-3 border-t border-gray-200",children:o.jsx("button",{onClick:U,disabled:f,className:`w-full py-2 px-3 rounded-lg text-white font-medium transition-colors text-sm ${f?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:f?"Enviando...":`Enviar Todos (${g.length})`})})]})},lN=({isOpen:e,onClose:t,message:r})=>{var s,i;if(!e||!r)return null;const n=a=>new Date(a).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mensaje Completo"}),"            ",o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium text-blue-600",children:r.host}),o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:"text-gray-700",children:r.messageType}),r.sentTimestamp&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsxs("span",{className:"text-gray-500",children:["Enviado: ",n(r.sentTimestamp)]})]})]})]}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:o.jsx(Tt,{size:20})})]}),o.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contenido del Mensaje:"}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:o.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap text-gray-800",children:r.content})})]}),r.responses&&r.responses.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Respuesta",(((s=r.responses)==null?void 0:s.length)||0)>1?"s":""," del Servidor:"]}),"                ",o.jsxs("div",{className:"space-y-3",children:["                ",(i=r.responses)==null?void 0:i.map((a,l)=>{var u;const c=co(a.message),p=qo(a.message),f=new Date(a.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:`p-4 rounded-lg border ${c?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex gap-2",children:[(((u=r.responses)==null?void 0:u.length)||0)>1&&o.jsxs("div",{className:`text-xs font-semibold ${c?"text-red-600":"text-green-600"}`,children:["Respuesta #",l+1]}),o.jsx("div",{className:`text-xs px-2 py-1 rounded ${p.format==="json"?"bg-blue-100 text-blue-700":p.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:p.format.toUpperCase()})]}),o.jsxs("div",{className:`text-xs ${c?"text-red-500":"text-green-500"}`,children:["Recibido: ",f]})]}),o.jsx("pre",{className:`text-xs font-mono whitespace-pre-wrap ${c?"text-red-800":"text-green-800"}`,children:p.content})]},l)})]})]})]})})]})})},cN=({isOpen:e,onClose:t,message:r,onSave:n,onSaveComment:s,onSaveControlId:i})=>{var D,T;const[a,l]=I.useState(""),[c,p]=I.useState(""),[f,u]=I.useState(""),[d,m]=I.useState(!1);I.useEffect(()=>{r&&(l(r.content),p(r.comment||""),u(r.messageControlId||""),m(!1))},[r]);const h=P=>{const O=P.target.value;l(O),m(O!==(r==null?void 0:r.content)||c!==((r==null?void 0:r.comment)||"")||f!==((r==null?void 0:r.messageControlId)||""))},y=P=>{const O=P.target.value;p(O),m(a!==(r==null?void 0:r.content)||O!==((r==null?void 0:r.comment)||"")||f!==((r==null?void 0:r.messageControlId)||""))},N=P=>{const O=P.target.value;u(O),m(a!==(r==null?void 0:r.content)||c!==((r==null?void 0:r.comment)||"")||O!==((r==null?void 0:r.messageControlId)||""))},v=()=>{r&&d&&(a!==r.content&&n(r.id,a),c!==(r.comment||"")&&s(r.id,c),f!==(r.messageControlId||"")&&i(r.id,f),t())},g=()=>{r&&(l(r.content),p(r.comment||""),u(r.messageControlId||""),m(!1))},x=P=>{P.ctrlKey&&P.key==="s"&&(P.preventDefault(),v()),P.key==="Escape"&&t()};if(!e||!r)return null;const b=!r.sentTimestamp,E=P=>(typeof P=="string"?new Date(P):P).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),w=r.responses&&r.responses.length>0?r.responses[r.responses.length-1].receiveTime:null;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:b?"Editar Mensaje":"Ver Mensaje (Solo Lectura)"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-blue-600",children:r.host}),o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:"text-gray-700",children:r.messageType}),r.sentTimestamp&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:"text-green-600 font-medium",children:"Enviado"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Creado:"}),o.jsx("span",{className:"ml-1 text-gray-700",children:E(r.timestamp)})]}),r.sentTimestamp&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Enviado:"}),o.jsx("span",{className:"ml-1 text-green-600 font-medium",children:E(r.sentTimestamp)})]}),w&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"ltima respuesta:"}),o.jsx("span",{className:"ml-1 text-purple-600 font-medium",children:E(w)})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[b&&d&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:g,className:"p-2 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Resetear cambios",children:o.jsx(Tl,{size:18})}),o.jsx("button",{onClick:v,className:"p-2 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Guardar cambios (Ctrl+S)",children:o.jsx(Do,{size:18})})]}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:o.jsx(Tt,{size:20})})]})]}),"        ",o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Contenido del Mensaje:"}),b&&o.jsx("div",{className:"text-xs text-gray-500",children:"Usa Ctrl+S para guardar  Esc para cerrar"})]}),b?o.jsx("textarea",{value:a,onChange:h,onKeyDown:x,className:"w-full h-96 p-4 bg-gray-50 border border-gray-300 rounded-lg font-mono text-xs resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contenido del mensaje...",autoFocus:!0}):o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border h-96 overflow-y-auto",children:o.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap text-gray-800",children:r.content})}),b&&d&&o.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:o.jsxs("p",{className:"text-sm text-yellow-800",children:[o.jsx("span",{className:"font-medium",children:"Cambios sin guardar"})," - Presiona Ctrl+S para guardar o el botn de resetear para descartar."]})}),!b&&o.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("span",{className:"font-medium",children:"Mensaje enviado"})," - Este mensaje ya fue enviado y no puede ser modificado."]})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Comentarios:"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Los comentarios aparecern como tooltips en la barra lateral"})]}),o.jsx("textarea",{value:c,onChange:y,onKeyDown:x,className:"w-full h-20 p-3 bg-gray-50 border border-gray-300 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Agrega un comentario para este mensaje (opcional)..."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Control ID:"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Identificador nico para el mensaje (opcional)"})]}),o.jsx("input",{type:"text",value:f,onChange:N,onKeyDown:x,className:"w-full h-10 px-3 bg-gray-50 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ingresa un Control ID personalizado (opcional)..."})]}),r.responses&&r.responses.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Respuesta",(((D=r.responses)==null?void 0:D.length)||0)>1?"s":""," del Servidor:"]}),"                ",o.jsx("div",{className:"space-y-3",children:(T=r.responses)==null?void 0:T.map((P,O)=>{var Y;const U=P.message.includes("ERR|"),X=new Date(P.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:`p-4 rounded-lg border ${U?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[(((Y=r.responses)==null?void 0:Y.length)||0)>1&&o.jsxs("div",{className:`text-xs font-semibold ${U?"text-red-600":"text-green-600"}`,children:["Respuesta #",O+1]}),o.jsxs("div",{className:`text-xs ${U?"text-red-500":"text-green-500"}`,children:["Recibido: ",X]})]}),o.jsx("pre",{className:`text-xs font-mono whitespace-pre-wrap ${U?"text-red-800":"text-green-800"}`,children:P.message})]},O)})})]})]})}),"        ",b&&o.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Los cambios se guardarn automticamente al cerrar si hay modificaciones."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:v,disabled:!d,className:`px-4 py-2 rounded-lg transition-colors ${d?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Guardar Cambios"})]})]})]})})},Or=class Or{constructor(){ce(this,"state");ce(this,"callbacks",new Set);this.state={isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1,isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1,isSidebarOpen:!1,isServerSidebarOpen:!1,isMessageSaved:!1,messageCopied:!1,error:null}}static getInstance(){return Or.instance||(Or.instance=new Or),Or.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}togglePatientModal(){this.updateState({isPatientModalOpen:!this.state.isPatientModalOpen})}togglePhysicianModal(){this.updateState({isPhysicianModalOpen:!this.state.isPhysicianModalOpen})}togglePathologistModal(){this.updateState({isPathologistModalOpen:!this.state.isPathologistModalOpen})}toggleHierarchyModal(){this.updateState({isHierarchyModalOpen:!this.state.isHierarchyModalOpen})}toggleTechnicianModal(){this.updateState({isTechnicianModalOpen:!this.state.isTechnicianModalOpen})}toggleSpecimenSelectorModal(){this.updateState({isSpecimenSelectorModalOpen:!this.state.isSpecimenSelectorModalOpen})}toggleBlockSelectorModal(){this.updateState({isBlockSelectorModalOpen:!this.state.isBlockSelectorModalOpen})}toggleSlideSelectorModal(){this.updateState({isSlideSelectorModalOpen:!this.state.isSlideSelectorModalOpen})}toggleEntitySelectorModal(){this.updateState({isEntitySelectorModalOpen:!this.state.isEntitySelectorModalOpen})}setFetchingData(t){this.updateState({isFetchingData:t})}setGeneratingMessage(t){this.updateState({isGeneratingMessage:t})}setSendingMessage(t){this.updateState({isSendingMessage:t})}setSendingAll(t){this.updateState({isSendingAll:t})}setClearingAll(t){this.updateState({isClearingAll:t})}toggleSidebar(){this.updateState({isSidebarOpen:!this.state.isSidebarOpen})}toggleServerSidebar(){this.updateState({isServerSidebarOpen:!this.state.isServerSidebarOpen})}setMessageSaved(t){this.updateState({isMessageSaved:t}),t&&setTimeout(()=>{this.updateState({isMessageSaved:!1})},1500)}setMessageCopied(t){this.updateState({messageCopied:t}),t&&setTimeout(()=>{this.updateState({messageCopied:!1})},2e3)}setError(t){this.updateState({error:t})}clearError(){this.updateState({error:null})}closeAllModals(){this.updateState({isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1})}resetLoadingStates(){this.updateState({isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1})}resetAllStates(){this.state={isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1,isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1,isSidebarOpen:!1,isServerSidebarOpen:!1,isMessageSaved:!1,messageCopied:!1,error:null},this.notifySubscribers()}};ce(Or,"instance");let zl=Or;const te=zl.getInstance(),Oe=[{id:"IN_PROGRESS",name:"IN_PROGRESS",description:"Work in progress"},{id:"SIGN_OUT",name:"SIGN_OUT",description:"Signed out"},{id:"ADDEND",name:"ADDEND",description:"Addendum"},{id:"AMEND",name:"AMEND",description:"Amendment"},{id:"CANCEL",name:"CANCEL",description:"Cancelled"}],$l=[{id:"EMBEDDED",name:"EMBEDDED",description:"Embedded"},{id:"MARKED",name:"MARKED",description:"Marked"},{id:"VERIFIED",name:"VERIFIED",description:"Verified"},{id:"ASSEMBLED",name:"ASSEMBLED",description:"Assembled"},{id:"ASSIGNED",name:"ASSIGNED",description:"Assigned"},{id:"ADDITION",name:"ADDITION",description:"Addition"},{id:"CANCELED",name:"CANCELED",description:"Canceled"}],uN=[{id:"SCANNED",name:"SCANNED",description:"Slide has been scanned"},{id:"SCANNED_ERROR",name:"SCANNED_ERROR",description:"Error during scanning"},{id:"TRANSFER_OK",name:"TRANSFER_OK",description:"Transfer completed successfully"},{id:"TRANSFER_ERROR",name:"TRANSFER_ERROR",description:"Error during transfer"},{id:"PRESCAN_OK",name:"PRESCAN_OK",description:"Prescan completed successfully"},{id:"PRESCAN_ERROR",name:"PRESCAN_ERROR",description:"Error during prescan"},{id:"PRESCAN_QC",name:"PRESCAN_QC",description:"Prescan quality control"},{id:"SCAN_SCHEDULED",name:"SCAN_SCHEDULED",description:"Scan has been scheduled"},{id:"SCAN_ISSUE",name:"SCAN_ISSUE",description:"Issue with scan"},{id:"SCAN_QC",name:"SCAN_QC",description:"Scan quality control"}],yp=[{id:"SlideStaining",name:"SlideStaining",description:"Slide is being stained"},{id:"SlideStained",name:"SlideStained",description:"Slide has been stained"}],kr=[{id:"LIS",name:"LIS",messageTypes:[{id:"OML21",name:"OML21"},{id:"ADTA28",name:"ADTA28"},{id:"ADTA08",name:"ADTA08"},{id:"CASE_UPDATE",name:"CASE_UPDATE",requiresStatusSelector:!0,statusOptions:Oe},{id:"DELETE_CASE",name:"DELETE_CASE"},{id:"DELETE_SPECIMEN",name:"DELETE_SPECIMEN",requiresSpecimenSelector:!0},{id:"DELETE_SLIDE",name:"DELETE_SLIDE",requiresSlideSelector:!0}],statusOptions:Oe},{id:"VTG",name:"VTG",messageTypes:[{id:"OEWF",name:"OEWF"},{id:"ADDITION",name:"ADDITION",requiresSpecimenSelector:!0},{id:"SPECIMEN_UPDATE",name:"SPECIMEN_UPDATE",requiresSpecimenSelector:!0,requiresStatusSelector:!0,statusOptions:Oe},{id:"BLOCK_UPDATE",name:"BLOCK_UPDATE",requiresSpecimenSelector:!0,requiresBlockSelector:!0,requiresStatusSelector:!0,statusOptions:Oe},{id:"SLIDE_UPDATE",name:"SLIDE_UPDATE",requiresSpecimenSelector:!0,requiresBlockSelector:!0,requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:Oe}],statusOptions:Oe},{id:"VANTAGE WS",name:"VANTAGE WS",messageTypes:[{id:"ProcessVANTAGEEvent",name:"ProcessVANTAGEEvent",requiresEntitySelector:!0,requiresStatusSelector:!0,statusOptions:$l},{id:"ProcessNewOrderRequest",name:"ProcessNewOrderRequest"},{id:"ProcessChangeOrderRequest",name:"ProcessChangeOrderRequest"},{id:"ProcessCancelOrderRequest",name:"ProcessCancelOrderRequest"},{id:"ProcessNewOrder",name:"ProcessNewOrder"},{id:"ProcessChangeOrder",name:"ProcessChangeOrder"},{id:"ProcessCancelOrder",name:"ProcessCancelOrder"},{id:"ProcessAssignedPathologistUpdate",name:"ProcessAssignedPathologistUpdate"},{id:"ProcessPhysicianUpdate",name:"ProcessPhysicianUpdate"},{id:"ProcessPatientUpdate",name:"ProcessPatientUpdate"},{id:"ProcessApplicationACK",name:"ProcessApplicationACK"}],statusOptions:$l},{id:"UPATH CLOUD",name:"UPATH CLOUD",messageTypes:[{id:"sendScannedSlideImageLabelId",name:"sendScannedSlideImageLabelId",requiresSlideSelector:!0},{id:"sendReleasedSpecimen",name:"sendReleasedSpecimen",requiresSpecimenSelector:!0},{id:"sendSlideWSAData",name:"sendSlideWSAData",requiresSlideSelector:!0,requiresEntitySelector:!0,requiresStatusSelector:!0,statusOptions:Oe},{id:"BLOCK_UPDATE",name:"BLOCK_UPDATE"},{id:"SLIDE_UPDATE",name:"SLIDE_UPDATE"}],statusOptions:Oe},{id:"DP600",name:"DP600",messageTypes:[{id:"sendScannedSlideImageLabelId",name:"sendScannedSlideImageLabelId",requiresSlideSelector:!0},{id:"sendUpdatedSlideStatus",name:"sendUpdatedSlideStatus",requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:uN}],statusOptions:Oe},{id:"AUTOMATION_SW",name:"AUTOMATION SOFTWARE",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS UPDATE",requiresEntitySelector:!0}],statusOptions:Oe},{id:"HISTOBOT",name:"HISTOBOT",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS_UPDATE",requiresEntitySelector:!0}],statusOptions:Oe},{id:"HISTOBOT_SENSITIVE_DATA",name:"HISTOBOT_SENSITIVE_DATA",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS_UPDATE",requiresEntitySelector:!0}],statusOptions:Oe},{id:"LIS_HL7",name:"LIS_HL7",messageTypes:[{id:"OML21",name:"OML21"},{id:"ADTA28",name:"ADTA28"},{id:"ADTA08",name:"ADTA08"},{id:"CASE_UPDATE",name:"CASE_UPDATE",requiresStatusSelector:!0,statusOptions:Oe},{id:"DELETE_CASE",name:"DELETE_CASE"},{id:"DELETE_SPECIMEN",name:"DELETE_SPECIMEN",requiresSpecimenSelector:!0},{id:"DELETE_SLIDE",name:"DELETE_SLIDE",requiresSlideSelector:!0}],statusOptions:Oe},{id:"VSS",name:"VSS",messageTypes:[{id:"UpdateSlideStatus",name:"UpdateSlideStatus",requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:yp}],statusOptions:yp}];class wt{static getHostConfig(t){let r=kr.find(n=>n.id===t);if(r)return r;if(t.startsWith("histobot")||t.includes("HISTOBOT")){const n=kr.find(s=>s.id==="HISTOBOT");if(n)return{...n,id:t,name:t}}if(t.includes("LIS")){const n=kr.find(s=>s.id==="LIS_HL7");if(n)return{...n,id:t,name:t}}if(t.includes("VTG")){const n=kr.find(s=>s.id==="VTG");if(n)return{...n,id:t,name:t}}if(t.includes("VSS")){const n=kr.find(s=>s.id==="VSS");if(n)return{...n,id:t,name:t}}if(t.includes("DP600")){const n=kr.find(s=>s.id==="DP600");if(n)return{...n,id:t,name:t}}return{id:t,name:t,messageTypes:[{id:"GENERIC_MESSAGE",name:"Generic Message"}],statusOptions:Oe}}static getMessageTypeConfig(t,r){const n=this.getHostConfig(t);return n==null?void 0:n.messageTypes.find(s=>s.id===r)}static getHostOptions(){return kr.map(t=>({id:t.id,name:t.name}))}static getMessageTypesForHost(t){const r=this.getHostConfig(t);return(r==null?void 0:r.messageTypes)||[]}static getStatusOptions(t,r){if(r){const s=this.getMessageTypeConfig(t,r);if(s!=null&&s.statusOptions)return s.statusOptions}const n=this.getHostConfig(t);return(n==null?void 0:n.statusOptions)||Oe}static shouldShowSpecimenSelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresSpecimenSelector)||(s==null?void 0:s.requiresSpecimenSelector)||!1}static shouldShowBlockSelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresBlockSelector)||(s==null?void 0:s.requiresBlockSelector)||!1}static shouldShowSlideSelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresSlideSelector)||(s==null?void 0:s.requiresSlideSelector)||!1}static shouldShowEntitySelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresEntitySelector)||(s==null?void 0:s.requiresEntitySelector)||!1}static shouldShowStatusSelector(t,r){const n=this.getMessageTypeConfig(t,r);return(n==null?void 0:n.requiresStatusSelector)||!1}static getSelectorRequirements(t,r){return{showSpecimenSelector:this.shouldShowSpecimenSelector(t,r),showBlockSelector:this.shouldShowBlockSelector(t,r),showSlideSelector:this.shouldShowSlideSelector(t,r),showEntitySelector:this.shouldShowEntitySelector(t,r),showStatusSelector:this.shouldShowStatusSelector(t,r)}}}const Lr=class Lr{constructor(){ce(this,"state");ce(this,"callbacks",new Set);this.state={sampleId:"",selectedHost:"",selectedType:"",selectedStatus:"IN_PROGRESS",message:null,generatedMessage:"",currentMessageControlId:void 0,sendResponse:[],patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,availableReagents:[],selectedSlideReagents:[],messageTypes:[],dynamicHosts:[],isLoadingHosts:!1},this.initializeDefaultReagents(),this.initializeDynamicHosts()}get hosts(){return this.state.dynamicHosts.length>0?this.state.dynamicHosts:wt.getHostOptions()}get statusOptions(){return Oe}get statusVTGWSOptions(){return $l}getCurrentStatusOptions(){const{selectedHost:t,selectedType:r}=this.state;return wt.getStatusOptions(t,r)}async initializeDynamicHosts(){this.updateState({isLoadingHosts:!0});try{await nr.initialize();const r=nr.getCachedHosts().map(n=>({id:n,name:n}));if(this.updateState({dynamicHosts:r,isLoadingHosts:!1}),this.state.selectedHost&&!nr.hostExists(this.state.selectedHost)){const n=nr.migrateHost(this.state.selectedHost);n!==this.state.selectedHost&&(console.log(`Migrando host ${this.state.selectedHost}  ${n}`),this.setSelectedHost(n))}}catch(t){console.error("Error inicializando hosts dinmicos:",t),this.updateState({isLoadingHosts:!1})}}initializeDefaultReagents(){const t=[{substanceName:"Hematoxylin & Eosin",substanceOtherName:"H&E Stain",substanceType:"Stain",manufacturer:"Sigma-Aldrich",lotNumber:"HE2024001",lotSerialNumber:"SN-HE-001",catalogNumber:"CAT-HE-2024",intendedUseFlag:"Routine Staining",expirationDateTime:"2025-12-31T23:59:59",receivedDateTime:"2024-01-15T08:00:00"}];this.updateState({availableReagents:t})}static getInstance(){return Lr.instance||(Lr.instance=new Lr),Lr.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}setSampleId(t){this.updateState({sampleId:t})}setSelectedHost(t){const r=wt.getMessageTypesForHost(t),n="IN_PROGRESS";this.updateState({selectedHost:t,selectedType:"",selectedStatus:n,messageTypes:r,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null})}setSelectedType(t){const r=wt.getStatusOptions(this.state.selectedHost,t),n=r.length>0?r[0].id:"IN_PROGRESS";this.updateState({selectedType:t,selectedStatus:n,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null})}setSelectedStatus(t){this.updateState({selectedStatus:t})}setMessage(t){var r,n,s,i,a,l,c,p;this.updateState({message:t}),t&&this.updateState({patientInfo:t.patient||null,physicianInfo:t.physician||null,pathologistInfo:((i=(s=(n=(r=t.patient)==null?void 0:r.orders)==null?void 0:n.orderList)==null?void 0:s[0])==null?void 0:i.pathologist)||null,technicianInfo:((p=(c=(l=(a=t.patient)==null?void 0:a.orders)==null?void 0:l.orderList)==null?void 0:c[0])==null?void 0:p.technician)||null})}setGeneratedMessage(t){this.updateState({generatedMessage:t})}setCurrentMessageControlId(t){this.updateState({currentMessageControlId:t})}setSendResponse(t){this.updateState({sendResponse:t})}clearSendResponse(){this.updateState({sendResponse:[]})}setPatientInfo(t){if(this.updateState({patientInfo:t}),this.state.message){const r={...this.state.message,patient:t};this.updateState({message:r})}}setPhysicianInfo(t){if(this.updateState({physicianInfo:t}),this.state.message){const r={...this.state.message,physician:t};this.updateState({message:r})}}setPathologistInfo(t){var r,n,s,i;if(this.updateState({pathologistInfo:t}),(s=(n=(r=this.state.message)==null?void 0:r.patient)==null?void 0:n.orders)!=null&&s.orderList){const a={...this.state.message};(i=a.patient)!=null&&i.orders&&(a.patient.orders.orderList=a.patient.orders.orderList.map(l=>({...l,pathologist:t}))),this.updateState({message:a})}}setTechnicianInfo(t){var r,n,s,i;if(this.updateState({technicianInfo:t}),(s=(n=(r=this.state.message)==null?void 0:r.patient)==null?void 0:n.orders)!=null&&s.orderList){const a={...this.state.message};(i=a.patient)!=null&&i.orders&&(a.patient.orders.orderList=a.patient.orders.orderList.map(l=>({...l,technician:t}))),this.updateState({message:a})}}setSelectedSpecimen(t){this.updateState({selectedSpecimen:t})}setSelectedBlock(t){this.updateState({selectedBlock:t})}setSelectedSlide(t){const r=(t==null?void 0:t.reagents)||[];this.updateState({selectedSlide:t,selectedSlideReagents:r})}setSelectedEntity(t,r){t==="Specimen"?this.updateState({selectedSpecimen:r,selectedBlock:null,selectedSlide:null,selectedEntity:{type:t,id:r.id}}):t==="Block"?this.updateState({selectedSpecimen:null,selectedBlock:r,selectedSlide:null,selectedEntity:{type:t,id:r.id}}):t==="Slide"?this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:r,selectedEntity:{type:t,id:r.id}}):t==="Order"&&this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:{type:t,id:r.sampleId}})}setAvailableReagents(t){this.updateState({availableReagents:t})}addReagentToSlide(t){const r=this.state.selectedSlideReagents;r.find(n=>n.substanceName===t.substanceName&&n.lotNumber===t.lotNumber)||this.updateState({selectedSlideReagents:[...r,t]})}removeReagentFromSlide(t){const r=this.state.selectedSlideReagents,n=t.split("-"),s=parseInt(n[n.length-1]);this.updateState({selectedSlideReagents:r.filter((i,a)=>a!==s)})}clearSlideReagents(){this.updateState({selectedSlideReagents:[]})}getAvailableReagents(){return this.state.availableReagents}getSelectedSlideReagents(){return this.state.selectedSlideReagents}updateSelectedSlideWithReagents(){if(this.state.selectedSlide&&this.state.selectedSlideReagents.length>0){const t={...this.state.selectedSlide,reagents:this.state.selectedSlideReagents};this.updateState({selectedSlide:t})}}getShowSpecimenSelector(){const{selectedHost:t,selectedType:r}=this.state;return wt.shouldShowSpecimenSelector(t,r)}getShowBlockSelector(){const{selectedHost:t,selectedType:r}=this.state;return wt.shouldShowBlockSelector(t,r)}getShowSlideSelector(){const{selectedHost:t,selectedType:r}=this.state;return wt.shouldShowSlideSelector(t,r)}getShowEntitySelector(){const{selectedHost:t,selectedType:r}=this.state;return wt.shouldShowEntitySelector(t,r)}getShowStatusSelector(){const{selectedHost:t,selectedType:r}=this.state;return wt.shouldShowStatusSelector(t,r)}isGenerateButtonDisabled(t,r){const{selectedHost:n,selectedType:s,selectedSpecimen:i,selectedSlide:a,selectedBlock:l,selectedEntity:c}=this.state;return r||!n||!s||t||this.getShowSpecimenSelector()&&!i||this.getShowSlideSelector()&&!a||this.getShowBlockSelector()&&!l||this.getShowEntitySelector()&&!c}clearAllSelections(){this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,selectedSlideReagents:[]})}clearEntityInformation(){this.updateState({patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null})}resetFormState(){this.state={sampleId:"",selectedHost:"",selectedType:"",selectedStatus:"IN_PROGRESS",message:null,generatedMessage:"",currentMessageControlId:void 0,sendResponse:[],patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,availableReagents:this.state.availableReagents,selectedSlideReagents:[],messageTypes:[],dynamicHosts:this.state.dynamicHosts,isLoadingHosts:this.state.isLoadingHosts},this.notifySubscribers()}async refreshHosts(){await this.initializeDynamicHosts()}get isLoadingHosts(){return this.state.isLoadingHosts}migrateHostIfNeeded(t){return nr.migrateHost(t)}};ce(Lr,"instance");let Ul=Lr;const Z=Ul.getInstance(),Ar=class Ar{constructor(){ce(this,"updateCallbacks",[]);this.setupPollingForUpdates(),this.setupGlobalUpdateListener()}static getInstance(){return Ar.instance||(Ar.instance=new Ar),Ar.instance}registerUpdateCallback(t){this.updateCallbacks.push(t),console.log(" Registered update callback. Total callbacks:",this.updateCallbacks.length)}unregisterUpdateCallback(t){this.updateCallbacks=this.updateCallbacks.filter(r=>r!==t),console.log(" Unregistered update callback. Total callbacks:",this.updateCallbacks.length)}notifyCallbacks(t,r){if(console.log(` Notifying ${this.updateCallbacks.length} callbacks for controlId: ${t}`,r),this.updateCallbacks.length===0){console.warn("  No callbacks registered to receive updates!");return}this.updateCallbacks.forEach((n,s)=>{try{console.log(` Calling callback ${s+1}/${this.updateCallbacks.length} for controlId: ${t}`),n(t,r),console.log(` Callback ${s+1} executed successfully`)}catch(i){console.error(` Error calling callback ${s+1}:`,i)}})}updateResponses(t,r){console.log(" updateResponses called for controlId:",t,"with",r.length,"responses");const n=r.map(s=>typeof s=="string"?{message:s,receiveTime:new Date().toISOString()}:s);console.log(" Notifying callbacks for controlId:",t,"with converted responses:",n),this.notifyCallbacks(t,n)}setupPollingForUpdates(){console.log(" Setting up polling for message updates..."),setInterval(()=>{try{if(typeof globalThis<"u"&&globalThis.messageUpdates){const t=globalThis.messageUpdates,r=Object.keys(t);r.length>0&&(console.log(" Polling found updates for controlIds:",r),r.forEach(n=>{const s=t[n];s&&Array.isArray(s)&&(console.log(" Processing polled update for controlId:",n,s),this.updateResponses(n,s),delete t[n])}))}if(typeof window<"u"&&window.messageUpdates){const t=window.messageUpdates,r=Object.keys(t);r.length>0&&(console.log(" Polling found window updates for controlIds:",r),r.forEach(n=>{const s=t[n];s&&Array.isArray(s)&&(console.log(" Processing window update for controlId:",n,s),this.updateResponses(n,s),delete t[n])}))}}catch(t){console.error(" Error in polling for updates:",t)}},500)}setupGlobalUpdateListener(){console.log(" Setting up global update listeners..."),window.updateMessageResponses=(t,r)=>{console.log(" Global update function called for controlId:",t,r),this.updateResponses(t,r)},window.addEventListener("messageUpdate",t=>{const{controlId:r,responses:n}=t.detail;r&&n&&(console.log(" Received messageUpdate event for controlId:",r,n),this.updateResponses(r,n))}),console.log(" Global update listeners set up successfully")}};ce(Ar,"instance");let Hl=Ar;const bp=Hl.getInstance(),dN=()=>{const[e,t]=I.useState(te.getState()),[r,n]=I.useState(Z.getState()),[s,i]=I.useState(Me.getMessages()),[a,l]=I.useState(Ce.getState());I.useEffect(()=>{const C=te.subscribe(t),z=Z.subscribe(n),ee=Me.subscribe(i),ie=Ce.subscribe(l),Re=(tt,Ge)=>{console.log(`handleMessageUpdate called with controlId: ${tt}`,Ge),Me.updateMessageResponses(tt,Ge),pe.updateMessageResponses(tt,Ge),Z.getState().currentMessageControlId===tt&&(console.log("Updating main form sendResponse because controlId matches current message"),Z.setSendResponse(Ge))};return console.log("Registering message update callback"),bp.registerUpdateCallback(Re),()=>{C(),z(),ee(),ie(),console.log("Unregistering message update callback"),bp.unregisterUpdateCallback(Re)}},[]);const c=async C=>{const z=C.target.value;Z.setSampleId(z),setTimeout(async()=>{z.trim()===Z.getState().sampleId&&(z.trim()?await b(z):(Z.setMessage(null),Z.clearEntityInformation(),te.setFetchingData(!1)))},500)},p=C=>{Z.setSelectedHost(C.target.value)},f=C=>{Z.setSelectedType(C.target.value)},u=C=>{Z.setSelectedStatus(C.target.value)},d=C=>{Z.setPatientInfo(C)},m=C=>{Z.setPhysicianInfo(C)},h=C=>{Z.setPathologistInfo(C)},y=C=>{Z.setTechnicianInfo(C)},N=C=>{Z.setSelectedSpecimen(C)},v=C=>{Z.setSelectedBlock(C)},g=C=>{Z.setSelectedSlide(C)},x=(C,z)=>{Z.setSelectedEntity(C,z)},b=async C=>{if(!C){te.setFetchingData(!1);return}try{te.setFetchingData(!0),te.clearError();const z=await $r.fetchMessageData(C);Z.setMessage(z)}catch(z){console.error("Error fetching data:",z),te.setError("Error al obtener los datos. Por favor intente nuevamente.")}finally{te.setFetchingData(!1)}},E=async()=>{const C=Z.getState();if(!C.sampleId||!C.selectedType){Z.setGeneratedMessage("Por favor, completa todos los campos.");return}if(C.selectedHost==="LIS"&&C.selectedType==="DELETE_SPECIMEN"&&!C.selectedSpecimen||C.selectedHost==="UPATH_CLOUD"&&C.selectedType==="sendReleasedSpecimen"&&!C.selectedSpecimen){Z.setGeneratedMessage("Por favor, selecciona un specimen para eliminar.");return}if(C.selectedHost==="LIS"&&C.selectedType==="DELETE_SLIDE"&&!C.selectedSlide||C.selectedHost==="UPATH_CLOUD"&&C.selectedType==="sendScannedSlideImageLabelId"&&!C.selectedSlide||C.selectedHost==="DP600"&&C.selectedType==="sendScannedSlideImageLabelId"&&!C.selectedSlide||C.selectedHost==="DP600"&&C.selectedType==="sendUpdatedSlideStatus"&&!C.selectedSlide||C.selectedHost==="VANTAGE_WS"&&C.selectedType==="ProcessVANTAGEEvent"&&!C.selectedEntity){Z.setGeneratedMessage("Por favor, selecciona una entidad para procesar.");return}if(C.selectedHost==="DP600"&&C.selectedType==="sendUpdatedSlideStatus"&&!C.selectedStatus){Z.setGeneratedMessage("Por favor, selecciona un status para el slide.");return}try{te.setGeneratingMessage(!0),te.clearError(),Z.clearSendResponse(),Z.updateSelectedSlideWithReagents();const z=wt.getHostConfig(C.selectedHost),ee=(z==null?void 0:z.name)||C.selectedHost;let ie=nr.getClientType(C.selectedHost);ie||(ie=z==null?void 0:z.id),ie||(ie=C.selectedHost),console.log(`Sending message with hostName: ${ee}, hostType: ${ie} (from clientType)`);const Re=await $r.generateMessage(C.message,C.selectedType,ee,ie,Z.getShowStatusSelector()?C.selectedStatus:void 0,C.selectedSpecimen||void 0,C.selectedBlock||void 0,C.selectedSlide||void 0,C.selectedEntity||void 0);Z.setGeneratedMessage(Re.message),Z.setCurrentMessageControlId(Re.controlId)}catch(z){console.error("Error generating message:",z),te.setError("Error al generar mensaje. Por favor intente nuevamente."),Z.setGeneratedMessage("")}finally{te.setGeneratingMessage(!1)}},w=async()=>{const C=Z.getState();if(!C.generatedMessage||!C.selectedHost||!C.selectedType){te.setError("No hay mensaje para enviar o faltan datos.");return}try{te.setSendingMessage(!0),te.clearError();const z=await $r.sendMessage({message:C.generatedMessage,hostName:C.selectedHost,messageType:C.selectedType,controlId:C.currentMessageControlId});Z.setSendResponse(z),console.log("Mensaje enviado exitosamente")}catch(z){console.error("Error sending message:",z),te.setError("Error al enviar mensaje. Por favor intente nuevamente.")}finally{te.setSendingMessage(!1)}},D=()=>{const C=Z.getState();C.generatedMessage&&navigator.clipboard.writeText(C.generatedMessage).then(()=>{te.setMessageCopied(!0)}).catch(z=>{console.error("Error al copiar: ",z)})},T=C=>{Z.setGeneratedMessage(C)},P=()=>{const C=Z.getState();if(!C.generatedMessage||!C.selectedHost||!C.selectedType){te.setError("No hay mensaje para guardar o faltan datos.");return}pe.addMessage(C.generatedMessage,C.selectedHost,C.selectedType,C.currentMessageControlId),te.setMessageSaved(!0),Ce.showSuccess("Mensaje guardado exitosamente")},O=C=>{Me.removeMessage(C)},U=async()=>{try{te.setClearingAll(!0),await $r.deleteAllMessages(),Me.clearAllResponses(),Ce.showSuccess("Deleted all messages from monitoring. All acks deleted successfully")}catch(C){console.error("Error calling deleteAll endpoint:",C),Me.clearAllResponses(),Ce.showWarning("Ack deleted (Server error)")}finally{te.setClearingAll(!1)}},X=C=>{Me.clearMessageResponses(C),Ce.showInfo("All messages deleted successfully")},Y=(C,z)=>{Me.reorderMessages(C,z)},K=async C=>{try{const z=await Me.sendMessage(C);console.log("Mensaje guardado enviado exitosamente:",z)}catch(z){console.error("Error sending saved message:",z),te.setError("Error al enviar mensaje guardado.")}},A=async()=>{if(s.length===0){te.setError("No hay mensajes guardados para enviar.");return}try{te.setSendingAll(!0),te.clearError();for(const C of s)await K(C);console.log("Todos los mensajes enviados exitosamente")}catch(C){console.error("Error sending all messages:",C),te.setError("Error al enviar todos los mensajes.")}finally{te.setSendingAll(!1)}},B=(C,z)=>{const ee=z.map(ie=>({message:ie,receiveTime:new Date().toISOString()}));Me.updateMessageResponses(C,ee)},j=(C,z)=>{Me.updateMessageContent(C,z),Ce.showSuccess("Mensaje actualizado exitosamente")},S=(C,z)=>{Me.updateMessageComment(C,z),Ce.showSuccess("Comentario actualizado exitosamente")},k=(C,z)=>{Me.updateMessageControlId(C,z),Ce.showSuccess("Control ID actualizado exitosamente")},M=()=>{try{const C=Me.exportMessages(),z=new Blob([C],{type:"application/json"}),ee=URL.createObjectURL(z),ie=document.createElement("a");ie.href=ee,ie.download=`saved-messages-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),URL.revokeObjectURL(ee),Ce.showSuccess("Mensajes exportados exitosamente")}catch(C){console.error("Error exporting messages:",C),Ce.showError("Error al exportar mensajes")}},$=()=>{const C=document.createElement("input");C.type="file",C.accept=".json",C.onchange=z=>{var ie;const ee=(ie=z.target.files)==null?void 0:ie[0];if(ee){const Re=new FileReader;Re.onload=tt=>{var Ge;try{const Pt=(Ge=tt.target)==null?void 0:Ge.result,Mt=Me.importMessages(Pt);Mt.success?Ce.showSuccess(Mt.message):Ce.showError(Mt.message)}catch(Pt){console.error("Error importing messages:",Pt),Ce.showError("Error al importar mensajes")}},Re.readAsText(ee)}},C.click()},R=Z.getShowSpecimenSelector(),H=Z.getShowBlockSelector(),G=Z.getShowSlideSelector(),V=Z.getShowEntitySelector(),_=Z.getShowStatusSelector(),q=Z.isGenerateButtonDisabled(e.isFetchingData,e.isGeneratingMessage);return{message:r.message,sampleId:r.sampleId,selectedHost:r.selectedHost,selectedType:r.selectedType,selectedStatus:r.selectedStatus,generatedMessage:r.generatedMessage,patientInfo:r.patientInfo,physicianInfo:r.physicianInfo,pathologistInfo:r.pathologistInfo,technicianInfo:r.technicianInfo,selectedSpecimen:r.selectedSpecimen,selectedBlock:r.selectedBlock,selectedSlide:r.selectedSlide,selectedEntity:r.selectedEntity,sendResponse:r.sendResponse,messageCopied:e.messageCopied,isPatientModalOpen:e.isPatientModalOpen,isPhysicianModalOpen:e.isPhysicianModalOpen,isPathologistModalOpen:e.isPathologistModalOpen,isHierarchyModalOpen:e.isHierarchyModalOpen,isFetchingData:e.isFetchingData,isGeneratingMessage:e.isGeneratingMessage,isSendingMessage:e.isSendingMessage,error:e.error,isTechnicianModalOpen:e.isTechnicianModalOpen,isSpecimenSelectorModalOpen:e.isSpecimenSelectorModalOpen,isBlockSelectorModalOpen:e.isBlockSelectorModalOpen,isSlideSelectorModalOpen:e.isSlideSelectorModalOpen,isEntitySelectorModalOpen:e.isEntitySelectorModalOpen,isSidebarOpen:e.isSidebarOpen,isServerSidebarOpen:e.isServerSidebarOpen,isSendingAll:e.isSendingAll,isClearingAll:e.isClearingAll,isMessageSaved:e.isMessageSaved,hosts:Z.hosts,isLoadingHosts:Z.isLoadingHosts,messageTypes:r.messageTypes,showSpecimenSelector:R,showBlockSelector:H,showSlideSelector:G,showEntitySelector:V,showStatusSelector:_,generateButtonDisabled:q,savedMessages:s,snackbar:a,closeSnackbar:()=>Ce.close(),handleSampleIdChange:c,handleHostChange:p,handleTypeChange:f,handleStatusChange:u,handlePatientInfoSave:d,handlePhysicianInfoSave:m,handlePathologistInfoSave:h,handleTechnicianInfoSave:y,handleSpecimenSelect:N,handleBlockSelect:v,handleSlideSelect:g,handleEntitySelect:x,togglePatientModal:()=>te.togglePatientModal(),togglePhysicianModal:()=>te.togglePhysicianModal(),togglePathologistModal:()=>te.togglePathologistModal(),toggleHierarchyModal:()=>te.toggleHierarchyModal(),toggleTechnicianModal:()=>te.toggleTechnicianModal(),toggleSpecimenSelectorModal:()=>te.toggleSpecimenSelectorModal(),toggleBlockSelectorModal:()=>te.toggleBlockSelectorModal(),toggleSlideSelectorModal:()=>te.toggleSlideSelectorModal(),toggleEntitySelectorModal:()=>te.toggleEntitySelectorModal(),toggleSidebar:()=>te.toggleSidebar(),toggleServerSidebar:()=>te.toggleServerSidebar(),generateMessage:E,sendMessage:w,copyToClipboard:D,updateGeneratedMessage:T,saveMessageToSidebar:P,removeSavedMessage:O,clearAllResponses:U,clearMessageResponses:X,reorderSavedMessages:Y,sendSavedMessage:K,sendAllSavedMessages:A,updateMessageResponses:B,updateMessageContent:j,updateMessageComment:S,updateMessageControlId:k,exportMessages:M,importMessages:$}},pN=({isSidebarOpen:e,isServerSidebarOpen:t,isMessageSaved:r,onToggleSidebar:n,onToggleServerSidebar:s,children:i})=>o.jsx("div",{className:"flex min-h-screen bg-gray-100",children:o.jsx("div",{className:`flex-1 transition-all duration-300 ${e?"mr-96":""} ${t?"ml-96":""}`,children:o.jsxs("div",{className:"max-w-4xl mx-auto my-8 p-8 bg-white rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Message Generator"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:s,className:`p-2 rounded-lg transition-colors ${t?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,title:"Server Management",children:o.jsx(hx,{size:24})}),o.jsx("button",{onClick:n,className:`p-2 rounded-lg transition-colors ${r?"bg-green-600 text-white hover:bg-green-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,title:"Saved Messages",children:o.jsx(nx,{size:24})})]})]}),i]})})}),fN=({sampleId:e,isFetchingData:t,handleSampleIdChange:r,togglePatientModal:n,togglePhysicianModal:s,togglePathologistModal:i,toggleTechnicianModal:a,toggleHierarchyModal:l})=>o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{htmlFor:"sampleId",className:"block text-sm font-medium text-gray-700",children:"Sample ID"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:n,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-100 text-blue-700 hover:bg-blue-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Patient"]}),o.jsxs("button",{onClick:s,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-100 text-green-700 hover:bg-green-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Physician"]}),o.jsxs("button",{onClick:i,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-purple-100 text-purple-700 hover:bg-purple-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Pathologist"]}),o.jsxs("button",{onClick:a,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-pink-100 text-pink-700 hover:bg-pink-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Technician"]}),o.jsxs("button",{onClick:l,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-amber-100 text-amber-700 hover:bg-amber-200"} rounded-md transition-colors text-sm`,children:[o.jsx(zm,{className:"h-4 w-4 mr-1"}),"Edit Hierarchy"]})]})]}),o.jsx("input",{type:"text",id:"sampleId",value:e,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Insert Sample ID"}),t&&o.jsxs("div",{className:"mt-2 flex items-center text-sm text-blue-600",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})]}),mN=({selectedHost:e,selectedType:t,selectedStatus:r,messageTypes:n,hosts:s,isLoadingHosts:i,handleHostChange:a,handleTypeChange:l,handleStatusChange:c,toggleSpecimenSelectorModal:p,toggleBlockSelectorModal:f,toggleSlideSelectorModal:u,toggleEntitySelectorModal:d,showSpecimenSelector:m,showBlockSelector:h,showSlideSelector:y,showEntitySelector:N,showStatusSelector:v,message:g,selectedSpecimen:x,selectedBlock:b,selectedSlide:E,selectedEntity:w})=>{const D=wt.getStatusOptions(e,t);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"hostType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Host"}),"        ",o.jsxs("select",{id:"hostType",value:e,onChange:a,disabled:i,className:`w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all ${i?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("option",{value:"",children:i?"Loading hosts...":"Select a host"}),s.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("label",{htmlFor:"messageType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("select",{id:"messageType",value:t,onChange:l,disabled:!e,className:`flex-grow px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all ${e?"":"cursor-not-allowed bg-gray-100"}`,children:[o.jsx("option",{value:"",children:"Select type"}),n.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))]}),v&&o.jsx("select",{id:"statusSelector",value:r,onChange:c,className:"w-1/3 px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all",children:D.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))}),m&&o.jsxs("button",{onClick:p,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-amber-500 text-white hover:bg-amber-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Specimen"}),x&&o.jsx("span",{className:"ml-1 font-bold",children:""})]}),h&&o.jsxs("button",{onClick:f,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Block"}),b&&o.jsx("span",{className:"ml-1 font-bold",children:""})]}),y&&!N&&o.jsxs("button",{onClick:u,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Slide"}),E&&o.jsx("span",{className:"ml-1 font-bold",children:""})]}),N&&o.jsxs("button",{onClick:d,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Entity"}),w&&o.jsx("span",{className:"ml-1 font-bold",children:""})]})]}),!e&&o.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"First select a host"}),m&&x&&o.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-amber-800",children:["Specimen selected: ",o.jsx("span",{className:"font-semibold",children:x.id})]})}),h&&b&&o.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-amber-800",children:["Block selected: ",o.jsx("span",{className:"font-semibold",children:b.id})]})}),y&&E&&!N&&o.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:["Slide selected: ",o.jsx("span",{className:"font-semibold",children:E.id})]})}),N&&w&&o.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-800",children:[w.type," selected: ",o.jsx("span",{className:"font-semibold",children:w.id})]})}),v&&o.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-800",children:["Status selected: ",o.jsx("span",{className:"font-semibold",children:r})]})})]})]})},gN=({generateMessage:e,isGeneratingMessage:t,disabled:r})=>o.jsx("button",{onClick:e,disabled:r,className:`w-full py-3 px-6 rounded-lg text-lg font-medium transition-colors ${r?"bg-gray-400 text-white cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:t?"Generating...":"Generate Message"}),hN=({message:e,onSave:t,onCancel:r})=>{const[n,s]=I.useState(e);I.useEffect(()=>{s(e)},[e]);const i=()=>{t(n)};return o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Editar Mensaje:"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1 rounded border text-green-600 hover:text-green-800 border-green-300 hover:border-green-500 transition-colors",children:[o.jsx(Do,{size:16}),"Guardar"]}),o.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1 rounded border text-red-600 hover:text-red-800 border-red-300 hover:border-red-500 transition-colors",children:[o.jsx(Tt,{size:16}),"Cancelar"]})]})]}),o.jsx("textarea",{value:n,onChange:a=>s(a.target.value),className:"w-full h-96 p-4 border border-gray-300 rounded-lg font-mono text-sm resize-vertical focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Edita tu mensaje aqu..."})]})},vN=({generatedMessage:e,messageCopied:t,copyToClipboard:r,onSendMessage:n,isSendingMessage:s,onMessageUpdate:i,onSaveMessage:a})=>{const[l,c]=I.useState(!1);if(!e)return null;const p=d=>{i(d),c(!1)},f=()=>{c(!1)},u=()=>{c(!l)};return o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Mensaje Generado:"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:r,className:"text-indigo-600 hover:text-indigo-800 flex items-center px-3 py-1 rounded border border-indigo-300 hover:border-indigo-500 transition-colors",children:t?"Copied!":"Copy"}),o.jsxs("button",{onClick:u,className:"text-blue-600 hover:text-blue-800 flex items-center gap-2 px-3 py-1 rounded border border-blue-300 hover:border-blue-500 transition-colors",children:[o.jsx(Sn,{size:16}),l?"Vista previa":"Editar"]}),o.jsxs("button",{onClick:a,className:"text-purple-600 hover:text-purple-800 flex items-center gap-2 px-3 py-1 rounded border border-purple-300 hover:border-purple-500 transition-colors",children:[o.jsx(Do,{size:16}),"Guardar"]}),o.jsxs("button",{onClick:n,disabled:s,className:`flex items-center gap-2 px-3 py-1 rounded border transition-colors ${s?"bg-gray-400 text-white border-gray-400 cursor-not-allowed":"text-green-600 hover:text-green-800 border-green-300 hover:border-green-500"}`,children:[o.jsx($m,{size:16}),s?"Sending...":"Send"]})]})]}),l?o.jsx(hN,{message:e,onSave:p,onCancel:f}):o.jsx("div",{className:"relative",children:o.jsx("pre",{className:"bg-gray-50 p-6 rounded-lg overflow-auto max-h-[400px] text-sm whitespace-pre-wrap shadow-inner border border-gray-200",children:e})})]})},xN=({sendResponse:e})=>{if(!e||e.length===0)return null;const t=n=>co(n.message),r=n=>new Date(n).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:"mt-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:["Respuesta",e.length>1?"s":""," del Servidor:"]}),"      ",o.jsx("div",{className:"space-y-3",children:e.map((n,s)=>{const i=t(n),a=qo(n.message);return o.jsxs("div",{className:`p-4 rounded-lg border ${i?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex gap-2",children:[e.length>1&&o.jsxs("div",{className:`text-xs font-semibold ${i?"text-red-600":"text-green-600"}`,children:["Respuesta #",s+1]}),o.jsx("div",{className:`text-xs px-2 py-1 rounded ${a.format==="json"?"bg-blue-100 text-blue-700":a.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:a.format.toUpperCase()}),i&&o.jsx("div",{className:"text-xs px-2 py-1 rounded bg-red-100 text-red-700",children:"ERROR"})]}),o.jsxs("div",{className:`text-xs ${i?"text-red-500":"text-green-500"}`,children:["Recibido: ",r(n.receiveTime)]})]}),i&&a.errorDetails&&o.jsxs("div",{className:"mb-3 p-3 bg-red-100 border border-red-200 rounded",children:[o.jsx("div",{className:"text-xs font-semibold text-red-700 mb-1",children:"Detalle del Error:"}),o.jsx("div",{className:"text-sm text-red-800",children:a.errorDetails})]}),o.jsx("pre",{className:`text-sm whitespace-pre-wrap font-mono ${i?"text-red-800":"text-green-800"}`,children:a.content})]},s)})})]})},yN=({sampleId:e,selectedHost:t,selectedType:r,selectedStatus:n,generatedMessage:s,messageCopied:i,isFetchingData:a,isGeneratingMessage:l,isSendingMessage:c,generateButtonDisabled:p,messageTypes:f,hosts:u,isLoadingHosts:d,selectedSpecimen:m,selectedBlock:h,selectedSlide:y,selectedEntity:N,showSpecimenSelector:v,showBlockSelector:g,showSlideSelector:x,showEntitySelector:b,showStatusSelector:E,message:w,sendResponse:D,error:T,handleSampleIdChange:P,handleHostChange:O,handleTypeChange:U,handleStatusChange:X,togglePatientModal:Y,togglePhysicianModal:K,togglePathologistModal:A,toggleTechnicianModal:B,toggleHierarchyModal:j,toggleSpecimenSelectorModal:S,toggleBlockSelectorModal:k,toggleSlideSelectorModal:M,toggleEntitySelectorModal:$,generateMessage:R,sendMessage:H,copyToClipboard:G,updateGeneratedMessage:V,saveMessageToSidebar:_})=>o.jsxs(o.Fragment,{children:[o.jsx(fN,{sampleId:e,isFetchingData:a,handleSampleIdChange:P,togglePatientModal:Y,togglePhysicianModal:K,togglePathologistModal:A,toggleTechnicianModal:B,toggleHierarchyModal:j}),o.jsx(mN,{selectedHost:t,selectedType:r,selectedStatus:n,messageTypes:f,hosts:u,isLoadingHosts:d,handleHostChange:O,handleTypeChange:U,handleStatusChange:X,toggleSpecimenSelectorModal:S,toggleBlockSelectorModal:k,toggleSlideSelectorModal:M,toggleEntitySelectorModal:$,showSpecimenSelector:v,showBlockSelector:g,showSlideSelector:x,showEntitySelector:b,showStatusSelector:E,message:w,selectedSpecimen:m,selectedSlide:y,selectedBlock:h,selectedEntity:N}),o.jsx(gN,{generateMessage:R,isGeneratingMessage:l,disabled:p}),T&&o.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:T}),o.jsx(vN,{generatedMessage:s,messageCopied:i,copyToClipboard:G,onSendMessage:H,isSendingMessage:c,onMessageUpdate:V,onSaveMessage:_}),o.jsx(xN,{sendResponse:D})]}),bN=({isOpen:e,onClose:t,patientInfo:r,onSave:n})=>{const[s,i]=I.useState({code:"",firstName:"",lastName:"",middleName:"",suffix:"",secondSurname:"",dateOfBirth:"",sex:"M",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:"",orders:{orderList:[]}});I.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",suffix:r.suffix||"",secondSurname:r.secondSurname||"",dateOfBirth:r.dateOfBirth||"",sex:r.sex||"M",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||"",orders:r.orders||{orderList:[]}})},[r]);const a=c=>{const{name:p,value:f}=c.target;i(u=>({...u,[p]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Paciente"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sex",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sexo"}),o.jsxs("select",{id:"sex",name:"sex",value:s.sex,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[o.jsx("option",{value:"M",children:"Masculino"}),o.jsx("option",{value:"F",children:"Femenino"}),o.jsx("option",{value:"O",children:"Otro"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Nacimiento (AAAAMMDD)"}),o.jsx("input",{type:"text",id:"dateOfBirth",name:"dateOfBirth",value:s.dateOfBirth,onChange:a,placeholder:"AAAAMMDD",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},SN=({isOpen:e,onClose:t,physicianInfo:r,onSave:n})=>{const[s,i]=I.useState({code:"",firstName:"",lastName:"",middleName:"",prefix:"",suffix:"",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:""});I.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",prefix:r.prefix||"",suffix:r.suffix||"",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||""})},[r]);const a=c=>{const{name:p,value:f}=c.target;i(u=>({...u,[p]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Mdico"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"prefix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefijo"}),o.jsx("input",{type:"text",id:"prefix",name:"prefix",value:s.prefix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"suffix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sufijo"}),o.jsx("input",{type:"text",id:"suffix",name:"suffix",value:s.suffix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},wN=({isOpen:e,onClose:t,pathologistInfo:r,onSave:n})=>{const[s,i]=I.useState({code:"",firstName:"",lastName:"",middleName:"",prefix:"",suffix:"",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:""});I.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",prefix:r.prefix||"",suffix:r.suffix||"",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||""})},[r]);const a=c=>{const{name:p,value:f}=c.target;i(u=>({...u,[p]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Patlogo"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"prefix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefijo"}),o.jsx("input",{type:"text",id:"prefix",name:"prefix",value:s.prefix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"suffix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sufijo"}),o.jsx("input",{type:"text",id:"suffix",name:"suffix",value:s.suffix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},NN=({isOpen:e,onClose:t,technicianInfo:r,onSave:n})=>{const[s,i]=I.useState({code:"",firstName:"",lastName:"",middleName:""});I.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||""})},[r]);const a=c=>{const{name:p,value:f}=c.target;i(u=>({...u,[p]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Tcnico"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},EN=({specimen:e,onClose:t,onSave:r})=>{var d,m,h,y,N,v,g,x,b,E,w,D,T,P,O,U,X;const[n,s]=I.useState({...e}),[i,a]=I.useState({type:"GROSSDESCRIPTION",value:""}),l=Y=>{const{name:K,value:A}=Y.target;if(K==="id")s({...n,id:A,externalId:A});else if(K.startsWith("procedure.")){const B=K.split(".")[1],j=K.split(".")[2];n.procedure||(n.procedure={}),j?(n.procedure[B]||(n.procedure[B]={}),n.procedure[B][j]=A):n.procedure[B]=A,s({...n})}else s({...n,[K]:A})},c=Y=>{const{name:K,value:A}=Y.target;a({...i,[K]:A})},p=()=>{if(!i.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const Y={type:i.type,value:i.value,artifact:"SPECIMEN"};i.type==="QUALITYISSUE"&&i.optionalValue&&(Y.optionalType="RESOLUTION",Y.optionalValue=i.optionalValue),n.supplementalInfos.supplementalInfoList.push(Y),a({type:"GROSSDESCRIPTION",value:""}),s({...n})},f=Y=>{var K;(K=n.supplementalInfos)!=null&&K.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(Y,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,s({...n}))},u=Y=>{Y.preventDefault(),r(n)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-2xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Edit Specimen"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Tt,{size:24})})]}),o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),o.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),o.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Tissue Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsx("input",{type:"text",name:"procedure.tissue.type",value:((m=(d=n.procedure)==null?void 0:d.tissue)==null?void 0:m.type)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"procedure.tissue.description",value:((y=(h=n.procedure)==null?void 0:h.tissue)==null?void 0:y.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subtype"}),o.jsx("input",{type:"text",name:"procedure.tissue.subtype",value:((v=(N=n.procedure)==null?void 0:N.tissue)==null?void 0:v.subtype)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subtype Description"}),o.jsx("input",{type:"text",name:"procedure.tissue.subtypeDescription",value:((x=(g=n.procedure)==null?void 0:g.tissue)==null?void 0:x.subtypeDescription)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Surgical Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"procedure.surgical.name",value:((E=(b=n.procedure)==null?void 0:b.surgical)==null?void 0:E.name)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"procedure.surgical.description",value:((D=(w=n.procedure)==null?void 0:w.surgical)==null?void 0:D.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Anatomic Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Site"}),o.jsx("input",{type:"text",name:"procedure.anatomic.site",value:((P=(T=n.procedure)==null?void 0:T.anatomic)==null?void 0:P.site)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"procedure.anatomic.description",value:((U=(O=n.procedure)==null?void 0:O.anatomic)==null?void 0:U.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),((X=n.supplementalInfos)==null?void 0:X.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((Y,K)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("span",{className:"font-medium mr-2",children:[Y.type,":"]}),o.jsx("span",{children:Y.value})]}),o.jsx("button",{type:"button",onClick:()=>f(K),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{size:16})})]},`suppl-${K}`))]}),o.jsxs("div",{className:"border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),o.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsxs("select",{name:"type",value:i.type,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),o.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),o.jsx("option",{value:"RECUT",children:"RECUT"}),o.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),o.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),o.jsx("input",{type:"text",name:"value",value:i.value,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs("button",{type:"button",onClick:p,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[o.jsx(mr,{size:16,className:"mr-1"}),"Add"]})})]}),i.type==="QUALITYISSUE"&&o.jsx("div",{className:"mt-3 grid grid-cols-5 gap-3",children:o.jsxs("div",{className:"col-span-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),o.jsx("input",{type:"text",name:"optionalValue",value:i.optionalValue||"",onChange:c,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},CN=({block:e,onClose:t,onSave:r})=>{var d;const[n,s]=I.useState({...e}),[i,a]=I.useState({type:"GROSSDESCRIPTION",value:""}),l=m=>{const{name:h,value:y}=m.target;s(h==="id"?{...n,id:y,externalId:y}:{...n,[h]:y})},c=m=>{const{name:h,value:y}=m.target;a({...i,[h]:y})},p=()=>{if(!i.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const m={type:i.type,value:i.value,artifact:"BLOCK"};i.type==="QUALITYISSUE"&&i.optionalValue&&(m.optionalType="RESOLUTION",m.optionalValue=i.optionalValue),n.supplementalInfos.supplementalInfoList.push(m),a({type:"GROSSDESCRIPTION",value:""}),s({...n})},f=m=>{var h;(h=n.supplementalInfos)!=null&&h.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(m,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,s({...n}))},u=m=>{m.preventDefault(),r(n)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Edit Block"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Tt,{size:24})})]}),o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),o.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),o.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),((d=n.supplementalInfos)==null?void 0:d.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((m,h)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("span",{className:"font-medium mr-2",children:[m.type,":"]}),o.jsx("span",{children:m.value})]}),o.jsx("button",{type:"button",onClick:()=>f(h),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{size:16})})]},`suppl-${h}`))]}),o.jsxs("div",{className:"border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsxs("select",{name:"type",value:i.type,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),o.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),o.jsx("option",{value:"RECUT",children:"RECUT"}),o.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),o.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),o.jsx("input",{type:"text",name:"value",value:i.value,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),i.type==="QUALITYISSUE"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),o.jsx("input",{type:"text",name:"optionalValue",value:i.optionalValue||"",onChange:c,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("button",{type:"button",onClick:p,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[o.jsx(mr,{size:16,className:"mr-1"}),"Add Information"]})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},jN=({slide:e,onClose:t,onSave:r})=>{var D,T,P,O,U,X,Y,K,A,B,j;const[n,s]=I.useState({...e}),[i,a]=I.useState({type:"GROSSDESCRIPTION",value:""}),[l,c]=I.useState(!1),[p,f]=I.useState(null),[u,d]=I.useState({substanceName:"UV INHIBITOR",substanceOtherName:"Other substance Name",substanceType:"ANTIBODY",manufacturer:"Ventana Medical Systems",lotNumber:"1236",lotSerialNumber:"56251",catalogNumber:"228664",intendedUseFlag:"K510",expirationDateTime:"2016-09-02T12:00",receivedDateTime:"2015-09-02T12:00"}),m=()=>({substanceName:"UV INHIBITOR",substanceOtherName:"Other substance Name",substanceType:"ANTIBODY",manufacturer:"Ventana Medical Systems",lotNumber:"1236",lotSerialNumber:"56251",catalogNumber:"228664",intendedUseFlag:"K510",expirationDateTime:"2016-09-02T12:00",receivedDateTime:"2015-09-02T12:00"}),h=S=>{const{name:k,value:M}=S.target;if(k==="id")s({...n,id:M,externalId:M});else if(k.startsWith("stainProtocol.")){const $=k.split(".")[1];n.stainProtocol||(n.stainProtocol={}),n.stainProtocol[$]=M,s({...n})}else if(k.startsWith("control.")){const $=k.split(".")[1];n.control||(n.control={}),n.control[$]=M,s({...n})}else s(k==="isRescanned"?{...n,isRescanned:M==="true"}:{...n,[k]:M})},y=S=>{const{name:k,value:M}=S.target;a({...i,[k]:M})},N=()=>{if(!i.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const S={type:i.type,value:i.value,artifact:"SLIDE"};i.type==="QUALITYISSUE"&&i.optionalValue&&(S.optionalType="RESOLUTION",S.optionalValue=i.optionalValue),n.supplementalInfos.supplementalInfoList.push(S),a({type:"GROSSDESCRIPTION",value:""}),s({...n})},v=S=>{var k;(k=n.supplementalInfos)!=null&&k.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(S,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,s({...n}))},g=()=>{var k;if(!((k=u.substanceName)!=null&&k.trim()))return;const S={substanceName:u.substanceName,substanceOtherName:u.substanceOtherName||"",substanceType:u.substanceType||"",manufacturer:u.manufacturer||"",lotNumber:u.lotNumber||"",lotSerialNumber:u.lotSerialNumber||"",catalogNumber:u.catalogNumber||"",intendedUseFlag:u.intendedUseFlag||"",expirationDateTime:u.expirationDateTime||"",receivedDateTime:u.receivedDateTime||""};n.reagents||(n.reagents=[]),n.reagents.push(S),d(m()),s({...n}),c(!1)},x=S=>{var M;const k=(M=n.reagents)==null?void 0:M[S];k&&(d({substanceName:k.substanceName||"",substanceOtherName:k.substanceOtherName||"",substanceType:k.substanceType||"",manufacturer:k.manufacturer||"",lotNumber:k.lotNumber||"",lotSerialNumber:k.lotSerialNumber||"",catalogNumber:k.catalogNumber||"",intendedUseFlag:k.intendedUseFlag||"",expirationDateTime:k.expirationDateTime||"",receivedDateTime:k.receivedDateTime||""}),f(S),c(!0))},b=()=>{var k;if(!((k=u.substanceName)!=null&&k.trim())||p===null)return;const S={substanceName:u.substanceName,substanceOtherName:u.substanceOtherName||"",substanceType:u.substanceType||"",manufacturer:u.manufacturer||"",lotNumber:u.lotNumber||"",lotSerialNumber:u.lotSerialNumber||"",catalogNumber:u.catalogNumber||"",intendedUseFlag:u.intendedUseFlag||"",expirationDateTime:u.expirationDateTime||"",receivedDateTime:u.receivedDateTime||""};n.reagents&&p<n.reagents.length&&(n.reagents[p]=S),d(m()),f(null),s({...n}),c(!1)},E=S=>{n.reagents&&(n.reagents.splice(S,1),n.reagents.length===0&&delete n.reagents,s({...n}))},w=S=>{S.preventDefault(),r(n)};return o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:[o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-2xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Edit Slide"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Tt,{size:24})})]}),o.jsxs("form",{onSubmit:w,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),o.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),o.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Stain Protocol"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"stainProtocol.name",value:((D=n.stainProtocol)==null?void 0:D.name)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Number"}),o.jsx("input",{type:"text",name:"stainProtocol.number",value:((T=n.stainProtocol)==null?void 0:T.number)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Identifier"}),o.jsx("input",{type:"text",name:"stainProtocol.identifier",value:((P=n.stainProtocol)==null?void 0:P.identifier)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"stainProtocol.description",value:((O=n.stainProtocol)==null?void 0:O.description)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Control"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"control.name",value:((U=n.control)==null?void 0:U.name)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"control.description",value:((X=n.control)==null?void 0:X.description)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scoring"}),o.jsx("input",{type:"text",name:"control.scoring",value:((Y=n.control)==null?void 0:Y.scoring)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Clone"}),o.jsx("input",{type:"text",name:"control.clone",value:((K=n.control)==null?void 0:K.clone)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vendor"}),o.jsx("input",{type:"text",name:"control.vendor",value:((A=n.control)==null?void 0:A.vendor)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Additional Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Is Rescanned"}),o.jsxs("select",{name:"isRescanned",value:n.isRescanned?"true":"false",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"false",children:"No"}),o.jsx("option",{value:"true",children:"Yes"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Label Printed"}),o.jsx("input",{type:"text",name:"labelPrinted",value:n.labelPrinted||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rescan Comment"}),o.jsx("input",{type:"text",name:"rescanComment",value:n.rescanComment||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Reagents"}),n.reagents&&n.reagents.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Current Reagents"}),n.reagents.map((S,k)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx("span",{className:"font-medium mr-2",children:S.substanceName}),S.manufacturer&&o.jsxs("span",{className:"text-sm text-gray-600",children:["(",S.manufacturer,")"]}),S.lotNumber&&o.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Lot: ",S.lotNumber]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>x(k),className:"text-blue-500 hover:text-blue-700 px-2 py-1 text-sm border border-blue-500 rounded hover:bg-blue-50",children:"Change"}),o.jsx("button",{type:"button",onClick:()=>E(k),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{size:16})})]})]},`reagent-${k}`))]}),o.jsx("div",{className:"mb-4",children:o.jsxs("button",{type:"button",onClick:()=>{d(m()),f(null),c(!0)},className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center",children:[o.jsx(mr,{size:16,className:"mr-1"}),"Add Reagent"]})}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),((B=n.supplementalInfos)==null?void 0:B.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((S,k)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("span",{className:"font-medium mr-2",children:[S.type,":"]}),o.jsx("span",{children:S.value})]}),o.jsx("button",{type:"button",onClick:()=>v(k),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{size:16})})]},`suppl-${k}`))]}),o.jsxs("div",{className:"border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsxs("select",{name:"type",value:i.type,onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),o.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),o.jsx("option",{value:"RECUT",children:"RECUT"}),o.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),o.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),o.jsx("input",{type:"text",name:"value",value:i.value,onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs("button",{type:"button",onClick:N,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[o.jsx(mr,{size:16,className:"mr-1"}),"Add"]})})]}),i.type==="QUALITYISSUE"&&o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),o.jsx("input",{type:"text",name:"optionalValue",value:i.optionalValue||"",onChange:y,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]}),l&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-lg max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold",children:p!==null?"Edit Reagent":"Add Reagent"}),o.jsx("button",{onClick:()=>{c(!1),d(m()),f(null)},className:"text-gray-500 hover:text-gray-700",children:o.jsx(Tt,{size:20})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Substance Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:u.substanceName||"",onChange:S=>d({...u,substanceName:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Hematoxylin & Eosin"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Substance Other Name"}),o.jsx("input",{type:"text",value:u.substanceOtherName||"",onChange:S=>d({...u,substanceOtherName:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Substance Type"}),o.jsx("input",{type:"text",value:u.substanceType||"",onChange:S=>d({...u,substanceType:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Manufacturer"}),o.jsx("input",{type:"text",value:u.manufacturer||"",onChange:S=>d({...u,manufacturer:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lot Number"}),o.jsx("input",{type:"text",value:u.lotNumber||"",onChange:S=>d({...u,lotNumber:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lot Serial Number"}),o.jsx("input",{type:"text",value:u.lotSerialNumber||"",onChange:S=>d({...u,lotSerialNumber:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catalog Number"}),o.jsx("input",{type:"text",value:u.catalogNumber||"",onChange:S=>d({...u,catalogNumber:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Intended Use Flag"}),o.jsx("input",{type:"text",value:u.intendedUseFlag||"",onChange:S=>d({...u,intendedUseFlag:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expiration Date/Time"}),o.jsx("input",{type:"datetime-local",value:u.expirationDateTime||"",onChange:S=>d({...u,expirationDateTime:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Received Date/Time"}),o.jsx("input",{type:"datetime-local",value:u.receivedDateTime||"",onChange:S=>d({...u,receivedDateTime:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{c(!1),d(m()),f(null)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p!==null?b:g,disabled:!((j=u.substanceName)!=null&&j.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:p!==null?"Update Reagent":"Add Reagent"})]})]})})]})},DN=({isOpen:e,onClose:t,message:r})=>{var P,O,U,X,Y,K,A;const[n,s]=I.useState({}),[i,a]=I.useState({}),[l,c]=I.useState({}),[p,f]=I.useState(null),[u,d]=I.useState(null),[m,h]=I.useState(null);if(!e||!r)return null;const y=(U=(O=(P=r.patient)==null?void 0:P.orders)==null?void 0:O.orderList)==null?void 0:U[0];if(!y)return null;const N=B=>{s({...n,[B]:!n[B]})},v=(B,j)=>{const S=`${B}-${j}`;a({...i,[S]:!i[S]})},g=B=>{if(/^\d+$/.test(B))return String(parseInt(B)+1);if(/^[A-Za-z]$/.test(B)){const j=B.charCodeAt(0);return String.fromCharCode(j+1)}return`${B}-new`},x=()=>{var G,V,_,q,C;if(!((G=y.specimens)!=null&&G.specimenList))return;const B=y.specimens.specimenList[y.specimens.specimenList.length-1],j=g(B.sequence),S=B.id.replace(/([^;]+)$/,j),k={...JSON.parse(JSON.stringify(B)),id:S,sequence:j,externalId:S,blocks:{blockList:[]}},M=(_=(V=B.blocks)==null?void 0:V.blockList)==null?void 0:_[B.blocks.blockList.length-1],$={...JSON.parse(JSON.stringify(M)),id:S+";1",sequence:1,externalId:S+";1",slides:{slideList:[]}},R=(C=(q=M==null?void 0:M.slides)==null?void 0:q.slideList)==null?void 0:C[M.slides.slideList.length-1],H={...JSON.parse(JSON.stringify(R)),id:S+";1;1",sequence:1,externalId:S+";1;1"};$.slides.slideList.push(H),k.blocks.blockList.push($),y.specimens.specimenList.push(k),s({...n})},b=B=>{var G,V,_,q,C;const j=(V=(G=y.specimens)==null?void 0:G.specimenList)==null?void 0:V[B];if(!j||!((_=j.blocks)!=null&&_.blockList))return;const S=j.blocks.blockList[j.blocks.blockList.length-1],k=g(S.sequence),M=S.id.replace(/(.*);(\d+)$/,`$1;${k}`),$={...JSON.parse(JSON.stringify(S)),id:M,sequence:k,externalId:M,slides:{slideList:[]}},R=(C=(q=S==null?void 0:S.slides)==null?void 0:q.slideList)==null?void 0:C[S.slides.slideList.length-1],H={...JSON.parse(JSON.stringify(R)),id:M+";1",sequence:1,externalId:M+";1"};$.slides.slideList.push(H),j.blocks.blockList.push($),a({...i})},E=(B,j)=>{var G,V,_,q,C;const S=(V=(G=y.specimens)==null?void 0:G.specimenList)==null?void 0:V[B],k=(q=(_=S==null?void 0:S.blocks)==null?void 0:_.blockList)==null?void 0:q[j];if(!k||!((C=k.slides)!=null&&C.slideList))return;const M=k.slides.slideList[k.slides.slideList.length-1],$=g(M.sequence),R=M.id.replace(/(.*);(\d+)$/,`$1;${$}`),H={...JSON.parse(JSON.stringify(M)),id:R,sequence:$,externalId:R};k.slides.slideList.push(H),c({...l})},w=B=>{var j;(j=y.specimens)!=null&&j.specimenList&&(y.specimens.specimenList.splice(B,1),s({...n}))},D=(B,j)=>{var k,M,$;const S=(M=(k=y.specimens)==null?void 0:k.specimenList)==null?void 0:M[B];!S||!(($=S.blocks)!=null&&$.blockList)||(S.blocks.blockList.splice(j,1),a({...i}))},T=(B,j,S)=>{var $,R,H,G,V;const k=(R=($=y.specimens)==null?void 0:$.specimenList)==null?void 0:R[B],M=(G=(H=k==null?void 0:k.blocks)==null?void 0:H.blockList)==null?void 0:G[j];!M||!((V=M.slides)!=null&&V.slideList)||(M.slides.slideList.splice(S,1),c({...l}))};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Order Hierarchy"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:[o.jsx(zm,{className:"mr-2",size:20}),"Order: ",y.sampleId||"No ID"]}),(Y=(X=y.specimens)==null?void 0:X.specimenList)==null?void 0:Y.map((B,j)=>{var S,k,M,$;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>N(j),children:[n[j]?o.jsx(Sr,{className:"mr-1 text-gray-600",size:16}):o.jsx(Kr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",B.id||"No ID"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>f({specimen:B,index:j}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit specimen",children:o.jsx(Sn,{size:16})}),o.jsx("button",{onClick:()=>w(j),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete specimen",children:o.jsx(gr,{size:16})})]})]}),n[j]&&o.jsxs(o.Fragment,{children:[(k=(S=B.blocks)==null?void 0:S.blockList)==null?void 0:k.map((R,H)=>{var G,V,_,q;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"font-medium text-gray-700 flex items-center cursor-pointer flex-grow",onClick:()=>v(j,H),children:[i[`${j}-${H}`]?o.jsx(Sr,{className:"mr-1 text-gray-500",size:16}):o.jsx(Kr,{className:"mr-1 text-gray-500",size:16}),"Block: ",R.id||"No ID"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>d({block:R,specimenIndex:j,blockIndex:H}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit block",children:o.jsx(Sn,{size:16})}),o.jsx("button",{onClick:()=>D(j,H),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete block",children:o.jsx(gr,{size:16})})]})]}),i[`${j}-${H}`]&&o.jsxs(o.Fragment,{children:[(V=(G=R.slides)==null?void 0:G.slideList)==null?void 0:V.map((C,z)=>o.jsx("div",{className:"ml-6 mt-1 border-l-2 pl-4 border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"text-gray-600 flex-grow",children:["Slide: ",C.id||"No ID"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>h({slide:C,specimenIndex:j,blockIndex:H,slideIndex:z}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit slide",children:o.jsx(Sn,{size:16})}),o.jsx("button",{onClick:()=>T(j,H,z),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete slide",children:o.jsx(gr,{size:16})})]})]})},`slide-${z}`)),(((q=(_=R.slides)==null?void 0:_.slideList)==null?void 0:q.length)||0)>0&&o.jsx("div",{className:"ml-6 mt-2",children:o.jsxs("button",{onClick:()=>E(j,H),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[o.jsx(mr,{size:14,className:"mr-1"}),"Add Slide"]})})]})]},`block-${H}`)}),((($=(M=B.blocks)==null?void 0:M.blockList)==null?void 0:$.length)||0)>0&&o.jsx("div",{className:"ml-6 mt-3",children:o.jsxs("button",{onClick:()=>b(j),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[o.jsx(mr,{size:14,className:"mr-1"}),"Add Block"]})})]})]},`specimen-${j}`)}),(((A=(K=y.specimens)==null?void 0:K.specimenList)==null?void 0:A.length)||0)>0&&o.jsx("div",{className:"ml-6 mt-4",children:o.jsxs("button",{onClick:x,className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[o.jsx(mr,{size:14,className:"mr-1"}),"Add Specimen"]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Close"})}),p&&o.jsx(EN,{specimen:p.specimen,onClose:()=>f(null),onSave:B=>{var j;(j=y.specimens)!=null&&j.specimenList&&(y.specimens.specimenList[p.index]=B,f(null),s({...n}))}}),u&&o.jsx(CN,{block:u.block,onClose:()=>d(null),onSave:B=>{var S,k,M;const j=(k=(S=y.specimens)==null?void 0:S.specimenList)==null?void 0:k[u.specimenIndex];j&&((M=j.blocks)!=null&&M.blockList)&&(j.blocks.blockList[u.blockIndex]=B,d(null),a({...i}))}}),m&&o.jsx(jN,{slide:m.slide,onClose:()=>h(null),onSave:B=>{var k,M,$,R,H;const j=(M=(k=y.specimens)==null?void 0:k.specimenList)==null?void 0:M[m.specimenIndex],S=(R=($=j==null?void 0:j.blocks)==null?void 0:$.blockList)==null?void 0:R[m.blockIndex];S&&((H=S.slides)!=null&&H.slideList)&&(S.slides.slideList[m.slideIndex]=B,h(null),c({...l}))}})]})})},kN=({isPatientModalOpen:e,isPhysicianModalOpen:t,isPathologistModalOpen:r,isHierarchyModalOpen:n,isTechnicianModalOpen:s,patientInfo:i,physicianInfo:a,pathologistInfo:l,technicianInfo:c,message:p,togglePatientModal:f,togglePhysicianModal:u,togglePathologistModal:d,toggleHierarchyModal:m,toggleTechnicianModal:h,handlePatientInfoSave:y,handlePhysicianInfoSave:N,handlePathologistInfoSave:v,handleTechnicianInfoSave:g})=>o.jsxs(o.Fragment,{children:[o.jsx(bN,{isOpen:e,onClose:f,patientInfo:i,onSave:y}),o.jsx(SN,{isOpen:t,onClose:u,physicianInfo:a,onSave:N}),o.jsx(wN,{isOpen:r,onClose:d,pathologistInfo:l,onSave:v}),o.jsx(DN,{isOpen:n,onClose:m,message:p}),o.jsx(NN,{isOpen:s,onClose:h,technicianInfo:c,onSave:g})]}),IN=({isOpen:e,onClose:t,message:r,onSelectSpecimen:n})=>{var p,f,u,d,m;const[s,i]=I.useState({});if(!e||!r)return null;const a=(u=(f=(p=r.patient)==null?void 0:p.orders)==null?void 0:f.orderList)==null?void 0:u[0];if(!a)return null;const l=h=>{i({...s,[h]:!s[h]})},c=h=>{n(h),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select a Specimen"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",a.sampleId||"No ID"]}),(m=(d=a.specimens)==null?void 0:d.specimenList)==null?void 0:m.map((h,y)=>o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>l(y),children:[s[y]?o.jsx(Sr,{className:"mr-1 text-gray-600",size:16}):o.jsx(Kr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",h.id||"No ID"]}),o.jsx("button",{onClick:()=>c(h),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),s[y]&&o.jsxs("div",{className:"ml-6 mt-2 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"ID:"})," ",h.id]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Sequence:"})," ",h.sequence]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Entity Name:"})," ",h.entityName]}),h.externalId&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"External ID:"})," ",h.externalId]})]})]},`specimen-${y}`))]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},TN=({isOpen:e,onClose:t,message:r,onSelectBlock:n})=>{var p,f,u,d,m;const[s,i]=I.useState({});if(I.useEffect(()=>{var h,y,N,v;if(r){const g=(N=(y=(h=r.patient)==null?void 0:h.orders)==null?void 0:y.orderList)==null?void 0:N[0];if((v=g==null?void 0:g.specimens)!=null&&v.specimenList){const x=g.specimens.specimenList.reduce((b,E,w)=>(b[w]=!0,b),{});i(x)}}},[e]),!e||!r)return null;const a=(u=(f=(p=r.patient)==null?void 0:p.orders)==null?void 0:f.orderList)==null?void 0:u[0];if(!a)return console.log("No order found in message"),null;const l=h=>{i({...s,[h]:!s[h]})},c=h=>{console.log("Selected block:",h),n(h),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select a Block"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",a.sampleId||"No ID"]}),(m=(d=a.specimens)==null?void 0:d.specimenList)==null?void 0:m.map((h,y)=>{var N,v;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>l(y),children:[s[y]?o.jsx(Sr,{className:"mr-1 text-gray-600",size:16}):o.jsx(Kr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",h.id||"No ID"]})}),s[y]&&((v=(N=h.blocks)==null?void 0:N.blockList)==null?void 0:v.map((g,x)=>o.jsx("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Block: ",g.id||"No ID"]}),o.jsx("button",{onClick:()=>c(g),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]})},`block-${x}`)))]},`specimen-${y}`)})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},RN=({isOpen:e,onClose:t,message:r,onSelectSlide:n})=>{var d,m,h,y,N;const[s,i]=I.useState({}),[a,l]=I.useState({});if(I.useEffect(()=>{var v,g,x,b;if(r){const E=(x=(g=(v=r.patient)==null?void 0:v.orders)==null?void 0:g.orderList)==null?void 0:x[0];if((b=E==null?void 0:E.specimens)!=null&&b.specimenList){const w=E.specimens.specimenList.reduce((T,P,O)=>(T[O]=!0,T),{}),D=E.specimens.specimenList.reduce((T,P)=>{var O,U;return(U=(O=P.blocks)==null?void 0:O.blockList)==null||U.forEach(X=>{T[X.id]=!0}),T},{});i(w),l(D)}}},[e]),!e||!r)return null;const c=(h=(m=(d=r.patient)==null?void 0:d.orders)==null?void 0:m.orderList)==null?void 0:h[0];if(!c)return console.log("No order found in message"),null;const p=v=>{i({...s,[v]:!s[v]})},f=v=>{l({...a,[v]:!a[v]})},u=v=>{console.log("Selected slide:",v),n(v),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select a Slide"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",c.sampleId||"No ID"]}),(N=(y=c.specimens)==null?void 0:y.specimenList)==null?void 0:N.map((v,g)=>{var x,b;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>p(g),children:[s[g]?o.jsx(Sr,{className:"mr-1 text-gray-600",size:16}):o.jsx(Kr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",v.id||"No ID"]})}),s[g]&&((b=(x=v.blocks)==null?void 0:x.blockList)==null?void 0:b.map((E,w)=>{var D,T;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>f(E.id),children:[a[E.id]?o.jsx(Sr,{className:"mr-1 text-gray-600",size:16}):o.jsx(Kr,{className:"mr-1 text-gray-600",size:16}),"Block: ",E.id||"No ID"]})}),a[E.id]&&((T=(D=E.slides)==null?void 0:D.slideList)==null?void 0:T.map((P,O)=>{var U;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-blue-100",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Slide: ",P.id||"No ID"]}),o.jsx("button",{onClick:()=>u(P),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),o.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[o.jsxs("p",{children:["Sequence: ",P.sequence]}),((U=P.stainProtocol)==null?void 0:U.name)&&o.jsxs("p",{children:["Stain: ",P.stainProtocol.name]})]})]},`slide-${O}`)}))]},`block-${w}`)}))]},`specimen-${g}`)})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},PN=({isOpen:e,onClose:t,message:r,onSelectEntity:n})=>{var u,d,m,h,y,N,v,g,x;const[s,i]=I.useState("orders");if(I.useEffect(()=>{var b,E,w,D;if(r){const T=(w=(E=(b=r.patient)==null?void 0:b.orders)==null?void 0:E.orderList)==null?void 0:w[0];(D=T==null?void 0:T.specimens)!=null&&D.specimenList}},[e,r]),!e||!r)return null;const a=(m=(d=(u=r.patient)==null?void 0:u.orders)==null?void 0:d.orderList)==null?void 0:m[0];if(!a)return null;const l=b=>{n("Specimen",b),t()},c=b=>{n("Block",b),t()},p=b=>{n("Slide",b),t()},f=b=>{n("Order",b),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select an Entity"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),"        ",o.jsxs("div",{className:"flex border-b border-gray-200 mb-4",children:[o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="orders"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("orders"),children:"Orders"}),o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="specimens"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("specimens"),children:"Specimens"}),o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="blocks"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("blocks"),children:"Blocks"}),o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="slides"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("slides"),children:"Slides"})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:["          ",o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",a.sampleId||"No ID"]}),s==="orders"&&o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-purple-300",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-medium flex items-center cursor-pointer flex-grow",children:o.jsxs("span",{children:["Order: ",a.sampleId||"No ID"]})}),o.jsx("button",{onClick:()=>f(a),className:"ml-2 px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors text-sm",children:"Select"})]}),o.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Sample ID:"})," ",a.sampleId]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Entity Name:"})," ",a.entityName]}),a.extSampleId&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"External Sample ID:"})," ",a.extSampleId]}),a.status&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Status:"})," ",a.status]}),a.workFlow&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Workflow:"})," ",a.workFlow]})]})]}),s==="specimens"&&((y=(h=a.specimens)==null?void 0:h.specimenList)==null?void 0:y.map((b,E)=>o.jsx("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-medium flex items-center cursor-pointer flex-grow",children:o.jsxs("span",{children:["Specimen: ",b.id||"No ID"]})}),o.jsx("button",{onClick:()=>l(b),className:"ml-2 px-3 py-1 bg-amber-500 text-white rounded hover:bg-amber-600 transition-colors text-sm",children:"Select"})]})},`specimen-${E}`))),s==="blocks"&&((v=(N=a.specimens)==null?void 0:N.specimenList)==null?void 0:v.map((b,E)=>{var w,D;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsxs("div",{className:"font-medium",children:["Specimen: ",b.id||"No ID"]}),(D=(w=b.blocks)==null?void 0:w.blockList)==null?void 0:D.map((T,P)=>o.jsx("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Block: ",T.id||"No ID"]}),o.jsx("button",{onClick:()=>c(T),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]})},`block-${P}`))]},`specimen-blocks-${E}`)})),s==="slides"&&((x=(g=a.specimens)==null?void 0:g.specimenList)==null?void 0:x.map((b,E)=>{var w,D;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:["              ",o.jsxs("div",{className:"font-medium",children:["Specimen: ",b.id||"No ID"]}),(D=(w=b.blocks)==null?void 0:w.blockList)==null?void 0:D.map((T,P)=>{var O,U;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Block: ",T.id||"No ID"]}),(U=(O=T.slides)==null?void 0:O.slideList)==null?void 0:U.map((X,Y)=>{var K;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-blue-100",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Slide: ",X.id||"No ID"]}),o.jsx("button",{onClick:()=>p(X),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),o.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[o.jsxs("p",{children:["Sequence: ",X.sequence]}),((K=X.stainProtocol)==null?void 0:K.name)&&o.jsxs("p",{children:["Stain: ",X.stainProtocol.name]})]})]},`slide-${Y}`)})]},`block-slides-${P}`)})]},`specimen-slides-${E}`)}))]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},MN=({isSpecimenSelectorModalOpen:e,isBlockSelectorModalOpen:t,isSlideSelectorModalOpen:r,isEntitySelectorModalOpen:n,message:s,toggleSpecimenSelectorModal:i,toggleBlockSelectorModal:a,toggleSlideSelectorModal:l,toggleEntitySelectorModal:c,handleSpecimenSelect:p,handleBlockSelect:f,handleSlideSelect:u,handleEntitySelect:d})=>o.jsxs(o.Fragment,{children:[o.jsx(IN,{isOpen:e,onClose:i,message:s,onSelectSpecimen:p}),o.jsx(TN,{isOpen:t,onClose:a,message:s,onSelectBlock:f}),o.jsx(RN,{isOpen:r,onClose:l,message:s,onSelectSlide:u}),o.jsx(PN,{isOpen:n,onClose:c,message:s,onSelectEntity:d})]}),ON=({message:e,type:t,isVisible:r,onClose:n,duration:s=1500})=>{if(I.useEffect(()=>{if(r&&s>0){const p=setTimeout(()=>{n()},s);return()=>clearTimeout(p)}},[r,s,n]),!r)return null;const i=()=>{switch(t){case"success":return{bg:"bg-green-500",text:"text-white",icon:o.jsx(W0,{size:20})};case"error":return{bg:"bg-red-500",text:"text-white",icon:o.jsx(Bm,{size:20})};case"warning":return{bg:"bg-yellow-500",text:"text-white",icon:o.jsx(Am,{size:20})};case"info":return{bg:"bg-blue-500",text:"text-white",icon:o.jsx(Id,{size:20})};default:return{bg:"bg-gray-500",text:"text-white",icon:o.jsx(Id,{size:20})}}},{bg:a,text:l,icon:c}=i();return o.jsxs("div",{className:`fixed top-4 right-4 ${a} ${l} px-4 py-3 rounded-lg shadow-lg z-50 flex items-center gap-3 max-w-md transform transition-all duration-300 ease-in-out ${r?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:[c,o.jsx("span",{className:"flex-1 text-sm font-medium",children:e}),o.jsx("button",{onClick:n,className:`${l} hover:opacity-70 transition-opacity`,children:o.jsx(Tt,{size:16})})]})},LN=({isSidebarOpen:e,snackbar:t,onToggleSidebar:r,onCloseSnackbar:n})=>{const[s,i]=I.useState(!1),[a,l]=I.useState(null),[c,p]=I.useState(!1),[f,u]=I.useState(null),d=x=>{l(x),i(!0)},m=()=>{i(!1),l(null)},h=x=>{u(x),p(!0)},y=(x,b)=>{pe.updateMessageContent(x,b),p(!1),u(null)},N=(x,b)=>{pe.updateMessageComment(x,b)},v=(x,b)=>{pe.updateMessageControlId(x,b)},g=()=>{p(!1),u(null)};return o.jsxs(o.Fragment,{children:[o.jsx(aN,{isOpen:e,onClose:r,onMessageClick:d,onEditMessage:h}),o.jsx(lN,{isOpen:s,onClose:m,message:a}),o.jsx(cN,{isOpen:c,onClose:g,message:f,onSave:y,onSaveComment:N,onSaveControlId:v}),o.jsx(ON,{message:t.message,type:t.type,isVisible:t.isVisible,onClose:n})]})},lh=e=>{var t;return((t=e.responses)==null?void 0:t.find(r=>r.isDefault))||null},Gl=e=>{const t=lh(e);return(t==null?void 0:t.applicationResponse)||{isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}},_l=e=>{const t=lh(e);return(t==null?void 0:t.communicationResponse)||{isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}},Sp="http://localhost:8085/api/hosts";class AN{constructor(){ce(this,"cachedServers",[])}async getServers(){try{console.log("Fetching servers from backend...");const t=await fetch(`${Sp}/servers`);if(!t.ok){let s=`HTTP ${t.status}: ${t.statusText}`;try{const i=await t.text();i&&(s+=` - ${i}`)}catch{}throw new Error(s)}const r=await t.json();console.log("Received servers from backend:",r);const n=r.map(s=>({...s,applicationResponse:Gl(s),communicationResponse:_l(s)}));return this.cachedServers=n,n}catch(t){throw console.error("Error fetching servers:",t),t}}getCachedServers(){return this.cachedServers}async toggleServer(t){try{console.log("Toggling server:",t);const n=(await this.getServers()).find(i=>(i.serverName||i.name||i.hostName)===t);if(!n)throw new Error(`Server not found: ${t}`);const s={serverName:n.serverName,isRunning:!n.isRunning,applicationResponse:n.applicationResponse,communicationResponse:n.communicationResponse};return await this.modifyServer(s)}catch(r){throw console.error("Error toggling server:",r),r}}async modifyServer(t){var r,n,s,i,a,l,c,p,f,u,d,m,h,y;try{let N=[];t.responses?N=t.responses:(t.applicationResponse||t.communicationResponse)&&(N=[{messageType:"ACK",isDefault:!0,applicationResponse:{isEnable:((r=t.applicationResponse)==null?void 0:r.isEnable)||!1,isError:((n=t.applicationResponse)==null?void 0:n.isError)||!1,errorText:((s=t.applicationResponse)==null?void 0:s.errorText)||"",customResponse:{useCustomResponse:((a=(i=t.applicationResponse)==null?void 0:i.customResponse)==null?void 0:a.enabled)||!1,customResponseText:((c=(l=t.applicationResponse)==null?void 0:l.customResponse)==null?void 0:c.text)||""}},communicationResponse:{isEnable:((p=t.communicationResponse)==null?void 0:p.isEnable)||!1,isError:((f=t.communicationResponse)==null?void 0:f.isError)||!1,errorText:((u=t.communicationResponse)==null?void 0:u.errorText)||"",customResponse:{useCustomResponse:((m=(d=t.communicationResponse)==null?void 0:d.customResponse)==null?void 0:m.enabled)||!1,customResponseText:((y=(h=t.communicationResponse)==null?void 0:h.customResponse)==null?void 0:y.text)||""}}}]);const v={serverName:t.serverName,isRunning:t.isRunning||!1,responses:N,hostType:t.hostType||"",location:t.location||""};console.log(" Sending to backend:",v);const g=await fetch(`${Sp}/servers/modifyServer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const x=await g.json();console.log("Server modified successfully:",x);const b={...x,applicationResponse:Gl(x),communicationResponse:_l(x)},E=this.cachedServers.findIndex(w=>(w.serverName||w.name||w.hostName)===t.serverName);return E>=0&&(this.cachedServers[E]=b),b}catch(N){throw console.error("Error modifying server:",N),N}}clearCache(){this.cachedServers=[]}}const Ma=new AN,BN=({server:e,isOpen:t,onClose:r,onSave:n})=>{var T,P,O,U,X,Y,K,A,B,j,S,k,M,$;const[s,i]=I.useState([]),[a,l]=I.useState(0),[c,p]=I.useState(!1),[f,u]=I.useState(null),[d,m]=I.useState({isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}),[h,y]=I.useState({isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}),N=R=>R?!["VSS","VIRTUOSO","DP"].includes(R.toUpperCase()):!0;I.useEffect(()=>{var R,H,G,V,_,q;if(e){if(console.log(" Initializing modal with server data:",e),console.log(" Server responses from backend:",e.responses),e.responses&&e.responses.length>0){const C=e.responses.map(z=>{var ee,ie,Re,tt,Ge,Pt,Mt,Xr,Qs,Qt,Zr,hu,vu,xu;return{messageType:z.messageType,isDefault:z.isDefault,applicationResponse:{isEnable:((ee=z.applicationResponse)==null?void 0:ee.isEnable)||!1,isError:((ie=z.applicationResponse)==null?void 0:ie.isError)||!1,errorText:((Re=z.applicationResponse)==null?void 0:Re.errorText)||"",customResponse:{enabled:((Ge=(tt=z.applicationResponse)==null?void 0:tt.customResponse)==null?void 0:Ge.useCustomResponse)||!1,text:((Mt=(Pt=z.applicationResponse)==null?void 0:Pt.customResponse)==null?void 0:Mt.customResponseText)||""}},communicationResponse:{isEnable:((Xr=z.communicationResponse)==null?void 0:Xr.isEnable)||!1,isError:((Qs=z.communicationResponse)==null?void 0:Qs.isError)||!1,errorText:((Qt=z.communicationResponse)==null?void 0:Qt.errorText)||"",customResponse:{enabled:((hu=(Zr=z.communicationResponse)==null?void 0:Zr.customResponse)==null?void 0:hu.useCustomResponse)||!1,text:((xu=(vu=z.communicationResponse)==null?void 0:vu.customResponse)==null?void 0:xu.customResponseText)||""}}}});if(i(C),l(0),C.length>0){const z=C[0],ee={...z.applicationResponse};N(e.hostType)||(ee.isEnable=!1,ee.isError=!1,ee.errorText="",ee.customResponse={enabled:!1,text:((R=ee.customResponse)==null?void 0:R.text)||""}),m(ee),y(z.communicationResponse)}}else{console.log(" ApplicationResponse from backend:",e.applicationResponse),console.log(" CommunicationResponse from backend:",e.communicationResponse);const C=Gl(e),z=_l(e),ee={isEnable:C.isEnable||!1,isError:C.isError||!1,errorText:C.errorText||"",customResponse:{enabled:((H=C.customResponse)==null?void 0:H.useCustomResponse)||!1,text:((G=C.customResponse)==null?void 0:G.customResponseText)||""}};N(e.hostType)||(ee.isEnable=!1,ee.isError=!1,ee.errorText="",ee.customResponse={enabled:!1,text:((V=ee.customResponse)==null?void 0:V.text)||""}),m(ee);const ie={isEnable:z.isEnable||!1,isError:z.isError||!1,errorText:z.errorText||"",customResponse:{enabled:((_=z.customResponse)==null?void 0:_.useCustomResponse)||!1,text:((q=z.customResponse)==null?void 0:q.customResponseText)||""}};y(ie),i([{messageType:"Default",isDefault:!0,applicationResponse:ee,communicationResponse:ie}]),l(0)}u(null),console.log(" Modal initialization complete")}},[e]);const v=async()=>{var R,H,G,V,_,q;if(e){p(!0),u(null);try{const C=[...s];C[a]&&(C[a]={...C[a],applicationResponse:{isEnable:d.isEnable,isError:d.isError,errorText:d.errorText,customResponse:(R=d.customResponse)!=null&&R.enabled?{useCustomResponse:!0,customResponseText:((H=d.customResponse)==null?void 0:H.text)||""}:{useCustomResponse:!1,customResponseText:((G=d.customResponse)==null?void 0:G.text)||""}},communicationResponse:{isEnable:h.isEnable,isError:h.isError,errorText:h.errorText,customResponse:(V=h.customResponse)!=null&&V.enabled?{useCustomResponse:!0,customResponseText:((_=h.customResponse)==null?void 0:_.text)||""}:{useCustomResponse:!1,customResponseText:((q=h.customResponse)==null?void 0:q.text)||""}}});const z={serverName:e.serverName,isRunning:e.isRunning,responses:C,applicationResponse:d,communicationResponse:h};console.log(" Saving server data:",z),await n(z),r()}catch(C){u(C instanceof Error?C.message:"Error saving server configuration")}finally{p(!1)}}},g=(R,H,G,V=!1)=>{var _,q;if(!(V&&G==="isEnable"&&!R[G]&&!N(e==null?void 0:e.hostType))){if(G==="isEnable"&&!R[G])H({...R,isEnable:!0,isError:!1,errorText:"",customResponse:R.customResponse||{enabled:!1,text:""}});else if(G==="isEnable"&&R[G])H({...R,isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:((_=R.customResponse)==null?void 0:_.text)||""}});else if(G==="isError"&&R.isEnable){const C=!R[G];H({...R,isError:C,errorText:C&&R.errorText||"",customResponse:C?{enabled:!1,text:((q=R.customResponse)==null?void 0:q.text)||""}:R.customResponse||{enabled:!1,text:""}})}}},x=(R,H,G)=>{H({...R,errorText:G})},b=(R,H)=>{var G,V;if(R.isEnable&&!R.isError){const _=((G=R.customResponse)==null?void 0:G.enabled)||!1,q=((V=R.customResponse)==null?void 0:V.text)||"";console.log(" Toggling customResponse:",{isCurrentlyEnabled:_,currentText:q,willBeEnabled:!_}),H({...R,customResponse:{enabled:!_,text:q},isError:_?R.isError:!1,errorText:_?R.errorText:""})}},E=(R,H,G)=>{var V,_,q;console.log(" Updating customResponse text:",{currentEnabled:(V=R.customResponse)==null?void 0:V.enabled,currentText:(_=R.customResponse)==null?void 0:_.text,newText:G}),H({...R,customResponse:{enabled:((q=R.customResponse)==null?void 0:q.enabled)||!1,text:G}})},w=R=>{if(!R)return R;const H=R.split(/(\*originalControlId\*|\*controlId\*)/g);return o.jsx(o.Fragment,{children:H.map((G,V)=>G==="*originalControlId*"||G==="*controlId*"?o.jsx("span",{className:"bg-yellow-200 text-yellow-800 font-semibold px-1 rounded",children:G},V):o.jsx("span",{children:G},V))})},D=R=>!!(R&&(R.includes("*originalControlId*")||R.includes("*controlId*")));return!t||!e?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Edit Server: ",e.serverName||e.name||"Unknown"]}),o.jsx("button",{onClick:r,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:o.jsx(Tt,{size:20})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[s.length>1&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Response to Edit:"}),o.jsx("select",{value:a,onChange:R=>{var V;const H=parseInt(R.target.value);l(H);const G=s[H];if(G){const _={...G.applicationResponse};N(e.hostType)||(_.isEnable=!1,_.isError=!1,_.errorText="",_.customResponse={enabled:!1,text:((V=_.customResponse)==null?void 0:V.text)||""}),m(_),y(G.communicationResponse)}},className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:s.map((R,H)=>o.jsxs("option",{value:H,children:[R.messageType," ",R.isDefault?"(Default)":""]},H))}),s[a]&&o.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Editing: ",o.jsx("span",{className:"font-medium",children:s[a].messageType}),s[a].isDefault&&o.jsx("span",{className:"text-blue-600 font-medium",children:" (Default Response)"})]})]}),f&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Am,{size:16,className:"text-red-600 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-red-700",children:f})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-medium text-gray-700",children:"Application Response"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:d.isEnable||!1,disabled:!N(e==null?void 0:e.hostType),onChange:()=>g(d,m,"isEnable",!0),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsxs("span",{className:`text-sm ${N(e==null?void 0:e.hostType)?"text-gray-600":"text-gray-400"}`,children:["Enabled ",!N(e==null?void 0:e.hostType)&&o.jsxs("span",{className:"text-xs text-red-500",children:["(Restricted for WS Host with ",e==null?void 0:e.hostType," type)"]})]})]}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:d.isError||!1,disabled:!d.isEnable,onChange:()=>g(d,m,"isError",!0),className:"w-4 h-4 text-red-600 rounded border-gray-300 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${d.isEnable?"text-gray-600":"text-gray-400"}`,children:"Has Error"})]}),d.isError&&d.isEnable&&o.jsx("div",{className:"ml-7 mt-2",children:o.jsx("input",{type:"text",placeholder:"Enter error description...",value:d.errorText||"",onChange:R=>x(d,m,R.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:((T=d.customResponse)==null?void 0:T.enabled)||!1,disabled:!d.isEnable||d.isError,onChange:()=>b(d,m),className:"w-4 h-4 text-green-600 rounded border-gray-300 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${d.isEnable&&!d.isError?"text-gray-600":"text-gray-400"}`,children:"Custom Response"})]}),((P=d.customResponse)==null?void 0:P.enabled)&&d.isEnable&&!d.isError&&o.jsxs("div",{className:"ml-7 mt-2",children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Custom Response Message:"}),o.jsx("div",{className:"relative",children:o.jsx("textarea",{placeholder:"Enter custom response (e.g., HL7 ACK message)...",value:((O=d.customResponse)==null?void 0:O.text)||"",onChange:R=>E(d,m,R.target.value),rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono resize-vertical min-h-[100px]",style:{background:D(((U=d.customResponse)==null?void 0:U.text)||"")?"linear-gradient(90deg, rgba(254, 249, 195, 0.3) 0%, rgba(254, 249, 195, 0.1) 100%)":"white"}})}),D(((X=d.customResponse)==null?void 0:X.text)||"")&&o.jsx("div",{className:"flex items-center justify-end mt-1",children:o.jsx("div",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full font-medium border border-yellow-200",children:" Dynamic ID detected"})}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Tip: Use ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*originalControlId*"})," and ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*controlId*"})," as placeholders for dynamic message ID replacement"]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-medium text-gray-700",children:"Communication Response"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:h.isEnable||!1,onChange:()=>g(h,y,"isEnable",!1),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Enabled"})]}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:h.isError||!1,disabled:!h.isEnable,onChange:()=>g(h,y,"isError",!1),className:"w-4 h-4 text-red-600 rounded border-gray-300 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${h.isEnable?"text-gray-600":"text-gray-400"}`,children:"Has Error"})]}),h.isError&&h.isEnable&&o.jsx("div",{className:"ml-7 mt-2",children:o.jsx("input",{type:"text",placeholder:"Enter error description...",value:h.errorText||"",onChange:R=>x(h,y,R.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:((Y=h.customResponse)==null?void 0:Y.enabled)||!1,disabled:!h.isEnable||h.isError,onChange:()=>b(h,y),className:"w-4 h-4 text-green-600 rounded border-gray-300 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${h.isEnable&&!h.isError?"text-gray-600":"text-gray-400"}`,children:"Custom Response"})]}),((K=h.customResponse)==null?void 0:K.enabled)&&h.isEnable&&!h.isError&&o.jsxs("div",{className:"ml-7 mt-2",children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Custom Response Message:"}),o.jsx("div",{className:"relative",children:o.jsx("textarea",{placeholder:"Enter custom response (e.g., HL7 ACK message)...",value:((A=h.customResponse)==null?void 0:A.text)||"",onChange:R=>E(h,y,R.target.value),rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono resize-vertical min-h-[100px]",style:{background:D(((B=h.customResponse)==null?void 0:B.text)||"")?"linear-gradient(90deg, rgba(254, 249, 195, 0.3) 0%, rgba(254, 249, 195, 0.1) 100%)":"white"}})}),D(((j=h.customResponse)==null?void 0:j.text)||"")&&o.jsx("div",{className:"flex items-center justify-end mt-1",children:o.jsx("div",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full font-medium border border-yellow-200",children:" Dynamic ID detected"})}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Tip: Use ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*originalControlId*"})," and ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*controlId*"})," as placeholders for dynamic message ID replacement"]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-3",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Preview:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-xs font-medium",children:["App: ",d.isError?"":d.isEnable?"":""]}),d.isError&&d.errorText&&o.jsxs("span",{className:"text-red-600 italic text-xs",children:["(",d.errorText,")"]})]}),((S=d.customResponse)==null?void 0:S.enabled)&&((k=d.customResponse)==null?void 0:k.text)&&!d.isError&&o.jsxs("div",{className:"mt-1 p-2 bg-green-50 border border-green-200 rounded text-xs",children:[o.jsx("div",{className:"text-green-700 font-medium mb-1",children:"Custom Response:"}),o.jsx("div",{className:"font-mono text-green-600 break-all whitespace-pre-wrap max-h-20 overflow-y-auto",children:w(d.customResponse.text)})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-xs font-medium",children:["Comm: ",h.isError?"":h.isEnable?"":""]}),h.isError&&h.errorText&&o.jsxs("span",{className:"text-red-600 italic text-xs",children:["(",h.errorText,")"]})]}),((M=h.customResponse)==null?void 0:M.enabled)&&(($=h.customResponse)==null?void 0:$.text)&&!h.isError&&o.jsxs("div",{className:"mt-1 p-2 bg-green-50 border border-green-200 rounded text-xs",children:[o.jsx("div",{className:"text-green-700 font-medium mb-1",children:"Custom Response:"}),o.jsx("div",{className:"font-mono text-green-600 break-all whitespace-pre-wrap max-h-20 overflow-y-auto",children:w(h.customResponse.text)})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[o.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"}),o.jsx("button",{onClick:v,disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Do,{size:16}),o.jsx("span",{children:"Save"})]})})]})]})})},FN=({isServerSidebarOpen:e,onToggleServerSidebar:t})=>{const[r,n]=I.useState([]),[s,i]=I.useState(!1),[a,l]=I.useState(null),[c,p]=I.useState(new Set),[f,u]=I.useState(!1),[d,m]=I.useState(null),h=async()=>{i(!0),l(null);try{const w=await Ma.getServers();n(w)}catch(w){const D=`Error loading servers: ${w instanceof Error?w.message:"Unknown error"}`;l(D),console.error("Error loading servers:",w)}finally{i(!1)}},y=async w=>{p(D=>new Set(D).add(w));try{const D=await Ma.toggleServer(w);n(T=>T.map(P=>(P.serverName||P.name||P.hostName)===w?D:P))}catch(D){console.error("Error toggling server:",D),l(`Error toggling server ${w}`)}finally{p(D=>{const T=new Set(D);return T.delete(w),T})}};I.useEffect(()=>{e&&h()},[e]);const N=w=>{m(w),u(!0)},v=()=>{u(!1),m(null)},g=async w=>{try{const D=await Ma.modifyServer(w);n(T=>T.map(P=>(P.serverName||P.name)===D.serverName?D:P)),console.log("Server updated successfully:",D)}catch(D){throw console.error("Error updating server:",D),D}},x=w=>w.serverName||w.name||w.hostName||w.id||"Unknown Server",b=w=>{var D,T;return w?typeof w=="boolean"?w?o.jsx("span",{className:"text-green-500 font-semibold",children:""}):o.jsx("span",{className:"text-red-500 font-semibold",children:""}):w.isError?o.jsx("span",{className:"text-yellow-500 font-semibold",children:""}):w.isEnable?(D=w.customResponse)!=null&&D.enabled&&((T=w.customResponse)!=null&&T.text)?o.jsx("span",{className:"text-blue-500 font-semibold",title:`Custom: ${w.customResponse.text}`,children:""}):o.jsx("span",{className:"text-green-500 font-semibold",children:""}):o.jsx("span",{className:"text-red-500 font-semibold",children:""}):o.jsx("span",{className:"text-red-500 font-semibold",children:""})},E=w=>w.applicationResponse!==void 0||w.communicationResponse!==void 0;return e?o.jsxs("div",{className:"fixed left-0 top-0 h-full w-96 bg-white shadow-lg z-50 overflow-y-auto border-r border-gray-200",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Server Management"}),o.jsx("button",{onClick:t,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:o.jsx(Tt,{size:20})})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-medium text-gray-700",children:"Server Status"}),o.jsx("button",{onClick:h,disabled:s,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 disabled:opacity-50",title:"Refresh servers",children:o.jsx(Td,{size:16,className:s?"animate-spin":""})})]}),s&&o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Td,{size:16,className:"animate-spin"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Loading servers..."})]})}),a&&o.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Bm,{size:16,className:"text-red-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-600",children:"Connection Error"}),o.jsx("p",{className:"text-xs text-red-500 mt-1",children:a}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Make sure the backend server is running on port 8085"})]})]})}),!s&&!a&&o.jsx("div",{className:"space-y-2",children:r.length===0?o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-gray-600",children:"No servers found"})}):r.map((w,D)=>{const T=x(w),P=c.has(T);return o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-700",children:T}),E(w)&&o.jsxs("div",{className:"bg-gray-100 rounded-md px-2 py-1 mt-2 inline-flex items-center gap-2",children:[o.jsxs("div",{className:"text-xs text-gray-600 flex items-center gap-1",children:[o.jsx("span",{children:"App:"}),b(w.applicationResponse),o.jsx("span",{children:"|"}),o.jsx("span",{children:"Comm:"}),b(w.communicationResponse)]}),o.jsx("button",{onClick:()=>N(w),className:"p-0.5 rounded text-blue-600 hover:text-blue-700 hover:bg-blue-50 transition-colors",title:"Edit server configuration",children:o.jsx(Sn,{size:12})})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("button",{onClick:()=>y(T),disabled:P,className:`
                              relative inline-flex h-4 w-8 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent 
                              transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2
                              ${w.isRunning?"bg-green-500 focus:ring-green-600":"bg-red-500 focus:ring-red-600"}
                              ${P?"opacity-50 cursor-not-allowed":""}
                            `,children:o.jsx("span",{className:`
                                pointer-events-none inline-block h-3 w-3 transform rounded-full bg-white shadow ring-0 
                                transition duration-200 ease-in-out
                                ${w.isRunning?"translate-x-4":"translate-x-0"}
                                ${P?"animate-pulse":""}
                              `})})})]})},D)})})]})}),o.jsx(BN,{server:d,isOpen:f,onClose:v,onSave:g})]}):null},zN=()=>{const e=dN();return o.jsxs(pN,{isSidebarOpen:e.isSidebarOpen,isServerSidebarOpen:e.isServerSidebarOpen,isMessageSaved:e.isMessageSaved,onToggleSidebar:e.toggleSidebar,onToggleServerSidebar:e.toggleServerSidebar,children:[o.jsx(yN,{sampleId:e.sampleId,selectedHost:e.selectedHost,selectedType:e.selectedType,selectedStatus:e.selectedStatus,generatedMessage:e.generatedMessage,messageCopied:e.messageCopied,isFetchingData:e.isFetchingData,isGeneratingMessage:e.isGeneratingMessage,isSendingMessage:e.isSendingMessage,generateButtonDisabled:e.generateButtonDisabled,messageTypes:e.messageTypes,hosts:e.hosts,isLoadingHosts:e.isLoadingHosts,selectedSpecimen:e.selectedSpecimen,selectedBlock:e.selectedBlock,selectedSlide:e.selectedSlide,selectedEntity:e.selectedEntity,showSpecimenSelector:e.showSpecimenSelector,showBlockSelector:e.showBlockSelector,showSlideSelector:e.showSlideSelector,showEntitySelector:e.showEntitySelector,showStatusSelector:e.showStatusSelector,message:e.message,sendResponse:e.sendResponse,error:e.error,handleSampleIdChange:e.handleSampleIdChange,handleHostChange:e.handleHostChange,handleTypeChange:e.handleTypeChange,handleStatusChange:e.handleStatusChange,togglePatientModal:e.togglePatientModal,togglePhysicianModal:e.togglePhysicianModal,togglePathologistModal:e.togglePathologistModal,toggleTechnicianModal:e.toggleTechnicianModal,toggleHierarchyModal:e.toggleHierarchyModal,toggleSpecimenSelectorModal:e.toggleSpecimenSelectorModal,toggleBlockSelectorModal:e.toggleBlockSelectorModal,toggleSlideSelectorModal:e.toggleSlideSelectorModal,toggleEntitySelectorModal:e.toggleEntitySelectorModal,generateMessage:e.generateMessage,sendMessage:e.sendMessage,copyToClipboard:e.copyToClipboard,updateGeneratedMessage:e.updateGeneratedMessage,saveMessageToSidebar:e.saveMessageToSidebar}),o.jsx(kN,{isPatientModalOpen:e.isPatientModalOpen,isPhysicianModalOpen:e.isPhysicianModalOpen,isPathologistModalOpen:e.isPathologistModalOpen,isHierarchyModalOpen:e.isHierarchyModalOpen,isTechnicianModalOpen:e.isTechnicianModalOpen,patientInfo:e.patientInfo,physicianInfo:e.physicianInfo,pathologistInfo:e.pathologistInfo,technicianInfo:e.technicianInfo,message:e.message,togglePatientModal:e.togglePatientModal,togglePhysicianModal:e.togglePhysicianModal,togglePathologistModal:e.togglePathologistModal,toggleHierarchyModal:e.toggleHierarchyModal,toggleTechnicianModal:e.toggleTechnicianModal,handlePatientInfoSave:e.handlePatientInfoSave,handlePhysicianInfoSave:e.handlePhysicianInfoSave,handlePathologistInfoSave:e.handlePathologistInfoSave,handleTechnicianInfoSave:e.handleTechnicianInfoSave}),o.jsx(MN,{isSpecimenSelectorModalOpen:e.isSpecimenSelectorModalOpen,isBlockSelectorModalOpen:e.isBlockSelectorModalOpen,isSlideSelectorModalOpen:e.isSlideSelectorModalOpen,isEntitySelectorModalOpen:e.isEntitySelectorModalOpen,message:e.message,toggleSpecimenSelectorModal:e.toggleSpecimenSelectorModal,toggleBlockSelectorModal:e.toggleBlockSelectorModal,toggleSlideSelectorModal:e.toggleSlideSelectorModal,toggleEntitySelectorModal:e.toggleEntitySelectorModal,handleSpecimenSelect:e.handleSpecimenSelect,handleBlockSelect:e.handleBlockSelect,handleSlideSelect:e.handleSlideSelect,handleEntitySelect:e.handleEntitySelect}),"      ",o.jsx(LN,{isSidebarOpen:e.isSidebarOpen,snackbar:e.snackbar,onToggleSidebar:e.toggleSidebar,onCloseSnackbar:e.closeSnackbar}),o.jsx(FN,{isServerSidebarOpen:e.isServerSidebarOpen,onToggleServerSidebar:e.toggleServerSidebar})]})};function $N(){return o.jsx("div",{className:"min-h-screen bg-gray-100 py-6",children:o.jsx(zN,{})})}const UN=()=>{try{const e=Me.getMessages();if(e.length===0){console.log("No messages to migrate");return}const r=pe.getLists().find(i=>i.name==="Default"||i.name==="Mensajes Migrados");if(r&&r.messages.length>0){console.log("Migration already completed");return}let n=r;n||(n=pe.createList("Mensajes Migrados","Mensajes importados del sistema anterior","#3B82F6"));let s=0;for(const i of e)try{pe.addMessage(i.content,i.host,i.messageType,i.messageControlId,n.id),s++}catch(a){console.error("Error migrating message:",i.id,a)}try{Me.clearAllMessages()}catch(i){console.warn("Could not clear old messages service:",i)}if(console.log(`Successfully migrated ${s} messages to the new lists system`),s>0){const i=document.createElement("div");i.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #10B981;
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 1000;
        font-family: system-ui, -apple-system, sans-serif;
        font-size: 14px;
        max-width: 300px;
      `,i.textContent=` ${s} mensajes migrados al nuevo sistema de listas`,document.body.appendChild(i),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},5e3)}}catch(e){console.error("Error during migration:",e);const t=document.createElement("div");t.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #EF4444;
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 14px;
      max-width: 300px;
    `,t.textContent=" Error al migrar mensajes. Consulta la consola para ms detalles.",document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},5e3)}};UN();Oa.createRoot(document.getElementById("root")).render(o.jsx($N,{}));
