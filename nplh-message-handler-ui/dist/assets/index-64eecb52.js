var ph=Object.defineProperty;var fh=(e,t,r)=>t in e?ph(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var me=(e,t,r)=>(fh(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Jl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jp={exports:{}},go={},kp={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=Symbol.for("react.element"),mh=Symbol.for("react.portal"),gh=Symbol.for("react.fragment"),hh=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),yh=Symbol.for("react.context"),bh=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),wh=Symbol.for("react.memo"),Nh=Symbol.for("react.lazy"),Eu=Symbol.iterator;function Eh(e){return e===null||typeof e!="object"?null:(e=Eu&&e[Eu]||e["@@iterator"],typeof e=="function"?e:null)}var Dp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ip=Object.assign,Tp={};function On(e,t,r){this.props=e,this.context=t,this.refs=Tp,this.updater=r||Dp}On.prototype.isReactComponent={};On.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};On.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rp(){}Rp.prototype=On.prototype;function Xl(e,t,r){this.props=e,this.context=t,this.refs=Tp,this.updater=r||Dp}var Zl=Xl.prototype=new Rp;Zl.constructor=Xl;Ip(Zl,On.prototype);Zl.isPureReactComponent=!0;var Cu=Array.isArray,Mp=Object.prototype.hasOwnProperty,ec={current:null},Pp={key:!0,ref:!0,__self:!0,__source:!0};function Op(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Mp.call(t,n)&&!Pp.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Bs,type:e,key:i,ref:a,props:s,_owner:ec.current}}function Ch(e,t){return{$$typeof:Bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bs}function jh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ju=/\/+/g;function Xo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jh(""+e.key):t.toString(36)}function Si(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Bs:case mh:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Xo(a,0):n,Cu(s)?(r="",e!=null&&(r=e.replace(ju,"$&/")+"/"),Si(s,t,r,"",function(d){return d})):s!=null&&(tc(s)&&(s=Ch(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ju,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Cu(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Xo(i,l);a+=Si(i,t,r,c,s)}else if(c=Eh(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Xo(i,l++),a+=Si(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ei(e,t,r){if(e==null)return e;var n=[],s=0;return Si(e,n,"","",function(i){return t.call(r,i,s++)}),n}function kh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},wi={transition:null},Dh={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:wi,ReactCurrentOwner:ec};function Lp(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:ei,forEach:function(e,t,r){ei(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ei(e,function(){t++}),t},toArray:function(e){return ei(e,function(t){return t})||[]},only:function(e){if(!tc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=On;ie.Fragment=gh;ie.Profiler=vh;ie.PureComponent=Xl;ie.StrictMode=hh;ie.Suspense=Sh;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dh;ie.act=Lp;ie.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ip({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ec.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Mp.call(t,c)&&!Pp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Bs,type:e.type,key:s,ref:i,props:n,_owner:a}};ie.createContext=function(e){return e={$$typeof:yh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xh,_context:e},e.Consumer=e};ie.createElement=Op;ie.createFactory=function(e){var t=Op.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:bh,render:e}};ie.isValidElement=tc;ie.lazy=function(e){return{$$typeof:Nh,_payload:{_status:-1,_result:e},_init:kh}};ie.memo=function(e,t){return{$$typeof:wh,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=wi.transition;wi.transition={};try{e()}finally{wi.transition=t}};ie.unstable_act=Lp;ie.useCallback=function(e,t){return Ze.current.useCallback(e,t)};ie.useContext=function(e){return Ze.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};ie.useEffect=function(e,t){return Ze.current.useEffect(e,t)};ie.useId=function(){return Ze.current.useId()};ie.useImperativeHandle=function(e,t,r){return Ze.current.useImperativeHandle(e,t,r)};ie.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return Ze.current.useMemo(e,t)};ie.useReducer=function(e,t,r){return Ze.current.useReducer(e,t,r)};ie.useRef=function(e){return Ze.current.useRef(e)};ie.useState=function(e){return Ze.current.useState(e)};ie.useSyncExternalStore=function(e,t,r){return Ze.current.useSyncExternalStore(e,t,r)};ie.useTransition=function(){return Ze.current.useTransition()};ie.version="18.3.1";kp.exports=ie;var j=kp.exports;const xe=Jl(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih=j,Th=Symbol.for("react.element"),Rh=Symbol.for("react.fragment"),Mh=Object.prototype.hasOwnProperty,Ph=Ih.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Oh={key:!0,ref:!0,__self:!0,__source:!0};function Ap(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Mh.call(t,n)&&!Oh.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Th,type:e,key:i,ref:a,props:s,_owner:Ph.current}}go.Fragment=Rh;go.jsx=Ap;go.jsxs=Ap;jp.exports=go;var o=jp.exports,$a={},Bp={exports:{}},mt={},Fp={exports:{}},$p={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,T){var L=N.length;N.push(T);e:for(;0<L;){var G=L-1>>>1,M=N[G];if(0<s(M,T))N[G]=T,N[L]=M,L=G;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var T=N[0],L=N.pop();if(L!==T){N[0]=L;e:for(var G=0,M=N.length,q=M>>>1;G<q;){var W=2*(G+1)-1,J=N[W],Q=W+1,ee=N[Q];if(0>s(J,L))Q<M&&0>s(ee,J)?(N[G]=ee,N[Q]=L,G=Q):(N[G]=J,N[W]=L,G=W);else if(Q<M&&0>s(ee,L))N[G]=ee,N[Q]=L,G=Q;else break e}}return T}function s(N,T){var L=N.sortIndex-T.sortIndex;return L!==0?L:N.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],d=[],f=1,p=null,u=3,m=!1,h=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var T=r(d);T!==null;){if(T.callback===null)n(d);else if(T.startTime<=N)n(d),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(d)}}function b(N){if(y=!1,x(N),!h)if(r(c)!==null)h=!0,z(E);else{var T=r(d);T!==null&&A(b,T.startTime-N)}}function E(N,T){h=!1,y&&(y=!1,v(I),I=-1),m=!0;var L=u;try{for(x(T),p=r(c);p!==null&&(!(p.expirationTime>T)||N&&!D());){var G=p.callback;if(typeof G=="function"){p.callback=null,u=p.priorityLevel;var M=G(p.expirationTime<=T);T=e.unstable_now(),typeof M=="function"?p.callback=M:p===r(c)&&n(c),x(T)}else n(c);p=r(c)}if(p!==null)var q=!0;else{var W=r(d);W!==null&&A(b,W.startTime-T),q=!1}return q}finally{p=null,u=L,m=!1}}var C=!1,R=null,I=-1,P=5,O=-1;function D(){return!(e.unstable_now()-O<P)}function $(){if(R!==null){var N=e.unstable_now();O=N;var T=!0;try{T=R(!0,N)}finally{T?_():(C=!1,R=null)}}else C=!1}var _;if(typeof g=="function")_=function(){g($)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=$,_=function(){B.postMessage(null)}}else _=function(){w($,0)};function z(N){R=N,C||(C=!0,_())}function A(N,T){I=w(function(){N(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,z(E))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(N){switch(u){case 1:case 2:case 3:var T=3;break;default:T=u}var L=u;u=T;try{return N()}finally{u=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,T){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=u;u=N;try{return T()}finally{u=L}},e.unstable_scheduleCallback=function(N,T,L){var G=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?G+L:G):L=G,N){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=L+M,N={id:f++,callback:T,priorityLevel:N,startTime:L,expirationTime:M,sortIndex:-1},L>G?(N.sortIndex=L,t(d,N),r(c)===null&&N===r(d)&&(y?(v(I),I=-1):y=!0,A(b,L-G))):(N.sortIndex=M,t(c,N),h||m||(h=!0,z(E))),N},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(N){var T=u;return function(){var L=u;u=T;try{return N.apply(this,arguments)}finally{u=L}}}})($p);Fp.exports=$p;var Lh=Fp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=j,ft=Lh;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zp=new Set,ms={};function en(e,t){En(e,t),En(e+"Capture",t)}function En(e,t){for(ms[e]=t,e=0;e<t.length;e++)zp.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),za=Object.prototype.hasOwnProperty,Bh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ku={},Du={};function Fh(e){return za.call(Du,e)?!0:za.call(ku,e)?!1:Bh.test(e)?Du[e]=!0:(ku[e]=!0,!1)}function $h(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zh(e,t,r,n){if(t===null||typeof t>"u"||$h(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var rc=/[\-:]([a-z])/g;function nc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rc,nc);Ge[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rc,nc);Ge[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rc,nc);Ge[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function sc(e,t,r,n){var s=Ge.hasOwnProperty(t)?Ge[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zh(t,r,s,n)&&(r=null),n||s===null?Fh(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xt=Ah.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ti=Symbol.for("react.element"),sn=Symbol.for("react.portal"),on=Symbol.for("react.fragment"),ic=Symbol.for("react.strict_mode"),Ua=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),Hp=Symbol.for("react.context"),oc=Symbol.for("react.forward_ref"),Ha=Symbol.for("react.suspense"),_a=Symbol.for("react.suspense_list"),ac=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),_p=Symbol.for("react.offscreen"),Iu=Symbol.iterator;function Un(e){return e===null||typeof e!="object"?null:(e=Iu&&e[Iu]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Zo;function Xn(e){if(Zo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zo=t&&t[1]||""}return`
`+Zo+e}var ea=!1;function ta(e,t){if(!e||ea)return"";ea=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{ea=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xn(e):""}function Uh(e){switch(e.tag){case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 2:case 15:return e=ta(e.type,!1),e;case 11:return e=ta(e.type.render,!1),e;case 1:return e=ta(e.type,!0),e;default:return""}}function Ga(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case on:return"Fragment";case sn:return"Portal";case Ua:return"Profiler";case ic:return"StrictMode";case Ha:return"Suspense";case _a:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hp:return(e.displayName||"Context")+".Consumer";case Up:return(e._context.displayName||"Context")+".Provider";case oc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ac:return t=e.displayName||null,t!==null?t:Ga(e.type)||"Memo";case er:t=e._payload,e=e._init;try{return Ga(e(t))}catch{}}return null}function Hh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ga(t);case 8:return t===ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _h(e){var t=Gp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ri(e){e._valueTracker||(e._valueTracker=_h(e))}function Wp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Gp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wa(e,t){var r=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Tu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vp(e,t){t=t.checked,t!=null&&sc(e,"checked",t,!1)}function Va(e,t){Vp(e,t);var r=wr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qa(e,t.type,r):t.hasOwnProperty("defaultValue")&&qa(e,t.type,wr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ru(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qa(e,t,r){(t!=="number"||Oi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zn=Array.isArray;function vn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(Zn(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wr(r)}}function qp(e,t){var r=wr(t.value),n=wr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ni,Qp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ni=ni||document.createElement("div"),ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gh=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(e){Gh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ns[t]=ns[e]})});function Yp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ns.hasOwnProperty(e)&&ns[e]?(""+t).trim():t+"px"}function Jp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Yp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Wh=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ya(e,t){if(t){if(Wh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Ja(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xa=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Za=null,xn=null,yn=null;function Ou(e){if(e=zs(e)){if(typeof Za!="function")throw Error(F(280));var t=e.stateNode;t&&(t=bo(t),Za(e.stateNode,e.type,t))}}function Xp(e){xn?yn?yn.push(e):yn=[e]:xn=e}function Zp(){if(xn){var e=xn,t=yn;if(yn=xn=null,Ou(e),t)for(e=0;e<t.length;e++)Ou(t[e])}}function ef(e,t){return e(t)}function tf(){}var ra=!1;function rf(e,t,r){if(ra)return e(t,r);ra=!0;try{return ef(e,t,r)}finally{ra=!1,(xn!==null||yn!==null)&&(tf(),Zp())}}function hs(e,t){var r=e.stateNode;if(r===null)return null;var n=bo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var el=!1;if(Kt)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){el=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{el=!1}function Vh(e,t,r,n,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var ss=!1,Li=null,Ai=!1,tl=null,qh={onError:function(e){ss=!0,Li=e}};function Kh(e,t,r,n,s,i,a,l,c){ss=!1,Li=null,Vh.apply(qh,arguments)}function Qh(e,t,r,n,s,i,a,l,c){if(Kh.apply(this,arguments),ss){if(ss){var d=Li;ss=!1,Li=null}else throw Error(F(198));Ai||(Ai=!0,tl=d)}}function tn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function nf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lu(e){if(tn(e)!==e)throw Error(F(188))}function Yh(e){var t=e.alternate;if(!t){if(t=tn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Lu(s),e;if(i===n)return Lu(s),t;i=i.sibling}throw Error(F(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function sf(e){return e=Yh(e),e!==null?of(e):null}function of(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=of(e);if(t!==null)return t;e=e.sibling}return null}var af=ft.unstable_scheduleCallback,Au=ft.unstable_cancelCallback,Jh=ft.unstable_shouldYield,Xh=ft.unstable_requestPaint,Ce=ft.unstable_now,Zh=ft.unstable_getCurrentPriorityLevel,cc=ft.unstable_ImmediatePriority,lf=ft.unstable_UserBlockingPriority,Bi=ft.unstable_NormalPriority,ev=ft.unstable_LowPriority,cf=ft.unstable_IdlePriority,ho=null,Ut=null;function tv(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(ho,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:sv,rv=Math.log,nv=Math.LN2;function sv(e){return e>>>=0,e===0?32:31-(rv(e)/nv|0)|0}var si=64,ii=4194304;function es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=es(l):(i&=a,i!==0&&(n=es(i)))}else a=r&~s,a!==0?n=es(a):i!==0&&(n=es(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ot(t),s=1<<r,n|=e[r],t&=~s;return n}function iv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ov(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ot(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=iv(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uf(){var e=si;return si<<=1,!(si&4194240)&&(si=64),e}function na(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=r}function av(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ot(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function uc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ot(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ce=0;function df(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pf,dc,ff,mf,gf,nl=!1,oi=[],cr=null,ur=null,dr=null,vs=new Map,xs=new Map,sr=[],lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bu(e,t){switch(e){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function _n(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=zs(t),t!==null&&dc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cv(e,t,r,n,s){switch(t){case"focusin":return cr=_n(cr,e,t,r,n,s),!0;case"dragenter":return ur=_n(ur,e,t,r,n,s),!0;case"mouseover":return dr=_n(dr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return vs.set(i,_n(vs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,xs.set(i,_n(xs.get(i)||null,e,t,r,n,s)),!0}return!1}function hf(e){var t=Ur(e.target);if(t!==null){var r=tn(t);if(r!==null){if(t=r.tag,t===13){if(t=nf(r),t!==null){e.blockedOn=t,gf(e.priority,function(){ff(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Xa=n,r.target.dispatchEvent(n),Xa=null}else return t=zs(r),t!==null&&dc(t),e.blockedOn=r,!1;t.shift()}return!0}function Fu(e,t,r){Ni(e)&&r.delete(t)}function uv(){nl=!1,cr!==null&&Ni(cr)&&(cr=null),ur!==null&&Ni(ur)&&(ur=null),dr!==null&&Ni(dr)&&(dr=null),vs.forEach(Fu),xs.forEach(Fu)}function Gn(e,t){e.blockedOn===t&&(e.blockedOn=null,nl||(nl=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,uv)))}function ys(e){function t(s){return Gn(s,e)}if(0<oi.length){Gn(oi[0],e);for(var r=1;r<oi.length;r++){var n=oi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(cr!==null&&Gn(cr,e),ur!==null&&Gn(ur,e),dr!==null&&Gn(dr,e),vs.forEach(t),xs.forEach(t),r=0;r<sr.length;r++)n=sr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)hf(r),r.blockedOn===null&&sr.shift()}var bn=Xt.ReactCurrentBatchConfig,$i=!0;function dv(e,t,r,n){var s=ce,i=bn.transition;bn.transition=null;try{ce=1,pc(e,t,r,n)}finally{ce=s,bn.transition=i}}function pv(e,t,r,n){var s=ce,i=bn.transition;bn.transition=null;try{ce=4,pc(e,t,r,n)}finally{ce=s,bn.transition=i}}function pc(e,t,r,n){if($i){var s=sl(e,t,r,n);if(s===null)fa(e,t,n,zi,r),Bu(e,n);else if(cv(s,e,t,r,n))n.stopPropagation();else if(Bu(e,n),t&4&&-1<lv.indexOf(e)){for(;s!==null;){var i=zs(s);if(i!==null&&pf(i),i=sl(e,t,r,n),i===null&&fa(e,t,n,zi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else fa(e,t,n,null,r)}}var zi=null;function sl(e,t,r,n){if(zi=null,e=lc(n),e=Ur(e),e!==null)if(t=tn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=nf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zi=e,null}function vf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zh()){case cc:return 1;case lf:return 4;case Bi:case ev:return 16;case cf:return 536870912;default:return 16}default:return 16}}var ar=null,fc=null,Ei=null;function xf(){if(Ei)return Ei;var e,t=fc,r=t.length,n,s="value"in ar?ar.value:ar.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ei=s.slice(e,1<n?1-n:void 0)}function Ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function $u(){return!1}function gt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ai:$u,this.isPropagationStopped=$u,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=gt(Ln),$s=Ne({},Ln,{view:0,detail:0}),fv=gt($s),sa,ia,Wn,vo=Ne({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(sa=e.screenX-Wn.screenX,ia=e.screenY-Wn.screenY):ia=sa=0,Wn=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),zu=gt(vo),mv=Ne({},vo,{dataTransfer:0}),gv=gt(mv),hv=Ne({},$s,{relatedTarget:0}),oa=gt(hv),vv=Ne({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),xv=gt(vv),yv=Ne({},Ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bv=gt(yv),Sv=Ne({},Ln,{data:0}),Uu=gt(Sv),wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ev[e])?!!t[e]:!1}function gc(){return Cv}var jv=Ne({},$s,{key:function(e){if(e.key){var t=wv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(e){return e.type==="keypress"?Ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kv=gt(jv),Dv=Ne({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=gt(Dv),Iv=Ne({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),Tv=gt(Iv),Rv=Ne({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mv=gt(Rv),Pv=Ne({},vo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ov=gt(Pv),Lv=[9,13,27,32],hc=Kt&&"CompositionEvent"in window,is=null;Kt&&"documentMode"in document&&(is=document.documentMode);var Av=Kt&&"TextEvent"in window&&!is,yf=Kt&&(!hc||is&&8<is&&11>=is),_u=String.fromCharCode(32),Gu=!1;function bf(e,t){switch(e){case"keyup":return Lv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var an=!1;function Bv(e,t){switch(e){case"compositionend":return Sf(t);case"keypress":return t.which!==32?null:(Gu=!0,_u);case"textInput":return e=t.data,e===_u&&Gu?null:e;default:return null}}function Fv(e,t){if(an)return e==="compositionend"||!hc&&bf(e,t)?(e=xf(),Ei=fc=ar=null,an=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yf&&t.locale!=="ko"?null:t.data;default:return null}}var $v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$v[e.type]:t==="textarea"}function wf(e,t,r,n){Xp(n),t=Ui(t,"onChange"),0<t.length&&(r=new mc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var os=null,bs=null;function zv(e){Pf(e,0)}function xo(e){var t=un(e);if(Wp(t))return e}function Uv(e,t){if(e==="change")return t}var Nf=!1;if(Kt){var aa;if(Kt){var la="oninput"in document;if(!la){var Vu=document.createElement("div");Vu.setAttribute("oninput","return;"),la=typeof Vu.oninput=="function"}aa=la}else aa=!1;Nf=aa&&(!document.documentMode||9<document.documentMode)}function qu(){os&&(os.detachEvent("onpropertychange",Ef),bs=os=null)}function Ef(e){if(e.propertyName==="value"&&xo(bs)){var t=[];wf(t,bs,e,lc(e)),rf(zv,t)}}function Hv(e,t,r){e==="focusin"?(qu(),os=t,bs=r,os.attachEvent("onpropertychange",Ef)):e==="focusout"&&qu()}function _v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xo(bs)}function Gv(e,t){if(e==="click")return xo(t)}function Wv(e,t){if(e==="input"||e==="change")return xo(t)}function Vv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Vv;function Ss(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!za.call(t,s)||!At(e[s],t[s]))return!1}return!0}function Ku(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qu(e,t){var r=Ku(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ku(r)}}function Cf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jf(){for(var e=window,t=Oi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Oi(e.document)}return t}function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qv(e){var t=jf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cf(r.ownerDocument.documentElement,r)){if(n!==null&&vc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Qu(r,i);var a=Qu(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kv=Kt&&"documentMode"in document&&11>=document.documentMode,ln=null,il=null,as=null,ol=!1;function Yu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ol||ln==null||ln!==Oi(n)||(n=ln,"selectionStart"in n&&vc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),as&&Ss(as,n)||(as=n,n=Ui(il,"onSelect"),0<n.length&&(t=new mc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ln)))}function li(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cn={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionend:li("Transition","TransitionEnd")},ca={},kf={};Kt&&(kf=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);function yo(e){if(ca[e])return ca[e];if(!cn[e])return e;var t=cn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kf)return ca[e]=t[r];return e}var Df=yo("animationend"),If=yo("animationiteration"),Tf=yo("animationstart"),Rf=yo("transitionend"),Mf=new Map,Ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Mf.set(e,t),en(t,[e])}for(var ua=0;ua<Ju.length;ua++){var da=Ju[ua],Qv=da.toLowerCase(),Yv=da[0].toUpperCase()+da.slice(1);jr(Qv,"on"+Yv)}jr(Df,"onAnimationEnd");jr(If,"onAnimationIteration");jr(Tf,"onAnimationStart");jr("dblclick","onDoubleClick");jr("focusin","onFocus");jr("focusout","onBlur");jr(Rf,"onTransitionEnd");En("onMouseEnter",["mouseout","mouseover"]);En("onMouseLeave",["mouseout","mouseover"]);En("onPointerEnter",["pointerout","pointerover"]);En("onPointerLeave",["pointerout","pointerover"]);en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));en("onBeforeInput",["compositionend","keypress","textInput","paste"]);en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function Xu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Qh(n,t,void 0,e),e.currentTarget=null}function Pf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Xu(s,l,d),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Xu(s,l,d),i=c}}}if(Ai)throw e=tl,Ai=!1,tl=null,e}function ve(e,t){var r=t[dl];r===void 0&&(r=t[dl]=new Set);var n=e+"__bubble";r.has(n)||(Of(t,e,2,!1),r.add(n))}function pa(e,t,r){var n=0;t&&(n|=4),Of(r,e,n,t)}var ci="_reactListening"+Math.random().toString(36).slice(2);function ws(e){if(!e[ci]){e[ci]=!0,zp.forEach(function(r){r!=="selectionchange"&&(Jv.has(r)||pa(r,!1,e),pa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ci]||(t[ci]=!0,pa("selectionchange",!1,t))}}function Of(e,t,r,n){switch(vf(t)){case 1:var s=dv;break;case 4:s=pv;break;default:s=pc}r=s.bind(null,t,r,e),s=void 0,!el||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function fa(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ur(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}rf(function(){var d=i,f=lc(r),p=[];e:{var u=Mf.get(e);if(u!==void 0){var m=mc,h=e;switch(e){case"keypress":if(Ci(r)===0)break e;case"keydown":case"keyup":m=kv;break;case"focusin":h="focus",m=oa;break;case"focusout":h="blur",m=oa;break;case"beforeblur":case"afterblur":m=oa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Tv;break;case Df:case If:case Tf:m=xv;break;case Rf:m=Mv;break;case"scroll":m=fv;break;case"wheel":m=Ov;break;case"copy":case"cut":case"paste":m=bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hu}var y=(t&4)!==0,w=!y&&e==="scroll",v=y?u!==null?u+"Capture":null:u;y=[];for(var g=d,x;g!==null;){x=g;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=hs(g,v),b!=null&&y.push(Ns(g,b,x)))),w)break;g=g.return}0<y.length&&(u=new m(u,h,null,r,f),p.push({event:u,listeners:y}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",u&&r!==Xa&&(h=r.relatedTarget||r.fromElement)&&(Ur(h)||h[Qt]))break e;if((m||u)&&(u=f.window===f?f:(u=f.ownerDocument)?u.defaultView||u.parentWindow:window,m?(h=r.relatedTarget||r.toElement,m=d,h=h?Ur(h):null,h!==null&&(w=tn(h),h!==w||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=d),m!==h)){if(y=zu,b="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Hu,b="onPointerLeave",v="onPointerEnter",g="pointer"),w=m==null?u:un(m),x=h==null?u:un(h),u=new y(b,g+"leave",m,r,f),u.target=w,u.relatedTarget=x,b=null,Ur(f)===d&&(y=new y(v,g+"enter",h,r,f),y.target=x,y.relatedTarget=w,b=y),w=b,m&&h)t:{for(y=m,v=h,g=0,x=y;x;x=rn(x))g++;for(x=0,b=v;b;b=rn(b))x++;for(;0<g-x;)y=rn(y),g--;for(;0<x-g;)v=rn(v),x--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=rn(y),v=rn(v)}y=null}else y=null;m!==null&&Zu(p,u,m,y,!1),h!==null&&w!==null&&Zu(p,w,h,y,!0)}}e:{if(u=d?un(d):window,m=u.nodeName&&u.nodeName.toLowerCase(),m==="select"||m==="input"&&u.type==="file")var E=Uv;else if(Wu(u))if(Nf)E=Wv;else{E=_v;var C=Hv}else(m=u.nodeName)&&m.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(E=Gv);if(E&&(E=E(e,d))){wf(p,E,r,f);break e}C&&C(e,u,d),e==="focusout"&&(C=u._wrapperState)&&C.controlled&&u.type==="number"&&qa(u,"number",u.value)}switch(C=d?un(d):window,e){case"focusin":(Wu(C)||C.contentEditable==="true")&&(ln=C,il=d,as=null);break;case"focusout":as=il=ln=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,Yu(p,r,f);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":Yu(p,r,f)}var R;if(hc)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else an?bf(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(yf&&r.locale!=="ko"&&(an||I!=="onCompositionStart"?I==="onCompositionEnd"&&an&&(R=xf()):(ar=f,fc="value"in ar?ar.value:ar.textContent,an=!0)),C=Ui(d,I),0<C.length&&(I=new Uu(I,e,null,r,f),p.push({event:I,listeners:C}),R?I.data=R:(R=Sf(r),R!==null&&(I.data=R)))),(R=Av?Bv(e,r):Fv(e,r))&&(d=Ui(d,"onBeforeInput"),0<d.length&&(f=new Uu("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:d}),f.data=R))}Pf(p,t)})}function Ns(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ui(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hs(e,r),i!=null&&n.unshift(Ns(e,i,s)),i=hs(e,t),i!=null&&n.push(Ns(e,i,s))),e=e.return}return n}function rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zu(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=hs(r,i),c!=null&&a.unshift(Ns(r,c,l))):s||(c=hs(r,i),c!=null&&a.push(Ns(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Xv=/\r\n?/g,Zv=/\u0000|\uFFFD/g;function ed(e){return(typeof e=="string"?e:""+e).replace(Xv,`
`).replace(Zv,"")}function ui(e,t,r){if(t=ed(t),ed(e)!==t&&r)throw Error(F(425))}function Hi(){}var al=null,ll=null;function cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ul=typeof setTimeout=="function"?setTimeout:void 0,e0=typeof clearTimeout=="function"?clearTimeout:void 0,td=typeof Promise=="function"?Promise:void 0,t0=typeof queueMicrotask=="function"?queueMicrotask:typeof td<"u"?function(e){return td.resolve(null).then(e).catch(r0)}:ul;function r0(e){setTimeout(function(){throw e})}function ma(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ys(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ys(t)}function pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),zt="__reactFiber$"+An,Es="__reactProps$"+An,Qt="__reactContainer$"+An,dl="__reactEvents$"+An,n0="__reactListeners$"+An,s0="__reactHandles$"+An;function Ur(e){var t=e[zt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qt]||r[zt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rd(e);e!==null;){if(r=e[zt])return r;e=rd(e)}return t}e=r,r=e.parentNode}return null}function zs(e){return e=e[zt]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function bo(e){return e[Es]||null}var pl=[],dn=-1;function kr(e){return{current:e}}function ye(e){0>dn||(e.current=pl[dn],pl[dn]=null,dn--)}function he(e,t){dn++,pl[dn]=e.current,e.current=t}var Nr={},Qe=kr(Nr),st=kr(!1),qr=Nr;function Cn(e,t){var r=e.type.contextTypes;if(!r)return Nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function it(e){return e=e.childContextTypes,e!=null}function _i(){ye(st),ye(Qe)}function nd(e,t,r){if(Qe.current!==Nr)throw Error(F(168));he(Qe,t),he(st,r)}function Lf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(F(108,Hh(e)||"Unknown",s));return Ne({},r,n)}function Gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,qr=Qe.current,he(Qe,e),he(st,st.current),!0}function sd(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=Lf(e,t,qr),n.__reactInternalMemoizedMergedChildContext=e,ye(st),ye(Qe),he(Qe,e)):ye(st),he(st,r)}var Gt=null,So=!1,ga=!1;function Af(e){Gt===null?Gt=[e]:Gt.push(e)}function i0(e){So=!0,Af(e)}function Dr(){if(!ga&&Gt!==null){ga=!0;var e=0,t=ce;try{var r=Gt;for(ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Gt=null,So=!1}catch(s){throw Gt!==null&&(Gt=Gt.slice(e+1)),af(cc,Dr),s}finally{ce=t,ga=!1}}return null}var pn=[],fn=0,Wi=null,Vi=0,xt=[],yt=0,Kr=null,Wt=1,Vt="";function Pr(e,t){pn[fn++]=Vi,pn[fn++]=Wi,Wi=e,Vi=t}function Bf(e,t,r){xt[yt++]=Wt,xt[yt++]=Vt,xt[yt++]=Kr,Kr=e;var n=Wt;e=Vt;var s=32-Ot(n)-1;n&=~(1<<s),r+=1;var i=32-Ot(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Wt=1<<32-Ot(t)+s|r<<s|n,Vt=i+e}else Wt=1<<i|r<<s|n,Vt=e}function xc(e){e.return!==null&&(Pr(e,1),Bf(e,1,0))}function yc(e){for(;e===Wi;)Wi=pn[--fn],pn[fn]=null,Vi=pn[--fn],pn[fn]=null;for(;e===Kr;)Kr=xt[--yt],xt[yt]=null,Vt=xt[--yt],xt[yt]=null,Wt=xt[--yt],xt[yt]=null}var ut=null,lt=null,be=!1,Mt=null;function Ff(e,t){var r=bt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function id(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,lt=pr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Kr!==null?{id:Wt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ut=e,lt=null,!0):!1;default:return!1}}function fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ml(e){if(be){var t=lt;if(t){var r=t;if(!id(e,t)){if(fl(e))throw Error(F(418));t=pr(r.nextSibling);var n=ut;t&&id(e,t)?Ff(n,r):(e.flags=e.flags&-4097|2,be=!1,ut=e)}}else{if(fl(e))throw Error(F(418));e.flags=e.flags&-4097|2,be=!1,ut=e}}}function od(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function di(e){if(e!==ut)return!1;if(!be)return od(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cl(e.type,e.memoizedProps)),t&&(t=lt)){if(fl(e))throw $f(),Error(F(418));for(;t;)Ff(e,t),t=pr(t.nextSibling)}if(od(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){lt=pr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=ut?pr(e.stateNode.nextSibling):null;return!0}function $f(){for(var e=lt;e;)e=pr(e.nextSibling)}function jn(){lt=ut=null,be=!1}function bc(e){Mt===null?Mt=[e]:Mt.push(e)}var o0=Xt.ReactCurrentBatchConfig;function Vn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function pi(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ad(e){var t=e._init;return t(e._payload)}function zf(e){function t(v,g){if(e){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=hr(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,x,b){return g===null||g.tag!==6?(g=wa(x,v.mode,b),g.return=v,g):(g=s(g,x),g.return=v,g)}function c(v,g,x,b){var E=x.type;return E===on?f(v,g,x.props.children,b,x.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===er&&ad(E)===g.type)?(b=s(g,x.props),b.ref=Vn(v,g,x),b.return=v,b):(b=Mi(x.type,x.key,x.props,null,v.mode,b),b.ref=Vn(v,g,x),b.return=v,b)}function d(v,g,x,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Na(x,v.mode,b),g.return=v,g):(g=s(g,x.children||[]),g.return=v,g)}function f(v,g,x,b,E){return g===null||g.tag!==7?(g=Vr(x,v.mode,b,E),g.return=v,g):(g=s(g,x),g.return=v,g)}function p(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=wa(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ti:return x=Mi(g.type,g.key,g.props,null,v.mode,x),x.ref=Vn(v,null,g),x.return=v,x;case sn:return g=Na(g,v.mode,x),g.return=v,g;case er:var b=g._init;return p(v,b(g._payload),x)}if(Zn(g)||Un(g))return g=Vr(g,v.mode,x,null),g.return=v,g;pi(v,g)}return null}function u(v,g,x,b){var E=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:l(v,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ti:return x.key===E?c(v,g,x,b):null;case sn:return x.key===E?d(v,g,x,b):null;case er:return E=x._init,u(v,g,E(x._payload),b)}if(Zn(x)||Un(x))return E!==null?null:f(v,g,x,b,null);pi(v,x)}return null}function m(v,g,x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,l(g,v,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ti:return v=v.get(b.key===null?x:b.key)||null,c(g,v,b,E);case sn:return v=v.get(b.key===null?x:b.key)||null,d(g,v,b,E);case er:var C=b._init;return m(v,g,x,C(b._payload),E)}if(Zn(b)||Un(b))return v=v.get(x)||null,f(g,v,b,E,null);pi(g,b)}return null}function h(v,g,x,b){for(var E=null,C=null,R=g,I=g=0,P=null;R!==null&&I<x.length;I++){R.index>I?(P=R,R=null):P=R.sibling;var O=u(v,R,x[I],b);if(O===null){R===null&&(R=P);break}e&&R&&O.alternate===null&&t(v,R),g=i(O,g,I),C===null?E=O:C.sibling=O,C=O,R=P}if(I===x.length)return r(v,R),be&&Pr(v,I),E;if(R===null){for(;I<x.length;I++)R=p(v,x[I],b),R!==null&&(g=i(R,g,I),C===null?E=R:C.sibling=R,C=R);return be&&Pr(v,I),E}for(R=n(v,R);I<x.length;I++)P=m(R,v,I,x[I],b),P!==null&&(e&&P.alternate!==null&&R.delete(P.key===null?I:P.key),g=i(P,g,I),C===null?E=P:C.sibling=P,C=P);return e&&R.forEach(function(D){return t(v,D)}),be&&Pr(v,I),E}function y(v,g,x,b){var E=Un(x);if(typeof E!="function")throw Error(F(150));if(x=E.call(x),x==null)throw Error(F(151));for(var C=E=null,R=g,I=g=0,P=null,O=x.next();R!==null&&!O.done;I++,O=x.next()){R.index>I?(P=R,R=null):P=R.sibling;var D=u(v,R,O.value,b);if(D===null){R===null&&(R=P);break}e&&R&&D.alternate===null&&t(v,R),g=i(D,g,I),C===null?E=D:C.sibling=D,C=D,R=P}if(O.done)return r(v,R),be&&Pr(v,I),E;if(R===null){for(;!O.done;I++,O=x.next())O=p(v,O.value,b),O!==null&&(g=i(O,g,I),C===null?E=O:C.sibling=O,C=O);return be&&Pr(v,I),E}for(R=n(v,R);!O.done;I++,O=x.next())O=m(R,v,I,O.value,b),O!==null&&(e&&O.alternate!==null&&R.delete(O.key===null?I:O.key),g=i(O,g,I),C===null?E=O:C.sibling=O,C=O);return e&&R.forEach(function($){return t(v,$)}),be&&Pr(v,I),E}function w(v,g,x,b){if(typeof x=="object"&&x!==null&&x.type===on&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ti:e:{for(var E=x.key,C=g;C!==null;){if(C.key===E){if(E=x.type,E===on){if(C.tag===7){r(v,C.sibling),g=s(C,x.props.children),g.return=v,v=g;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===er&&ad(E)===C.type){r(v,C.sibling),g=s(C,x.props),g.ref=Vn(v,C,x),g.return=v,v=g;break e}r(v,C);break}else t(v,C);C=C.sibling}x.type===on?(g=Vr(x.props.children,v.mode,b,x.key),g.return=v,v=g):(b=Mi(x.type,x.key,x.props,null,v.mode,b),b.ref=Vn(v,g,x),b.return=v,v=b)}return a(v);case sn:e:{for(C=x.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(v,g.sibling),g=s(g,x.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Na(x,v.mode,b),g.return=v,v=g}return a(v);case er:return C=x._init,w(v,g,C(x._payload),b)}if(Zn(x))return h(v,g,x,b);if(Un(x))return y(v,g,x,b);pi(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,x),g.return=v,v=g):(r(v,g),g=wa(x,v.mode,b),g.return=v,v=g),a(v)):r(v,g)}return w}var kn=zf(!0),Uf=zf(!1),qi=kr(null),Ki=null,mn=null,Sc=null;function wc(){Sc=mn=Ki=null}function Nc(e){var t=qi.current;ye(qi),e._currentValue=t}function gl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Sn(e,t){Ki=e,Sc=mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Sc!==e)if(e={context:e,memoizedValue:t,next:null},mn===null){if(Ki===null)throw Error(F(308));mn=e,Ki.dependencies={lanes:0,firstContext:e}}else mn=mn.next=e;return t}var Hr=null;function Ec(e){Hr===null?Hr=[e]:Hr.push(e)}function Hf(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ec(t)):(r.next=s.next,s.next=r),t.interleaved=r,Yt(e,n)}function Yt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var tr=!1;function Cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Yt(e,r)}return s=n.interleaved,s===null?(t.next=t,Ec(n)):(t.next=s.next,s.next=t),n.interleaved=t,Yt(e,r)}function ji(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uc(e,r)}}function ld(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qi(e,t,r,n){var s=e.updateQueue;tr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;a=0,f=d=c=null,l=i;do{var u=l.lane,m=l.eventTime;if((n&u)===u){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,y=l;switch(u=t,m=r,y.tag){case 1:if(h=y.payload,typeof h=="function"){p=h.call(m,p,u);break e}p=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,u=typeof h=="function"?h.call(m,p,u):h,u==null)break e;p=Ne({},p,u);break e;case 2:tr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,u=s.effects,u===null?s.effects=[l]:u.push(l))}else m={eventTime:m,lane:u,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=m,c=p):f=f.next=m,a|=u;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;u=l,l=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(1);if(f===null&&(c=p),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Yr|=a,e.lanes=a,e.memoizedState=p}}function cd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(F(191,s));s.call(n)}}}var Us={},Ht=kr(Us),Cs=kr(Us),js=kr(Us);function _r(e){if(e===Us)throw Error(F(174));return e}function jc(e,t){switch(he(js,t),he(Cs,e),he(Ht,Us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qa(t,e)}ye(Ht),he(Ht,t)}function Dn(){ye(Ht),ye(Cs),ye(js)}function Gf(e){_r(js.current);var t=_r(Ht.current),r=Qa(t,e.type);t!==r&&(he(Cs,e),he(Ht,r))}function kc(e){Cs.current===e&&(ye(Ht),ye(Cs))}var Se=kr(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=[];function Dc(){for(var e=0;e<ha.length;e++)ha[e]._workInProgressVersionPrimary=null;ha.length=0}var ki=Xt.ReactCurrentDispatcher,va=Xt.ReactCurrentBatchConfig,Qr=0,we=null,Ie=null,Pe=null,Ji=!1,ls=!1,ks=0,a0=0;function Ve(){throw Error(F(321))}function Ic(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!At(e[r],t[r]))return!1;return!0}function Tc(e,t,r,n,s,i){if(Qr=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ki.current=e===null||e.memoizedState===null?d0:p0,e=r(n,s),ls){i=0;do{if(ls=!1,ks=0,25<=i)throw Error(F(301));i+=1,Pe=Ie=null,t.updateQueue=null,ki.current=f0,e=r(n,s)}while(ls)}if(ki.current=Xi,t=Ie!==null&&Ie.next!==null,Qr=0,Pe=Ie=we=null,Ji=!1,t)throw Error(F(300));return e}function Rc(){var e=ks!==0;return ks=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?we.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Ct(){if(Ie===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Pe===null?we.memoizedState:Pe.next;if(t!==null)Pe=t,Ie=e;else{if(e===null)throw Error(F(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Pe===null?we.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Ds(e,t){return typeof t=="function"?t(e):t}function xa(e){var t=Ct(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Ie,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,d=i;do{var f=d.lane;if((Qr&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=p,a=n):c=c.next=p,we.lanes|=f,Yr|=f}d=d.next}while(d!==null&&d!==i);c===null?a=n:c.next=l,At(n,t.memoizedState)||(nt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,Yr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ya(e){var t=Ct(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);At(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Wf(){}function Vf(e,t){var r=we,n=Ct(),s=t(),i=!At(n.memoizedState,s);if(i&&(n.memoizedState=s,nt=!0),n=n.queue,Mc(Qf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Pe!==null&&Pe.memoizedState.tag&1){if(r.flags|=2048,Is(9,Kf.bind(null,r,n,s,t),void 0,null),Oe===null)throw Error(F(349));Qr&30||qf(r,t,s)}return s}function qf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Kf(e,t,r,n){t.value=r,t.getSnapshot=n,Yf(t)&&Jf(e)}function Qf(e,t,r){return r(function(){Yf(t)&&Jf(e)})}function Yf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!At(e,r)}catch{return!0}}function Jf(e){var t=Yt(e,1);t!==null&&Lt(t,e,1,-1)}function ud(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:e},t.queue=e,e=e.dispatch=u0.bind(null,we,e),[t.memoizedState,e]}function Is(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Xf(){return Ct().memoizedState}function Di(e,t,r,n){var s=$t();we.flags|=e,s.memoizedState=Is(1|t,r,void 0,n===void 0?null:n)}function wo(e,t,r,n){var s=Ct();n=n===void 0?null:n;var i=void 0;if(Ie!==null){var a=Ie.memoizedState;if(i=a.destroy,n!==null&&Ic(n,a.deps)){s.memoizedState=Is(t,r,i,n);return}}we.flags|=e,s.memoizedState=Is(1|t,r,i,n)}function dd(e,t){return Di(8390656,8,e,t)}function Mc(e,t){return wo(2048,8,e,t)}function Zf(e,t){return wo(4,2,e,t)}function em(e,t){return wo(4,4,e,t)}function tm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rm(e,t,r){return r=r!=null?r.concat([e]):null,wo(4,4,tm.bind(null,t,e),r)}function Pc(){}function nm(e,t){var r=Ct();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ic(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function sm(e,t){var r=Ct();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ic(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function im(e,t,r){return Qr&21?(At(r,t)||(r=uf(),we.lanes|=r,Yr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r)}function l0(e,t){var r=ce;ce=r!==0&&4>r?r:4,e(!0);var n=va.transition;va.transition={};try{e(!1),t()}finally{ce=r,va.transition=n}}function om(){return Ct().memoizedState}function c0(e,t,r){var n=gr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},am(e))lm(t,r);else if(r=Hf(e,t,r,n),r!==null){var s=Xe();Lt(r,e,n,s),cm(r,t,n)}}function u0(e,t,r){var n=gr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(am(e))lm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,At(l,a)){var c=t.interleaved;c===null?(s.next=s,Ec(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Hf(e,t,s,n),r!==null&&(s=Xe(),Lt(r,e,n,s),cm(r,t,n))}}function am(e){var t=e.alternate;return e===we||t!==null&&t===we}function lm(e,t){ls=Ji=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function cm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uc(e,r)}}var Xi={readContext:Et,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},d0={readContext:Et,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:dd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Di(4194308,4,tm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Di(4194308,4,e,t)},useInsertionEffect:function(e,t){return Di(4,2,e,t)},useMemo:function(e,t){var r=$t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=c0.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:ud,useDebugValue:Pc,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=ud(!1),t=e[0];return e=l0.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=we,s=$t();if(be){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),Oe===null)throw Error(F(349));Qr&30||qf(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,dd(Qf.bind(null,n,i,e),[e]),n.flags|=2048,Is(9,Kf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=$t(),t=Oe.identifierPrefix;if(be){var r=Vt,n=Wt;r=(n&~(1<<32-Ot(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ks++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=a0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p0={readContext:Et,useCallback:nm,useContext:Et,useEffect:Mc,useImperativeHandle:rm,useInsertionEffect:Zf,useLayoutEffect:em,useMemo:sm,useReducer:xa,useRef:Xf,useState:function(){return xa(Ds)},useDebugValue:Pc,useDeferredValue:function(e){var t=Ct();return im(t,Ie.memoizedState,e)},useTransition:function(){var e=xa(Ds)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Wf,useSyncExternalStore:Vf,useId:om,unstable_isNewReconciler:!1},f0={readContext:Et,useCallback:nm,useContext:Et,useEffect:Mc,useImperativeHandle:rm,useInsertionEffect:Zf,useLayoutEffect:em,useMemo:sm,useReducer:ya,useRef:Xf,useState:function(){return ya(Ds)},useDebugValue:Pc,useDeferredValue:function(e){var t=Ct();return Ie===null?t.memoizedState=e:im(t,Ie.memoizedState,e)},useTransition:function(){var e=ya(Ds)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Wf,useSyncExternalStore:Vf,useId:om,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ne({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var No={isMounted:function(e){return(e=e._reactInternals)?tn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xe(),s=gr(e),i=qt(n,s);i.payload=t,r!=null&&(i.callback=r),t=fr(e,i,s),t!==null&&(Lt(t,e,s,n),ji(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xe(),s=gr(e),i=qt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fr(e,i,s),t!==null&&(Lt(t,e,s,n),ji(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xe(),n=gr(e),s=qt(r,n);s.tag=2,t!=null&&(s.callback=t),t=fr(e,s,n),t!==null&&(Lt(t,e,n,r),ji(t,e,n))}};function pd(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ss(r,n)||!Ss(s,i):!0}function um(e,t,r){var n=!1,s=Nr,i=t.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=it(t)?qr:Qe.current,n=t.contextTypes,i=(n=n!=null)?Cn(e,s):Nr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=No,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function fd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function vl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Cc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=it(t)?qr:Qe.current,s.context=Cn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&No.enqueueReplaceState(s,s.state,null),Qi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function In(e,t){try{var r="",n=t;do r+=Uh(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ba(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var m0=typeof WeakMap=="function"?WeakMap:Map;function dm(e,t,r){r=qt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){eo||(eo=!0,Dl=n),xl(e,t)},r}function pm(e,t,r){r=qt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){xl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){xl(e,t),typeof n!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function md(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new m0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=D0.bind(null,e,t,r),t.then(e,e))}function gd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hd(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=qt(-1,1),t.tag=2,fr(r,t,1))),r.lanes|=1),e)}var g0=Xt.ReactCurrentOwner,nt=!1;function Je(e,t,r,n){t.child=e===null?Uf(t,null,r,n):kn(t,e.child,r,n)}function vd(e,t,r,n,s){r=r.render;var i=t.ref;return Sn(t,s),n=Tc(e,t,r,n,i,s),r=Rc(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jt(e,t,s)):(be&&r&&xc(t),t.flags|=1,Je(e,t,n,s),t.child)}function xd(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Uc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,fm(e,t,i,n,s)):(e=Mi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ss,r(a,n)&&e.ref===t.ref)return Jt(e,t,s)}return t.flags|=1,e=hr(i,n),e.ref=t.ref,e.return=t,t.child=e}function fm(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ss(i,n)&&e.ref===t.ref)if(nt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,Jt(e,t,s)}return yl(e,t,r,n,s)}function mm(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(hn,at),at|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(hn,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,he(hn,at),at|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,he(hn,at),at|=n;return Je(e,t,s,r),t.child}function gm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yl(e,t,r,n,s){var i=it(r)?qr:Qe.current;return i=Cn(t,i),Sn(t,s),r=Tc(e,t,r,n,i,s),n=Rc(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jt(e,t,s)):(be&&n&&xc(t),t.flags|=1,Je(e,t,r,s),t.child)}function yd(e,t,r,n,s){if(it(r)){var i=!0;Gi(t)}else i=!1;if(Sn(t,s),t.stateNode===null)Ii(e,t),um(t,r,n),vl(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=Et(d):(d=it(r)?qr:Qe.current,d=Cn(t,d));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==d)&&fd(t,a,n,d),tr=!1;var u=t.memoizedState;a.state=u,Qi(t,n,a,s),c=t.memoizedState,l!==n||u!==c||st.current||tr?(typeof f=="function"&&(hl(t,r,f,n),c=t.memoizedState),(l=tr||pd(t,r,l,n,u,c,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=d,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,_f(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Tt(t.type,l),a.props=d,p=t.pendingProps,u=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Et(c):(c=it(r)?qr:Qe.current,c=Cn(t,c));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||u!==c)&&fd(t,a,n,c),tr=!1,u=t.memoizedState,a.state=u,Qi(t,n,a,s);var h=t.memoizedState;l!==p||u!==h||st.current||tr?(typeof m=="function"&&(hl(t,r,m,n),h=t.memoizedState),(d=tr||pd(t,r,d,n,u,h,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,h,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,h,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),n=!1)}return bl(e,t,r,n,i,s)}function bl(e,t,r,n,s,i){gm(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&sd(t,r,!1),Jt(e,t,i);n=t.stateNode,g0.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=kn(t,e.child,null,i),t.child=kn(t,null,l,i)):Je(e,t,l,i),t.memoizedState=n.state,s&&sd(t,r,!0),t.child}function hm(e){var t=e.stateNode;t.pendingContext?nd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nd(e,t.context,!1),jc(e,t.containerInfo)}function bd(e,t,r,n,s){return jn(),bc(s),t.flags|=256,Je(e,t,r,n),t.child}var Sl={dehydrated:null,treeContext:null,retryLane:0};function wl(e){return{baseLanes:e,cachePool:null,transitions:null}}function vm(e,t,r){var n=t.pendingProps,s=Se.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),he(Se,s&1),e===null)return ml(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=jo(a,n,0,null),e=Vr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wl(r),t.memoizedState=Sl,e):Oc(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return h0(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=hr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=hr(l,i):(i=Vr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?wl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Sl,n}return i=e.child,e=i.sibling,n=hr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Oc(e,t){return t=jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fi(e,t,r,n){return n!==null&&bc(n),kn(t,e.child,null,r),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function h0(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ba(Error(F(422))),fi(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=jo({mode:"visible",children:n.children},s,0,null),i=Vr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&kn(t,e.child,null,a),t.child.memoizedState=wl(a),t.memoizedState=Sl,i);if(!(t.mode&1))return fi(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(F(419)),n=ba(i,n,void 0),fi(e,t,a,n)}if(l=(a&e.childLanes)!==0,nt||l){if(n=Oe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yt(e,s),Lt(n,e,s,-1))}return zc(),n=ba(Error(F(421))),fi(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=I0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,lt=pr(s.nextSibling),ut=t,be=!0,Mt=null,e!==null&&(xt[yt++]=Wt,xt[yt++]=Vt,xt[yt++]=Kr,Wt=e.id,Vt=e.overflow,Kr=t),t=Oc(t,n.children),t.flags|=4096,t)}function Sd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gl(e.return,t,r)}function Sa(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function xm(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Je(e,t,n.children,r),n=Se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,r,t);else if(e.tag===19)Sd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(he(Se,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Yi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Sa(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Sa(t,!0,r,null,i);break;case"together":Sa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ii(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=hr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function v0(e,t,r){switch(t.tag){case 3:hm(t),jn();break;case 5:Gf(t);break;case 1:it(t.type)&&Gi(t);break;case 4:jc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;he(qi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(he(Se,Se.current&1),t.flags|=128,null):r&t.child.childLanes?vm(e,t,r):(he(Se,Se.current&1),e=Jt(e,t,r),e!==null?e.sibling:null);he(Se,Se.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return xm(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(Se,Se.current),n)break;return null;case 22:case 23:return t.lanes=0,mm(e,t,r)}return Jt(e,t,r)}var ym,Nl,bm,Sm;ym=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nl=function(){};bm=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,_r(Ht.current);var i=null;switch(r){case"input":s=Wa(e,s),n=Wa(e,n),i=[];break;case"select":s=Ne({},s,{value:void 0}),n=Ne({},n,{value:void 0}),i=[];break;case"textarea":s=Ka(e,s),n=Ka(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Hi)}Ya(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ms.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ms.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ve("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Sm=function(e,t,r,n){r!==n&&(t.flags|=4)};function qn(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function x0(e,t,r){var n=t.pendingProps;switch(yc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return it(t.type)&&_i(),qe(t),null;case 3:return n=t.stateNode,Dn(),ye(st),ye(Qe),Dc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(di(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(Rl(Mt),Mt=null))),Nl(e,t),qe(t),null;case 5:kc(t);var s=_r(js.current);if(r=t.type,e!==null&&t.stateNode!=null)bm(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return qe(t),null}if(e=_r(Ht.current),di(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[zt]=t,n[Es]=i,e=(t.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(s=0;s<ts.length;s++)ve(ts[s],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":Tu(n,i),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ve("invalid",n);break;case"textarea":Mu(n,i),ve("invalid",n)}Ya(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ui(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ui(n.textContent,l,e),s=["children",""+l]):ms.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ve("scroll",n)}switch(r){case"input":ri(n),Ru(n,i,!0);break;case"textarea":ri(n),Pu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Hi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[zt]=t,e[Es]=n,ym(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ja(r,n),r){case"dialog":ve("cancel",e),ve("close",e),s=n;break;case"iframe":case"object":case"embed":ve("load",e),s=n;break;case"video":case"audio":for(s=0;s<ts.length;s++)ve(ts[s],e);s=n;break;case"source":ve("error",e),s=n;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=n;break;case"details":ve("toggle",e),s=n;break;case"input":Tu(e,n),s=Wa(e,n),ve("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ne({},n,{value:void 0}),ve("invalid",e);break;case"textarea":Mu(e,n),s=Ka(e,n),ve("invalid",e);break;default:s=n}Ya(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Jp(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qp(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&gs(e,c):typeof c=="number"&&gs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ms.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ve("scroll",e):c!=null&&sc(e,i,c,a))}switch(r){case"input":ri(e),Ru(e,n,!1);break;case"textarea":ri(e),Pu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?vn(e,!!n.multiple,i,!1):n.defaultValue!=null&&vn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Hi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Sm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=_r(js.current),_r(Ht.current),di(t)){if(n=t.stateNode,r=t.memoizedProps,n[zt]=t,(i=n.nodeValue!==r)&&(e=ut,e!==null))switch(e.tag){case 3:ui(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ui(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zt]=t,t.stateNode=n}return qe(t),null;case 13:if(ye(Se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&lt!==null&&t.mode&1&&!(t.flags&128))$f(),jn(),t.flags|=98560,i=!1;else if(i=di(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[zt]=t}else jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else Mt!==null&&(Rl(Mt),Mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Te===0&&(Te=3):zc())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Dn(),Nl(e,t),e===null&&ws(t.stateNode.containerInfo),qe(t),null;case 10:return Nc(t.type._context),qe(t),null;case 17:return it(t.type)&&_i(),qe(t),null;case 19:if(ye(Se),i=t.memoizedState,i===null)return qe(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)qn(i,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Yi(e),a!==null){for(t.flags|=128,qn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return he(Se,Se.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ce()>Tn&&(t.flags|=128,n=!0,qn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Yi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!be)return qe(t),null}else 2*Ce()-i.renderingStartTime>Tn&&r!==1073741824&&(t.flags|=128,n=!0,qn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ce(),t.sibling=null,r=Se.current,he(Se,n?r&1|2:r&1),t):(qe(t),null);case 22:case 23:return $c(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?at&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function y0(e,t){switch(yc(t),t.tag){case 1:return it(t.type)&&_i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(),ye(st),ye(Qe),Dc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kc(t),null;case 13:if(ye(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Se),null;case 4:return Dn(),null;case 10:return Nc(t.type._context),null;case 22:case 23:return $c(),null;case 24:return null;default:return null}}var mi=!1,Ke=!1,b0=typeof WeakSet=="function"?WeakSet:Set,V=null;function gn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ee(e,t,n)}else r.current=null}function El(e,t,r){try{r()}catch(n){Ee(e,t,n)}}var wd=!1;function S0(e,t){if(al=$i,e=jf(),vc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,d=0,f=0,p=e,u=null;t:for(;;){for(var m;p!==r||s!==0&&p.nodeType!==3||(l=a+s),p!==i||n!==0&&p.nodeType!==3||(c=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(m=p.firstChild)!==null;)u=p,p=m;for(;;){if(p===e)break t;if(u===r&&++d===s&&(l=a),u===i&&++f===n&&(c=a),(m=p.nextSibling)!==null)break;p=u,u=p.parentNode}p=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ll={focusedElem:e,selectionRange:r},$i=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,w=h.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Tt(t.type,y),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){Ee(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return h=wd,wd=!1,h}function cs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&El(t,r,i)}s=s.next}while(s!==n)}}function Eo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Cl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function wm(e){var t=e.alternate;t!==null&&(e.alternate=null,wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[Es],delete t[dl],delete t[n0],delete t[s0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nm(e){return e.tag===5||e.tag===3||e.tag===4}function Nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Hi));else if(n!==4&&(e=e.child,e!==null))for(jl(e,t,r),e=e.sibling;e!==null;)jl(e,t,r),e=e.sibling}function kl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(kl(e,t,r),e=e.sibling;e!==null;)kl(e,t,r),e=e.sibling}var Ue=null,Rt=!1;function Zt(e,t,r){for(r=r.child;r!==null;)Em(e,t,r),r=r.sibling}function Em(e,t,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(ho,r)}catch{}switch(r.tag){case 5:Ke||gn(r,t);case 6:var n=Ue,s=Rt;Ue=null,Zt(e,t,r),Ue=n,Rt=s,Ue!==null&&(Rt?(e=Ue,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ue.removeChild(r.stateNode));break;case 18:Ue!==null&&(Rt?(e=Ue,r=r.stateNode,e.nodeType===8?ma(e.parentNode,r):e.nodeType===1&&ma(e,r),ys(e)):ma(Ue,r.stateNode));break;case 4:n=Ue,s=Rt,Ue=r.stateNode.containerInfo,Rt=!0,Zt(e,t,r),Ue=n,Rt=s;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&El(r,t,a),s=s.next}while(s!==n)}Zt(e,t,r);break;case 1:if(!Ke&&(gn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ee(r,t,l)}Zt(e,t,r);break;case 21:Zt(e,t,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,Zt(e,t,r),Ke=n):Zt(e,t,r);break;default:Zt(e,t,r)}}function Ed(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new b0),t.forEach(function(n){var s=T0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Dt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ue=l.stateNode,Rt=!1;break e;case 3:Ue=l.stateNode.containerInfo,Rt=!0;break e;case 4:Ue=l.stateNode.containerInfo,Rt=!0;break e}l=l.return}if(Ue===null)throw Error(F(160));Em(i,a,s),Ue=null,Rt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ee(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cm(t,e),t=t.sibling}function Cm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Ft(e),n&4){try{cs(3,e,e.return),Eo(3,e)}catch(y){Ee(e,e.return,y)}try{cs(5,e,e.return)}catch(y){Ee(e,e.return,y)}}break;case 1:Dt(t,e),Ft(e),n&512&&r!==null&&gn(r,r.return);break;case 5:if(Dt(t,e),Ft(e),n&512&&r!==null&&gn(r,r.return),e.flags&32){var s=e.stateNode;try{gs(s,"")}catch(y){Ee(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Vp(s,i),Ja(l,a);var d=Ja(l,i);for(a=0;a<c.length;a+=2){var f=c[a],p=c[a+1];f==="style"?Jp(s,p):f==="dangerouslySetInnerHTML"?Qp(s,p):f==="children"?gs(s,p):sc(s,f,p,d)}switch(l){case"input":Va(s,i);break;case"textarea":qp(s,i);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?vn(s,!!i.multiple,m,!1):u!==!!i.multiple&&(i.defaultValue!=null?vn(s,!!i.multiple,i.defaultValue,!0):vn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Es]=i}catch(y){Ee(e,e.return,y)}}break;case 6:if(Dt(t,e),Ft(e),n&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Ee(e,e.return,y)}}break;case 3:if(Dt(t,e),Ft(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ys(t.containerInfo)}catch(y){Ee(e,e.return,y)}break;case 4:Dt(t,e),Ft(e);break;case 13:Dt(t,e),Ft(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bc=Ce())),n&4&&Ed(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Ke=(d=Ke)||f,Dt(t,e),Ke=d):Dt(t,e),Ft(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(V=e,f=e.child;f!==null;){for(p=V=f;V!==null;){switch(u=V,m=u.child,u.tag){case 0:case 11:case 14:case 15:cs(4,u,u.return);break;case 1:gn(u,u.return);var h=u.stateNode;if(typeof h.componentWillUnmount=="function"){n=u,r=u.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){Ee(n,r,y)}}break;case 5:gn(u,u.return);break;case 22:if(u.memoizedState!==null){jd(p);continue}}m!==null?(m.return=u,V=m):jd(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Yp("display",a))}catch(y){Ee(e,e.return,y)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(y){Ee(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Dt(t,e),Ft(e),n&4&&Ed(e);break;case 21:break;default:Dt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Nm(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(gs(s,""),n.flags&=-33);var i=Nd(e);kl(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Nd(e);jl(e,l,a);break;default:throw Error(F(161))}}catch(c){Ee(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w0(e,t,r){V=e,jm(e)}function jm(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var s=V,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||mi;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ke;l=mi;var d=Ke;if(mi=a,(Ke=c)&&!d)for(V=s;V!==null;)a=V,c=a.child,a.tag===22&&a.memoizedState!==null?kd(s):c!==null?(c.return=a,V=c):kd(s);for(;i!==null;)V=i,jm(i),i=i.sibling;V=s,mi=l,Ke=d}Cd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,V=i):Cd(e)}}function Cd(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Eo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Tt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cd(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cd(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&ys(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ke||t.flags&512&&Cl(t)}catch(u){Ee(t,t.return,u)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function jd(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function kd(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Eo(4,t)}catch(c){Ee(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ee(t,s,c)}}var i=t.return;try{Cl(t)}catch(c){Ee(t,i,c)}break;case 5:var a=t.return;try{Cl(t)}catch(c){Ee(t,a,c)}}}catch(c){Ee(t,t.return,c)}if(t===e){V=null;break}var l=t.sibling;if(l!==null){l.return=t.return,V=l;break}V=t.return}}var N0=Math.ceil,Zi=Xt.ReactCurrentDispatcher,Lc=Xt.ReactCurrentOwner,wt=Xt.ReactCurrentBatchConfig,ae=0,Oe=null,De=null,_e=0,at=0,hn=kr(0),Te=0,Ts=null,Yr=0,Co=0,Ac=0,us=null,rt=null,Bc=0,Tn=1/0,_t=null,eo=!1,Dl=null,mr=null,gi=!1,lr=null,to=0,ds=0,Il=null,Ti=-1,Ri=0;function Xe(){return ae&6?Ce():Ti!==-1?Ti:Ti=Ce()}function gr(e){return e.mode&1?ae&2&&_e!==0?_e&-_e:o0.transition!==null?(Ri===0&&(Ri=uf()),Ri):(e=ce,e!==0||(e=window.event,e=e===void 0?16:vf(e.type)),e):1}function Lt(e,t,r,n){if(50<ds)throw ds=0,Il=null,Error(F(185));Fs(e,r,n),(!(ae&2)||e!==Oe)&&(e===Oe&&(!(ae&2)&&(Co|=r),Te===4&&ir(e,_e)),ot(e,n),r===1&&ae===0&&!(t.mode&1)&&(Tn=Ce()+500,So&&Dr()))}function ot(e,t){var r=e.callbackNode;ov(e,t);var n=Fi(e,e===Oe?_e:0);if(n===0)r!==null&&Au(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Au(r),t===1)e.tag===0?i0(Dd.bind(null,e)):Af(Dd.bind(null,e)),t0(function(){!(ae&6)&&Dr()}),r=null;else{switch(df(n)){case 1:r=cc;break;case 4:r=lf;break;case 16:r=Bi;break;case 536870912:r=cf;break;default:r=Bi}r=Om(r,km.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function km(e,t){if(Ti=-1,Ri=0,ae&6)throw Error(F(327));var r=e.callbackNode;if(wn()&&e.callbackNode!==r)return null;var n=Fi(e,e===Oe?_e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ro(e,n);else{t=n;var s=ae;ae|=2;var i=Im();(Oe!==e||_e!==t)&&(_t=null,Tn=Ce()+500,Wr(e,t));do try{j0();break}catch(l){Dm(e,l)}while(1);wc(),Zi.current=i,ae=s,De!==null?t=0:(Oe=null,_e=0,t=Te)}if(t!==0){if(t===2&&(s=rl(e),s!==0&&(n=s,t=Tl(e,s))),t===1)throw r=Ts,Wr(e,0),ir(e,n),ot(e,Ce()),r;if(t===6)ir(e,n);else{if(s=e.current.alternate,!(n&30)&&!E0(s)&&(t=ro(e,n),t===2&&(i=rl(e),i!==0&&(n=i,t=Tl(e,i))),t===1))throw r=Ts,Wr(e,0),ir(e,n),ot(e,Ce()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Or(e,rt,_t);break;case 3:if(ir(e,n),(n&130023424)===n&&(t=Bc+500-Ce(),10<t)){if(Fi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ul(Or.bind(null,e,rt,_t),t);break}Or(e,rt,_t);break;case 4:if(ir(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ot(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N0(n/1960))-n,10<n){e.timeoutHandle=ul(Or.bind(null,e,rt,_t),n);break}Or(e,rt,_t);break;case 5:Or(e,rt,_t);break;default:throw Error(F(329))}}}return ot(e,Ce()),e.callbackNode===r?km.bind(null,e):null}function Tl(e,t){var r=us;return e.current.memoizedState.isDehydrated&&(Wr(e,t).flags|=256),e=ro(e,t),e!==2&&(t=rt,rt=r,t!==null&&Rl(t)),e}function Rl(e){rt===null?rt=e:rt.push.apply(rt,e)}function E0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!At(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~Ac,t&=~Co,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ot(t),n=1<<r;e[r]=-1,t&=~n}}function Dd(e){if(ae&6)throw Error(F(327));wn();var t=Fi(e,0);if(!(t&1))return ot(e,Ce()),null;var r=ro(e,t);if(e.tag!==0&&r===2){var n=rl(e);n!==0&&(t=n,r=Tl(e,n))}if(r===1)throw r=Ts,Wr(e,0),ir(e,t),ot(e,Ce()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Or(e,rt,_t),ot(e,Ce()),null}function Fc(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(Tn=Ce()+500,So&&Dr())}}function Jr(e){lr!==null&&lr.tag===0&&!(ae&6)&&wn();var t=ae;ae|=1;var r=wt.transition,n=ce;try{if(wt.transition=null,ce=1,e)return e()}finally{ce=n,wt.transition=r,ae=t,!(ae&6)&&Dr()}}function $c(){at=hn.current,ye(hn)}function Wr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,e0(r)),De!==null)for(r=De.return;r!==null;){var n=r;switch(yc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_i();break;case 3:Dn(),ye(st),ye(Qe),Dc();break;case 5:kc(n);break;case 4:Dn();break;case 13:ye(Se);break;case 19:ye(Se);break;case 10:Nc(n.type._context);break;case 22:case 23:$c()}r=r.return}if(Oe=e,De=e=hr(e.current,null),_e=at=t,Te=0,Ts=null,Ac=Co=Yr=0,rt=us=null,Hr!==null){for(t=0;t<Hr.length;t++)if(r=Hr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Hr=null}return e}function Dm(e,t){do{var r=De;try{if(wc(),ki.current=Xi,Ji){for(var n=we.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ji=!1}if(Qr=0,Pe=Ie=we=null,ls=!1,ks=0,Lc.current=null,r===null||r.return===null){Te=1,Ts=t,De=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=_e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var u=f.alternate;u?(f.updateQueue=u.updateQueue,f.memoizedState=u.memoizedState,f.lanes=u.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=gd(a);if(m!==null){m.flags&=-257,hd(m,a,l,i,t),m.mode&1&&md(i,d,t),t=m,c=d;var h=t.updateQueue;if(h===null){var y=new Set;y.add(c),t.updateQueue=y}else h.add(c);break e}else{if(!(t&1)){md(i,d,t),zc();break e}c=Error(F(426))}}else if(be&&l.mode&1){var w=gd(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),hd(w,a,l,i,t),bc(In(c,l));break e}}i=c=In(c,l),Te!==4&&(Te=2),us===null?us=[i]:us.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=dm(i,c,t);ld(i,v);break e;case 1:l=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(mr===null||!mr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=pm(i,l,t);ld(i,b);break e}}i=i.return}while(i!==null)}Rm(r)}catch(E){t=E,De===r&&r!==null&&(De=r=r.return);continue}break}while(1)}function Im(){var e=Zi.current;return Zi.current=Xi,e===null?Xi:e}function zc(){(Te===0||Te===3||Te===2)&&(Te=4),Oe===null||!(Yr&268435455)&&!(Co&268435455)||ir(Oe,_e)}function ro(e,t){var r=ae;ae|=2;var n=Im();(Oe!==e||_e!==t)&&(_t=null,Wr(e,t));do try{C0();break}catch(s){Dm(e,s)}while(1);if(wc(),ae=r,Zi.current=n,De!==null)throw Error(F(261));return Oe=null,_e=0,Te}function C0(){for(;De!==null;)Tm(De)}function j0(){for(;De!==null&&!Jh();)Tm(De)}function Tm(e){var t=Pm(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?Rm(e):De=t,Lc.current=null}function Rm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=y0(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,De=null;return}}else if(r=x0(r,t,at),r!==null){De=r;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Te===0&&(Te=5)}function Or(e,t,r){var n=ce,s=wt.transition;try{wt.transition=null,ce=1,k0(e,t,r,n)}finally{wt.transition=s,ce=n}return null}function k0(e,t,r,n){do wn();while(lr!==null);if(ae&6)throw Error(F(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(av(e,i),e===Oe&&(De=Oe=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gi||(gi=!0,Om(Bi,function(){return wn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var a=ce;ce=1;var l=ae;ae|=4,Lc.current=null,S0(e,r),Cm(r,e),qv(ll),$i=!!al,ll=al=null,e.current=r,w0(r),Xh(),ae=l,ce=a,wt.transition=i}else e.current=r;if(gi&&(gi=!1,lr=e,to=s),i=e.pendingLanes,i===0&&(mr=null),tv(r.stateNode),ot(e,Ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(eo)throw eo=!1,e=Dl,Dl=null,e;return to&1&&e.tag!==0&&wn(),i=e.pendingLanes,i&1?e===Il?ds++:(ds=0,Il=e):ds=0,Dr(),null}function wn(){if(lr!==null){var e=df(to),t=wt.transition,r=ce;try{if(wt.transition=null,ce=16>e?16:e,lr===null)var n=!1;else{if(e=lr,lr=null,to=0,ae&6)throw Error(F(331));var s=ae;for(ae|=4,V=e.current;V!==null;){var i=V,a=i.child;if(V.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(V=d;V!==null;){var f=V;switch(f.tag){case 0:case 11:case 15:cs(8,f,i)}var p=f.child;if(p!==null)p.return=f,V=p;else for(;V!==null;){f=V;var u=f.sibling,m=f.return;if(wm(f),f===d){V=null;break}if(u!==null){u.return=m,V=u;break}V=m}}}var h=i.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}V=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,V=a;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cs(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,V=v;break e}V=i.return}}var g=e.current;for(V=g;V!==null;){a=V;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,V=x;else e:for(a=g;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Eo(9,l)}}catch(E){Ee(l,l.return,E)}if(l===a){V=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,V=b;break e}V=l.return}}if(ae=s,Dr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(ho,e)}catch{}n=!0}return n}finally{ce=r,wt.transition=t}}return!1}function Id(e,t,r){t=In(r,t),t=dm(e,t,1),e=fr(e,t,1),t=Xe(),e!==null&&(Fs(e,1,t),ot(e,t))}function Ee(e,t,r){if(e.tag===3)Id(e,e,r);else for(;t!==null;){if(t.tag===3){Id(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mr===null||!mr.has(n))){e=In(r,e),e=pm(t,e,1),t=fr(t,e,1),e=Xe(),t!==null&&(Fs(t,1,e),ot(t,e));break}}t=t.return}}function D0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&r,Oe===e&&(_e&r)===r&&(Te===4||Te===3&&(_e&130023424)===_e&&500>Ce()-Bc?Wr(e,0):Ac|=r),ot(e,t)}function Mm(e,t){t===0&&(e.mode&1?(t=ii,ii<<=1,!(ii&130023424)&&(ii=4194304)):t=1);var r=Xe();e=Yt(e,t),e!==null&&(Fs(e,t,r),ot(e,r))}function I0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mm(e,r)}function T0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),Mm(e,r)}var Pm;Pm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nt=!1,v0(e,t,r);nt=!!(e.flags&131072)}else nt=!1,be&&t.flags&1048576&&Bf(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ii(e,t),e=t.pendingProps;var s=Cn(t,Qe.current);Sn(t,r),s=Tc(null,t,n,e,s,r);var i=Rc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(n)?(i=!0,Gi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cc(t),s.updater=No,t.stateNode=s,s._reactInternals=t,vl(t,n,e,r),t=bl(null,t,n,!0,i,r)):(t.tag=0,be&&i&&xc(t),Je(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ii(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=M0(n),e=Tt(n,e),s){case 0:t=yl(null,t,n,e,r);break e;case 1:t=yd(null,t,n,e,r);break e;case 11:t=vd(null,t,n,e,r);break e;case 14:t=xd(null,t,n,Tt(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),yl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),yd(e,t,n,s,r);case 3:e:{if(hm(t),e===null)throw Error(F(387));n=t.pendingProps,i=t.memoizedState,s=i.element,_f(e,t),Qi(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=In(Error(F(423)),t),t=bd(e,t,n,r,s);break e}else if(n!==s){s=In(Error(F(424)),t),t=bd(e,t,n,r,s);break e}else for(lt=pr(t.stateNode.containerInfo.firstChild),ut=t,be=!0,Mt=null,r=Uf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jn(),n===s){t=Jt(e,t,r);break e}Je(e,t,n,r)}t=t.child}return t;case 5:return Gf(t),e===null&&ml(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,cl(n,s)?a=null:i!==null&&cl(n,i)&&(t.flags|=32),gm(e,t),Je(e,t,a,r),t.child;case 6:return e===null&&ml(t),null;case 13:return vm(e,t,r);case 4:return jc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=kn(t,null,n,r):Je(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),vd(e,t,n,s,r);case 7:return Je(e,t,t.pendingProps,r),t.child;case 8:return Je(e,t,t.pendingProps.children,r),t.child;case 12:return Je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,he(qi,n._currentValue),n._currentValue=a,i!==null)if(At(i.value,a)){if(i.children===s.children&&!st.current){t=Jt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=qt(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),gl(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(F(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),gl(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Je(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Sn(t,r),s=Et(s),n=n(s),t.flags|=1,Je(e,t,n,r),t.child;case 14:return n=t.type,s=Tt(n,t.pendingProps),s=Tt(n.type,s),xd(e,t,n,s,r);case 15:return fm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),Ii(e,t),t.tag=1,it(n)?(e=!0,Gi(t)):e=!1,Sn(t,r),um(t,n,s),vl(t,n,s,r),bl(null,t,n,!0,e,r);case 19:return xm(e,t,r);case 22:return mm(e,t,r)}throw Error(F(156,t.tag))};function Om(e,t){return af(e,t)}function R0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,r,n){return new R0(e,t,r,n)}function Uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function M0(e){if(typeof e=="function")return Uc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oc)return 11;if(e===ac)return 14}return 2}function hr(e,t){var r=e.alternate;return r===null?(r=bt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mi(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Uc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case on:return Vr(r.children,s,i,t);case ic:a=8,s|=8;break;case Ua:return e=bt(12,r,t,s|2),e.elementType=Ua,e.lanes=i,e;case Ha:return e=bt(13,r,t,s),e.elementType=Ha,e.lanes=i,e;case _a:return e=bt(19,r,t,s),e.elementType=_a,e.lanes=i,e;case _p:return jo(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Up:a=10;break e;case Hp:a=9;break e;case oc:a=11;break e;case ac:a=14;break e;case er:a=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=bt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Vr(e,t,r,n){return e=bt(7,e,n,t),e.lanes=r,e}function jo(e,t,r,n){return e=bt(22,e,n,t),e.elementType=_p,e.lanes=r,e.stateNode={isHidden:!1},e}function wa(e,t,r){return e=bt(6,e,null,t),e.lanes=r,e}function Na(e,t,r){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function P0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=na(0),this.expirationTimes=na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hc(e,t,r,n,s,i,a,l,c){return e=new P0(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=bt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cc(i),e}function O0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Lm(e){if(!e)return Nr;e=e._reactInternals;e:{if(tn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(it(r))return Lf(e,r,t)}return t}function Am(e,t,r,n,s,i,a,l,c){return e=Hc(r,n,!0,e,s,i,a,l,c),e.context=Lm(null),r=e.current,n=Xe(),s=gr(r),i=qt(n,s),i.callback=t??null,fr(r,i,s),e.current.lanes=s,Fs(e,s,n),ot(e,n),e}function ko(e,t,r,n){var s=t.current,i=Xe(),a=gr(s);return r=Lm(r),t.context===null?t.context=r:t.pendingContext=r,t=qt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fr(s,t,a),e!==null&&(Lt(e,s,a,i),ji(e,s,a)),a}function no(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Td(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _c(e,t){Td(e,t),(e=e.alternate)&&Td(e,t)}function L0(){return null}var Bm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}Do.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));ko(e,t,null,null)};Do.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jr(function(){ko(null,e,null,null)}),t[Qt]=null}};function Do(e){this._internalRoot=e}Do.prototype.unstable_scheduleHydration=function(e){if(e){var t=mf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<sr.length&&t!==0&&t<sr[r].priority;r++);sr.splice(r,0,e),r===0&&hf(e)}};function Wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rd(){}function A0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=no(a);i.call(d)}}var a=Am(t,n,e,0,null,!1,!1,"",Rd);return e._reactRootContainer=a,e[Qt]=a.current,ws(e.nodeType===8?e.parentNode:e),Jr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=no(c);l.call(d)}}var c=Hc(e,0,!1,null,null,!1,!1,"",Rd);return e._reactRootContainer=c,e[Qt]=c.current,ws(e.nodeType===8?e.parentNode:e),Jr(function(){ko(t,c,r,n)}),c}function To(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=no(a);l.call(c)}}ko(t,a,e,s)}else a=A0(r,t,e,s,n);return no(a)}pf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=es(t.pendingLanes);r!==0&&(uc(t,r|1),ot(t,Ce()),!(ae&6)&&(Tn=Ce()+500,Dr()))}break;case 13:Jr(function(){var n=Yt(e,1);if(n!==null){var s=Xe();Lt(n,e,1,s)}}),_c(e,1)}};dc=function(e){if(e.tag===13){var t=Yt(e,134217728);if(t!==null){var r=Xe();Lt(t,e,134217728,r)}_c(e,134217728)}};ff=function(e){if(e.tag===13){var t=gr(e),r=Yt(e,t);if(r!==null){var n=Xe();Lt(r,e,t,n)}_c(e,t)}};mf=function(){return ce};gf=function(e,t){var r=ce;try{return ce=e,t()}finally{ce=r}};Za=function(e,t,r){switch(t){case"input":if(Va(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=bo(n);if(!s)throw Error(F(90));Wp(n),Va(n,s)}}}break;case"textarea":qp(e,r);break;case"select":t=r.value,t!=null&&vn(e,!!r.multiple,t,!1)}};ef=Fc;tf=Jr;var B0={usingClientEntryPoint:!1,Events:[zs,un,bo,Xp,Zp,Fc]},Kn={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F0={bundleType:Kn.bundleType,version:Kn.version,rendererPackageName:Kn.rendererPackageName,rendererConfig:Kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sf(e),e===null?null:e.stateNode},findFiberByHostInstance:Kn.findFiberByHostInstance||L0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hi.isDisabled&&hi.supportsFiber)try{ho=hi.inject(F0),Ut=hi}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B0;mt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(t))throw Error(F(200));return O0(e,t,null,r)};mt.createRoot=function(e,t){if(!Wc(e))throw Error(F(299));var r=!1,n="",s=Bm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hc(e,1,!1,null,null,r,!1,n,s),e[Qt]=t.current,ws(e.nodeType===8?e.parentNode:e),new Gc(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=sf(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return Jr(e)};mt.hydrate=function(e,t,r){if(!Io(t))throw Error(F(200));return To(null,e,t,!0,r)};mt.hydrateRoot=function(e,t,r){if(!Wc(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Bm;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Am(t,null,e,1,r??null,s,!1,i,a),e[Qt]=t.current,ws(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Do(t)};mt.render=function(e,t,r){if(!Io(t))throw Error(F(200));return To(null,e,t,!1,r)};mt.unmountComponentAtNode=function(e){if(!Io(e))throw Error(F(40));return e._reactRootContainer?(Jr(function(){To(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1};mt.unstable_batchedUpdates=Fc;mt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Io(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return To(e,t,r,!1,n)};mt.version="18.3.1-next-f1338f8080-20240426";function Fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fm)}catch(e){console.error(e)}}Fm(),Bp.exports=mt;var Vc=Bp.exports;const $0=Jl(Vc);var Md=Vc;$a.createRoot=Md.createRoot,$a.hydrateRoot=Md.hydrateRoot;const Ar=class Ar{static getInstance(){return Ar.instance||(Ar.instance=new Ar),Ar.instance}async fetchMessageData(t){if(!t)throw new Error("Sample ID is required");const r=await fetch("http://localhost:8085/api/messages/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sampleId:t})});if(!r.ok)throw new Error(`Error: ${r.status}`);return await r.json()}async generateMessage(t,r,n,s,i,a,l,c,d){if(!t)throw new Error("No hay datos iniciales disponibles.");let f={message:t,messageType:r,hostName:n,hostType:s,status:i||null};d?d.type==="Specimen"?f.specimen=a:d.type==="Block"?f.block=l:d.type==="Slide"&&(f.slide=c):(a&&(f.specimen=a),l&&(f.block=l),c&&(f.slide=c));const p=await fetch("http://localhost:8085/api/messages/convert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!p.ok)throw new Error(`Error: ${p.status}`);return await p.json()}async sendMessage(t){const r=await fetch("http://localhost:8085/api/messages/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Error: ${r.status}`);const n=r.headers.get("content-type");return n&&n.includes("application/json")?await r.json():[{message:await r.text(),receiveTime:new Date().toISOString()}]}async deleteAllMessages(){const t=await fetch("http://localhost:8085/api/messages/deleteAll",{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){const r=await t.text();throw new Error(r||"Error al eliminar respuestas")}}};me(Ar,"instance");let Ml=Ar;const Gr=Ml.getInstance(),Pd="http://localhost:8085/api/hosts";class z0{constructor(){me(this,"cachedHosts",[]);me(this,"hostMappings",new Map);me(this,"clientData",new Map);this.initializeHostMappings()}initializeHostMappings(){this.hostMappings.set("LIS","LIS_HL7"),this.hostMappings.set("UPATH CLOUD","UPATH_CLOUD"),this.hostMappings.set("VANTAGE WS","VANTAGE_WS"),this.hostMappings.set("AUTOMATION SOFTWARE","AUTOMATION_SW")}async getHosts(){try{console.log("Fetching hosts from backend...");let t=await fetch(`${Pd}/clients`);if(!t.ok&&(console.warn("hostClients endpoint failed, trying hostsClient"),t=await fetch(`${Pd}/client`),!t.ok))throw new Error(`Both endpoints failed: ${t.status}`);const r=await t.json();if(console.log("Received clients from backend:",r),r.length>0&&r.every(i=>Object.keys(i).length===0||!i.clientName&&!i.name&&!i.hostName&&!i.id))throw console.warn("Received empty client objects from backend"),new Error("Received empty client objects");const n=r.map(i=>{const a=i.clientName||i.name||i.hostName||i.id;return a&&this.clientData.set(a,i),a}).filter(i=>i!=null&&i.trim()!=="");console.log("Extracted host names:",n);const s=[...new Set(n)];if(s.length===0)throw console.warn("No valid host names received from backend, using fallback"),new Error("No valid host names in response");return this.cachedHosts=s,s}catch(t){throw console.error("Error obteniendo hosts desde el backend:",t),this.cachedHosts=[],new Error(`Failed to fetch hosts from backend: ${t}`)}}getCachedHosts(){return this.cachedHosts}getClientType(t){const r=this.clientData.get(t);return r==null?void 0:r.clientType}getClientData(t){return this.clientData.get(t)}migrateHost(t){if(this.cachedHosts.includes(t))return t;const r=this.hostMappings.get(t);if(r&&this.cachedHosts.includes(r))return r;const n=this.cachedHosts.find(s=>s.includes(t)||t.includes(s));return n||t}hostExists(t){return this.cachedHosts.includes(t)}getDetectedMigrations(){const t=[];return this.hostMappings.forEach((r,n)=>{this.cachedHosts.includes(r)&&!this.cachedHosts.includes(n)&&t.push({oldHost:n,newHost:r})}),t}addHostMapping(t,r){this.hostMappings.set(t,r)}async initialize(){await this.getHosts()}}const or=new z0,rr=class rr{constructor(){me(this,"messages",[]);me(this,"listeners",[])}static getInstance(){return rr.instance||(rr.instance=new rr,rr.instance.initializeMigrations()),rr.instance}subscribe(t){return this.listeners.push(t),t(this.messages),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(){this.listeners.forEach(t=>t(this.messages))}getMessages(){return[...this.messages]}addMessage(t,r,n,s){const i={id:Date.now().toString(),content:t,host:r,messageType:n,messageControlId:s,timestamp:new Date};return this.messages.push(i),this.notifyListeners(),i}removeMessage(t){this.messages=this.messages.filter(r=>r.id!==t),this.notifyListeners()}updateMessageResponses(t,r){this.messages=this.messages.map(n=>n.messageControlId===t?{...n,responses:r}:n),this.notifyListeners()}clearAllResponses(){this.messages=this.messages.map(t=>({...t,responses:void 0,sentTimestamp:void 0})),this.notifyListeners()}clearMessageResponses(t){this.messages=this.messages.map(r=>r.id===t?{...r,responses:void 0,sentTimestamp:void 0}:r),this.notifyListeners()}reorderMessages(t,r){const n=Array.from(this.messages),[s]=n.splice(t,1);n.splice(r,0,s),this.messages=n,this.notifyListeners()}async sendMessage(t){const r=or.migrateHost(t.host),n={message:t.content,hostName:r,messageType:t.messageType,controlId:t.messageControlId},s=await Gr.sendMessage(n);return this.messages=this.messages.map(i=>i.id===t.id?{...i,host:r,responses:s,sentTimestamp:new Date}:i),this.notifyListeners(),s}async sendAllMessages(){if(this.messages.length===0)throw new Error("No hay mensajes guardados para enviar.");for(const t of this.messages)await this.sendMessage(t)}updateMessageContent(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,content:r}:n),this.notifyListeners()}updateMessageComment(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,comment:r.trim()||void 0}:n),this.notifyListeners()}updateMessageControlId(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,messageControlId:r.trim()||void 0}:n),this.notifyListeners()}exportMessages(){const t={version:"1.0",exportDate:new Date().toISOString(),messages:this.messages.map(r=>{var n;return{...r,timestamp:r.timestamp.toISOString(),sentTimestamp:(n=r.sentTimestamp)==null?void 0:n.toISOString()}})};return JSON.stringify(t,null,2)}importMessages(t){try{const r=JSON.parse(t);if(!r.messages||!Array.isArray(r.messages))return{success:!1,message:"Formato de archivo invlido: no se encontraron mensajes"};const n=r.messages.map(s=>({...s,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date(s.timestamp),sentTimestamp:s.sentTimestamp?new Date(s.sentTimestamp):void 0,responses:void 0}));return this.messages=[...this.messages,...n],this.notifyListeners(),{success:!0,message:`${n.length} mensajes importados exitosamente`,importedCount:n.length}}catch{return{success:!1,message:"Error al procesar el archivo: formato JSON invlido"}}}clearAllMessages(){this.messages=[],this.notifyListeners()}migrateHostsInSavedMessages(){let t=!1;this.messages=this.messages.map(r=>{const n=or.migrateHost(r.host);return n!==r.host?(console.log(`Migrando mensaje ${r.id}: ${r.host}  ${n}`),t=!0,{...r,host:n}):r}),t&&(this.notifyListeners(),console.log("Migracin de hosts en mensajes guardados completada"))}initializeMigrations(){setTimeout(()=>{this.migrateHostsInSavedMessages()},1e3)}};me(rr,"instance");let Pl=rr;const $e=Pl.getInstance(),nr=class nr{constructor(){me(this,"lists",[]);me(this,"activeListId",null);me(this,"listeners",[]);me(this,"STORAGE_KEY","messageLists");this.lists.length===0&&this.createList("Default","Lista principal de mensajes","#3B82F6")}static getInstance(){return nr.instance||(nr.instance=new nr,nr.instance.loadFromStorage()),nr.instance}subscribe(t){return this.listeners.push(t),t(this.lists,this.activeListId),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(){this.saveToStorage(),this.listeners.forEach(t=>t(this.lists,this.activeListId))}saveToStorage(){try{const t={lists:this.lists.map(r=>({...r,createdAt:r.createdAt.toISOString(),updatedAt:r.updatedAt.toISOString(),messages:r.messages.map(n=>{var s;return{...n,timestamp:n.timestamp.toISOString(),sentTimestamp:(s=n.sentTimestamp)==null?void 0:s.toISOString()}})})),activeListId:this.activeListId};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(t){console.error("Error saving message lists to localStorage:",t)}}loadFromStorage(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(t){const r=JSON.parse(t);this.lists=r.lists.map(n=>({...n,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt),messages:n.messages.map(s=>({...s,timestamp:new Date(s.timestamp),sentTimestamp:s.sentTimestamp?new Date(s.sentTimestamp):void 0}))})),this.activeListId=r.activeListId,this.lists.length===0&&this.createList("Default","Lista principal de mensajes","#3B82F6"),(!this.activeListId||!this.lists.find(n=>n.id===this.activeListId))&&(this.activeListId=this.lists[0].id)}}catch(t){console.error("Error loading message lists from localStorage:",t),this.createList("Default","Lista principal de mensajes","#3B82F6")}}createList(t,r,n){const s={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:t.trim(),description:r==null?void 0:r.trim(),color:n||"#3B82F6",createdAt:new Date,updatedAt:new Date,messages:[]};return this.lists.push(s),this.activeListId||(this.activeListId=s.id),this.notifyListeners(),s}updateList(t,r){this.lists=this.lists.map(n=>n.id===t?{...n,...r,updatedAt:new Date}:n),this.notifyListeners()}deleteList(t){if(this.lists.length<=1)throw new Error("No se puede eliminar la nica lista existente");this.lists=this.lists.filter(r=>r.id!==t),this.activeListId===t&&(this.activeListId=this.lists[0].id),this.notifyListeners()}duplicateList(t,r){const n=this.lists.find(i=>i.id===t);if(!n)throw new Error("Lista no encontrada");const s={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:r||`${n.name} (Copia)`,description:n.description,color:n.color,createdAt:new Date,updatedAt:new Date,messages:n.messages.map(i=>({...i,id:Date.now().toString()+Math.random().toString(36).substr(2,9),responses:void 0,sentTimestamp:void 0}))};return this.lists.push(s),this.notifyListeners(),s}getLists(){return[...this.lists]}getActiveList(){return this.lists.find(t=>t.id===this.activeListId)||null}setActiveList(t){this.lists.find(r=>r.id===t)&&(this.activeListId=t,this.notifyListeners())}addMessage(t,r,n,s,i){const a=i||this.activeListId;if(!a)throw new Error("No hay lista activa");const l={id:Date.now().toString()+Math.random().toString(36).substr(2,9),content:t,host:r,messageType:n,messageControlId:s,timestamp:new Date};return this.lists=this.lists.map(c=>c.id===a?{...c,messages:[...c.messages,l],updatedAt:new Date}:c),this.notifyListeners(),l}removeMessage(t,r){const n=r||this.activeListId;n&&(this.lists=this.lists.map(s=>s.id===n?{...s,messages:s.messages.filter(i=>i.id!==t),updatedAt:new Date}:s),this.notifyListeners())}moveMessage(t,r,n){var i;const s=(i=this.lists.find(a=>a.id===r))==null?void 0:i.messages.find(a=>a.id===t);s&&(this.lists=this.lists.map(a=>a.id===r?{...a,messages:a.messages.filter(l=>l.id!==t),updatedAt:new Date}:a),this.lists=this.lists.map(a=>a.id===n?{...a,messages:[...a.messages,{...s,responses:void 0,sentTimestamp:void 0}],updatedAt:new Date}:a),this.notifyListeners())}updateMessageResponses(t,r,n){const s=n||this.activeListId;if(!s){console.warn("updateMessageResponses: No target list ID");return}console.log(`MessageListsService.updateMessageResponses called with controlId: ${t}`,r),console.log(`Target list ID: ${s}`),console.log("Current lists:",this.lists.map(i=>({id:i.id,name:i.name,messageCount:i.messages.length}))),this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.messageControlId===t?{...a,responses:r}:a),updatedAt:new Date}:i),this.notifyListeners()}clearAllResponses(t){const r=t||this.activeListId;r&&(this.lists=this.lists.map(n=>n.id===r?{...n,messages:n.messages.map(s=>({...s,responses:void 0,sentTimestamp:void 0})),updatedAt:new Date}:n),this.notifyListeners())}clearMessageResponses(t,r){const n=r||this.activeListId;n&&(this.lists=this.lists.map(s=>s.id===n?{...s,messages:s.messages.map(i=>i.id===t?{...i,responses:void 0,sentTimestamp:void 0}:i),updatedAt:new Date}:s),this.notifyListeners())}reorderMessages(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>{if(i.id===s){const a=Array.from(i.messages),[l]=a.splice(t,1);return a.splice(r,0,l),{...i,messages:a,updatedAt:new Date}}return i}),this.notifyListeners())}reorderLists(t,r){const n=Array.from(this.lists),[s]=n.splice(t,1);n.splice(r,0,s),this.lists=n,this.notifyListeners()}async sendMessage(t,r){const n={message:t.content,hostName:t.host,messageType:t.messageType,controlId:t.messageControlId},s=await Gr.sendMessage(n),i=r||this.activeListId;return i&&(this.lists=this.lists.map(a=>a.id===i?{...a,messages:a.messages.map(l=>l.id===t.id?{...l,responses:s,sentTimestamp:new Date}:l),updatedAt:new Date}:a),this.notifyListeners()),s}updateMessageContent(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.id===t?{...a,content:r}:a),updatedAt:new Date}:i),this.notifyListeners())}updateMessageComment(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.id===t?{...a,comment:r.trim()||void 0}:a),updatedAt:new Date}:i),this.notifyListeners())}updateMessageControlId(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.id===t?{...a,messageControlId:r.trim()||void 0}:a),updatedAt:new Date}:i),this.notifyListeners())}exportList(t){const r=this.lists.find(s=>s.id===t);if(!r)throw new Error("Lista no encontrada");const n={version:"1.0",exportDate:new Date().toISOString(),listInfo:{name:r.name,description:r.description,color:r.color},messages:r.messages.map(s=>{var i;return{...s,timestamp:s.timestamp.toISOString(),sentTimestamp:(i=s.sentTimestamp)==null?void 0:i.toISOString()}})};return JSON.stringify(n,null,2)}exportAllLists(){const t={version:"1.0",exportDate:new Date().toISOString(),lists:this.lists.map(r=>({...r,createdAt:r.createdAt.toISOString(),updatedAt:r.updatedAt.toISOString(),messages:r.messages.map(n=>{var s;return{...n,timestamp:n.timestamp.toISOString(),sentTimestamp:(s=n.sentTimestamp)==null?void 0:s.toISOString()}})}))};return JSON.stringify(t,null,2)}};me(nr,"instance");let Ol=nr;const ge=Ol.getInstance();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$m=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>j.createElement("svg",{ref:c,...H0,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:$m("lucide",s),...l},[...a.map(([d,f])=>j.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const r=j.forwardRef(({className:n,...s},i)=>j.createElement(_0,{ref:i,iconNode:t,className:$m(`lucide-${U0(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Er=pe("ChevronDown",G0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xr=pe("ChevronRight",W0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zm=pe("CircleAlert",V0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ll=pe("CircleCheckBig",q0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rs=pe("CircleX",K0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Y0=pe("Copy",Q0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],X0=pe("Download",J0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ex=pe("Ellipsis",Z0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Um=pe("GripVertical",tx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Od=pe("Info",rx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]],Hm=pe("ListTree",nx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ix=pe("MessageCircle",sx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]],ax=pe("MessagesSquare",ox);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cx=pe("Pen",lx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vr=pe("Plus",ux);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ld=pe("RefreshCw",dx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Al=pe("RotateCcw",px);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ro=pe("Save",fx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_m=pe("Send",mx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hx=pe("Settings",gx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Nn=pe("SquarePen",vx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xr=pe("Trash2",xx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],bx=pe("Trash",yx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wx=pe("TriangleAlert",Sx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]],Ex=pe("Tv",Nx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],jx=pe("Upload",Cx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jt=pe("X",kx);function Bl(e,t){return Bl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Bl(e,t)}function Gm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Bl(e,t)}function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z.apply(null,arguments)}function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function Dx(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ix(e){var t=Dx(e,"string");return Rs(t)=="symbol"?t:t+""}function Tx(e,t,r){return(t=Ix(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ad(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ad(Object(r),!0).forEach(function(n){Tx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ad(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Fd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ea=function(){return Math.random().toString(36).substring(7).split("").join(".")},$d={INIT:"@@redux/INIT"+Ea(),REPLACE:"@@redux/REPLACE"+Ea(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ea()}};function Rx(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Wm(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(tt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(tt(1));return r(Wm)(e,t)}if(typeof e!="function")throw new Error(tt(2));var s=e,i=t,a=[],l=a,c=!1;function d(){l===a&&(l=a.slice())}function f(){if(c)throw new Error(tt(3));return i}function p(y){if(typeof y!="function")throw new Error(tt(4));if(c)throw new Error(tt(5));var w=!0;return d(),l.push(y),function(){if(w){if(c)throw new Error(tt(6));w=!1,d();var g=l.indexOf(y);l.splice(g,1),a=null}}}function u(y){if(!Rx(y))throw new Error(tt(7));if(typeof y.type>"u")throw new Error(tt(8));if(c)throw new Error(tt(9));try{c=!0,i=s(i,y)}finally{c=!1}for(var w=a=l,v=0;v<w.length;v++){var g=w[v];g()}return y}function m(y){if(typeof y!="function")throw new Error(tt(10));s=y,u({type:$d.REPLACE})}function h(){var y,w=p;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(tt(11));function x(){g.next&&g.next(f())}x();var b=w(x);return{unsubscribe:b}}},y[Fd]=function(){return this},y}return u({type:$d.INIT}),n={dispatch:u,subscribe:p,getState:f,replaceReducer:m},n[Fd]=h,n}function zd(e,t){return function(){return t(e.apply(this,arguments))}}function Ud(e,t){if(typeof e=="function")return zd(e,t);if(typeof e!="object"||e===null)throw new Error(tt(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=zd(s,t))}return r}function Vm(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function Mx(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),i=function(){throw new Error(tt(15))},a={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(a)});return i=Vm.apply(void 0,l)(s.dispatch),Bd(Bd({},s),{},{dispatch:i})}}}var qm=xe.createContext(null);function Px(e){e()}var Km=Px,Ox=function(t){return Km=t},Lx=function(){return Km};function Ax(){var e=Lx(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],i=t;i;)s.push(i),i=i.next;return s},subscribe:function(s){var i=!0,a=r={callback:s,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Hd={notify:function(){},get:function(){return[]}};function Qm(e,t){var r,n=Hd;function s(p){return c(),n.subscribe(p)}function i(){n.notify()}function a(){f.onStateChange&&f.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=Ax())}function d(){r&&(r(),r=void 0,n.clear(),n=Hd)}var f={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:a,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return n}};return f}var Ym=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect;function Bx(e){var t=e.store,r=e.context,n=e.children,s=j.useMemo(function(){var l=Qm(t);return{store:t,subscription:l}},[t]),i=j.useMemo(function(){return t.getState()},[t]);Ym(function(){var l=s.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[s,i]);var a=r||qm;return xe.createElement(a.Provider,{value:s},n)}function so(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jm={exports:{}},ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Be=typeof Symbol=="function"&&Symbol.for,qc=Be?Symbol.for("react.element"):60103,Kc=Be?Symbol.for("react.portal"):60106,Mo=Be?Symbol.for("react.fragment"):60107,Po=Be?Symbol.for("react.strict_mode"):60108,Oo=Be?Symbol.for("react.profiler"):60114,Lo=Be?Symbol.for("react.provider"):60109,Ao=Be?Symbol.for("react.context"):60110,Qc=Be?Symbol.for("react.async_mode"):60111,Bo=Be?Symbol.for("react.concurrent_mode"):60111,Fo=Be?Symbol.for("react.forward_ref"):60112,$o=Be?Symbol.for("react.suspense"):60113,Fx=Be?Symbol.for("react.suspense_list"):60120,zo=Be?Symbol.for("react.memo"):60115,Uo=Be?Symbol.for("react.lazy"):60116,$x=Be?Symbol.for("react.block"):60121,zx=Be?Symbol.for("react.fundamental"):60117,Ux=Be?Symbol.for("react.responder"):60118,Hx=Be?Symbol.for("react.scope"):60119;function ht(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qc:switch(e=e.type,e){case Qc:case Bo:case Mo:case Oo:case Po:case $o:return e;default:switch(e=e&&e.$$typeof,e){case Ao:case Fo:case Uo:case zo:case Lo:return e;default:return t}}case Kc:return t}}}function Xm(e){return ht(e)===Bo}ue.AsyncMode=Qc;ue.ConcurrentMode=Bo;ue.ContextConsumer=Ao;ue.ContextProvider=Lo;ue.Element=qc;ue.ForwardRef=Fo;ue.Fragment=Mo;ue.Lazy=Uo;ue.Memo=zo;ue.Portal=Kc;ue.Profiler=Oo;ue.StrictMode=Po;ue.Suspense=$o;ue.isAsyncMode=function(e){return Xm(e)||ht(e)===Qc};ue.isConcurrentMode=Xm;ue.isContextConsumer=function(e){return ht(e)===Ao};ue.isContextProvider=function(e){return ht(e)===Lo};ue.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qc};ue.isForwardRef=function(e){return ht(e)===Fo};ue.isFragment=function(e){return ht(e)===Mo};ue.isLazy=function(e){return ht(e)===Uo};ue.isMemo=function(e){return ht(e)===zo};ue.isPortal=function(e){return ht(e)===Kc};ue.isProfiler=function(e){return ht(e)===Oo};ue.isStrictMode=function(e){return ht(e)===Po};ue.isSuspense=function(e){return ht(e)===$o};ue.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mo||e===Bo||e===Oo||e===Po||e===$o||e===Fx||typeof e=="object"&&e!==null&&(e.$$typeof===Uo||e.$$typeof===zo||e.$$typeof===Lo||e.$$typeof===Ao||e.$$typeof===Fo||e.$$typeof===zx||e.$$typeof===Ux||e.$$typeof===Hx||e.$$typeof===$x)};ue.typeOf=ht;Jm.exports=ue;var _x=Jm.exports,Yc=_x,Gx={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Wx={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Vx={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zm={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Jc={};Jc[Yc.ForwardRef]=Vx;Jc[Yc.Memo]=Zm;function _d(e){return Yc.isMemo(e)?Zm:Jc[e.$$typeof]||Gx}var qx=Object.defineProperty,Kx=Object.getOwnPropertyNames,Gd=Object.getOwnPropertySymbols,Qx=Object.getOwnPropertyDescriptor,Yx=Object.getPrototypeOf,Wd=Object.prototype;function eg(e,t,r){if(typeof t!="string"){if(Wd){var n=Yx(t);n&&n!==Wd&&eg(e,n,r)}var s=Kx(t);Gd&&(s=s.concat(Gd(t)));for(var i=_d(e),a=_d(t),l=0;l<s.length;++l){var c=s[l];if(!Wx[c]&&!(r&&r[c])&&!(a&&a[c])&&!(i&&i[c])){var d=Qx(t,c);try{qx(e,c,d)}catch{}}}}return e}var Jx=eg;const Vd=Jl(Jx);var tg={exports:{}},fe={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=60103,_o=60106,Hs=60107,_s=60108,Gs=60114,Ws=60109,Vs=60110,qs=60112,Ks=60113,Xc=60120,Qs=60115,Ys=60116,rg=60121,ng=60122,sg=60117,ig=60129,og=60131;if(typeof Symbol=="function"&&Symbol.for){var Fe=Symbol.for;Ho=Fe("react.element"),_o=Fe("react.portal"),Hs=Fe("react.fragment"),_s=Fe("react.strict_mode"),Gs=Fe("react.profiler"),Ws=Fe("react.provider"),Vs=Fe("react.context"),qs=Fe("react.forward_ref"),Ks=Fe("react.suspense"),Xc=Fe("react.suspense_list"),Qs=Fe("react.memo"),Ys=Fe("react.lazy"),rg=Fe("react.block"),ng=Fe("react.server.block"),sg=Fe("react.fundamental"),ig=Fe("react.debug_trace_mode"),og=Fe("react.legacy_hidden")}function Bt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ho:switch(e=e.type,e){case Hs:case Gs:case _s:case Ks:case Xc:return e;default:switch(e=e&&e.$$typeof,e){case Vs:case qs:case Ys:case Qs:case Ws:return e;default:return t}}case _o:return t}}}var Xx=Ws,Zx=Ho,ey=qs,ty=Hs,ry=Ys,ny=Qs,sy=_o,iy=Gs,oy=_s,ay=Ks;fe.ContextConsumer=Vs;fe.ContextProvider=Xx;fe.Element=Zx;fe.ForwardRef=ey;fe.Fragment=ty;fe.Lazy=ry;fe.Memo=ny;fe.Portal=sy;fe.Profiler=iy;fe.StrictMode=oy;fe.Suspense=ay;fe.isAsyncMode=function(){return!1};fe.isConcurrentMode=function(){return!1};fe.isContextConsumer=function(e){return Bt(e)===Vs};fe.isContextProvider=function(e){return Bt(e)===Ws};fe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ho};fe.isForwardRef=function(e){return Bt(e)===qs};fe.isFragment=function(e){return Bt(e)===Hs};fe.isLazy=function(e){return Bt(e)===Ys};fe.isMemo=function(e){return Bt(e)===Qs};fe.isPortal=function(e){return Bt(e)===_o};fe.isProfiler=function(e){return Bt(e)===Gs};fe.isStrictMode=function(e){return Bt(e)===_s};fe.isSuspense=function(e){return Bt(e)===Ks};fe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hs||e===Gs||e===ig||e===_s||e===Ks||e===Xc||e===og||typeof e=="object"&&e!==null&&(e.$$typeof===Ys||e.$$typeof===Qs||e.$$typeof===Ws||e.$$typeof===Vs||e.$$typeof===qs||e.$$typeof===sg||e.$$typeof===rg||e[0]===ng)};fe.typeOf=Bt;tg.exports=fe;var ly=tg.exports,cy=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],uy=["reactReduxForwardedRef"],dy=[],py=[null,null];function fy(e,t){var r=e[1];return[t.payload,r+1]}function qd(e,t,r){Ym(function(){return e.apply(void 0,t)},r)}function my(e,t,r,n,s,i,a){e.current=n,t.current=s,r.current=!1,i.current&&(i.current=null,a())}function gy(e,t,r,n,s,i,a,l,c,d){if(e){var f=!1,p=null,u=function(){if(!f){var y=t.getState(),w,v;try{w=n(y,s.current)}catch(g){v=g,p=g}v||(p=null),w===i.current?a.current||c():(i.current=w,l.current=w,a.current=!0,d({type:"STORE_UPDATED",payload:{error:v}}))}};r.onStateChange=u,r.trySubscribe(),u();var m=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p};return m}}var hy=function(){return[null,0]};function vy(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,s=n===void 0?function(x){return"ConnectAdvanced("+x+")"}:n,i=r.methodName,a=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,d=r.shouldHandleStateChanges,f=d===void 0?!0:d,p=r.storeKey,u=p===void 0?"store":p;r.withRef;var m=r.forwardRef,h=m===void 0?!1:m,y=r.context,w=y===void 0?qm:y,v=so(r,cy),g=w;return function(b){var E=b.displayName||b.name||"Component",C=s(E),R=Z({},v,{getDisplayName:s,methodName:a,renderCountProp:c,shouldHandleStateChanges:f,storeKey:u,displayName:C,wrappedComponentName:E,WrappedComponent:b}),I=v.pure;function P(H){return e(H.dispatch,R)}var O=I?j.useMemo:function(H){return H()};function D(H){var B=j.useMemo(function(){var We=H.reactReduxForwardedRef,kt=so(H,uy);return[H.context,We,kt]},[H]),z=B[0],A=B[1],N=B[2],T=j.useMemo(function(){return z&&z.Consumer&&ly.isContextConsumer(xe.createElement(z.Consumer,null))?z:g},[z,g]),L=j.useContext(T),G=!!H.store&&!!H.store.getState&&!!H.store.dispatch;L&&L.store;var M=G?H.store:L.store,q=j.useMemo(function(){return P(M)},[M]),W=j.useMemo(function(){if(!f)return py;var We=Qm(M,G?null:L.subscription),kt=We.notifyNestedSubs.bind(We);return[We,kt]},[M,G,L]),J=W[0],Q=W[1],ee=j.useMemo(function(){return G?L:Z({},L,{subscription:J})},[G,L,J]),S=j.useReducer(fy,dy,hy),k=S[0],X=k[0],K=S[1];if(X&&X.error)throw X.error;var se=j.useRef(),le=j.useRef(N),re=j.useRef(),Re=j.useRef(!1),je=O(function(){return re.current&&N===le.current?re.current:q(M.getState(),N)},[M,X,N]);qd(my,[le,se,Re,N,je,re,Q]),qd(gy,[f,M,J,q,le,se,Re,re,Q,K],[M,J,q]);var ke=j.useMemo(function(){return xe.createElement(b,Z({},je,{ref:A}))},[A,b,je]),de=j.useMemo(function(){return f?xe.createElement(T.Provider,{value:ee},ke):ke},[T,ke,ee]);return de}var $=I?xe.memo(D):D;if($.WrappedComponent=b,$.displayName=D.displayName=C,h){var _=xe.forwardRef(function(B,z){return xe.createElement($,Z({},B,{reactReduxForwardedRef:z}))});return _.displayName=C,_.WrappedComponent=b,Vd(_,b)}return Vd($,b)}}function Kd(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Ca(e,t){if(Kd(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!Kd(e[r[s]],t[r[s]]))return!1;return!0}function xy(e,t){var r={},n=function(a){var l=e[a];typeof l=="function"&&(r[a]=function(){return t(l.apply(void 0,arguments))})};for(var s in e)n(s);return r}function Zc(e){return function(r,n){var s=e(r,n);function i(){return s}return i.dependsOnOwnProps=!1,i}}function Qd(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function ag(e,t){return function(n,s){s.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Qd(e);var d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=Qd(d),d=i(l,c)),d},i}}function yy(e){return typeof e=="function"?ag(e):void 0}function by(e){return e?void 0:Zc(function(t){return{dispatch:t}})}function Sy(e){return e&&typeof e=="object"?Zc(function(t){return xy(e,t)}):void 0}const wy=[yy,by,Sy];function Ny(e){return typeof e=="function"?ag(e):void 0}function Ey(e){return e?void 0:Zc(function(){return{}})}const Cy=[Ny,Ey];function jy(e,t,r){return Z({},r,e,t)}function ky(e){return function(r,n){n.displayName;var s=n.pure,i=n.areMergedPropsEqual,a=!1,l;return function(d,f,p){var u=e(d,f,p);return a?(!s||!i(u,l))&&(l=u):(a=!0,l=u),l}}}function Dy(e){return typeof e=="function"?ky(e):void 0}function Iy(e){return e?void 0:function(){return jy}}const Ty=[Dy,Iy];var Ry=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function My(e,t,r,n){return function(i,a){return r(e(i,a),t(n,a),a)}}function Py(e,t,r,n,s){var i=s.areStatesEqual,a=s.areOwnPropsEqual,l=s.areStatePropsEqual,c=!1,d,f,p,u,m;function h(x,b){return d=x,f=b,p=e(d,f),u=t(n,f),m=r(p,u,f),c=!0,m}function y(){return p=e(d,f),t.dependsOnOwnProps&&(u=t(n,f)),m=r(p,u,f),m}function w(){return e.dependsOnOwnProps&&(p=e(d,f)),t.dependsOnOwnProps&&(u=t(n,f)),m=r(p,u,f),m}function v(){var x=e(d,f),b=!l(x,p);return p=x,b&&(m=r(p,u,f)),m}function g(x,b){var E=!a(b,f),C=!i(x,d,b,f);return d=x,f=b,E&&C?y():E?w():C?v():m}return function(b,E){return c?g(b,E):h(b,E)}}function Oy(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,i=so(t,Ry),a=r(e,i),l=n(e,i),c=s(e,i),d=i.pure?Py:My;return d(a,l,c,e,i)}var Ly=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function ja(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(i,a){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+a.wrappedComponentName+".")}}function Ay(e,t){return e===t}function By(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?vy:r,s=t.mapStateToPropsFactories,i=s===void 0?Cy:s,a=t.mapDispatchToPropsFactories,l=a===void 0?wy:a,c=t.mergePropsFactories,d=c===void 0?Ty:c,f=t.selectorFactory,p=f===void 0?Oy:f;return function(m,h,y,w){w===void 0&&(w={});var v=w,g=v.pure,x=g===void 0?!0:g,b=v.areStatesEqual,E=b===void 0?Ay:b,C=v.areOwnPropsEqual,R=C===void 0?Ca:C,I=v.areStatePropsEqual,P=I===void 0?Ca:I,O=v.areMergedPropsEqual,D=O===void 0?Ca:O,$=so(v,Ly),_=ja(m,i,"mapStateToProps"),H=ja(h,l,"mapDispatchToProps"),B=ja(y,d,"mergeProps");return n(p,Z({methodName:"connect",getDisplayName:function(A){return"Connect("+A+")"},shouldHandleStateChanges:!!m,initMapStateToProps:_,initMapDispatchToProps:H,initMergeProps:B,pure:x,areStatesEqual:E,areOwnPropsEqual:R,areStatePropsEqual:P,areMergedPropsEqual:D},$))}}const lg=By();Ox(Vc.unstable_batchedUpdates);function Fy(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function cg(e,t){var r=j.useState(function(){return{inputs:t,result:e()}})[0],n=j.useRef(!0),s=j.useRef(r),i=n.current||!!(t&&s.current.inputs&&Fy(t,s.current.inputs)),a=i?s.current:{inputs:t,result:e()};return j.useEffect(function(){n.current=!1,s.current=a},[a]),a.result}function $y(e,t){return cg(function(){return e},t)}var oe=cg,Y=$y,zy=!0,ka="Invariant failed";function Uy(e,t){if(!e){if(zy)throw new Error(ka);var r=typeof t=="function"?t():t,n=r?"".concat(ka,": ").concat(r):ka;throw new Error(n)}}var Pt=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,a=n-i,l=s-r,c={top:r,right:n,bottom:s,left:i,width:a,height:l,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return c},eu=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Yd=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Hy=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Da={top:0,right:0,bottom:0,left:0},tu=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?Da:n,i=t.border,a=i===void 0?Da:i,l=t.padding,c=l===void 0?Da:l,d=Pt(eu(r,s)),f=Pt(Yd(r,a)),p=Pt(Yd(f,c));return{marginBox:d,borderBox:Pt(r),paddingBox:f,contentBox:p,margin:s,border:a,padding:c}},vt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&Uy(!1),s},_y=function(){return{x:window.pageXOffset,y:window.pageYOffset}},io=function(t,r){var n=t.borderBox,s=t.border,i=t.margin,a=t.padding,l=Hy(n,r);return tu({borderBox:l,border:s,margin:i,padding:a})},oo=function(t,r){return r===void 0&&(r=_y()),io(t,r)},ug=function(t,r){var n={top:vt(r.marginTop),right:vt(r.marginRight),bottom:vt(r.marginBottom),left:vt(r.marginLeft)},s={top:vt(r.paddingTop),right:vt(r.paddingRight),bottom:vt(r.paddingBottom),left:vt(r.paddingLeft)},i={top:vt(r.borderTopWidth),right:vt(r.borderRightWidth),bottom:vt(r.borderBottomWidth),left:vt(r.borderLeftWidth)};return tu({borderBox:t,margin:n,padding:s,border:i})},dg=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return ug(r,n)},Jd=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Gy(e,t){return!!(e===t||Jd(e)&&Jd(t))}function Wy(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Gy(e[r],t[r]))return!1;return!0}function Le(e,t){t===void 0&&(t=Wy);var r,n=[],s,i=!1;function a(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&t(l,n)||(s=e.apply(this,l),i=!0,r=this,n=l),s}return a}var Vy=function(t){var r=[],n=null,s=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};const Ms=Vy;function pg(e,t){}pg.bind(null,"warn");pg.bind(null,"error");function yr(){}function qy(e,t){return Z({},e,{},t)}function St(e,t,r){var n=t.map(function(s){var i=qy(r,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){n.forEach(function(i){i()})}}var Ky="Invariant failed";function ao(e){this.message=e}ao.prototype.toString=function(){return this.message};function U(e,t){if(!e)throw new ao(Ky)}var Qy=function(e){Gm(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=yr,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var d=l.error;d instanceof ao&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=St(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(s){if(s instanceof ao){this.setState({});return}throw s},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(xe.Component),Yy=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,lo=function(t){return t+1},Jy=function(t){return`
  You have lifted an item in position `+lo(t.source.index)+`
`},fg=function(t,r){var n=t.droppableId===r.droppableId,s=lo(t.index),i=lo(r.index);return n?`
      You have moved the item from position `+s+`
      to position `+i+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},mg=function(t,r,n){var s=r.droppableId===n.droppableId;return s?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Xy=function(t){var r=t.destination;if(r)return fg(t.source,r);var n=t.combine;return n?mg(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Xd=function(t){return`
  The item has returned to its starting position
  of `+lo(t.index)+`
`},Zy=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Xd(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+fg(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+mg(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Xd(t.source)+`
  `},Pi={dragHandleUsageInstructions:Yy,onDragStart:Jy,onDragUpdate:Xy,onDragEnd:Zy},Ae={x:0,y:0},He=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},ct=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},br=function(t,r){return t.x===r.x&&t.y===r.y},Bn=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Zr=function(t,r,n){var s;return n===void 0&&(n=0),s={},s[t]=r,s[t==="x"?"y":"x"]=n,s},Ps=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Zd=function(t,r){return Math.min.apply(Math,r.map(function(n){return Ps(t,n)}))},gg=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},eb=function(e,t){var r=Pt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Js=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},ep=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},tb={top:0,right:0,bottom:0,left:0},rb=function(t,r){return r?Js(t,r.scroll.diff.displacement):t},nb=function(t,r,n){if(n&&n.increasedBy){var s;return Z({},t,(s={},s[r.end]=t[r.end]+n.increasedBy[r.line],s))}return t},sb=function(t,r){return r&&r.shouldClipSubject?eb(r.pageMarginBox,t):Pt(t)},Rn=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,s=e.frame,i=rb(t.marginBox,s),a=nb(i,n,r),l=sb(a,s);return{page:t,withPlaceholder:r,active:l}},ru=function(e,t){e.frame||U(!1);var r=e.frame,n=ct(t,r.scroll.initial),s=Bn(n),i=Z({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}}),a=Rn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=Z({},e,{frame:i,subject:a});return l};function co(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function nu(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Ir(e,t){if(e.find)return e.find(t);var r=nu(e,t);if(r!==-1)return e[r]}function hg(e){return Array.prototype.slice.call(e)}var vg=Le(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),xg=Le(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Go=Le(function(e){return co(e)}),ib=Le(function(e){return co(e)}),Fn=Le(function(e,t){var r=ib(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,s){return n.descriptor.index-s.descriptor.index});return r});function su(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Wo(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Vo=Le(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),ob=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var a=su(i);if(!a)return null;function l(y){var w={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return Z({},i,{at:w})}var c=i.displaced.all,d=c.length?c[0]:null;if(t)return d?l(d):null;var f=Vo(r,s);if(!d){if(!f.length)return null;var p=f[f.length-1];return l(p.descriptor.id)}var u=nu(f,function(y){return y.descriptor.id===d});u===-1&&U(!1);var m=u-1;if(m<0)return null;var h=f[m];return l(h.descriptor.id)},$n=function(e,t){return e.descriptor.droppableId===t.descriptor.id},yg={point:Ae,value:0},Os={invisible:{},visible:{},all:[]},ab={displaced:Os,displacedBy:yg,at:null},Nt=function(e,t){return function(r){return e<=r&&r<=t}},bg=function(e){var t=Nt(e.top,e.bottom),r=Nt(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(s)return!0;var i=t(n.top)||t(n.bottom),a=r(n.left)||r(n.right),l=i&&a;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right,f=c&&d;if(f)return!0;var p=c&&a||d&&i;return p}},lb=function(e){var t=Nt(e.top,e.bottom),r=Nt(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return s}},iu={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Sg={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},cb=function(e){return function(t){var r=Nt(t.top,t.bottom),n=Nt(t.left,t.right);return function(s){return e===iu?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)}}},ub=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Ae;return Js(t,n)},db=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},pb=function(t,r,n){return n(r)(t)},ou=function(t){var r=t.target,n=t.destination,s=t.viewport,i=t.withDroppableDisplacement,a=t.isVisibleThroughFrameFn,l=i?ub(r,n):r;return db(l,n,a)&&pb(l,s,a)},fb=function(t){return ou(Z({},t,{isVisibleThroughFrameFn:bg}))},wg=function(t){return ou(Z({},t,{isVisibleThroughFrameFn:lb}))},mb=function(t){return ou(Z({},t,{isVisibleThroughFrameFn:cb(t.destination.axis)}))},gb=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var s=r.invisible,i=r.visible;if(s[t])return!1;var a=i[t];return a?a.shouldAnimate:!0};function hb(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Pt(eu(r,n))}function Ls(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,s=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce(function(c,d){var f=hb(d,n),p=d.descriptor.id;c.all.push(p);var u=fb({target:f,destination:r,viewport:s,withDroppableDisplacement:!0});if(!u)return c.invisible[d.descriptor.id]=!0,c;var m=gb(p,a,i),h={draggableId:p,shouldAnimate:m};return c.visible[p]=h,c},{all:[],visible:{},invisible:{}})}function vb(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function tp(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,s=e.destination,i=vb(t,{inHomeList:r});return{displaced:Os,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:i}}}}function uo(e){var t=e.draggable,r=e.insideDestination,n=e.destination,s=e.viewport,i=e.displacedBy,a=e.last,l=e.index,c=e.forceShouldAnimate,d=$n(t,n);if(l==null)return tp({insideDestination:r,inHomeList:d,displacedBy:i,destination:n});var f=Ir(r,function(y){return y.descriptor.index===l});if(!f)return tp({insideDestination:r,inHomeList:d,displacedBy:i,destination:n});var p=Vo(t,r),u=r.indexOf(f),m=p.slice(u),h=Ls({afterDragging:m,destination:n,displacedBy:i,last:a,viewport:s.frame,forceShouldAnimate:c});return{displaced:h,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function Cr(e,t){return!!t.effected[e]}var xb=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,s=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var a=s.draggableId,l=n[a],c=l.descriptor.index,d=Cr(a,i);return d?t?c:c-1:t?c+1:c},yb=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,s=e.location;if(!n.length)return null;var i=s.index,a=t?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=r?c:c+1;return a<l||a>d?null:a},bb=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,s=e.draggables,i=e.destination,a=e.insideDestination,l=e.previousImpact,c=e.viewport,d=e.afterCritical,f=l.at;if(f||U(!1),f.type==="REORDER"){var p=yb({isMovingForward:t,isInHomeList:r,location:f.destination,insideDestination:a});return p==null?null:uo({draggable:n,insideDestination:a,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:p})}var u=xb({isMovingForward:t,destination:i,displaced:l.displaced,draggables:s,combine:f.combine,afterCritical:d});return u==null?null:uo({draggable:n,insideDestination:a,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:u})},Sb=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,s=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return Cr(n,r)?i?Ae:Bn(s.point):i?s.point:Ae},wb=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,s=Wo(r);s||U(!1);var i=s.draggableId,a=n[i].page.borderBox.center,l=Sb({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return He(a,l)},Ng=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},Nb=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},au=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},rp=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Zr(r.line,n.marginBox[r.end]+Ng(r,s),au(r,n.marginBox,s))},np=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Zr(r.line,n.marginBox[r.start]-Nb(r,s),au(r,n.marginBox,s))},Eb=function(t){var r=t.axis,n=t.moveInto,s=t.isMoving;return Zr(r.line,n.contentBox[r.start]+Ng(r,s),au(r,n.contentBox,s))},Cb=function(e){var t=e.impact,r=e.draggable,n=e.draggables,s=e.droppable,i=e.afterCritical,a=Fn(s.descriptor.id,n),l=r.page,c=s.axis;if(!a.length)return Eb({axis:c,moveInto:s.page,isMoving:l});var d=t.displaced,f=t.displacedBy,p=d.all[0];if(p){var u=n[p];if(Cr(p,i))return np({axis:c,moveRelativeTo:u.page,isMoving:l});var m=io(u.page,f.point);return np({axis:c,moveRelativeTo:m,isMoving:l})}var h=a[a.length-1];if(h.descriptor.id===r.descriptor.id)return l.borderBox.center;if(Cr(h.descriptor.id,i)){var y=io(h.page,Bn(i.displacedBy.point));return rp({axis:c,moveRelativeTo:y,isMoving:l})}return rp({axis:c,moveRelativeTo:h.page,isMoving:l})},Fl=function(e,t){var r=e.frame;return r?He(t,r.scroll.diff.displacement):t},jb=function(t){var r=t.impact,n=t.draggable,s=t.droppable,i=t.draggables,a=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!s||!c?l:c.type==="REORDER"?Cb({impact:r,draggable:n,draggables:i,droppable:s,afterCritical:a}):wb({impact:r,draggables:i,afterCritical:a})},qo=function(e){var t=jb(e),r=e.droppable,n=r?Fl(r,t):t;return n},Eg=function(e,t){var r=ct(t,e.scroll.initial),n=Bn(r),s=Pt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function sp(e,t){return e.map(function(r){return t[r]})}function kb(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var Db=function(e){var t=e.impact,r=e.viewport,n=e.destination,s=e.draggables,i=e.maxScrollChange,a=Eg(r,He(r.scroll.current,i)),l=n.frame?ru(n,He(n.frame.scroll.current,i)):n,c=t.displaced,d=Ls({afterDragging:sp(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=Ls({afterDragging:sp(c.all,s),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),p={},u={},m=[c,d,f];c.all.forEach(function(y){var w=kb(y,m);if(w){u[y]=w;return}p[y]=!0});var h=Z({},t,{displaced:{all:c.all,invisible:p,visible:u}});return h},Ib=function(e,t){return He(e.scroll.diff.displacement,t)},lu=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,s=Ib(n,t),i=ct(s,r.page.borderBox.center);return He(r.client.borderBox.center,i)},Cg=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,s=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=a===void 0?!1:a,c=ct(n,t.page.borderBox.center),d=Js(t.page.borderBox,c),f={target:d,destination:r,withDroppableDisplacement:i,viewport:s};return l?mb(f):wg(f)},Tb=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!n.isEnabled)return null;var f=Fn(n.descriptor.id,s),p=$n(r,n),u=ob({isMovingForward:t,draggable:r,destination:n,insideDestination:f,previousImpact:i})||bb({isMovingForward:t,isInHomeList:p,draggable:r,draggables:s,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:d});if(!u)return null;var m=qo({impact:u,draggable:r,droppable:n,draggables:s,afterCritical:d}),h=Cg({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(h){var y=lu({pageBorderBoxCenter:m,draggable:r,viewport:a});return{clientSelection:y,impact:u,scrollJumpRequest:null}}var w=ct(m,l),v=Db({impact:u,viewport:a,destination:n,draggables:s,maxScrollChange:w});return{clientSelection:c,impact:v,scrollJumpRequest:w}},Ye=function(t){var r=t.subject.active;return r||U(!1),r},Rb=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,s=e.droppables,i=e.viewport,a=n.subject.active;if(!a)return null;var l=n.axis,c=Nt(a[l.start],a[l.end]),d=Go(s).filter(function(p){return p!==n}).filter(function(p){return p.isEnabled}).filter(function(p){return!!p.subject.active}).filter(function(p){return bg(i.frame)(Ye(p))}).filter(function(p){var u=Ye(p);return t?a[l.crossAxisEnd]<u[l.crossAxisEnd]:u[l.crossAxisStart]<a[l.crossAxisStart]}).filter(function(p){var u=Ye(p),m=Nt(u[l.start],u[l.end]);return c(u[l.start])||c(u[l.end])||m(a[l.start])||m(a[l.end])}).sort(function(p,u){var m=Ye(p)[l.crossAxisStart],h=Ye(u)[l.crossAxisStart];return t?m-h:h-m}).filter(function(p,u,m){return Ye(p)[l.crossAxisStart]===Ye(m[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var f=d.filter(function(p){var u=Nt(Ye(p)[l.start],Ye(p)[l.end]);return u(r[l.line])});return f.length===1?f[0]:f.length>1?f.sort(function(p,u){return Ye(p)[l.start]-Ye(u)[l.start]})[0]:d.sort(function(p,u){var m=Zd(r,ep(Ye(p))),h=Zd(r,ep(Ye(u)));return m!==h?m-h:Ye(p)[l.start]-Ye(u)[l.start]})[0]},ip=function(t,r){var n=t.page.borderBox.center;return Cr(t.descriptor.id,r)?ct(n,r.displacedBy.point):n},Mb=function(t,r){var n=t.page.borderBox;return Cr(t.descriptor.id,r)?Js(n,Bn(r.displacedBy.point)):n},Pb=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,s=e.insideDestination,i=e.afterCritical,a=s.filter(function(l){return wg({target:Mb(l,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var d=Ps(t,Fl(n,ip(l,i))),f=Ps(t,Fl(n,ip(c,i)));return d<f?-1:f<d?1:l.descriptor.index-c.descriptor.index});return a[0]||null},Xs=Le(function(t,r){var n=r[t.line];return{value:n,point:Zr(t.line,n)}}),Ob=function(t,r,n){var s=t.axis;if(t.descriptor.mode==="virtual")return Zr(s.line,r[s.line]);var i=t.subject.page.contentBox[s.size],a=Fn(t.descriptor.id,n),l=a.reduce(function(f,p){return f+p.client.marginBox[s.size]},0),c=l+r[s.line],d=c-i;return d<=0?null:Zr(s.line,d)},jg=function(t,r){return Z({},t,{scroll:Z({},t.scroll,{max:r})})},kg=function(t,r,n){var s=t.frame;$n(r,t)&&U(!1),t.subject.withPlaceholder&&U(!1);var i=Xs(t.axis,r.displaceBy).point,a=Ob(t,i,n),l={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=Rn({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return Z({},t,{subject:c})}var d=a?He(s.scroll.max,a):s.scroll.max,f=jg(s,d),p=Rn({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:f});return Z({},t,{subject:p,frame:f})},Lb=function(t){var r=t.subject.withPlaceholder;r||U(!1);var n=t.frame;if(!n){var s=Rn({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Z({},t,{subject:s})}var i=r.oldFrameMaxScroll;i||U(!1);var a=jg(n,i),l=Rn({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return Z({},t,{subject:l,frame:a})},Ab=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,s=e.draggable,i=e.draggables,a=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var d={displaced:Os,displacedBy:yg,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},f=qo({impact:d,draggable:s,droppable:a,draggables:i,afterCritical:c}),p=$n(s,a)?a:kg(a,s,i),u=Cg({draggable:s,destination:p,newPageBorderBoxCenter:f,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return u?d:null}var m=t[a.axis.line]<=r.page.borderBox.center[a.axis.line],h=function(){var w=r.descriptor.index;return r.descriptor.id===s.descriptor.id||m?w:w+1}(),y=Xs(a.axis,s.displaceBy);return uo({draggable:s,insideDestination:n,destination:a,viewport:l,displacedBy:y,last:Os,index:h})},Bb=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,s=e.isOver,i=e.draggables,a=e.droppables,l=e.viewport,c=e.afterCritical,d=Rb({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:a,viewport:l});if(!d)return null;var f=Fn(d.descriptor.id,i),p=Pb({pageBorderBoxCenter:r,viewport:l,destination:d,insideDestination:f,afterCritical:c}),u=Ab({previousPageBorderBoxCenter:r,destination:d,draggable:n,draggables:i,moveRelativeTo:p,insideDestination:f,viewport:l,afterCritical:c});if(!u)return null;var m=qo({impact:u,draggable:n,droppable:d,draggables:i,afterCritical:c}),h=lu({pageBorderBoxCenter:m,draggable:n,viewport:l});return{clientSelection:h,impact:u,scrollJumpRequest:null}},dt=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Fb=function(t,r){var n=dt(t);return n?r[n]:null},$b=function(e){var t=e.state,r=e.type,n=Fb(t.impact,t.dimensions.droppables),s=!!n,i=t.dimensions.droppables[t.critical.droppable.id],a=n||i,l=a.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!s)return null;var d=r==="MOVE_DOWN"||r==="MOVE_RIGHT",f=t.dimensions.draggables[t.critical.draggable.id],p=t.current.page.borderBoxCenter,u=t.dimensions,m=u.draggables,h=u.droppables;return c?Tb({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:f,destination:a,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Bb({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:f,isOver:a,draggables:m,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Lr(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Dg(e){var t=Nt(e.top,e.bottom),r=Nt(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function zb(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Ub(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,s=r.page.borderBox.center,i=n.map(function(a){var l=a.axis,c=Zr(a.axis.line,t.center[l.line],a.page.borderBox.center[l.crossAxisLine]);return{id:a.descriptor.id,distance:Ps(s,c)}}).sort(function(a,l){return l.distance-a.distance});return i[0]?i[0].id:null}function Hb(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,s=Go(n).filter(function(i){if(!i.isEnabled)return!1;var a=i.subject.active;if(!a||!zb(t,a))return!1;if(Dg(a)(t.center))return!0;var l=i.axis,c=a.center[l.crossAxisLine],d=t[l.crossAxisStart],f=t[l.crossAxisEnd],p=Nt(a[l.crossAxisStart],a[l.crossAxisEnd]),u=p(d),m=p(f);return!u&&!m?!0:u?d<c:f>c});return s.length?s.length===1?s[0].descriptor.id:Ub({pageBorderBox:t,draggable:r,candidates:s}):null}var Ig=function(t,r){return Pt(Js(t,r))},_b=function(e,t){var r=e.frame;return r?Ig(t,r.scroll.diff.value):t};function Tg(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function Gb(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var Wb=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,s=e.insideDestination,i=e.last,a=e.viewport,l=e.afterCritical,c=n.axis,d=Xs(n.axis,r.displaceBy),f=d.value,p=t[c.start],u=t[c.end],m=Vo(r,s),h=Ir(m,function(w){var v=w.descriptor.id,g=w.page.borderBox.center[c.line],x=Cr(v,l),b=Tg({displaced:i,id:v});return x?b?u<=g:p<g-f:b?u<=g+f:p<g}),y=Gb({draggable:r,closest:h,inHomeList:$n(r,n)});return uo({draggable:r,insideDestination:s,destination:n,viewport:a,last:i,displacedBy:d,index:y})},Vb=4,qb=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,s=e.destination,i=e.insideDestination,a=e.afterCritical;if(!s.isCombineEnabled)return null;var l=s.axis,c=Xs(s.axis,t.displaceBy),d=c.value,f=r[l.start],p=r[l.end],u=Vo(t,i),m=Ir(u,function(y){var w=y.descriptor.id,v=y.page.borderBox,g=v[l.size],x=g/Vb,b=Cr(w,a),E=Tg({displaced:n.displaced,id:w});return b?E?p>v[l.start]+x&&p<v[l.end]-x:f>v[l.start]-d+x&&f<v[l.end]-d-x:E?p>v[l.start]+d+x&&p<v[l.end]+d-x:f>v[l.start]+x&&f<v[l.end]-x});if(!m)return null;var h={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}};return h},Rg=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,s=e.droppables,i=e.previousImpact,a=e.viewport,l=e.afterCritical,c=Ig(r.page.borderBox,t),d=Hb({pageBorderBox:c,draggable:r,droppables:s});if(!d)return ab;var f=s[d],p=Fn(f.descriptor.id,n),u=_b(f,c);return qb({pageBorderBoxWithDroppableScroll:u,draggable:r,previousImpact:i,destination:f,insideDestination:p,afterCritical:l})||Wb({pageBorderBoxWithDroppableScroll:u,draggable:r,destination:f,insideDestination:p,last:i.displaced,viewport:a,afterCritical:l})},cu=function(e,t){var r;return Z({},e,(r={},r[t.descriptor.id]=t,r))},Kb=function(t){var r=t.previousImpact,n=t.impact,s=t.droppables,i=dt(r),a=dt(n);if(!i||i===a)return s;var l=s[i];if(!l.subject.withPlaceholder)return s;var c=Lb(l);return cu(s,c)},Qb=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,s=e.previousImpact,i=e.impact,a=Kb({previousImpact:s,impact:i,droppables:n}),l=dt(i);if(!l)return a;var c=n[l];if($n(t,c)||c.subject.withPlaceholder)return a;var d=kg(c,t,r);return cu(a,d)},ps=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,s=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=s||t.viewport,c=n||t.dimensions,d=r||t.current.client.selection,f=ct(d,t.initial.client.selection),p={offset:f,selection:d,borderBoxCenter:He(t.initial.client.borderBoxCenter,f)},u={selection:He(p.selection,l.scroll.current),borderBoxCenter:He(p.borderBoxCenter,l.scroll.current),offset:He(p.offset,l.scroll.diff.value)},m={client:p,page:u};if(t.phase==="COLLECTING")return Z({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var h=c.draggables[t.critical.draggable.id],y=i||Rg({pageOffset:u.offset,draggable:h,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),w=Qb({draggable:h,impact:y,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),v=Z({},t,{current:m,dimensions:{draggables:c.draggables,droppables:w},impact:y,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return v};function Yb(e,t){return e.map(function(r){return t[r]})}var Mg=function(e){var t=e.impact,r=e.viewport,n=e.draggables,s=e.destination,i=e.forceShouldAnimate,a=t.displaced,l=Yb(a.all,n),c=Ls({afterDragging:l,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:a});return Z({},t,{displaced:c})},Pg=function(e){var t=e.impact,r=e.draggable,n=e.droppable,s=e.draggables,i=e.viewport,a=e.afterCritical,l=qo({impact:t,draggable:r,draggables:s,droppable:n,afterCritical:a});return lu({pageBorderBoxCenter:l,draggable:r,viewport:i})},Og=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&U(!1);var s=t.impact,i=n||t.viewport,a=r||t.dimensions,l=a.draggables,c=a.droppables,d=l[t.critical.draggable.id],f=dt(s);f||U(!1);var p=c[f],u=Mg({impact:s,viewport:i,destination:p,draggables:l}),m=Pg({impact:u,draggable:d,droppable:p,draggables:l,viewport:i,afterCritical:t.afterCritical});return ps({impact:u,clientSelection:m,state:t,dimensions:a,viewport:i})},Jb=function(e){return{index:e.index,droppableId:e.droppableId}},Lg=function(e){var t=e.draggable,r=e.home,n=e.draggables,s=e.viewport,i=Xs(r.axis,t.displaceBy),a=Fn(r.descriptor.id,n),l=a.indexOf(t);l===-1&&U(!1);var c=a.slice(l+1),d=c.reduce(function(m,h){return m[h.descriptor.id]=!0,m},{}),f={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:d},p=Ls({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:s.frame,forceShouldAnimate:!1}),u={displaced:p,displacedBy:i,at:{type:"REORDER",destination:Jb(t.descriptor)}};return{impact:u,afterCritical:f}},Xb=function(e,t){return{draggables:e.draggables,droppables:cu(e.droppables,t)}},Zb=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,s=io(t.client,r),i=oo(s,n),a=Z({},t,{placeholder:Z({},t.placeholder,{client:s}),client:s,page:i});return a},eS=function(e){var t=e.frame;return t||U(!1),t},tS=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,s=n.scroll.diff.value;return t.map(function(i){var a=i.descriptor.droppableId,l=r[a],c=eS(l),d=c.scroll.diff.value,f=He(s,d),p=Zb({draggable:i,offset:f,initialWindowScroll:n.scroll.initial});return p})},rS=function(e){var t=e.state,r=e.published,n=r.modified.map(function(x){var b=t.dimensions.droppables[x.droppableId],E=ru(b,x.scroll);return E}),s=Z({},t.dimensions.droppables,{},vg(n)),i=xg(tS({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),a=Z({},t.dimensions.draggables,{},i);r.removals.forEach(function(x){delete a[x]});var l={droppables:s,draggables:a},c=dt(t.impact),d=c?l.droppables[c]:null,f=l.draggables[t.critical.draggable.id],p=l.droppables[t.critical.droppable.id],u=Lg({draggable:f,home:p,draggables:a,viewport:t.viewport}),m=u.impact,h=u.afterCritical,y=d&&d.isCombineEnabled?t.impact:m,w=Rg({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:t.viewport,afterCritical:h}),v=Z({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:w,onLiftImpact:m,dimensions:l,afterCritical:h,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return v;var g=Z({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return g},$l=function(t){return t.movementMode==="SNAP"},Ia=function(t,r,n){var s=Xb(t.dimensions,r);return!$l(t)||n?ps({state:t,dimensions:s}):Og({state:t,dimensions:s})};function Ta(e){return e.isDragging&&e.movementMode==="SNAP"?Z({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var op={phase:"IDLE",completed:null,shouldFlush:!1},nS=function(e,t){if(e===void 0&&(e=op),t.type==="FLUSH")return Z({},op,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&U(!1);var r=t.payload,n=r.critical,s=r.clientSelection,i=r.viewport,a=r.dimensions,l=r.movementMode,c=a.draggables[n.draggable.id],d=a.droppables[n.droppable.id],f={selection:s,borderBoxCenter:c.client.borderBox.center,offset:Ae},p={client:f,page:{selection:He(f.selection,i.scroll.initial),borderBoxCenter:He(f.selection,i.scroll.initial),offset:He(f.selection,i.scroll.diff.value)}},u=Go(a.droppables).every(function(K){return!K.isFixedOnPage}),m=Lg({draggable:c,home:d,draggables:a.draggables,viewport:i}),h=m.impact,y=m.afterCritical,w={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:a,initial:p,current:p,isWindowScrollAllowed:u,impact:h,afterCritical:y,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return w}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&U(!1);var v=Z({phase:"COLLECTING"},e,{phase:"COLLECTING"});return v}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||U(!1),rS({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Lr(e)||U(!1);var g=t.payload.client;return br(g,e.current.client.selection)?e:ps({state:e,clientSelection:g,impact:$l(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ta(e);Lr(e)||U(!1);var x=t.payload,b=x.id,E=x.newScroll,C=e.dimensions.droppables[b];if(!C)return e;var R=ru(C,E);return Ia(e,R,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Lr(e)||U(!1);var I=t.payload,P=I.id,O=I.isEnabled,D=e.dimensions.droppables[P];D||U(!1),D.isEnabled===O&&U(!1);var $=Z({},D,{isEnabled:O});return Ia(e,$,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Lr(e)||U(!1);var _=t.payload,H=_.id,B=_.isCombineEnabled,z=e.dimensions.droppables[H];z||U(!1),z.isCombineEnabled===B&&U(!1);var A=Z({},z,{isCombineEnabled:B});return Ia(e,A,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Lr(e)||U(!1),e.isWindowScrollAllowed||U(!1);var N=t.payload.newScroll;if(br(e.viewport.scroll.current,N))return Ta(e);var T=Eg(e.viewport,N);return $l(e)?Og({state:e,viewport:T}):ps({state:e,viewport:T})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Lr(e))return e;var L=t.payload.maxScroll;if(br(L,e.viewport.scroll.max))return e;var G=Z({},e.viewport,{scroll:Z({},e.viewport.scroll,{max:L})});return Z({phase:"DRAGGING"},e,{viewport:G})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&U(!1);var M=$b({state:e,type:t.type});return M?ps({state:e,impact:M.impact,clientSelection:M.clientSelection,scrollJumpRequest:M.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var q=t.payload.reason;e.phase!=="COLLECTING"&&U(!1);var W=Z({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:q});return W}if(t.type==="DROP_ANIMATE"){var J=t.payload,Q=J.completed,ee=J.dropDuration,S=J.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||U(!1);var k={phase:"DROP_ANIMATING",completed:Q,dropDuration:ee,newHomeClientOffset:S,dimensions:e.dimensions};return k}if(t.type==="DROP_COMPLETE"){var X=t.payload.completed;return{phase:"IDLE",completed:X,shouldFlush:!1}}return e},sS=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},iS=function(t){return{type:"LIFT",payload:t}},oS=function(t){return{type:"INITIAL_PUBLISH",payload:t}},aS=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},lS=function(){return{type:"COLLECTION_STARTING",payload:null}},cS=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},uS=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},dS=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Ag=function(t){return{type:"MOVE",payload:t}},pS=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},fS=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},mS=function(){return{type:"MOVE_UP",payload:null}},gS=function(){return{type:"MOVE_DOWN",payload:null}},hS=function(){return{type:"MOVE_RIGHT",payload:null}},vS=function(){return{type:"MOVE_LEFT",payload:null}},uu=function(){return{type:"FLUSH",payload:null}},xS=function(t){return{type:"DROP_ANIMATE",payload:t}},du=function(t){return{type:"DROP_COMPLETE",payload:t}},Bg=function(t){return{type:"DROP",payload:t}},yS=function(t){return{type:"DROP_PENDING",payload:t}},Fg=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},bS=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(s){return function(i){if(i.type!=="LIFT"){s(i);return}var a=i.payload,l=a.id,c=a.clientSelection,d=a.movementMode,f=r();f.phase==="DROP_ANIMATING"&&n(du({completed:f.completed})),r().phase!=="IDLE"&&U(!1),n(uu()),n(sS({draggableId:l,movementMode:d}));var p={shouldPublishImmediately:d==="SNAP"},u={draggableId:l,scrollOptions:p},m=e.startPublishing(u),h=m.critical,y=m.dimensions,w=m.viewport;n(oS({critical:h,dimensions:y,clientSelection:c,movementMode:d,viewport:w}))}}}},SS=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},pu={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},As={opacity:{drop:0,combining:.7},scale:{drop:.75}},fu={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Rr=fu.outOfTheWay+"s "+pu.outOfTheWay,fs={fluid:"opacity "+Rr,snap:"transform "+Rr+", opacity "+Rr,drop:function(t){var r=t+"s "+pu.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Rr,placeholder:"height "+Rr+", width "+Rr+", margin "+Rr},ap=function(t){return br(t,Ae)?null:"translate("+t.x+"px, "+t.y+"px)"},zl={moveTo:ap,drop:function(t,r){var n=ap(t);return n?r?n+" scale("+As.scale.drop+")":n:null}},Ul=fu.minDropTime,$g=fu.maxDropTime,wS=$g-Ul,lp=1500,NS=.6,ES=function(e){var t=e.current,r=e.destination,n=e.reason,s=Ps(t,r);if(s<=0)return Ul;if(s>=lp)return $g;var i=s/lp,a=Ul+wS*i,l=n==="CANCEL"?a*NS:a;return Number(l.toFixed(2))},CS=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,s=e.viewport,i=e.afterCritical,a=n.draggables,l=n.droppables,c=dt(t),d=c?l[c]:null,f=l[r.descriptor.droppableId],p=Pg({impact:t,draggable:r,draggables:a,afterCritical:i,droppable:d||f,viewport:s}),u=ct(p,r.client.borderBox.center);return u},jS=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,s=e.home,i=e.viewport,a=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=Mg({draggables:t,impact:a,destination:s,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=Z({},n,{displaced:Os});return{impact:c,didDropInsideDroppable:!0}},kS=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(s){if(s.type!=="DROP"){n(s);return}var i=t(),a=s.payload.reason;if(i.phase==="COLLECTING"){r(yS({reason:a}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&U(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||U(!1);var c=i.critical,d=i.dimensions,f=d.draggables[i.critical.draggable.id],p=jS({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=p.impact,m=p.didDropInsideDroppable,h=m?su(u):null,y=m?Wo(u):null,w={index:c.draggable.index,droppableId:c.droppable.id},v={draggableId:f.descriptor.id,type:f.descriptor.type,source:w,reason:a,mode:i.movementMode,destination:h,combine:y},g=CS({impact:u,draggable:f,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),x={critical:i.critical,afterCritical:i.afterCritical,result:v,impact:u},b=!br(i.current.client.offset,g)||!!v.combine;if(!b){r(du({completed:x}));return}var E=ES({current:i.current.client.offset,destination:g,reason:a}),C={newHomeClientOffset:g,dropDuration:E,completed:x};r(xS(C))}}}},zg=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function DS(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function IS(e){var t=e.onWindowScroll;function r(){t(zg())}var n=Ms(r),s=DS(n),i=yr;function a(){return i!==yr}function l(){a()&&U(!1),i=St(window,[s])}function c(){a()||U(!1),n.cancel(),i(),i=yr}return{start:l,stop:c,isActive:a}}var TS=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},RS=function(e){var t=IS({onWindowScroll:function(n){e.dispatch(pS({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&TS(n)&&t.stop(),r(n)}}},MS=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),s=function(a){t||r||(t=!0,e(a),clearTimeout(n))};return s.wasCalled=function(){return t},s},PS=function(){var e=[],t=function(i){var a=nu(e,function(d){return d.timerId===i});a===-1&&U(!1);var l=e.splice(a,1),c=l[0];c.callback()},r=function(i){var a=setTimeout(function(){return t(a)}),l={timerId:a,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:r,flush:n}},OS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},LS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},AS=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&s},Qn=function(t,r){r()},vi=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Ra=function(t,r,n,s){if(!t){n(s(r));return}var i=MS(n),a={announce:i};t(r,a),i.wasCalled()||n(s(r))},BS=function(e,t){var r=PS(),n=null,s=function(u,m){n&&U(!1),Qn("onBeforeCapture",function(){var h=e().onBeforeCapture;if(h){var y={draggableId:u,mode:m};h(y)}})},i=function(u,m){n&&U(!1),Qn("onBeforeDragStart",function(){var h=e().onBeforeDragStart;h&&h(vi(u,m))})},a=function(u,m){n&&U(!1);var h=vi(u,m);n={mode:m,lastCritical:u,lastLocation:h.source,lastCombine:null},r.add(function(){Qn("onDragStart",function(){return Ra(e().onDragStart,h,t,Pi.onDragStart)})})},l=function(u,m){var h=su(m),y=Wo(m);n||U(!1);var w=!AS(u,n.lastCritical);w&&(n.lastCritical=u);var v=!OS(n.lastLocation,h);v&&(n.lastLocation=h);var g=!LS(n.lastCombine,y);if(g&&(n.lastCombine=y),!(!w&&!v&&!g)){var x=Z({},vi(u,n.mode),{combine:y,destination:h});r.add(function(){Qn("onDragUpdate",function(){return Ra(e().onDragUpdate,x,t,Pi.onDragUpdate)})})}},c=function(){n||U(!1),r.flush()},d=function(u){n||U(!1),n=null,Qn("onDragEnd",function(){return Ra(e().onDragEnd,u,t,Pi.onDragEnd)})},f=function(){if(n){var u=Z({},vi(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});d(u)}};return{beforeCapture:s,beforeStart:i,start:a,update:l,flush:c,drop:d,abort:f}},FS=function(e,t){var r=BS(e,t);return function(n){return function(s){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var a=i.payload.critical;r.beforeStart(a,i.payload.movementMode),s(i),r.start(a,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),s(i),r.drop(l);return}if(s(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},$S=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&U(!1),e.dispatch(du({completed:n.completed}))}}},zS=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(s){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),s(i),i.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(Fg())}};r=requestAnimationFrame(function(){r=null,t=St(window,[a])})}}}},US=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},HS=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},_S=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},GS=function(e){return function(t){return function(r){return function(n){if(_S(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var s=t.getState();s.phase!=="DRAGGING"&&U(!1),e.start(s);return}r(n),e.scroll(t.getState())}}}},WS=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Bg({reason:n.reason})))}}}},VS=Vm,qS=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,i=e.announce,a=e.autoScroller;return Wm(nS,VS(Mx(SS(n),US(t),bS(t),kS,$S,zS,WS,GS(a),RS,HS(r),FS(s,i))))},Ma=function(){return{additions:{},removals:{},modified:{}}};function KS(e){var t=e.registry,r=e.callbacks,n=Ma(),s=null,i=function(){s||(r.collectionStarting(),s=requestAnimationFrame(function(){s=null;var f=n,p=f.additions,u=f.removals,m=f.modified,h=Object.keys(p).map(function(v){return t.draggable.getById(v).getDimension(Ae)}).sort(function(v,g){return v.descriptor.index-g.descriptor.index}),y=Object.keys(m).map(function(v){var g=t.droppable.getById(v),x=g.callbacks.getScrollWhileDragging();return{droppableId:v,scroll:x}}),w={additions:h,removals:Object.keys(u),modified:y};n=Ma(),r.publish(w)}))},a=function(f){var p=f.descriptor.id;n.additions[p]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[p]&&delete n.removals[p],i()},l=function(f){var p=f.descriptor;n.removals[p.id]=!0,n.modified[p.droppableId]=!0,n.additions[p.id]&&delete n.additions[p.id],i()},c=function(){s&&(cancelAnimationFrame(s),s=null,n=Ma())};return{add:a,remove:l,stop:c}}var Ug=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,s=e.width,i=ct({x:r,y:t},{x:s,y:n}),a={x:Math.max(0,i.x),y:Math.max(0,i.y)};return a},Hg=function(){var e=document.documentElement;return e||U(!1),e},_g=function(){var e=Hg(),t=Ug({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},QS=function(){var e=zg(),t=_g(),r=e.y,n=e.x,s=Hg(),i=s.clientWidth,a=s.clientHeight,l=n+i,c=r+a,d=Pt({top:r,left:n,right:l,bottom:c}),f={frame:d,scroll:{initial:e,current:e,max:t,diff:{value:Ae,displacement:Ae}}};return f},YS=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,s=QS(),i=s.scroll.current,a=t.droppable,l=n.droppable.getAllByType(a.type).map(function(p){return p.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(p){return p.getDimension(i)}),d={draggables:xg(c),droppables:vg(l)},f={dimensions:d,critical:t,viewport:s};return f};function cp(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var JS=function(e,t){var r=null,n=KS({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(m,h){e.droppable.exists(m)||U(!1),r&&t.updateDroppableIsEnabled({id:m,isEnabled:h})},i=function(m,h){r&&(e.droppable.exists(m)||U(!1),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:h}))},a=function(m,h){r&&(e.droppable.exists(m)||U(!1),t.updateDroppableScroll({id:m,newScroll:h}))},l=function(m,h){r&&e.droppable.getById(m).callbacks.scroll(h)},c=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(h){return h.callbacks.dragStopped()}),r.unsubscribe(),r=null}},d=function(m){r||U(!1);var h=r.critical.draggable;m.type==="ADDITION"&&cp(e,h,m.value)&&n.add(m.value),m.type==="REMOVAL"&&cp(e,h,m.value)&&n.remove(m.value)},f=function(m){r&&U(!1);var h=e.draggable.getById(m.draggableId),y=e.droppable.getById(h.descriptor.droppableId),w={draggable:h.descriptor,droppable:y.descriptor},v=e.subscribe(d);return r={critical:w,unsubscribe:v},YS({critical:w,registry:e,scrollOptions:m.scrollOptions})},p={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:f,stopPublishing:c};return p},Gg=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},XS=function(e){window.scrollBy(e.x,e.y)},ZS=Le(function(e){return Go(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),e1=function(t,r){var n=Ir(ZS(r),function(s){return s.frame||U(!1),Dg(s.frame.pageMarginBox)(t)});return n},t1=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var s=n[r];return s.frame?s:null}var i=e1(t,n);return i},Sr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},r1=function(e,t){var r=e[t.size]*Sr.startFromPercentage,n=e[t.size]*Sr.maxScrollAtPercentage,s={startScrollingFrom:r,maxScrollValueAt:n};return s},Wg=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,s=r-t;if(s===0)return 0;var i=n-t,a=i/s;return a},mu=1,n1=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Sr.maxPixelScroll;if(e===t.startScrollingFrom)return mu;var r=Wg({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,s=Sr.maxPixelScroll*Sr.ease(n);return Math.ceil(s)},up=Sr.durationDampening.accelerateAt,dp=Sr.durationDampening.stopDampeningAt,s1=function(e,t){var r=t,n=dp,s=Date.now(),i=s-r;if(i>=dp)return e;if(i<up)return mu;var a=Wg({startOfRange:up,endOfRange:n,current:i}),l=e*Sr.ease(a);return Math.ceil(l)},pp=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,s=e.shouldUseTimeDampening,i=n1(t,r);return i===0?0:s?Math.max(s1(i,n),mu):i},fp=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,s=e.axis,i=e.shouldUseTimeDampening,a=r1(t,s),l=r[s.end]<r[s.start];return l?pp({distanceToEdge:r[s.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i}):-1*pp({distanceToEdge:r[s.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i})},i1=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,s=r.height>t.height,i=r.width>t.width;return!i&&!s?n:i&&s?null:{x:i?0:n.x,y:s?0:n.y}},o1=gg(function(e){return e===0?0:e}),Vg=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,s=e.center,i=e.shouldUseTimeDampening,a={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},l=fp({container:r,distanceToEdges:a,dragStartTime:t,axis:iu,shouldUseTimeDampening:i}),c=fp({container:r,distanceToEdges:a,dragStartTime:t,axis:Sg,shouldUseTimeDampening:i}),d=o1({x:c,y:l});if(br(d,Ae))return null;var f=i1({container:r,subject:n,proposedScroll:d});return f?br(f,Ae)?null:f:null},a1=gg(function(e){return e===0?0:e>0?1:-1}),gu=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,s=t.change,i=He(r,s),a={x:e(i.x,n.x),y:e(i.y,n.y)};return br(a,Ae)?null:a}}(),qg=function(t){var r=t.max,n=t.current,s=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},a=a1(s),l=gu({max:i,current:n,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},hu=function(t,r){return qg({current:t.scroll.current,max:t.scroll.max,change:r})},l1=function(t,r){if(!hu(t,r))return null;var n=t.scroll.max,s=t.scroll.current;return gu({current:s,max:n,change:r})},vu=function(t,r){var n=t.frame;return n?qg({current:n.scroll.current,max:n.scroll.max,change:r}):!1},c1=function(t,r){var n=t.frame;return!n||!vu(t,r)?null:gu({current:n.scroll.current,max:n.scroll.max,change:r})},u1=function(e){var t=e.viewport,r=e.subject,n=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,a=Vg({dragStartTime:s,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return a&&hu(t,a)?a:null},d1=function(e){var t=e.droppable,r=e.subject,n=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var l=Vg({dragStartTime:s,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return l&&vu(t,l)?l:null},mp=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,s=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var d=t.viewport,f=u1({dragStartTime:r,viewport:d,subject:c,center:a,shouldUseTimeDampening:n});if(f){s(f);return}}var p=t1({center:a,destination:dt(t.impact),droppables:t.dimensions.droppables});if(p){var u=d1({dragStartTime:r,droppable:p,subject:c,center:a,shouldUseTimeDampening:n});u&&i(p.descriptor.id,u)}},p1=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=Ms(t),s=Ms(r),i=null,a=function(f){i||U(!1);var p=i,u=p.shouldUseTimeDampening,m=p.dragStartTime;mp({state:f,scrollWindow:n,scrollDroppable:s,dragStartTime:m,shouldUseTimeDampening:u})},l=function(f){i&&U(!1);var p=Date.now(),u=!1,m=function(){u=!0};mp({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),i={dragStartTime:p,shouldUseTimeDampening:u},u&&a(f)},c=function(){i&&(n.cancel(),s.cancel(),i=null)};return{start:l,stop:c,scroll:a}},f1=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,s=function(d,f){var p=He(d.current.client.selection,f);t({client:p})},i=function(d,f){if(!vu(d,f))return f;var p=c1(d,f);if(!p)return r(d.descriptor.id,f),null;var u=ct(f,p);r(d.descriptor.id,u);var m=ct(f,u);return m},a=function(d,f,p){if(!d||!hu(f,p))return p;var u=l1(f,p);if(!u)return n(p),null;var m=ct(p,u);n(m);var h=ct(p,m);return h},l=function(d){var f=d.scrollJumpRequest;if(f){var p=dt(d.impact);p||U(!1);var u=i(d.dimensions.droppables[p],f);if(u){var m=d.viewport,h=a(d.isWindowScrollAllowed,m,u);h&&s(d,h)}}};return l},m1=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,s=p1({scrollWindow:r,scrollDroppable:t}),i=f1({move:n,scrollWindow:r,scrollDroppable:t}),a=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){s.scroll(d);return}d.scrollJumpRequest&&i(d)}},l={scroll:a,start:s.start,stop:s.stop};return l},Mn="data-rbd",Pn=function(){var e=Mn+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Hl=function(){var e=Mn+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),g1=function(){var e=Mn+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),gp={contextId:Mn+"-scroll-container-context-id"},h1=function(t){return function(r){return"["+r+'="'+t+'"]'}},Yn=function(t,r){return t.map(function(n){var s=n.styles[r];return s?n.selector+" { "+s+" }":""}).join(" ")},v1="pointer-events: none;",x1=function(e){var t=h1(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Pn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:v1,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+fs.outOfTheWay+`;
    `;return{selector:t(Hl.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),s={selector:t(g1.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[n,r,s,i];return{always:Yn(a,"always"),resting:Yn(a,"resting"),dragging:Yn(a,"dragging"),dropAnimating:Yn(a,"dropAnimating"),userCancel:Yn(a,"userCancel")}},pt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect,Pa=function(){var t=document.querySelector("head");return t||U(!1),t},hp=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function y1(e,t){var r=oe(function(){return x1(e)},[e]),n=j.useRef(null),s=j.useRef(null),i=Y(Le(function(p){var u=s.current;u||U(!1),u.textContent=p}),[]),a=Y(function(p){var u=n.current;u||U(!1),u.textContent=p},[]);pt(function(){!n.current&&!s.current||U(!1);var p=hp(t),u=hp(t);return n.current=p,s.current=u,p.setAttribute(Mn+"-always",e),u.setAttribute(Mn+"-dynamic",e),Pa().appendChild(p),Pa().appendChild(u),a(r.always),i(r.resting),function(){var m=function(y){var w=y.current;w||U(!1),Pa().removeChild(w),y.current=null};m(n),m(s)}},[t,a,i,r.always,r.resting,e]);var l=Y(function(){return i(r.dragging)},[i,r.dragging]),c=Y(function(p){if(p==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=Y(function(){s.current&&i(r.resting)},[i,r.resting]),f=oe(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d]);return f}var Kg=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ko(e){return e instanceof Kg(e).HTMLElement}function b1(e,t){var r="["+Pn.contextId+'="'+e+'"]',n=hg(document.querySelectorAll(r));if(!n.length)return null;var s=Ir(n,function(i){return i.getAttribute(Pn.draggableId)===t});return!s||!Ko(s)?null:s}function S1(e){var t=j.useRef({}),r=j.useRef(null),n=j.useRef(null),s=j.useRef(!1),i=Y(function(u,m){var h={id:u,focus:m};return t.current[u]=h,function(){var w=t.current,v=w[u];v!==h&&delete w[u]}},[]),a=Y(function(u){var m=b1(e,u);m&&m!==document.activeElement&&m.focus()},[e]),l=Y(function(u,m){r.current===u&&(r.current=m)},[]),c=Y(function(){n.current||s.current&&(n.current=requestAnimationFrame(function(){n.current=null;var u=r.current;u&&a(u)}))},[a]),d=Y(function(u){r.current=null;var m=document.activeElement;m&&m.getAttribute(Pn.draggableId)===u&&(r.current=u)},[]);pt(function(){return s.current=!0,function(){s.current=!1;var u=n.current;u&&cancelAnimationFrame(u)}},[]);var f=oe(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,d,c,l]);return f}function w1(){var e={draggables:{},droppables:{}},t=[];function r(p){return t.push(p),function(){var m=t.indexOf(p);m!==-1&&t.splice(m,1)}}function n(p){t.length&&t.forEach(function(u){return u(p)})}function s(p){return e.draggables[p]||null}function i(p){var u=s(p);return u||U(!1),u}var a={register:function(u){e.draggables[u.descriptor.id]=u,n({type:"ADDITION",value:u})},update:function(u,m){var h=e.draggables[m.descriptor.id];h&&h.uniqueId===u.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[u.descriptor.id]=u)},unregister:function(u){var m=u.descriptor.id,h=s(m);h&&u.uniqueId===h.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:u}))},getById:i,findById:s,exists:function(u){return!!s(u)},getAllByType:function(u){return co(e.draggables).filter(function(m){return m.descriptor.type===u})}};function l(p){return e.droppables[p]||null}function c(p){var u=l(p);return u||U(!1),u}var d={register:function(u){e.droppables[u.descriptor.id]=u},unregister:function(u){var m=l(u.descriptor.id);m&&u.uniqueId===m.uniqueId&&delete e.droppables[u.descriptor.id]},getById:c,findById:l,exists:function(u){return!!l(u)},getAllByType:function(u){return co(e.droppables).filter(function(m){return m.descriptor.type===u})}};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:d,subscribe:r,clean:f}}function N1(){var e=oe(w1,[]);return j.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var xu=xe.createContext(null),po=function(){var e=document.body;return e||U(!1),e},E1={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},C1=function(t){return"rbd-announcement-"+t};function j1(e){var t=oe(function(){return C1(e)},[e]),r=j.useRef(null);j.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Z(i.style,E1),po().appendChild(i),function(){setTimeout(function(){var c=po();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=Y(function(s){var i=r.current;if(i){i.textContent=s;return}},[]);return n}var k1=0,D1={separator:"::"};function yu(e,t){return t===void 0&&(t=D1),oe(function(){return""+e+t.separator+k1++},[t.separator,e])}function I1(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function T1(e){var t=e.contextId,r=e.text,n=yu("hidden-text",{separator:"-"}),s=oe(function(){return I1({contextId:t,uniqueId:n})},[n,t]);return j.useEffect(function(){var a=document.createElement("div");return a.id=s,a.textContent=r,a.style.display="none",po().appendChild(a),function(){var c=po();c.contains(a)&&c.removeChild(a)}},[s,r]),s}var Qo=xe.createContext(null);function Qg(e){var t=j.useRef(e);return j.useEffect(function(){t.current=e}),t}function R1(){var e=null;function t(){return!!e}function r(a){return a===e}function n(a){e&&U(!1);var l={abandon:a};return e=l,l}function s(){e||U(!1),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:i}}var M1=9,P1=13,bu=27,Yg=32,O1=33,L1=34,A1=35,B1=36,F1=37,$1=38,z1=39,U1=40,xi,H1=(xi={},xi[P1]=!0,xi[M1]=!0,xi),Jg=function(e){H1[e.keyCode]&&e.preventDefault()},Yo=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=Ir(t,function(n){return"on"+n in document});return r||e}(),Xg=0,vp=5;function _1(e,t){return Math.abs(t.x-e.x)>=vp||Math.abs(t.y-e.y)>=vp}var xp={type:"IDLE"};function G1(e){var t=e.cancel,r=e.completed,n=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(a){var l=a.button,c=a.clientX,d=a.clientY;if(l===Xg){var f={x:c,y:d},p=n();if(p.type==="DRAGGING"){a.preventDefault(),p.actions.move(f);return}p.type!=="PENDING"&&U(!1);var u=p.point;if(_1(u,f)){a.preventDefault();var m=p.actions.fluidLift(f);s({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(a){var l=n();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(a){n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:function(a){var l=n();if(l.type==="PENDING"){t();return}if(a.keyCode===bu){a.preventDefault(),t();return}Jg(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(a){var l=n();if(l.type==="IDLE"&&U(!1),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:Yo,fn:t}]}function W1(e){var t=j.useRef(xp),r=j.useRef(yr),n=oe(function(){return{eventName:"mousedown",fn:function(p){if(!p.defaultPrevented&&p.button===Xg&&!(p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)){var u=e.findClosestDraggableId(p);if(u){var m=e.tryGetLock(u,a,{sourceEvent:p});if(m){p.preventDefault();var h={x:p.clientX,y:p.clientY};r.current(),d(m,h)}}}}}},[e]),s=oe(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(p){if(!p.defaultPrevented){var u=e.findClosestDraggableId(p);if(u){var m=e.findOptionsForDraggable(u);m&&(m.shouldRespectForcePress||e.canGetLock(u)&&p.preventDefault())}}}}},[e]),i=Y(function(){var p={passive:!1,capture:!0};r.current=St(window,[s,n],p)},[s,n]),a=Y(function(){var f=t.current;f.type!=="IDLE"&&(t.current=xp,r.current(),i())},[i]),l=Y(function(){var f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=Y(function(){var p={capture:!0,passive:!1},u=G1({cancel:l,completed:a,getPhase:function(){return t.current},setPhase:function(h){t.current=h}});r.current=St(window,u,p)},[l,a]),d=Y(function(p,u){t.current.type!=="IDLE"&&U(!1),t.current={type:"PENDING",point:u,actions:p},c()},[c]);pt(function(){return i(),function(){r.current()}},[i])}var nn;function V1(){}var q1=(nn={},nn[L1]=!0,nn[O1]=!0,nn[B1]=!0,nn[A1]=!0,nn);function K1(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===bu){i.preventDefault(),r();return}if(i.keyCode===Yg){i.preventDefault(),n();return}if(i.keyCode===U1){i.preventDefault(),e.moveDown();return}if(i.keyCode===$1){i.preventDefault(),e.moveUp();return}if(i.keyCode===z1){i.preventDefault(),e.moveRight();return}if(i.keyCode===F1){i.preventDefault(),e.moveLeft();return}if(q1[i.keyCode]){i.preventDefault();return}Jg(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Yo,fn:r}]}function Q1(e){var t=j.useRef(V1),r=oe(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==Yg)return;var a=e.findClosestDraggableId(i);if(!a)return;var l=e.tryGetLock(a,f,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,d=l.snapLift();t.current();function f(){c||U(!1),c=!1,t.current(),n()}t.current=St(window,K1(d,f),{capture:!0,passive:!1})}}},[e]),n=Y(function(){var i={passive:!1,capture:!0};t.current=St(window,[r],i)},[r]);pt(function(){return n(),function(){t.current()}},[n])}var Oa={type:"IDLE"},Y1=120,J1=.15;function X1(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.keyCode===bu&&s.preventDefault(),t()}},{eventName:Yo,fn:t}]}function Z1(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;var l=i.touches[0],c=l.clientX,d=l.clientY,f={x:c,y:d};i.preventDefault(),a.actions.move(f)}},{eventName:"touchend",fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var a=n();a.type==="IDLE"&&U(!1);var l=i.touches[0];if(l){var c=l.force>=J1;if(c){var d=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){d&&t();return}if(d){if(a.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:Yo,fn:t}]}function ew(e){var t=j.useRef(Oa),r=j.useRef(yr),n=Y(function(){return t.current},[]),s=Y(function(m){t.current=m},[]),i=oe(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var h=e.findClosestDraggableId(m);if(h){var y=e.tryGetLock(h,l,{sourceEvent:m});if(y){var w=m.touches[0],v=w.clientX,g=w.clientY,x={x:v,y:g};r.current(),p(y,x)}}}}}},[e]),a=Y(function(){var m={capture:!0,passive:!1};r.current=St(window,[i],m)},[i]),l=Y(function(){var u=t.current;u.type!=="IDLE"&&(u.type==="PENDING"&&clearTimeout(u.longPressTimerId),s(Oa),r.current(),a())},[a,s]),c=Y(function(){var u=t.current;l(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[l]),d=Y(function(){var m={capture:!0,passive:!1},h={cancel:c,completed:l,getPhase:n},y=St(window,Z1(h),m),w=St(window,X1(h),m);r.current=function(){y(),w()}},[c,n,l]),f=Y(function(){var m=n();m.type!=="PENDING"&&U(!1);var h=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:h,hasMoved:!1})},[n,s]),p=Y(function(m,h){n().type!=="IDLE"&&U(!1);var y=setTimeout(f,Y1);s({type:"PENDING",point:h,actions:m,longPressTimerId:y}),d()},[d,n,s,f]);pt(function(){return a(),function(){r.current();var h=n();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),s(Oa))}},[n,a,s]),pt(function(){var m=St(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var tw={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Zg(e,t){if(t==null)return!1;var r=!!tw[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Zg(e,t.parentElement)}function rw(e,t){var r=t.target;return Ko(r)?Zg(e,r):!1}var nw=function(e){return Pt(e.getBoundingClientRect()).center};function sw(e){return e instanceof Kg(e).Element}var iw=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=Ir(t,function(n){return n in Element.prototype});return r||e}();function eh(e,t){return e==null?null:e[iw](t)?e:eh(e.parentElement,t)}function ow(e,t){return e.closest?e.closest(t):eh(e,t)}function aw(e){return"["+Pn.contextId+'="'+e+'"]'}function lw(e,t){var r=t.target;if(!sw(r))return null;var n=aw(e),s=ow(r,n);return!s||!Ko(s)?null:s}function cw(e,t){var r=lw(e,t);return r?r.getAttribute(Pn.draggableId):null}function uw(e,t){var r="["+Hl.contextId+'="'+e+'"]',n=hg(document.querySelectorAll(r)),s=Ir(n,function(i){return i.getAttribute(Hl.id)===t});return!s||!Ko(s)?null:s}function dw(e){e.preventDefault()}function yi(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function th(e){var t=e.lockAPI,r=e.store,n=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(s);return!(!i||!i.options.isEnabled||!Gg(r.getState(),s))}function pw(e){var t=e.lockAPI,r=e.contextId,n=e.store,s=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent,c=th({lockAPI:t,store:n,registry:s,draggableId:i});if(!c)return null;var d=s.draggable.getById(i),f=uw(r,d.descriptor.id);if(!f||l&&!d.options.canDragInteractiveElements&&rw(f,l))return null;var p=t.claim(a||yr),u="PRE_DRAG";function m(){return d.options.shouldRespectForcePress}function h(){return t.isActive(p)}function y(C,R){yi({expected:C,phase:u,isLockActive:h,shouldWarn:!0})&&n.dispatch(R())}var w=y.bind(null,"DRAGGING");function v(C){function R(){t.release(),u="COMPLETED"}u!=="PRE_DRAG"&&(R(),u!=="PRE_DRAG"&&U(!1)),n.dispatch(iS(C.liftActionArgs)),u="DRAGGING";function I(P,O){if(O===void 0&&(O={shouldBlockNextClick:!1}),C.cleanup(),O.shouldBlockNextClick){var D=St(window,[{eventName:"click",fn:dw,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}R(),n.dispatch(Bg({reason:P}))}return Z({isActive:function(){return yi({expected:"DRAGGING",phase:u,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(O){return I("DROP",O)},cancel:function(O){return I("CANCEL",O)}},C.actions)}function g(C){var R=Ms(function(P){w(function(){return Ag({client:P})})}),I=v({liftActionArgs:{id:i,clientSelection:C,movementMode:"FLUID"},cleanup:function(){return R.cancel()},actions:{move:R}});return Z({},I,{move:R})}function x(){var C={moveUp:function(){return w(mS)},moveRight:function(){return w(hS)},moveDown:function(){return w(gS)},moveLeft:function(){return w(vS)}};return v({liftActionArgs:{id:i,clientSelection:nw(f),movementMode:"SNAP"},cleanup:yr,actions:C})}function b(){var C=yi({expected:"PRE_DRAG",phase:u,isLockActive:h,shouldWarn:!0});C&&t.release()}var E={isActive:function(){return yi({expected:"PRE_DRAG",phase:u,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:g,snapLift:x,abort:b};return E}var fw=[W1,Q1,ew];function mw(e){var t=e.contextId,r=e.store,n=e.registry,s=e.customSensors,i=e.enableDefaultSensors,a=[].concat(i?fw:[],s||[]),l=j.useState(function(){return R1()})[0],c=Y(function(g,x){g.isDragging&&!x.isDragging&&l.tryAbandon()},[l]);pt(function(){var g=r.getState(),x=r.subscribe(function(){var b=r.getState();c(g,b),g=b});return x},[l,r,c]),pt(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=Y(function(v){return th({lockAPI:l,registry:n,store:r,draggableId:v})},[l,n,r]),f=Y(function(v,g,x){return pw({lockAPI:l,registry:n,contextId:t,store:r,draggableId:v,forceSensorStop:g,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null})},[t,l,n,r]),p=Y(function(v){return cw(t,v)},[t]),u=Y(function(v){var g=n.draggable.findById(v);return g?g.options:null},[n.draggable]),m=Y(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(uu()))},[l,r]),h=Y(l.isClaimed,[l]),y=oe(function(){return{canGetLock:d,tryGetLock:f,findClosestDraggableId:p,findOptionsForDraggable:u,tryReleaseLock:m,isLockClaimed:h}},[d,f,p,u,m,h]),w=0;w<a.length;w++)a[w](y)}var gw=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Jn(e){return e.current||U(!1),e.current}function hw(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,s=e.nonce,i=e.dragHandleUsageInstructions,a=j.useRef(null),l=Qg(e),c=Y(function(){return gw(l.current)},[l]),d=j1(t),f=T1({contextId:t,text:i}),p=y1(t,s),u=Y(function(P){Jn(a).dispatch(P)},[]),m=oe(function(){return Ud({publishWhileDragging:aS,updateDroppableScroll:cS,updateDroppableIsEnabled:uS,updateDroppableIsCombineEnabled:dS,collectionStarting:lS},u)},[u]),h=N1(),y=oe(function(){return JS(h,m)},[h,m]),w=oe(function(){return m1(Z({scrollWindow:XS,scrollDroppable:y.scrollDroppable},Ud({move:Ag},u)))},[y.scrollDroppable,u]),v=S1(t),g=oe(function(){return qS({announce:d,autoScroller:w,dimensionMarshal:y,focusMarshal:v,getResponders:c,styleMarshal:p})},[d,w,y,v,c,p]);a.current=g;var x=Y(function(){var P=Jn(a),O=P.getState();O.phase!=="IDLE"&&P.dispatch(uu())},[]),b=Y(function(){var P=Jn(a).getState();return P.isDragging||P.phase==="DROP_ANIMATING"},[]),E=oe(function(){return{isDragging:b,tryAbort:x}},[b,x]);r(E);var C=Y(function(P){return Gg(Jn(a).getState(),P)},[]),R=Y(function(){return Lr(Jn(a).getState())},[]),I=oe(function(){return{marshal:y,focus:v,contextId:t,canLift:C,isMovementAllowed:R,dragHandleUsageInstructionsId:f,registry:h}},[t,y,f,v,C,R,h]);return mw({contextId:t,store:g,registry:h,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),j.useEffect(function(){return x},[x]),xe.createElement(Qo.Provider,{value:I},xe.createElement(Bx,{context:xu,store:g},e.children))}var vw=0;function xw(){return oe(function(){return""+vw++},[])}function rh(e){var t=xw(),r=e.dragHandleUsageInstructions||Pi.dragHandleUsageInstructions;return xe.createElement(Qy,null,function(n){return xe.createElement(hw,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var nh=function(t){return function(r){return t===r}},yw=nh("scroll"),bw=nh("auto"),yp=function(t,r){return r(t.overflowX)||r(t.overflowY)},Sw=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return yp(n,yw)||yp(n,bw)},ww=function(){return!1},Nw=function e(t){return t==null?null:t===document.body?ww()?t:null:t===document.documentElement?null:Sw(t)?t:e(t.parentElement)},_l=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ew=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},Cw=function(e){var t=Nw(e),r=Ew(e);return{closestScrollable:t,isFixedOnPage:r}},jw=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,s=e.isFixedOnPage,i=e.direction,a=e.client,l=e.page,c=e.closest,d=function(){if(!c)return null;var m=c.scrollSize,h=c.client,y=Ug({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:h,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:y,diff:{value:Ae,displacement:Ae}}}}(),f=i==="vertical"?iu:Sg,p=Rn({page:l,withPlaceholder:null,axis:f,frame:d}),u={descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:f,isEnabled:r,client:a,page:l,frame:d,subject:p};return u},kw=function(t,r){var n=dg(t);if(!r||t!==r)return n;var s=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,a=s+r.scrollHeight,l=i+r.scrollWidth,c={top:s,right:l,bottom:a,left:i},d=eu(c,n.border),f=tu({borderBox:d,margin:n.margin,border:n.border,padding:n.padding});return f},Dw=function(e){var t=e.ref,r=e.descriptor,n=e.env,s=e.windowScroll,i=e.direction,a=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,d=n.closestScrollable,f=kw(t,d),p=oo(f,s),u=function(){if(!d)return null;var h=dg(d),y={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:h,page:oo(h,s),scroll:_l(d),scrollSize:y,shouldClipSubject:c}}(),m=jw({descriptor:r,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:p,closest:u});return m},Iw={passive:!1},Tw={passive:!0},bp=function(e){return e.shouldPublishImmediately?Iw:Tw};function fo(e){var t=j.useContext(e);return t||U(!1),t}var bi=function(t){return t&&t.env.closestScrollable||null};function Rw(e){var t=j.useRef(null),r=fo(Qo),n=yu("droppable"),s=r.registry,i=r.marshal,a=Qg(e),l=oe(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=j.useRef(l),d=oe(function(){return Le(function(b,E){t.current||U(!1);var C={x:b,y:E};i.updateDroppableScroll(l.id,C)})},[l.id,i]),f=Y(function(){var b=t.current;return!b||!b.env.closestScrollable?Ae:_l(b.env.closestScrollable)},[]),p=Y(function(){var b=f();d(b.x,b.y)},[f,d]),u=oe(function(){return Ms(p)},[p]),m=Y(function(){var b=t.current,E=bi(b);b&&E||U(!1);var C=b.scrollOptions;if(C.shouldPublishImmediately){p();return}u()},[u,p]),h=Y(function(b,E){t.current&&U(!1);var C=a.current,R=C.getDroppableRef();R||U(!1);var I=Cw(R),P={ref:R,descriptor:l,env:I,scrollOptions:E};t.current=P;var O=Dw({ref:R,descriptor:l,env:I,windowScroll:b,direction:C.direction,isDropDisabled:C.isDropDisabled,isCombineEnabled:C.isCombineEnabled,shouldClipSubject:!C.ignoreContainerClipping}),D=I.closestScrollable;return D&&(D.setAttribute(gp.contextId,r.contextId),D.addEventListener("scroll",m,bp(P.scrollOptions))),O},[r.contextId,l,m,a]),y=Y(function(){var b=t.current,E=bi(b);return b&&E||U(!1),_l(E)},[]),w=Y(function(){var b=t.current;b||U(!1);var E=bi(b);t.current=null,E&&(u.cancel(),E.removeAttribute(gp.contextId),E.removeEventListener("scroll",m,bp(b.scrollOptions)))},[m,u]),v=Y(function(b){var E=t.current;E||U(!1);var C=bi(E);C||U(!1),C.scrollTop+=b.y,C.scrollLeft+=b.x},[]),g=oe(function(){return{getDimensionAndWatchScroll:h,getScrollWhileDragging:y,dragStopped:w,scroll:v}},[w,h,y,v]),x=oe(function(){return{uniqueId:n,descriptor:l,callbacks:g}},[g,l,n]);pt(function(){return c.current=x.descriptor,s.droppable.register(x),function(){t.current&&w(),s.droppable.unregister(x)}},[g,l,w,x,i,s.droppable]),pt(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),pt(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function La(){}var Sp={width:0,height:0,margin:tb},Mw=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate;return r||s==="close"?Sp:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},Pw=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate,i=Mw({isAnimatingOpenOnMount:r,placeholder:n,animate:s});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?fs.placeholder:null}};function Ow(e){var t=j.useRef(null),r=Y(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,s=e.onTransitionEnd,i=e.onClose,a=e.contextId,l=j.useState(e.animate==="open"),c=l[0],d=l[1];j.useEffect(function(){return c?n!=="open"?(r(),d(!1),La):t.current?La:(t.current=setTimeout(function(){t.current=null,d(!1)}),r):La},[n,c,r]);var f=Y(function(u){u.propertyName==="height"&&(s(),n==="close"&&i())},[n,i,s]),p=Pw({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return xe.createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":a,onTransitionEnd:f,ref:e.innerRef})}var Lw=xe.memo(Ow),Su=xe.createContext(null),Aw=function(e){Gm(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(s,i){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(xe.PureComponent),wp={dragging:5e3,dropAnimating:4500},Bw=function(t,r){return r?fs.drop(r.duration):t?fs.snap:fs.fluid},Fw=function(t,r){return t?r?As.opacity.drop:As.opacity.combining:null},$w=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function zw(e){var t=e.dimension,r=t.client,n=e.offset,s=e.combineWith,i=e.dropping,a=!!s,l=$w(e),c=!!i,d=c?zl.drop(n,a):zl.moveTo(n),f={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Bw(l,i),transform:d,opacity:Fw(a,c),zIndex:c?wp.dropAnimating:wp.dragging,pointerEvents:"none"};return f}function Uw(e){return{transform:zl.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Hw(e){return e.type==="DRAGGING"?zw(e):Uw(e)}function _w(e,t,r){r===void 0&&(r=Ae);var n=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=ug(s,n),a=oo(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:c,client:i,page:a};return d}function Gw(e){var t=yu("draggable"),r=e.descriptor,n=e.registry,s=e.getDraggableRef,i=e.canDragInteractiveElements,a=e.shouldRespectForcePress,l=e.isEnabled,c=oe(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}},[i,l,a]),d=Y(function(m){var h=s();return h||U(!1),_w(r,h,m)},[r,s]),f=oe(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:d}},[r,d,c,t]),p=j.useRef(f),u=j.useRef(!0);pt(function(){return n.draggable.register(p.current),function(){return n.draggable.unregister(p.current)}},[n.draggable]),pt(function(){if(u.current){u.current=!1;return}var m=p.current;p.current=f,n.draggable.update(f,m)},[f,n.draggable])}function Ww(e){e.preventDefault()}function Vw(e){var t=j.useRef(null),r=Y(function(P){t.current=P},[]),n=Y(function(){return t.current},[]),s=fo(Qo),i=s.contextId,a=s.dragHandleUsageInstructionsId,l=s.registry,c=fo(Su),d=c.type,f=c.droppableId,p=oe(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:f}},[e.draggableId,e.index,d,f]),u=e.children,m=e.draggableId,h=e.isEnabled,y=e.shouldRespectForcePress,w=e.canDragInteractiveElements,v=e.isClone,g=e.mapped,x=e.dropAnimationFinished;if(!v){var b=oe(function(){return{descriptor:p,registry:l,getDraggableRef:n,canDragInteractiveElements:w,shouldRespectForcePress:y,isEnabled:h}},[p,l,n,w,y,h]);Gw(b)}var E=oe(function(){return h?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Ww}:null},[i,a,m,h]),C=Y(function(P){g.type==="DRAGGING"&&g.dropping&&P.propertyName==="transform"&&x()},[x,g]),R=oe(function(){var P=Hw(g),O=g.type==="DRAGGING"&&g.dropping?C:null,D={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":m,style:P,onTransitionEnd:O},dragHandleProps:E};return D},[i,E,m,g,C,r]),I=oe(function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}},[p.droppableId,p.id,p.index,p.type]);return u(R,g.snapshot,I)}var sh=function(e,t){return e===t},ih=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},qw=function(t){return t.combine?t.combine.draggableId:null},Kw=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Qw(){var e=Le(function(s,i){return{x:s,y:i}}),t=Le(function(s,i,a,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:a,combineWith:l,combineTargetFor:null}}),r=Le(function(s,i,a,l,c,d,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:s,dimension:a,forceShouldAnimate:f,snapshot:t(i,l,c,d,null)}}}),n=function(i,a){if(i.isDragging){if(i.critical.draggable.id!==a.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],d=dt(i.impact),f=Kw(i.impact),p=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,c,a.isClone,d,f,p)}if(i.phase==="DROP_ANIMATING"){var u=i.completed;if(u.result.draggableId!==a.draggableId)return null;var m=a.isClone,h=i.dimensions.draggables[a.draggableId],y=u.result,w=y.mode,v=ih(y),g=qw(y),x=i.dropDuration,b={duration:x,curve:pu.drop,moveTo:i.newHomeClientOffset,opacity:g?As.opacity.drop:null,scale:g?As.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:h,dropping:b,draggingOver:v,combineWith:g,mode:w,forceShouldAnimate:null,snapshot:t(w,m,v,g,b)}}}return null};return n}function oh(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Yw={mapped:{type:"SECONDARY",offset:Ae,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:oh(null)}};function Jw(){var e=Le(function(a,l){return{x:a,y:l}}),t=Le(oh),r=Le(function(a,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(Ae,l,!0):null},s=function(l,c,d,f){var p=d.displaced.visible[l],u=!!(f.inVirtualList&&f.effected[l]),m=Wo(d),h=m&&m.draggableId===l?c:null;if(!p){if(!u)return n(h);if(d.displaced.invisible[l])return null;var y=Bn(f.displacedBy.point),w=e(y.x,y.y);return r(w,h,!0)}if(u)return n(h);var v=d.displacedBy.point,g=e(v.x,v.y);return r(g,h,p.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:s(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===c.draggableId?null:s(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return i}var Xw=function(){var t=Qw(),r=Jw(),n=function(i,a){return t(i,a)||r(i,a)||Yw};return n},Zw={dropAnimationFinished:Fg},eN=lg(Xw,Zw,null,{context:xu,pure:!0,areStatePropsEqual:sh})(Vw);function ah(e){var t=fo(Su),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:xe.createElement(eN,e)}function lh(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return xe.createElement(ah,Z({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function tN(e){var t=j.useContext(Qo);t||U(!1);var r=t.contextId,n=t.isMovementAllowed,s=j.useRef(null),i=j.useRef(null),a=e.children,l=e.droppableId,c=e.type,d=e.mode,f=e.direction,p=e.ignoreContainerClipping,u=e.isDropDisabled,m=e.isCombineEnabled,h=e.snapshot,y=e.useClone,w=e.updateViewportMaxScroll,v=e.getContainerForClone,g=Y(function(){return s.current},[]),x=Y(function(D){s.current=D},[]);Y(function(){return i.current},[]);var b=Y(function(D){i.current=D},[]),E=Y(function(){n()&&w({maxScroll:_g()})},[n,w]);Rw({droppableId:l,type:c,mode:d,direction:f,isDropDisabled:u,isCombineEnabled:m,ignoreContainerClipping:p,getDroppableRef:g});var C=xe.createElement(Aw,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(D){var $=D.onClose,_=D.data,H=D.animate;return xe.createElement(Lw,{placeholder:_,onClose:$,innerRef:b,animate:H,contextId:r,onTransitionEnd:E})}),R=oe(function(){return{innerRef:x,placeholder:C,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,C,x]),I=y?y.dragging.draggableId:null,P=oe(function(){return{droppableId:l,type:c,isUsingCloneFor:I}},[l,I,c]);function O(){if(!y)return null;var D=y.dragging,$=y.render,_=xe.createElement(ah,{draggableId:D.draggableId,index:D.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(H,B){return $(H,B,D)});return $0.createPortal(_,v())}return xe.createElement(Su.Provider,{value:P},a(R,h),O())}var Aa=function(t,r){return t===r.droppable.type},Np=function(t,r){return r.draggables[t.draggable.id]},rN=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=Z({},t,{shouldAnimatePlaceholder:!1}),n=Le(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),s=Le(function(a,l,c,d,f,p){var u=f.descriptor.id,m=f.descriptor.droppableId===a;if(m){var h=p?{render:p,dragging:n(f.descriptor)}:null,y={isDraggingOver:c,draggingOverWith:c?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:h}}if(!l)return r;if(!d)return t;var w={isDraggingOver:c,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}}),i=function(l,c){var d=c.droppableId,f=c.type,p=!c.isDropDisabled,u=c.renderClone;if(l.isDragging){var m=l.critical;if(!Aa(f,m))return r;var h=Np(m,l.dimensions),y=dt(l.impact)===d;return s(d,p,y,y,h,u)}if(l.phase==="DROP_ANIMATING"){var w=l.completed;if(!Aa(f,w.critical))return r;var v=Np(w.critical,l.dimensions);return s(d,p,ih(w.result)===d,dt(w.impact)===d,v,u)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var g=l.completed;if(!Aa(f,g.critical))return r;var x=dt(g.impact)===d,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),E=g.critical.droppable.id===d;return x?b?t:r:E?t:r}return r};return i},nN={updateViewportMaxScroll:fS};function sN(){return document.body||U(!1),document.body}var iN={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:sN},ch=lg(rN,nN,null,{context:xu,pure:!0,areStatePropsEqual:sh})(tN);ch.defaultProps=iN;const oN=e=>{const t=e.trim();return t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")},aN=e=>{const t=e.trim();return t.startsWith("<")&&t.includes(">")},lN=e=>{try{const t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(t){return console.warn("Failed to parse JSON response:",t),e}},cN=e=>{if(!e.trim().startsWith("<"))return e;try{let t=e.replace(/></g,`>
<`).replace(/^\s+|\s+$/g,"").split(`
`),r="",n=0;for(let s of t){const i=s.trim();i&&(i.startsWith("</")&&(n=Math.max(0,n-1)),r+="  ".repeat(n)+i+`
`,i.startsWith("<")&&!i.startsWith("</")&&!i.endsWith("/>")&&!i.includes("</",1)&&n++)}return r.trim()}catch(t){return console.warn("Failed to format XML response:",t),e}},uN=e=>{try{const t=JSON.parse(e);return t.code!==void 0?{hasError:!0,errorDetails:t.message||t.description||`Error code: ${t.code}`}:t.error?{hasError:!0,errorDetails:t.error}:t.success===!1?{hasError:!0,errorDetails:t.message||t.error||"Operation failed"}:t.status==="error"||t.status==="failed"?{hasError:!0,errorDetails:t.message||t.error||"Operation failed"}:t.statusCode&&t.statusCode>=400?{hasError:!0,errorDetails:`HTTP ${t.statusCode}: ${t.message||"Error"}`}:t.errorMessage?{hasError:!0,errorDetails:t.errorMessage}:t.errors&&Array.isArray(t.errors)&&t.errors.length>0?{hasError:!0,errorDetails:t.errors.join(", ")}:{hasError:!1}}catch{return e.includes('"code":')?{hasError:!0,errorDetails:"JSON response contains error code"}:{hasError:e.includes("ERR|"),errorDetails:e.includes("ERR|")?"HL7 Error detected":void 0}}},dN=e=>{try{const t=e.match(/<faultstring>(.*?)<\/faultstring>/i);let r=t?t[1]:"";const n=e.match(/<text[^>]*>(.*?)<\/text>/i);return n&&n[1]&&(r=n[1].replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),r||"SOAP Fault detected"}catch{return"SOAP Fault detected (unable to parse details)"}},pN=e=>e.includes("ERR|")?{hasError:!0,errorDetails:"HL7 Error detected"}:e.toLowerCase().includes("<error>")||e.toLowerCase().includes("<fault>")||e.toLowerCase().includes("<exception>")?{hasError:!0,errorDetails:"XML Error detected"}:e.toLowerCase().includes("soap-env:fault")||e.toLowerCase().includes("soap:fault")||e.toLowerCase().includes("soapenv:fault")?{hasError:!0,errorDetails:dN(e)}:{hasError:!1},Jo=e=>{const t=e.trim();if(oN(t)){const n=uN(t);return{content:lN(t),format:"json",isFormatted:!0,hasError:n.hasError,errorDetails:n.errorDetails}}if(aN(t)){const n=pN(t);return{content:cN(t),format:"xml",isFormatted:!0,hasError:n.hasError,errorDetails:n.errorDetails}}const r=t.includes("ERR|");return{content:t,format:"text",isFormatted:!1,hasError:r,errorDetails:r?"HL7 Error detected":void 0}},mo=e=>Jo(e).hasError||!1,uh=({children:e,...t})=>{const[r,n]=j.useState(!1);return j.useEffect(()=>{const s=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(s),n(!1)}},[]),r?o.jsx(ch,{...t,children:e}):null},fN=({lists:e,activeListId:t,onSelectList:r,onCreateList:n,onUpdateList:s,onDeleteList:i,onDuplicateList:a,onExportList:l,onImportList:c,onReorderLists:d})=>{const[f,p]=j.useState(!1),[u,m]=j.useState(!1),[h,y]=j.useState(!1),[w,v]=j.useState(null),[g,x]=j.useState({name:"",description:"",color:"#3B82F6"}),b=j.useRef(null),E=e.find(B=>B.id===t),C=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#6B7280","#F97316"];j.useEffect(()=>{const B=A=>{b.current&&!b.current.contains(A.target)&&p(!1)},z=A=>{A.key==="Escape"&&(p(!1),m(!1),y(!1))};return f&&(document.addEventListener("mousedown",B),document.addEventListener("keydown",z)),()=>{document.removeEventListener("mousedown",B),document.removeEventListener("keydown",z)}},[f]);const R=()=>{x({name:"",description:"",color:"#3B82F6"}),m(!0),p(!1)},I=B=>{x({name:B.name,description:B.description||"",color:B.color||"#3B82F6"}),v(B.id),y(!0),p(!1)},P=B=>{B.preventDefault(),B.stopPropagation(),g.name.trim()&&(n(g.name.trim(),g.description.trim()||void 0,g.color),m(!1),x({name:"",description:"",color:"#3B82F6"}))},O=B=>{B.preventDefault(),B.stopPropagation(),w&&g.name.trim()&&(s(w,{name:g.name.trim(),description:g.description.trim()||void 0,color:g.color}),y(!1),v(null),x({name:"",description:"",color:"#3B82F6"}))},D=B=>{if(!B.destination)return;const z=B.source.index,A=B.destination.index;z!==A&&d(z,A)},$=B=>{const z=prompt(`Nombre para la copia de "${B.name}":`,`${B.name} (Copia)`);z!=null&&z.trim()&&a(B.id,z.trim()),p(!1)},_=B=>{if(e.length<=1){alert("No se puede eliminar la nica lista existente.");return}confirm(`Ests seguro de que quieres eliminar la lista "${B.name}"? Esta accin no se puede deshacer.`)&&i(B.id),p(!1)},H=({isOpen:B,onClose:z,title:A,children:N})=>B?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:T=>{T.target===T.currentTarget&&z()},children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",onClick:T=>T.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:A}),o.jsx("button",{onClick:z,className:"text-gray-400 hover:text-gray-600",children:""})]}),N]})}):null;return o.jsxs("div",{className:"relative",ref:b,children:[o.jsxs("button",{onClick:()=>p(!f),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(E==null?void 0:E.color)||"#3B82F6"}}),o.jsx("span",{className:"font-medium text-gray-700",children:(E==null?void 0:E.name)||"Sin lista"}),o.jsx(Er,{size:16,className:`text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),"      ",f&&o.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-300 rounded-lg shadow-lg z-50",onClick:B=>B.stopPropagation(),children:[o.jsx("div",{className:"p-2 border-b border-gray-200",children:o.jsxs("button",{onClick:R,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-md transition-colors",children:[o.jsx(vr,{size:16}),"Nueva Lista"]})}),"          ",o.jsx("div",{className:"max-h-60 overflow-y-auto",children:o.jsxs(rh,{onDragEnd:D,children:["              ",o.jsx(uh,{droppableId:"lists",children:(B,z)=>o.jsxs("div",{...B.droppableProps,ref:B.innerRef,className:`${z.isDraggingOver?"bg-blue-50 border-blue-200":""} transition-all duration-200 rounded-md`,children:[e.map((A,N)=>o.jsx(lh,{draggableId:A.id,index:N,children:(T,L)=>{var G;return o.jsx("div",{ref:T.innerRef,...T.draggableProps,className:`group relative border-b border-gray-100 last:border-b-0 transition-all duration-200 ${L.isDragging?"shadow-lg rounded-lg bg-white border border-blue-200 z-50 opacity-90":"hover:bg-gray-50 opacity-100"}`,style:{...T.draggableProps.style,...L.isDragging&&{transform:`${(G=T.draggableProps.style)==null?void 0:G.transform} rotate(1deg)`}},children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{...T.dragHandleProps,className:"flex items-center justify-center p-3 cursor-grab active:cursor-grabbing text-gray-500 hover:text-gray-700 opacity-70 group-hover:opacity-100 transition-opacity",children:o.jsx(Um,{size:14})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("button",{onClick:()=>{r(A.id),p(!1)},className:`w-full flex items-center gap-3 px-3 py-3 text-sm transition-colors ${A.id===t?"bg-blue-50 text-blue-800 font-medium":"text-gray-800 hover:bg-gray-100 hover:text-gray-900"}`,children:[o.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:A.color||"#3B82F6"}}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:`font-semibold ${A.id===t?"text-blue-900":"text-gray-900"}`,children:A.name}),A.description&&o.jsx("div",{className:`text-xs truncate ${A.id===t?"text-blue-600":"text-gray-600"}`,children:A.description}),o.jsxs("div",{className:`text-xs ${A.id===t?"text-blue-500":"text-gray-500"}`,children:[A.messages.length," mensaje",A.messages.length!==1?"s":""]})]})]}),o.jsx("div",{className:"px-3 pb-2 opacity-70 group-hover:opacity-100 transition-opacity",children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx("button",{onClick:M=>{M.stopPropagation(),I(A)},className:"p-1.5 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded transition-colors",title:"Editar lista",children:o.jsx(cx,{size:14})}),o.jsx("button",{onClick:M=>{M.stopPropagation(),$(A)},className:"p-1.5 text-gray-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors",title:"Duplicar lista",children:o.jsx(Y0,{size:14})}),o.jsx("button",{onClick:M=>{M.stopPropagation(),l(A.id)},className:"p-1.5 text-gray-600 hover:text-orange-700 hover:bg-orange-50 rounded transition-colors",title:"Exportar lista",children:o.jsx(X0,{size:14})}),e.length>1&&o.jsx("button",{onClick:M=>{M.stopPropagation(),_(A)},className:"p-1.5 text-gray-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Eliminar lista",children:o.jsx(xr,{size:14})})]})})]})]})})}},A.id)),B.placeholder]})})]})}),o.jsx("div",{className:"p-2 border-t border-gray-200",children:o.jsxs("button",{onClick:()=>{c(),p(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-md transition-colors",children:[o.jsx(jx,{size:16}),"Importar Lista"]})})]}),o.jsxs(H,{isOpen:u,onClose:()=>m(!1),title:"Nueva Lista",children:["        ",o.jsxs("form",{onSubmit:P,className:"space-y-4",children:["          ",o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),o.jsx("input",{type:"text",value:g.name,onChange:B=>x({...g,name:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de la lista",autoFocus:!0,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),o.jsx("textarea",{value:g.description,onChange:B=>x({...g,description:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripcin opcional",rows:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),o.jsx("div",{className:"flex gap-2",children:C.map(B=>o.jsx("button",{type:"button",onClick:()=>x({...g,color:B}),className:`w-8 h-8 rounded-full border-2 transition-all ${g.color===B?"border-gray-400 scale-110":"border-gray-200"}`,style:{backgroundColor:B}},B))})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Crear"})]})]})]}),o.jsxs(H,{isOpen:h,onClose:()=>y(!1),title:"Editar Lista",children:["        ",o.jsxs("form",{onSubmit:O,className:"space-y-4",children:[o.jsxs("div",{children:["            ",o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),"            ",o.jsx("input",{type:"text",value:g.name,onChange:B=>x({...g,name:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de la lista",autoFocus:!0,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),o.jsx("textarea",{value:g.description,onChange:B=>x({...g,description:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripcin opcional",rows:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),o.jsx("div",{className:"flex gap-2",children:C.map(B=>o.jsx("button",{type:"button",onClick:()=>x({...g,color:B}),className:`w-8 h-8 rounded-full border-2 transition-all ${g.color===B?"border-gray-400 scale-110":"border-gray-200"}`,style:{backgroundColor:B}},B))})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Guardar"})]})]})]}),"      ",(f||u||h)&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{p(!1)}})]})},Br=class Br{constructor(){me(this,"state");me(this,"callbacks",new Set);me(this,"autoCloseTimeout",null);this.state={isVisible:!1,message:"",type:"info"}}static getInstance(){return Br.instance||(Br.instance=new Br),Br.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}show(t,r="info",n=!0){this.autoCloseTimeout&&(window.clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.updateState({isVisible:!0,message:t,type:r}),n&&(this.autoCloseTimeout=window.setTimeout(()=>{this.close()},5e3))}showSuccess(t,r=!0){this.show(t,"success",r)}showError(t,r=!0){this.show(t,"error",r)}showWarning(t,r=!0){this.show(t,"warning",r)}showInfo(t,r=!0){this.show(t,"info",r)}close(){this.autoCloseTimeout&&(window.clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.updateState({isVisible:!1})}isVisible(){return this.state.isVisible}getCurrentMessage(){return this.state.message}getCurrentType(){return this.state.type}clear(){this.autoCloseTimeout&&(clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.state={isVisible:!1,message:"",type:"info"},this.notifySubscribers()}};me(Br,"instance");let Gl=Br;const Me=Gl.getInstance(),mN=({children:e,content:t,position:r="bottom"})=>{const[n,s]=j.useState(!1);if(!t.trim())return o.jsx(o.Fragment,{children:e});const i={top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"},a={top:"top-full left-1/2 transform -translate-x-1/2 -mt-1",bottom:"bottom-full left-1/2 transform -translate-x-1/2 -mb-1",left:"left-full top-1/2 transform -translate-y-1/2 -ml-1",right:"right-full top-1/2 transform -translate-y-1/2 -mr-1"};return o.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[e,n&&o.jsxs("div",{className:`absolute z-50 px-3 py-2 text-sm text-white bg-gray-800 rounded-lg shadow-lg whitespace-normal max-w-xs ${i[r]}`,style:{wordBreak:"break-word",minWidth:"200px",maxWidth:"300px"},children:[t,o.jsx("div",{className:`absolute w-2 h-2 bg-gray-800 transform rotate-45 ${a[r]}`})]})]})},gN=({isOpen:e,onClose:t,onMessageClick:r,onEditMessage:n})=>{const[s,i]=j.useState(new Set),[a,l]=j.useState([]),[c,d]=j.useState(null),[f,p]=j.useState(!1),[u,m]=j.useState(!1),[h,y]=j.useState(-1),[w,v]=j.useState(null),[g,x]=j.useState(3),[b,E]=j.useState(!1),[C,R]=j.useState(384),[I,P]=j.useState(!1),O=j.useRef(!1),D=a.find(S=>S.id===c),$=(D==null?void 0:D.messages)||[];j.useEffect(()=>ge.subscribe((k,X)=>{l(k),d(X)}),[]);const _=j.useMemo(()=>{let S=300;const k=$.reduce((Re,je)=>{const ke=(je.host+je.messageType).length+5;return ke>Re?ke:Re},0),X=D!=null&&D.name?D.name.length+15:0,K=D!=null&&D.description?D.description.length+10:0,se=18+5,re=Math.max(k,X,K,se)*8+120;return S=Math.min(Math.max(re,320),650),S},[$,D]);j.useEffect(()=>{R(_)},[_]);const H=S=>{if(O.current){const k=window.innerWidth-S.clientX;R(Math.min(Math.max(k,320),650))}},B=()=>{O.current=!1,P(!1),document.body.style.cursor="",document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",B)};if(j.useEffect(()=>()=>{document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",B),document.body.style.cursor="",w&&clearTimeout(w)},[w]),!e)return null;const z=S=>{if(!S.destination)return;const k=S.source.index,X=S.destination.index;k!==X&&ge.reorderMessages(k,X)},A=S=>{O.current=!0,P(!0),document.body.style.cursor="col-resize",document.addEventListener("mousemove",H),document.addEventListener("mouseup",B)},N=S=>new Date(S).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),T=S=>{const k=new Set(s);k.has(S)?k.delete(S):k.add(S),i(k)},L=async S=>{try{await ge.sendMessage(S)}catch(k){console.error("Error sending message:",k),alert("Error al enviar el mensaje. Por favor, intenta de nuevo.")}},G=async()=>{if($.length!==0){p(!0);try{for(const S of $)await ge.sendMessage(S)}catch(S){console.error("Error sending all messages:",S),alert("Error al enviar los mensajes. Algunos mensajes pueden no haberse enviado.")}finally{p(!1)}}},M=async()=>{if($.length===0)return;m(!0),y(0);const S=async k=>{if(k>=$.length){m(!1),y(-1);return}const X=$[k];y(k);try{console.log(` Sending message ${k+1}/${$.length}: ${X.messageType}`);const K=await ge.sendMessage(X);if(console.log(` Received ${K.length} response(s) for message ${k+1}:`),K.forEach((le,re)=>{console.log(`  Response ${re+1}:`,le.message)}),K&&K.length>0&&K.some(le=>{if(!le.message)return!1;const re=le.message.toLowerCase();return!!(re.includes("ack")||re.includes("msa")||re.includes("acknowledgment")||re.includes("<issuccessful>")||re.includes("<succeed>")||re.includes("success")&&!re.includes("false")||re.includes("200 ok")||re.includes("status: 200"))}))console.log(` ACK received for message ${k+1}, sending next immediately`),setTimeout(()=>S(k+1),100);else{console.log(` No ACK received for message ${k+1}, waiting ${g} seconds`);const le=window.setTimeout(()=>{console.log(` ${g} seconds elapsed, sending next message ${k+2}`),S(k+1)},g*1e3);v(le)}}catch(K){console.error(` Error sending message ${k+1}:`,K);const se=window.setTimeout(()=>{console.log(` Retrying after error, sending message ${k+2}`),S(k+1)},g*1e3);v(se)}};try{await S(0)}catch(k){console.error("Error in send with waiting ACK process:",k),m(!1),y(-1)}},q=async()=>{try{await Gr.deleteAllMessages(),ge.clearAllResponses(),Me.showSuccess("Deleted all messages from monitoring. All acks deleted successfully")}catch(S){console.error("Failed to clear all responses:",S),ge.clearAllResponses(),Me.showWarning("Ack deleted (Server error)")}},W=S=>{$.find(X=>X.id===S)&&c&&(ge.clearMessageResponses(S),Me.showInfo("Message responses cleared successfully"))},J=S=>{ge.removeMessage(S)},Q=S=>{try{const k=ge.exportList(S),X=new Blob([k],{type:"application/json"}),K=URL.createObjectURL(X),se=document.createElement("a"),le=a.find(re=>re.id===S);se.href=K,se.download=`${(le==null?void 0:le.name)||"lista"}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(K)}catch(k){console.error("Error exporting list:",k),alert("Error al exportar la lista.")}},ee=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=async k=>{var K,se,le,re,Re;const X=(K=k.target.files)==null?void 0:K[0];if(X)try{const je=await X.text(),ke=JSON.parse(je),de=ge.createList(((se=ke.listInfo)==null?void 0:se.name)||"Lista Importada",(le=ke.listInfo)==null?void 0:le.description,(re=ke.listInfo)==null?void 0:re.color);if(ke.messages&&Array.isArray(ke.messages))for(const We of ke.messages)ge.addMessage(We.content,We.host,We.messageType,We.messageControlId,de.id);alert(`Lista "${de.name}" importada exitosamente con ${((Re=ke.messages)==null?void 0:Re.length)||0} mensajes.`)}catch(je){console.error("Error importing list:",je),alert("Error al importar la lista. Verifica que el archivo sea vlido.")}},S.click()};return o.jsxs("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-lg border-l border-gray-200 z-50 transform transition-transform duration-300 flex flex-col",style:{width:`${C}px`,transition:I?"none":"width 0.2s ease"},children:[o.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 -ml-1 cursor-col-resize hover:bg-blue-200 active:bg-blue-300 z-10",onMouseDown:A}),o.jsxs("div",{className:"flex flex-col p-3 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mensajes Guardados"}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:o.jsx(jt,{size:20})})]}),"        ",o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsxs("div",{className:"flex-1",children:["            ",o.jsx(fN,{lists:a,activeListId:c,onSelectList:S=>ge.setActiveList(S),onCreateList:(S,k,X)=>ge.createList(S,k,X),onUpdateList:(S,k)=>ge.updateList(S,k),onDeleteList:S=>ge.deleteList(S),onDuplicateList:(S,k)=>ge.duplicateList(S,k),onExportList:Q,onImportList:ee,onReorderLists:(S,k)=>ge.reorderLists(S,k)})]}),$.length>0&&o.jsx("button",{onClick:q,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Limpiar todas las respuestas de esta lista",children:o.jsx(Al,{size:18})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:$.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("p",{className:"text-gray-500",children:"No hay mensajes en esta lista"})}):o.jsxs(rh,{onDragEnd:z,children:["            ",o.jsx(uh,{droppableId:"messages",children:S=>o.jsxs("div",{className:"p-3 space-y-3",...S.droppableProps,ref:S.innerRef,children:[$.map((k,X)=>{var le;const K=k.responses&&k.responses.length>0,se=K&&((le=k.responses)==null?void 0:le.some(re=>mo(re.message)));return o.jsx(lh,{draggableId:k.id,index:X,children:(re,Re)=>{var je,ke;return o.jsxs("div",{ref:re.innerRef,...re.draggableProps,className:`rounded-lg border transition-shadow ${Re.isDragging?"shadow-lg":""} ${se?"bg-red-50 border-red-200":K?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center border-b border-gray-200",children:[o.jsx("div",{...re.dragHandleProps,className:"flex items-center justify-center p-2 cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600",children:o.jsx(Um,{size:16})}),o.jsx("div",{className:"flex-1 p-2",children:o.jsx(mN,{content:k.comment||"",position:"bottom",children:o.jsxs("div",{className:"text-sm flex items-center",children:[o.jsx("span",{className:"font-medium text-blue-600",children:k.host}),o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:`${se?"text-red-700":K?"text-green-700":"text-gray-700"}`,children:k.messageType}),k.comment&&o.jsx("span",{className:"ml-2 text-orange-500",title:"Tiene comentarios",children:o.jsx(ix,{size:14})})]})})})]}),o.jsx("div",{className:"cursor-pointer",onClick:()=>r(k),children:o.jsxs("div",{className:"p-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("div",{className:"text-xs text-gray-500",children:k.sentTimestamp?`Enviado: ${N(k.sentTimestamp)}`:""}),o.jsxs("div",{className:"flex gap-1",onClick:de=>de.stopPropagation(),children:[o.jsx("button",{onClick:de=>{de.stopPropagation(),T(k.id)},className:"p-1 text-gray-600 hover:bg-gray-200 rounded",title:"Ver/ocultar respuesta",children:s.has(k.id)?o.jsx(Er,{size:16}):o.jsx(Xr,{size:16})}),o.jsx("button",{onClick:de=>{de.stopPropagation(),W(k.id)},className:"p-1 text-gray-400 hover:bg-gray-200 rounded",title:"Limpiar respuestas",children:o.jsx(Al,{size:16})}),o.jsx("button",{onClick:de=>{de.stopPropagation(),!k.sentTimestamp&&n&&n(k)},disabled:!!k.sentTimestamp||!n,className:`p-1 rounded transition-colors ${k.sentTimestamp||!n?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-100 cursor-pointer"}`,title:n?k.sentTimestamp?"No se puede editar mensaje enviado":"Editar mensaje":"Edicin no disponible",children:o.jsx(Nn,{size:16})}),o.jsx("button",{onClick:de=>{de.stopPropagation(),L(k)},className:"p-1 text-green-600 hover:bg-green-100 rounded",title:"Enviar mensaje",children:o.jsx(_m,{size:16})}),o.jsx("button",{onClick:de=>{de.stopPropagation(),J(k.id)},className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Eliminar mensaje",children:o.jsx(bx,{size:16})})]})]}),s.has(k.id)&&o.jsxs("div",{className:"bg-white p-2 rounded text-xs font-mono max-h-32 overflow-y-auto hover:bg-gray-50 cursor-text mb-2",onClick:de=>de.stopPropagation(),children:[k.content.substring(0,200),k.content.length>200&&"..."]}),k.responses&&k.responses.length>0&&s.has(k.id)&&o.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",onClick:de=>de.stopPropagation(),children:[o.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-1",children:["Respuesta",(((je=k.responses)==null?void 0:je.length)||0)>1?"s":"",":"]}),o.jsx("div",{className:"space-y-2",children:(ke=k.responses)==null?void 0:ke.map((de,We)=>{var zn;const kt=mo(de.message),Tr=Jo(de.message),Zs=new Date(de.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:`p-2 rounded text-xs font-mono max-h-40 overflow-y-auto border cursor-text ${kt?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{className:"flex gap-2",children:[(((zn=k.responses)==null?void 0:zn.length)||0)>1&&o.jsxs("div",{className:`text-xs font-semibold ${kt?"text-red-600":"text-green-600"}`,children:["#",We+1]}),o.jsx("div",{className:`text-xs px-1 py-0.5 rounded ${Tr.format==="json"?"bg-blue-100 text-blue-700":Tr.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:Tr.format.toUpperCase()})]}),o.jsx("div",{className:`text-xs ${kt?"text-red-500":"text-green-500"}`,children:Zs})]}),o.jsx("div",{className:`text-xs leading-relaxed font-mono ${kt?"text-red-800":"text-green-800"}`,dangerouslySetInnerHTML:{__html:Tr.content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;")}})]},We)})})]})]})})]})}},k.id)}),S.placeholder,"                "]})})]})}),$.length>0&&o.jsxs("div",{className:"p-3 border-t border-gray-200 space-y-2",children:[o.jsx("button",{onClick:G,disabled:f||u,className:`w-full py-2 px-3 rounded-lg text-white font-medium transition-colors text-sm ${f||u?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:f?"Sending...":`Send All (${$.length})`}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex",children:[o.jsx("button",{onClick:M,disabled:f||u,className:`flex-1 py-2 px-3 rounded-l-lg text-white font-medium transition-colors text-sm ${f||u?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:u?`Sending ${h+1}/${$.length} (Waiting ACK)`:`Send Waiting ACK (${$.length})`}),o.jsx("button",{onClick:()=>E(!b),disabled:f||u,className:`px-2 py-2 rounded-r-lg text-white transition-colors ${f||u?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 border-l border-blue-500"}`,title:"Configure ACK timeout",children:o.jsx(ex,{size:16})})]}),b&&o.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-50",children:[o.jsxs("div",{className:"mb-2",children:[o.jsxs("label",{className:"block text-xs text-gray-700 font-medium mb-1",children:["ACK Timeout: ",g,"s"]}),o.jsx("input",{type:"range",min:"0.5",max:"7",step:"0.5",value:g,onChange:S=>x(Number(S.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #3B82F6 0%, #3B82F6 ${(g-.5)/6.5*100}%, #E5E7EB ${(g-.5)/6.5*100}%, #E5E7EB 100%)`}}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"0.5s"}),o.jsx("span",{children:"7s"})]})]}),o.jsx("button",{onClick:()=>E(!1),className:"w-full text-xs py-1 px-2 bg-gray-100 hover:bg-gray-200 rounded text-gray-600",children:"Close"})]})]})]})]})},hN=({isOpen:e,onClose:t,message:r})=>{var s,i;if(!e||!r)return null;const n=a=>new Date(a).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mensaje Completo"}),"            ",o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium text-blue-600",children:r.host}),o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:"text-gray-700",children:r.messageType}),r.sentTimestamp&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsxs("span",{className:"text-gray-500",children:["Enviado: ",n(r.sentTimestamp)]})]})]})]}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:o.jsx(jt,{size:20})})]}),o.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contenido del Mensaje:"}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:o.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap text-gray-800",children:r.content})})]}),r.responses&&r.responses.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Respuesta",(((s=r.responses)==null?void 0:s.length)||0)>1?"s":""," del Servidor:"]}),"                ",o.jsxs("div",{className:"space-y-3",children:["                ",(i=r.responses)==null?void 0:i.map((a,l)=>{var p;const c=mo(a.message),d=Jo(a.message),f=new Date(a.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:`p-4 rounded-lg border ${c?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex gap-2",children:[(((p=r.responses)==null?void 0:p.length)||0)>1&&o.jsxs("div",{className:`text-xs font-semibold ${c?"text-red-600":"text-green-600"}`,children:["Respuesta #",l+1]}),o.jsx("div",{className:`text-xs px-2 py-1 rounded ${d.format==="json"?"bg-blue-100 text-blue-700":d.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:d.format.toUpperCase()})]}),o.jsxs("div",{className:`text-xs ${c?"text-red-500":"text-green-500"}`,children:["Recibido: ",f]})]}),o.jsx("pre",{className:`text-xs font-mono whitespace-pre-wrap ${c?"text-red-800":"text-green-800"}`,children:d.content})]},l)})]})]})]})})]})})},vN=({isOpen:e,onClose:t,message:r,onSave:n,onSaveComment:s,onSaveControlId:i})=>{var R,I;const[a,l]=j.useState(""),[c,d]=j.useState(""),[f,p]=j.useState(""),[u,m]=j.useState(!1);j.useEffect(()=>{r&&(l(r.content),d(r.comment||""),p(r.messageControlId||""),m(!1))},[r]);const h=P=>{const O=P.target.value;l(O),m(O!==(r==null?void 0:r.content)||c!==((r==null?void 0:r.comment)||"")||f!==((r==null?void 0:r.messageControlId)||""))},y=P=>{const O=P.target.value;d(O),m(a!==(r==null?void 0:r.content)||O!==((r==null?void 0:r.comment)||"")||f!==((r==null?void 0:r.messageControlId)||""))},w=P=>{const O=P.target.value;p(O),m(a!==(r==null?void 0:r.content)||c!==((r==null?void 0:r.comment)||"")||O!==((r==null?void 0:r.messageControlId)||""))},v=()=>{r&&u&&(a!==r.content&&n(r.id,a),c!==(r.comment||"")&&s(r.id,c),f!==(r.messageControlId||"")&&i(r.id,f),t())},g=()=>{r&&(l(r.content),d(r.comment||""),p(r.messageControlId||""),m(!1))},x=P=>{P.ctrlKey&&P.key==="s"&&(P.preventDefault(),v()),P.key==="Escape"&&t()};if(!e||!r)return null;const b=!r.sentTimestamp,E=P=>(typeof P=="string"?new Date(P):P).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),C=r.responses&&r.responses.length>0?r.responses[r.responses.length-1].receiveTime:null;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:b?"Editar Mensaje":"Ver Mensaje (Solo Lectura)"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-blue-600",children:r.host}),o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:"text-gray-700",children:r.messageType}),r.sentTimestamp&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:"text-green-600 font-medium",children:"Enviado"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Creado:"}),o.jsx("span",{className:"ml-1 text-gray-700",children:E(r.timestamp)})]}),r.sentTimestamp&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Enviado:"}),o.jsx("span",{className:"ml-1 text-green-600 font-medium",children:E(r.sentTimestamp)})]}),C&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"ltima respuesta:"}),o.jsx("span",{className:"ml-1 text-purple-600 font-medium",children:E(C)})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[b&&u&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:g,className:"p-2 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Resetear cambios",children:o.jsx(Al,{size:18})}),o.jsx("button",{onClick:v,className:"p-2 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Guardar cambios (Ctrl+S)",children:o.jsx(Ro,{size:18})})]}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:o.jsx(jt,{size:20})})]})]}),"        ",o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Contenido del Mensaje:"}),b&&o.jsx("div",{className:"text-xs text-gray-500",children:"Usa Ctrl+S para guardar  Esc para cerrar"})]}),b?o.jsx("textarea",{value:a,onChange:h,onKeyDown:x,className:"w-full h-96 p-4 bg-gray-50 border border-gray-300 rounded-lg font-mono text-xs resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contenido del mensaje...",autoFocus:!0}):o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border h-96 overflow-y-auto",children:o.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap text-gray-800",children:r.content})}),b&&u&&o.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:o.jsxs("p",{className:"text-sm text-yellow-800",children:[o.jsx("span",{className:"font-medium",children:"Cambios sin guardar"})," - Presiona Ctrl+S para guardar o el botn de resetear para descartar."]})}),!b&&o.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("span",{className:"font-medium",children:"Mensaje enviado"})," - Este mensaje ya fue enviado y no puede ser modificado."]})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Comentarios:"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Los comentarios aparecern como tooltips en la barra lateral"})]}),o.jsx("textarea",{value:c,onChange:y,onKeyDown:x,className:"w-full h-20 p-3 bg-gray-50 border border-gray-300 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Agrega un comentario para este mensaje (opcional)..."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Control ID:"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Identificador nico para el mensaje (opcional)"})]}),o.jsx("input",{type:"text",value:f,onChange:w,onKeyDown:x,className:"w-full h-10 px-3 bg-gray-50 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ingresa un Control ID personalizado (opcional)..."})]}),r.responses&&r.responses.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Respuesta",(((R=r.responses)==null?void 0:R.length)||0)>1?"s":""," del Servidor:"]}),"                ",o.jsx("div",{className:"space-y-3",children:(I=r.responses)==null?void 0:I.map((P,O)=>{var _;const D=P.message.includes("ERR|"),$=new Date(P.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:`p-4 rounded-lg border ${D?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[(((_=r.responses)==null?void 0:_.length)||0)>1&&o.jsxs("div",{className:`text-xs font-semibold ${D?"text-red-600":"text-green-600"}`,children:["Respuesta #",O+1]}),o.jsxs("div",{className:`text-xs ${D?"text-red-500":"text-green-500"}`,children:["Recibido: ",$]})]}),o.jsx("pre",{className:`text-xs font-mono whitespace-pre-wrap ${D?"text-red-800":"text-green-800"}`,children:P.message})]},O)})})]})]})}),"        ",b&&o.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Los cambios se guardarn automticamente al cerrar si hay modificaciones."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:v,disabled:!u,className:`px-4 py-2 rounded-lg transition-colors ${u?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Guardar Cambios"})]})]})]})})},Fr=class Fr{constructor(){me(this,"state");me(this,"callbacks",new Set);this.state={isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1,isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1,isSidebarOpen:!1,isServerSidebarOpen:!1,isMessageSaved:!1,messageCopied:!1,error:null}}static getInstance(){return Fr.instance||(Fr.instance=new Fr),Fr.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}togglePatientModal(){this.updateState({isPatientModalOpen:!this.state.isPatientModalOpen})}togglePhysicianModal(){this.updateState({isPhysicianModalOpen:!this.state.isPhysicianModalOpen})}togglePathologistModal(){this.updateState({isPathologistModalOpen:!this.state.isPathologistModalOpen})}toggleHierarchyModal(){this.updateState({isHierarchyModalOpen:!this.state.isHierarchyModalOpen})}toggleTechnicianModal(){this.updateState({isTechnicianModalOpen:!this.state.isTechnicianModalOpen})}toggleSpecimenSelectorModal(){this.updateState({isSpecimenSelectorModalOpen:!this.state.isSpecimenSelectorModalOpen})}toggleBlockSelectorModal(){this.updateState({isBlockSelectorModalOpen:!this.state.isBlockSelectorModalOpen})}toggleSlideSelectorModal(){this.updateState({isSlideSelectorModalOpen:!this.state.isSlideSelectorModalOpen})}toggleEntitySelectorModal(){this.updateState({isEntitySelectorModalOpen:!this.state.isEntitySelectorModalOpen})}setFetchingData(t){this.updateState({isFetchingData:t})}setGeneratingMessage(t){this.updateState({isGeneratingMessage:t})}setSendingMessage(t){this.updateState({isSendingMessage:t})}setSendingAll(t){this.updateState({isSendingAll:t})}setClearingAll(t){this.updateState({isClearingAll:t})}toggleSidebar(){this.updateState({isSidebarOpen:!this.state.isSidebarOpen})}toggleServerSidebar(){this.updateState({isServerSidebarOpen:!this.state.isServerSidebarOpen})}setMessageSaved(t){this.updateState({isMessageSaved:t}),t&&setTimeout(()=>{this.updateState({isMessageSaved:!1})},1500)}setMessageCopied(t){this.updateState({messageCopied:t}),t&&setTimeout(()=>{this.updateState({messageCopied:!1})},2e3)}setError(t){this.updateState({error:t})}clearError(){this.updateState({error:null})}closeAllModals(){this.updateState({isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1})}resetLoadingStates(){this.updateState({isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1})}resetAllStates(){this.state={isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1,isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1,isSidebarOpen:!1,isServerSidebarOpen:!1,isMessageSaved:!1,messageCopied:!1,error:null},this.notifySubscribers()}};me(Fr,"instance");let Wl=Fr;const ne=Wl.getInstance(),ze=[{id:"IN_PROGRESS",name:"IN_PROGRESS",description:"Work in progress"},{id:"SIGN_OUT",name:"SIGN_OUT",description:"Signed out"},{id:"ADDEND",name:"ADDEND",description:"Addendum"},{id:"AMEND",name:"AMEND",description:"Amendment"},{id:"CANCEL",name:"CANCEL",description:"Cancelled"}],Vl=[{id:"EMBEDDED",name:"EMBEDDED",description:"Embedded"},{id:"MARKED",name:"MARKED",description:"Marked"},{id:"VERIFIED",name:"VERIFIED",description:"Verified"},{id:"ASSEMBLED",name:"ASSEMBLED",description:"Assembled"},{id:"ASSIGNED",name:"ASSIGNED",description:"Assigned"},{id:"ADDITION",name:"ADDITION",description:"Addition"},{id:"CANCELED",name:"CANCELED",description:"Canceled"}],xN=[{id:"SCANNED",name:"SCANNED",description:"Slide has been scanned"},{id:"SCANNED_ERROR",name:"SCANNED_ERROR",description:"Error during scanning"},{id:"TRANSFER_OK",name:"TRANSFER_OK",description:"Transfer completed successfully"},{id:"TRANSFER_ERROR",name:"TRANSFER_ERROR",description:"Error during transfer"},{id:"PRESCAN_OK",name:"PRESCAN_OK",description:"Prescan completed successfully"},{id:"PRESCAN_ERROR",name:"PRESCAN_ERROR",description:"Error during prescan"},{id:"PRESCAN_QC",name:"PRESCAN_QC",description:"Prescan quality control"},{id:"SCAN_SCHEDULED",name:"SCAN_SCHEDULED",description:"Scan has been scheduled"},{id:"SCAN_ISSUE",name:"SCAN_ISSUE",description:"Issue with scan"},{id:"SCAN_QC",name:"SCAN_QC",description:"Scan quality control"}],Ep=[{id:"SlideStaining",name:"SlideStaining",description:"Slide is being stained"},{id:"SlideStained",name:"SlideStained",description:"Slide has been stained"}],Mr=[{id:"LIS",name:"LIS",messageTypes:[{id:"OML21",name:"OML21"},{id:"ADTA28",name:"ADTA28"},{id:"ADTA08",name:"ADTA08"},{id:"CASE_UPDATE",name:"CASE_UPDATE",requiresStatusSelector:!0,statusOptions:ze},{id:"DELETE_CASE",name:"DELETE_CASE"},{id:"DELETE_SPECIMEN",name:"DELETE_SPECIMEN",requiresSpecimenSelector:!0},{id:"DELETE_SLIDE",name:"DELETE_SLIDE",requiresSlideSelector:!0}],statusOptions:ze},{id:"VTG",name:"VTG",messageTypes:[{id:"OEWF",name:"OEWF"},{id:"ADDITION",name:"ADDITION",requiresSpecimenSelector:!0},{id:"SPECIMEN_UPDATE",name:"SPECIMEN_UPDATE",requiresSpecimenSelector:!0,requiresStatusSelector:!0,statusOptions:ze},{id:"BLOCK_UPDATE",name:"BLOCK_UPDATE",requiresSpecimenSelector:!0,requiresBlockSelector:!0,requiresStatusSelector:!0,statusOptions:ze},{id:"SLIDE_UPDATE",name:"SLIDE_UPDATE",requiresSpecimenSelector:!0,requiresBlockSelector:!0,requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:ze}],statusOptions:ze},{id:"VANTAGE WS",name:"VANTAGE WS",messageTypes:[{id:"ProcessVANTAGEEvent",name:"ProcessVANTAGEEvent",requiresEntitySelector:!0,requiresStatusSelector:!0,statusOptions:Vl},{id:"ProcessNewOrderRequest",name:"ProcessNewOrderRequest"},{id:"ProcessChangeOrderRequest",name:"ProcessChangeOrderRequest"},{id:"ProcessCancelOrderRequest",name:"ProcessCancelOrderRequest"},{id:"ProcessNewOrder",name:"ProcessNewOrder"},{id:"ProcessChangeOrder",name:"ProcessChangeOrder"},{id:"ProcessCancelOrder",name:"ProcessCancelOrder"},{id:"ProcessAssignedPathologistUpdate",name:"ProcessAssignedPathologistUpdate"},{id:"ProcessPhysicianUpdate",name:"ProcessPhysicianUpdate"},{id:"ProcessPatientUpdate",name:"ProcessPatientUpdate"},{id:"ProcessApplicationACK",name:"ProcessApplicationACK"}],statusOptions:Vl},{id:"UPATH CLOUD",name:"UPATH CLOUD",messageTypes:[{id:"sendScannedSlideImageLabelId",name:"sendScannedSlideImageLabelId",requiresSlideSelector:!0},{id:"sendReleasedSpecimen",name:"sendReleasedSpecimen",requiresSpecimenSelector:!0},{id:"sendSlideWSAData",name:"sendSlideWSAData",requiresSlideSelector:!0,requiresEntitySelector:!0,requiresStatusSelector:!0,statusOptions:ze},{id:"BLOCK_UPDATE",name:"BLOCK_UPDATE"},{id:"SLIDE_UPDATE",name:"SLIDE_UPDATE"}],statusOptions:ze},{id:"DP600",name:"DP600",messageTypes:[{id:"sendScannedSlideImageLabelId",name:"sendScannedSlideImageLabelId",requiresSlideSelector:!0},{id:"sendUpdatedSlideStatus",name:"sendUpdatedSlideStatus",requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:xN}],statusOptions:ze},{id:"AUTOMATION_SW",name:"AUTOMATION SOFTWARE",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS UPDATE",requiresEntitySelector:!0}],statusOptions:ze},{id:"HISTOBOT",name:"HISTOBOT",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS_UPDATE",requiresEntitySelector:!0}],statusOptions:ze},{id:"HISTOBOT_SENSITIVE_DATA",name:"HISTOBOT_SENSITIVE_DATA",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS_UPDATE",requiresEntitySelector:!0}],statusOptions:ze},{id:"LIS_HL7",name:"LIS_HL7",messageTypes:[{id:"OML21",name:"OML21"},{id:"ADTA28",name:"ADTA28"},{id:"ADTA08",name:"ADTA08"},{id:"CASE_UPDATE",name:"CASE_UPDATE",requiresStatusSelector:!0,statusOptions:ze},{id:"DELETE_CASE",name:"DELETE_CASE"},{id:"DELETE_SPECIMEN",name:"DELETE_SPECIMEN",requiresSpecimenSelector:!0},{id:"DELETE_SLIDE",name:"DELETE_SLIDE",requiresSlideSelector:!0}],statusOptions:ze},{id:"VSS",name:"VSS",messageTypes:[{id:"UpdateSlideStatus",name:"UpdateSlideStatus",requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:Ep}],statusOptions:Ep}];class It{static getHostConfig(t){let r=Mr.find(n=>n.id===t);if(r)return r;if(t.startsWith("histobot")||t.includes("HISTOBOT")){const n=Mr.find(s=>s.id==="HISTOBOT");if(n)return{...n,id:t,name:t}}if(t.includes("LIS")){const n=Mr.find(s=>s.id==="LIS_HL7");if(n)return{...n,id:t,name:t}}if(t.includes("VTG")){const n=Mr.find(s=>s.id==="VTG");if(n)return{...n,id:t,name:t}}if(t.includes("VSS")){const n=Mr.find(s=>s.id==="VSS");if(n)return{...n,id:t,name:t}}if(t.includes("DP600")){const n=Mr.find(s=>s.id==="DP600");if(n)return{...n,id:t,name:t}}return{id:t,name:t,messageTypes:[{id:"GENERIC_MESSAGE",name:"Generic Message"}],statusOptions:ze}}static getMessageTypeConfig(t,r){const n=this.getHostConfig(t);return n==null?void 0:n.messageTypes.find(s=>s.id===r)}static getHostOptions(){return Mr.map(t=>({id:t.id,name:t.name}))}static getMessageTypesForHost(t){const r=this.getHostConfig(t);return(r==null?void 0:r.messageTypes)||[]}static getStatusOptions(t,r){if(r){const s=this.getMessageTypeConfig(t,r);if(s!=null&&s.statusOptions)return s.statusOptions}const n=this.getHostConfig(t);return(n==null?void 0:n.statusOptions)||ze}static shouldShowSpecimenSelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresSpecimenSelector)||(s==null?void 0:s.requiresSpecimenSelector)||!1}static shouldShowBlockSelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresBlockSelector)||(s==null?void 0:s.requiresBlockSelector)||!1}static shouldShowSlideSelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresSlideSelector)||(s==null?void 0:s.requiresSlideSelector)||!1}static shouldShowEntitySelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresEntitySelector)||(s==null?void 0:s.requiresEntitySelector)||!1}static shouldShowStatusSelector(t,r){const n=this.getMessageTypeConfig(t,r);return(n==null?void 0:n.requiresStatusSelector)||!1}static getSelectorRequirements(t,r){return{showSpecimenSelector:this.shouldShowSpecimenSelector(t,r),showBlockSelector:this.shouldShowBlockSelector(t,r),showSlideSelector:this.shouldShowSlideSelector(t,r),showEntitySelector:this.shouldShowEntitySelector(t,r),showStatusSelector:this.shouldShowStatusSelector(t,r)}}}const $r=class $r{constructor(){me(this,"state");me(this,"callbacks",new Set);this.state={sampleId:"",selectedHost:"",selectedType:"",selectedStatus:"IN_PROGRESS",message:null,generatedMessage:"",currentMessageControlId:void 0,sendResponse:[],patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,availableReagents:[],selectedSlideReagents:[],messageTypes:[],dynamicHosts:[],isLoadingHosts:!1},this.initializeDefaultReagents(),this.initializeDynamicHosts()}get hosts(){return this.state.dynamicHosts.length>0?this.state.dynamicHosts:It.getHostOptions()}get statusOptions(){return ze}get statusVTGWSOptions(){return Vl}getCurrentStatusOptions(){const{selectedHost:t,selectedType:r}=this.state;return It.getStatusOptions(t,r)}async initializeDynamicHosts(){this.updateState({isLoadingHosts:!0});try{await or.initialize();const r=or.getCachedHosts().map(n=>({id:n,name:n}));if(this.updateState({dynamicHosts:r,isLoadingHosts:!1}),this.state.selectedHost&&!or.hostExists(this.state.selectedHost)){const n=or.migrateHost(this.state.selectedHost);n!==this.state.selectedHost&&(console.log(`Migrando host ${this.state.selectedHost}  ${n}`),this.setSelectedHost(n))}}catch(t){console.error("Error inicializando hosts dinmicos:",t),this.updateState({isLoadingHosts:!1})}}initializeDefaultReagents(){const t=[{substanceName:"Hematoxylin & Eosin",substanceOtherName:"H&E Stain",substanceType:"Stain",manufacturer:"Sigma-Aldrich",lotNumber:"HE2024001",lotSerialNumber:"SN-HE-001",catalogNumber:"CAT-HE-2024",intendedUseFlag:"Routine Staining",expirationDateTime:"2025-12-31T23:59:59",receivedDateTime:"2024-01-15T08:00:00"}];this.updateState({availableReagents:t})}static getInstance(){return $r.instance||($r.instance=new $r),$r.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}setSampleId(t){this.updateState({sampleId:t})}setSelectedHost(t){const r=It.getMessageTypesForHost(t),n="IN_PROGRESS";this.updateState({selectedHost:t,selectedType:"",selectedStatus:n,messageTypes:r,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null})}setSelectedType(t){const r=It.getStatusOptions(this.state.selectedHost,t),n=r.length>0?r[0].id:"IN_PROGRESS";this.updateState({selectedType:t,selectedStatus:n,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null})}setSelectedStatus(t){this.updateState({selectedStatus:t})}setMessage(t){var r,n,s,i,a,l,c,d;this.updateState({message:t}),t&&this.updateState({patientInfo:t.patient||null,physicianInfo:t.physician||null,pathologistInfo:((i=(s=(n=(r=t.patient)==null?void 0:r.orders)==null?void 0:n.orderList)==null?void 0:s[0])==null?void 0:i.pathologist)||null,technicianInfo:((d=(c=(l=(a=t.patient)==null?void 0:a.orders)==null?void 0:l.orderList)==null?void 0:c[0])==null?void 0:d.technician)||null})}setGeneratedMessage(t){this.updateState({generatedMessage:t})}setCurrentMessageControlId(t){this.updateState({currentMessageControlId:t})}setSendResponse(t){this.updateState({sendResponse:t})}clearSendResponse(){this.updateState({sendResponse:[]})}setPatientInfo(t){if(this.updateState({patientInfo:t}),this.state.message){const r={...this.state.message,patient:t};this.updateState({message:r})}}setPhysicianInfo(t){if(this.updateState({physicianInfo:t}),this.state.message){const r={...this.state.message,physician:t};this.updateState({message:r})}}setPathologistInfo(t){var r,n,s,i;if(this.updateState({pathologistInfo:t}),(s=(n=(r=this.state.message)==null?void 0:r.patient)==null?void 0:n.orders)!=null&&s.orderList){const a={...this.state.message};(i=a.patient)!=null&&i.orders&&(a.patient.orders.orderList=a.patient.orders.orderList.map(l=>({...l,pathologist:t}))),this.updateState({message:a})}}setTechnicianInfo(t){var r,n,s,i;if(this.updateState({technicianInfo:t}),(s=(n=(r=this.state.message)==null?void 0:r.patient)==null?void 0:n.orders)!=null&&s.orderList){const a={...this.state.message};(i=a.patient)!=null&&i.orders&&(a.patient.orders.orderList=a.patient.orders.orderList.map(l=>({...l,technician:t}))),this.updateState({message:a})}}setSelectedSpecimen(t){this.updateState({selectedSpecimen:t})}setSelectedBlock(t){this.updateState({selectedBlock:t})}setSelectedSlide(t){const r=(t==null?void 0:t.reagents)||[];this.updateState({selectedSlide:t,selectedSlideReagents:r})}setSelectedEntity(t,r){t==="Specimen"?this.updateState({selectedSpecimen:r,selectedBlock:null,selectedSlide:null,selectedEntity:{type:t,id:r.id}}):t==="Block"?this.updateState({selectedSpecimen:null,selectedBlock:r,selectedSlide:null,selectedEntity:{type:t,id:r.id}}):t==="Slide"?this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:r,selectedEntity:{type:t,id:r.id}}):t==="Order"&&this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:{type:t,id:r.sampleId}})}setAvailableReagents(t){this.updateState({availableReagents:t})}addReagentToSlide(t){const r=this.state.selectedSlideReagents;r.find(n=>n.substanceName===t.substanceName&&n.lotNumber===t.lotNumber)||this.updateState({selectedSlideReagents:[...r,t]})}removeReagentFromSlide(t){const r=this.state.selectedSlideReagents,n=t.split("-"),s=parseInt(n[n.length-1]);this.updateState({selectedSlideReagents:r.filter((i,a)=>a!==s)})}clearSlideReagents(){this.updateState({selectedSlideReagents:[]})}getAvailableReagents(){return this.state.availableReagents}getSelectedSlideReagents(){return this.state.selectedSlideReagents}updateSelectedSlideWithReagents(){if(this.state.selectedSlide&&this.state.selectedSlideReagents.length>0){const t={...this.state.selectedSlide,reagents:this.state.selectedSlideReagents};this.updateState({selectedSlide:t})}}getShowSpecimenSelector(){const{selectedHost:t,selectedType:r}=this.state;return It.shouldShowSpecimenSelector(t,r)}getShowBlockSelector(){const{selectedHost:t,selectedType:r}=this.state;return It.shouldShowBlockSelector(t,r)}getShowSlideSelector(){const{selectedHost:t,selectedType:r}=this.state;return It.shouldShowSlideSelector(t,r)}getShowEntitySelector(){const{selectedHost:t,selectedType:r}=this.state;return It.shouldShowEntitySelector(t,r)}getShowStatusSelector(){const{selectedHost:t,selectedType:r}=this.state;return It.shouldShowStatusSelector(t,r)}isGenerateButtonDisabled(t,r){const{selectedHost:n,selectedType:s,selectedSpecimen:i,selectedSlide:a,selectedBlock:l,selectedEntity:c}=this.state;return r||!n||!s||t||this.getShowSpecimenSelector()&&!i||this.getShowSlideSelector()&&!a||this.getShowBlockSelector()&&!l||this.getShowEntitySelector()&&!c}clearAllSelections(){this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,selectedSlideReagents:[]})}clearEntityInformation(){this.updateState({patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null})}resetFormState(){this.state={sampleId:"",selectedHost:"",selectedType:"",selectedStatus:"IN_PROGRESS",message:null,generatedMessage:"",currentMessageControlId:void 0,sendResponse:[],patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,availableReagents:this.state.availableReagents,selectedSlideReagents:[],messageTypes:[],dynamicHosts:this.state.dynamicHosts,isLoadingHosts:this.state.isLoadingHosts},this.notifySubscribers()}async refreshHosts(){await this.initializeDynamicHosts()}get isLoadingHosts(){return this.state.isLoadingHosts}migrateHostIfNeeded(t){return or.migrateHost(t)}};me($r,"instance");let ql=$r;const te=ql.getInstance();console.log(" messageUpdateService.ts file loaded!");const zr=class zr{constructor(){me(this,"updateCallbacks",[]);console.log(" MessageUpdateService constructor called!"),this.setupPollingForUpdates(),this.setupGlobalUpdateListener(),console.log(" MessageUpdateService fully initialized")}static getInstance(){return zr.instance||(zr.instance=new zr),zr.instance}registerUpdateCallback(t){this.updateCallbacks.push(t),console.log(" Registered update callback. Total callbacks:",this.updateCallbacks.length)}unregisterUpdateCallback(t){this.updateCallbacks=this.updateCallbacks.filter(r=>r!==t),console.log(" Unregistered update callback. Total callbacks:",this.updateCallbacks.length)}notifyCallbacks(t,r){if(console.log(` Notifying ${this.updateCallbacks.length} callbacks for controlId: ${t}`,r),this.updateCallbacks.length===0){console.warn("  No callbacks registered to receive updates!");return}this.updateCallbacks.forEach((n,s)=>{try{console.log(` Calling callback ${s+1}/${this.updateCallbacks.length} for controlId: ${t}`),n(t,r),console.log(` Callback ${s+1} executed successfully`)}catch(i){console.error(` Error calling callback ${s+1}:`,i)}})}updateResponses(t,r){console.log(" updateResponses called for controlId:",t,"with",r.length,"responses");const n=r.map(s=>typeof s=="string"?{message:s,receiveTime:new Date().toISOString()}:s);console.log(" Notifying callbacks for controlId:",t,"with converted responses:",n),this.notifyCallbacks(t,n)}setupPollingForUpdates(){console.log(" Setting up polling for message updates..."),console.log(" MessageUpdateService initialized and polling started"),setInterval(async()=>{try{console.log(" Polling tick - checking for updates...");const t=await fetch("/api/ui/messages/get-updates");if(console.log(" Fetch response status:",t.status,t.ok),t.ok){const r=await t.json();console.log(" Received data from server:",r);const n=r.updates||{},s=Object.keys(n);console.log(" ControlIds in updates:",s),s.length>0&&(console.log(" Polling found updates for controlIds:",s),s.forEach(i=>{const a=n[i];a&&Array.isArray(a)&&(console.log(" Processing polled update for controlId:",i,a),this.updateResponses(i,a))}))}}catch(t){console.error(" Error in polling for updates:",t)}},500)}setupGlobalUpdateListener(){console.log(" Setting up global update listeners..."),window.updateMessageResponses=(t,r)=>{console.log(" Global update function called for controlId:",t,r),this.updateResponses(t,r)},window.addEventListener("messageUpdate",t=>{const{controlId:r,responses:n}=t.detail;r&&n&&(console.log(" Received messageUpdate event for controlId:",r,n),this.updateResponses(r,n))}),console.log(" Global update listeners set up successfully")}};me(zr,"instance");let Kl=zr;console.log(" About to create messageUpdateService instance...");const Ba=Kl.getInstance();console.log(" messageUpdateService instance created and exported");const yN=()=>{const[e,t]=j.useState(ne.getState()),[r,n]=j.useState(te.getState()),[s,i]=j.useState($e.getMessages()),[a,l]=j.useState(Me.getState());j.useEffect(()=>{const S=ne.subscribe(t),k=te.subscribe(n),X=$e.subscribe(i),K=Me.subscribe(l),se=(le,re)=>{console.log(`handleMessageUpdate called with controlId: ${le}`,re),$e.updateMessageResponses(le,re),ge.updateMessageResponses(le,re),te.getState().currentMessageControlId===le&&(console.log("Updating main form sendResponse because controlId matches current message"),te.setSendResponse(re))};return console.log(" About to register message update callback"),console.log(" messageUpdateService:",Ba),Ba.registerUpdateCallback(se),console.log(" Message update callback registered"),()=>{S(),k(),X(),K(),console.log("Unregistering message update callback"),Ba.unregisterUpdateCallback(se)}},[]);const c=async S=>{const k=S.target.value;te.setSampleId(k),setTimeout(async()=>{k.trim()===te.getState().sampleId&&(k.trim()?await b(k):(te.setMessage(null),te.clearEntityInformation(),ne.setFetchingData(!1)))},500)},d=S=>{te.setSelectedHost(S.target.value)},f=S=>{te.setSelectedType(S.target.value)},p=S=>{te.setSelectedStatus(S.target.value)},u=S=>{te.setPatientInfo(S)},m=S=>{te.setPhysicianInfo(S)},h=S=>{te.setPathologistInfo(S)},y=S=>{te.setTechnicianInfo(S)},w=S=>{te.setSelectedSpecimen(S)},v=S=>{te.setSelectedBlock(S)},g=S=>{te.setSelectedSlide(S)},x=(S,k)=>{te.setSelectedEntity(S,k)},b=async S=>{if(!S){ne.setFetchingData(!1);return}try{ne.setFetchingData(!0),ne.clearError();const k=await Gr.fetchMessageData(S);te.setMessage(k)}catch(k){console.error("Error fetching data:",k),ne.setError("Error al obtener los datos. Por favor intente nuevamente.")}finally{ne.setFetchingData(!1)}},E=async()=>{const S=te.getState();if(!S.sampleId||!S.selectedType){te.setGeneratedMessage("Por favor, completa todos los campos.");return}if(S.selectedHost==="LIS"&&S.selectedType==="DELETE_SPECIMEN"&&!S.selectedSpecimen||S.selectedHost==="UPATH_CLOUD"&&S.selectedType==="sendReleasedSpecimen"&&!S.selectedSpecimen){te.setGeneratedMessage("Por favor, selecciona un specimen para eliminar.");return}if(S.selectedHost==="LIS"&&S.selectedType==="DELETE_SLIDE"&&!S.selectedSlide||S.selectedHost==="UPATH_CLOUD"&&S.selectedType==="sendScannedSlideImageLabelId"&&!S.selectedSlide||S.selectedHost==="DP600"&&S.selectedType==="sendScannedSlideImageLabelId"&&!S.selectedSlide||S.selectedHost==="DP600"&&S.selectedType==="sendUpdatedSlideStatus"&&!S.selectedSlide||S.selectedHost==="VANTAGE_WS"&&S.selectedType==="ProcessVANTAGEEvent"&&!S.selectedEntity){te.setGeneratedMessage("Por favor, selecciona una entidad para procesar.");return}if(S.selectedHost==="DP600"&&S.selectedType==="sendUpdatedSlideStatus"&&!S.selectedStatus){te.setGeneratedMessage("Por favor, selecciona un status para el slide.");return}try{ne.setGeneratingMessage(!0),ne.clearError(),te.clearSendResponse(),te.updateSelectedSlideWithReagents();const k=It.getHostConfig(S.selectedHost),X=(k==null?void 0:k.name)||S.selectedHost;let K=or.getClientType(S.selectedHost);K||(K=k==null?void 0:k.id),K||(K=S.selectedHost),console.log(`Sending message with hostName: ${X}, hostType: ${K} (from clientType)`);const se=await Gr.generateMessage(S.message,S.selectedType,X,K,te.getShowStatusSelector()?S.selectedStatus:void 0,S.selectedSpecimen||void 0,S.selectedBlock||void 0,S.selectedSlide||void 0,S.selectedEntity||void 0);te.setGeneratedMessage(se.message),te.setCurrentMessageControlId(se.controlId)}catch(k){console.error("Error generating message:",k),ne.setError("Error al generar mensaje. Por favor intente nuevamente."),te.setGeneratedMessage("")}finally{ne.setGeneratingMessage(!1)}},C=async()=>{const S=te.getState();if(!S.generatedMessage||!S.selectedHost||!S.selectedType){ne.setError("No hay mensaje para enviar o faltan datos.");return}try{ne.setSendingMessage(!0),ne.clearError();const k=await Gr.sendMessage({message:S.generatedMessage,hostName:S.selectedHost,messageType:S.selectedType,controlId:S.currentMessageControlId});te.setSendResponse(k),console.log("Mensaje enviado exitosamente")}catch(k){console.error("Error sending message:",k),ne.setError("Error al enviar mensaje. Por favor intente nuevamente.")}finally{ne.setSendingMessage(!1)}},R=()=>{const S=te.getState();S.generatedMessage&&navigator.clipboard.writeText(S.generatedMessage).then(()=>{ne.setMessageCopied(!0)}).catch(k=>{console.error("Error al copiar: ",k)})},I=S=>{te.setGeneratedMessage(S)},P=()=>{const S=te.getState();if(!S.generatedMessage||!S.selectedHost||!S.selectedType){ne.setError("No hay mensaje para guardar o faltan datos.");return}ge.addMessage(S.generatedMessage,S.selectedHost,S.selectedType,S.currentMessageControlId),ne.setMessageSaved(!0),Me.showSuccess("Mensaje guardado exitosamente")},O=S=>{$e.removeMessage(S)},D=async()=>{try{ne.setClearingAll(!0),await Gr.deleteAllMessages(),$e.clearAllResponses(),Me.showSuccess("Deleted all messages from monitoring. All acks deleted successfully")}catch(S){console.error("Error calling deleteAll endpoint:",S),$e.clearAllResponses(),Me.showWarning("Ack deleted (Server error)")}finally{ne.setClearingAll(!1)}},$=S=>{$e.clearMessageResponses(S),Me.showInfo("All messages deleted successfully")},_=(S,k)=>{$e.reorderMessages(S,k)},H=async S=>{try{const k=await $e.sendMessage(S);console.log("Mensaje guardado enviado exitosamente:",k)}catch(k){console.error("Error sending saved message:",k),ne.setError("Error al enviar mensaje guardado.")}},B=async()=>{if(s.length===0){ne.setError("No hay mensajes guardados para enviar.");return}try{ne.setSendingAll(!0),ne.clearError();for(const S of s)await H(S);console.log("Todos los mensajes enviados exitosamente")}catch(S){console.error("Error sending all messages:",S),ne.setError("Error al enviar todos los mensajes.")}finally{ne.setSendingAll(!1)}},z=(S,k)=>{const X=k.map(K=>({message:K,receiveTime:new Date().toISOString()}));$e.updateMessageResponses(S,X)},A=(S,k)=>{$e.updateMessageContent(S,k),Me.showSuccess("Mensaje actualizado exitosamente")},N=(S,k)=>{$e.updateMessageComment(S,k),Me.showSuccess("Comentario actualizado exitosamente")},T=(S,k)=>{$e.updateMessageControlId(S,k),Me.showSuccess("Control ID actualizado exitosamente")},L=()=>{try{const S=$e.exportMessages(),k=new Blob([S],{type:"application/json"}),X=URL.createObjectURL(k),K=document.createElement("a");K.href=X,K.download=`saved-messages-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(X),Me.showSuccess("Mensajes exportados exitosamente")}catch(S){console.error("Error exporting messages:",S),Me.showError("Error al exportar mensajes")}},G=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=k=>{var K;const X=(K=k.target.files)==null?void 0:K[0];if(X){const se=new FileReader;se.onload=le=>{var re;try{const Re=(re=le.target)==null?void 0:re.result,je=$e.importMessages(Re);je.success?Me.showSuccess(je.message):Me.showError(je.message)}catch(Re){console.error("Error importing messages:",Re),Me.showError("Error al importar mensajes")}},se.readAsText(X)}},S.click()},M=te.getShowSpecimenSelector(),q=te.getShowBlockSelector(),W=te.getShowSlideSelector(),J=te.getShowEntitySelector(),Q=te.getShowStatusSelector(),ee=te.isGenerateButtonDisabled(e.isFetchingData,e.isGeneratingMessage);return{message:r.message,sampleId:r.sampleId,selectedHost:r.selectedHost,selectedType:r.selectedType,selectedStatus:r.selectedStatus,generatedMessage:r.generatedMessage,patientInfo:r.patientInfo,physicianInfo:r.physicianInfo,pathologistInfo:r.pathologistInfo,technicianInfo:r.technicianInfo,selectedSpecimen:r.selectedSpecimen,selectedBlock:r.selectedBlock,selectedSlide:r.selectedSlide,selectedEntity:r.selectedEntity,sendResponse:r.sendResponse,messageCopied:e.messageCopied,isPatientModalOpen:e.isPatientModalOpen,isPhysicianModalOpen:e.isPhysicianModalOpen,isPathologistModalOpen:e.isPathologistModalOpen,isHierarchyModalOpen:e.isHierarchyModalOpen,isFetchingData:e.isFetchingData,isGeneratingMessage:e.isGeneratingMessage,isSendingMessage:e.isSendingMessage,error:e.error,isTechnicianModalOpen:e.isTechnicianModalOpen,isSpecimenSelectorModalOpen:e.isSpecimenSelectorModalOpen,isBlockSelectorModalOpen:e.isBlockSelectorModalOpen,isSlideSelectorModalOpen:e.isSlideSelectorModalOpen,isEntitySelectorModalOpen:e.isEntitySelectorModalOpen,isSidebarOpen:e.isSidebarOpen,isServerSidebarOpen:e.isServerSidebarOpen,isSendingAll:e.isSendingAll,isClearingAll:e.isClearingAll,isMessageSaved:e.isMessageSaved,hosts:te.hosts,isLoadingHosts:te.isLoadingHosts,messageTypes:r.messageTypes,showSpecimenSelector:M,showBlockSelector:q,showSlideSelector:W,showEntitySelector:J,showStatusSelector:Q,generateButtonDisabled:ee,savedMessages:s,snackbar:a,closeSnackbar:()=>Me.close(),handleSampleIdChange:c,handleHostChange:d,handleTypeChange:f,handleStatusChange:p,handlePatientInfoSave:u,handlePhysicianInfoSave:m,handlePathologistInfoSave:h,handleTechnicianInfoSave:y,handleSpecimenSelect:w,handleBlockSelect:v,handleSlideSelect:g,handleEntitySelect:x,togglePatientModal:()=>ne.togglePatientModal(),togglePhysicianModal:()=>ne.togglePhysicianModal(),togglePathologistModal:()=>ne.togglePathologistModal(),toggleHierarchyModal:()=>ne.toggleHierarchyModal(),toggleTechnicianModal:()=>ne.toggleTechnicianModal(),toggleSpecimenSelectorModal:()=>ne.toggleSpecimenSelectorModal(),toggleBlockSelectorModal:()=>ne.toggleBlockSelectorModal(),toggleSlideSelectorModal:()=>ne.toggleSlideSelectorModal(),toggleEntitySelectorModal:()=>ne.toggleEntitySelectorModal(),toggleSidebar:()=>ne.toggleSidebar(),toggleServerSidebar:()=>ne.toggleServerSidebar(),generateMessage:E,sendMessage:C,copyToClipboard:R,updateGeneratedMessage:I,saveMessageToSidebar:P,removeSavedMessage:O,clearAllResponses:D,clearMessageResponses:$,reorderSavedMessages:_,sendSavedMessage:H,sendAllSavedMessages:B,updateMessageResponses:z,updateMessageContent:A,updateMessageComment:N,updateMessageControlId:T,exportMessages:L,importMessages:G}},bN=({isSidebarOpen:e,isServerSidebarOpen:t,isMessageSaved:r,onToggleSidebar:n,onToggleServerSidebar:s,children:i})=>o.jsx("div",{className:"flex min-h-screen bg-gray-100",children:o.jsx("div",{className:`flex-1 transition-all duration-300 ${e?"mr-96":""} ${t?"ml-96":""}`,children:o.jsxs("div",{className:"max-w-4xl mx-auto my-8 p-8 bg-white rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Message Generator"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:s,className:`p-2 rounded-lg transition-colors ${t?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,title:"Server Management",children:o.jsx(Ex,{size:24})}),o.jsx("button",{onClick:n,className:`p-2 rounded-lg transition-colors ${r?"bg-green-600 text-white hover:bg-green-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,title:"Saved Messages",children:o.jsx(ax,{size:24})})]})]}),i]})})}),SN=({sampleId:e,isFetchingData:t,handleSampleIdChange:r,togglePatientModal:n,togglePhysicianModal:s,togglePathologistModal:i,toggleTechnicianModal:a,toggleHierarchyModal:l})=>o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{htmlFor:"sampleId",className:"block text-sm font-medium text-gray-700",children:"Sample ID"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:n,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-100 text-blue-700 hover:bg-blue-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Patient"]}),o.jsxs("button",{onClick:s,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-100 text-green-700 hover:bg-green-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Physician"]}),o.jsxs("button",{onClick:i,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-purple-100 text-purple-700 hover:bg-purple-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Pathologist"]}),o.jsxs("button",{onClick:a,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-pink-100 text-pink-700 hover:bg-pink-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Technician"]}),o.jsxs("button",{onClick:l,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-amber-100 text-amber-700 hover:bg-amber-200"} rounded-md transition-colors text-sm`,children:[o.jsx(Hm,{className:"h-4 w-4 mr-1"}),"Edit Hierarchy"]})]})]}),o.jsx("input",{type:"text",id:"sampleId",value:e,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Insert Sample ID"}),t&&o.jsxs("div",{className:"mt-2 flex items-center text-sm text-blue-600",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})]}),wN=({selectedHost:e,selectedType:t,selectedStatus:r,messageTypes:n,hosts:s,isLoadingHosts:i,handleHostChange:a,handleTypeChange:l,handleStatusChange:c,toggleSpecimenSelectorModal:d,toggleBlockSelectorModal:f,toggleSlideSelectorModal:p,toggleEntitySelectorModal:u,showSpecimenSelector:m,showBlockSelector:h,showSlideSelector:y,showEntitySelector:w,showStatusSelector:v,message:g,selectedSpecimen:x,selectedBlock:b,selectedSlide:E,selectedEntity:C})=>{const R=It.getStatusOptions(e,t);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"hostType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Host"}),"        ",o.jsxs("select",{id:"hostType",value:e,onChange:a,disabled:i,className:`w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all ${i?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("option",{value:"",children:i?"Loading hosts...":"Select a host"}),s.map(I=>o.jsx("option",{value:I.id,children:I.name},I.id))]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("label",{htmlFor:"messageType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("select",{id:"messageType",value:t,onChange:l,disabled:!e,className:`flex-grow px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all ${e?"":"cursor-not-allowed bg-gray-100"}`,children:[o.jsx("option",{value:"",children:"Select type"}),n.map(I=>o.jsx("option",{value:I.id,children:I.name},I.id))]}),v&&o.jsx("select",{id:"statusSelector",value:r,onChange:c,className:"w-1/3 px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all",children:R.map(I=>o.jsx("option",{value:I.id,children:I.name},I.id))}),m&&o.jsxs("button",{onClick:d,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-amber-500 text-white hover:bg-amber-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Specimen"}),x&&o.jsx("span",{className:"ml-1 font-bold",children:""})]}),h&&o.jsxs("button",{onClick:f,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Block"}),b&&o.jsx("span",{className:"ml-1 font-bold",children:""})]}),y&&!w&&o.jsxs("button",{onClick:p,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Slide"}),E&&o.jsx("span",{className:"ml-1 font-bold",children:""})]}),w&&o.jsxs("button",{onClick:u,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Entity"}),C&&o.jsx("span",{className:"ml-1 font-bold",children:""})]})]}),!e&&o.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"First select a host"}),m&&x&&o.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-amber-800",children:["Specimen selected: ",o.jsx("span",{className:"font-semibold",children:x.id})]})}),h&&b&&o.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-amber-800",children:["Block selected: ",o.jsx("span",{className:"font-semibold",children:b.id})]})}),y&&E&&!w&&o.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:["Slide selected: ",o.jsx("span",{className:"font-semibold",children:E.id})]})}),w&&C&&o.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-800",children:[C.type," selected: ",o.jsx("span",{className:"font-semibold",children:C.id})]})}),v&&o.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-800",children:["Status selected: ",o.jsx("span",{className:"font-semibold",children:r})]})})]})]})},NN=({generateMessage:e,isGeneratingMessage:t,disabled:r})=>o.jsx("button",{onClick:e,disabled:r,className:`w-full py-3 px-6 rounded-lg text-lg font-medium transition-colors ${r?"bg-gray-400 text-white cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:t?"Generating...":"Generate Message"}),EN=({message:e,onSave:t,onCancel:r})=>{const[n,s]=j.useState(e);j.useEffect(()=>{s(e)},[e]);const i=()=>{t(n)};return o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Editar Mensaje:"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1 rounded border text-green-600 hover:text-green-800 border-green-300 hover:border-green-500 transition-colors",children:[o.jsx(Ro,{size:16}),"Guardar"]}),o.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1 rounded border text-red-600 hover:text-red-800 border-red-300 hover:border-red-500 transition-colors",children:[o.jsx(jt,{size:16}),"Cancelar"]})]})]}),o.jsx("textarea",{value:n,onChange:a=>s(a.target.value),className:"w-full h-96 p-4 border border-gray-300 rounded-lg font-mono text-sm resize-vertical focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Edita tu mensaje aqu..."})]})},CN=({generatedMessage:e,messageCopied:t,copyToClipboard:r,onSendMessage:n,isSendingMessage:s,onMessageUpdate:i,onSaveMessage:a})=>{const[l,c]=j.useState(!1);if(!e)return null;const d=u=>{i(u),c(!1)},f=()=>{c(!1)},p=()=>{c(!l)};return o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Mensaje Generado:"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:r,className:"text-indigo-600 hover:text-indigo-800 flex items-center px-3 py-1 rounded border border-indigo-300 hover:border-indigo-500 transition-colors",children:t?"Copied!":"Copy"}),o.jsxs("button",{onClick:p,className:"text-blue-600 hover:text-blue-800 flex items-center gap-2 px-3 py-1 rounded border border-blue-300 hover:border-blue-500 transition-colors",children:[o.jsx(Nn,{size:16}),l?"Vista previa":"Editar"]}),o.jsxs("button",{onClick:a,className:"text-purple-600 hover:text-purple-800 flex items-center gap-2 px-3 py-1 rounded border border-purple-300 hover:border-purple-500 transition-colors",children:[o.jsx(Ro,{size:16}),"Guardar"]}),o.jsxs("button",{onClick:n,disabled:s,className:`flex items-center gap-2 px-3 py-1 rounded border transition-colors ${s?"bg-gray-400 text-white border-gray-400 cursor-not-allowed":"text-green-600 hover:text-green-800 border-green-300 hover:border-green-500"}`,children:[o.jsx(_m,{size:16}),s?"Sending...":"Send"]})]})]}),l?o.jsx(EN,{message:e,onSave:d,onCancel:f}):o.jsx("div",{className:"relative",children:o.jsx("pre",{className:"bg-gray-50 p-6 rounded-lg overflow-auto max-h-[400px] text-sm whitespace-pre-wrap shadow-inner border border-gray-200",children:e})})]})},jN=({sendResponse:e})=>{if(!e||e.length===0)return null;const t=n=>mo(n.message),r=n=>new Date(n).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:"mt-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:["Respuesta",e.length>1?"s":""," del Servidor:"]}),"      ",o.jsx("div",{className:"space-y-3",children:e.map((n,s)=>{const i=t(n),a=Jo(n.message);return o.jsxs("div",{className:`p-4 rounded-lg border ${i?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex gap-2",children:[e.length>1&&o.jsxs("div",{className:`text-xs font-semibold ${i?"text-red-600":"text-green-600"}`,children:["Respuesta #",s+1]}),o.jsx("div",{className:`text-xs px-2 py-1 rounded ${a.format==="json"?"bg-blue-100 text-blue-700":a.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:a.format.toUpperCase()}),i&&o.jsx("div",{className:"text-xs px-2 py-1 rounded bg-red-100 text-red-700",children:"ERROR"})]}),o.jsxs("div",{className:`text-xs ${i?"text-red-500":"text-green-500"}`,children:["Recibido: ",r(n.receiveTime)]})]}),i&&a.errorDetails&&o.jsxs("div",{className:"mb-3 p-3 bg-red-100 border border-red-200 rounded",children:[o.jsx("div",{className:"text-xs font-semibold text-red-700 mb-1",children:"Detalle del Error:"}),o.jsx("div",{className:"text-sm text-red-800",children:a.errorDetails})]}),o.jsx("pre",{className:`text-sm whitespace-pre-wrap font-mono ${i?"text-red-800":"text-green-800"}`,children:a.content})]},s)})})]})},kN=({sampleId:e,selectedHost:t,selectedType:r,selectedStatus:n,generatedMessage:s,messageCopied:i,isFetchingData:a,isGeneratingMessage:l,isSendingMessage:c,generateButtonDisabled:d,messageTypes:f,hosts:p,isLoadingHosts:u,selectedSpecimen:m,selectedBlock:h,selectedSlide:y,selectedEntity:w,showSpecimenSelector:v,showBlockSelector:g,showSlideSelector:x,showEntitySelector:b,showStatusSelector:E,message:C,sendResponse:R,error:I,handleSampleIdChange:P,handleHostChange:O,handleTypeChange:D,handleStatusChange:$,togglePatientModal:_,togglePhysicianModal:H,togglePathologistModal:B,toggleTechnicianModal:z,toggleHierarchyModal:A,toggleSpecimenSelectorModal:N,toggleBlockSelectorModal:T,toggleSlideSelectorModal:L,toggleEntitySelectorModal:G,generateMessage:M,sendMessage:q,copyToClipboard:W,updateGeneratedMessage:J,saveMessageToSidebar:Q})=>o.jsxs(o.Fragment,{children:[o.jsx(SN,{sampleId:e,isFetchingData:a,handleSampleIdChange:P,togglePatientModal:_,togglePhysicianModal:H,togglePathologistModal:B,toggleTechnicianModal:z,toggleHierarchyModal:A}),o.jsx(wN,{selectedHost:t,selectedType:r,selectedStatus:n,messageTypes:f,hosts:p,isLoadingHosts:u,handleHostChange:O,handleTypeChange:D,handleStatusChange:$,toggleSpecimenSelectorModal:N,toggleBlockSelectorModal:T,toggleSlideSelectorModal:L,toggleEntitySelectorModal:G,showSpecimenSelector:v,showBlockSelector:g,showSlideSelector:x,showEntitySelector:b,showStatusSelector:E,message:C,selectedSpecimen:m,selectedSlide:y,selectedBlock:h,selectedEntity:w}),o.jsx(NN,{generateMessage:M,isGeneratingMessage:l,disabled:d}),I&&o.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:I}),o.jsx(CN,{generatedMessage:s,messageCopied:i,copyToClipboard:W,onSendMessage:q,isSendingMessage:c,onMessageUpdate:J,onSaveMessage:Q}),o.jsx(jN,{sendResponse:R})]}),DN=({isOpen:e,onClose:t,patientInfo:r,onSave:n})=>{const[s,i]=j.useState({code:"",firstName:"",lastName:"",middleName:"",suffix:"",secondSurname:"",dateOfBirth:"",sex:"M",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:"",orders:{orderList:[]}});j.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",suffix:r.suffix||"",secondSurname:r.secondSurname||"",dateOfBirth:r.dateOfBirth||"",sex:r.sex||"M",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||"",orders:r.orders||{orderList:[]}})},[r]);const a=c=>{const{name:d,value:f}=c.target;i(p=>({...p,[d]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Paciente"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sex",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sexo"}),o.jsxs("select",{id:"sex",name:"sex",value:s.sex,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[o.jsx("option",{value:"M",children:"Masculino"}),o.jsx("option",{value:"F",children:"Femenino"}),o.jsx("option",{value:"O",children:"Otro"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Nacimiento (AAAAMMDD)"}),o.jsx("input",{type:"text",id:"dateOfBirth",name:"dateOfBirth",value:s.dateOfBirth,onChange:a,placeholder:"AAAAMMDD",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},IN=({isOpen:e,onClose:t,physicianInfo:r,onSave:n})=>{const[s,i]=j.useState({code:"",firstName:"",lastName:"",middleName:"",prefix:"",suffix:"",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:""});j.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",prefix:r.prefix||"",suffix:r.suffix||"",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||""})},[r]);const a=c=>{const{name:d,value:f}=c.target;i(p=>({...p,[d]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Mdico"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"prefix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefijo"}),o.jsx("input",{type:"text",id:"prefix",name:"prefix",value:s.prefix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"suffix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sufijo"}),o.jsx("input",{type:"text",id:"suffix",name:"suffix",value:s.suffix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},TN=({isOpen:e,onClose:t,pathologistInfo:r,onSave:n})=>{const[s,i]=j.useState({code:"",firstName:"",lastName:"",middleName:"",prefix:"",suffix:"",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:""});j.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",prefix:r.prefix||"",suffix:r.suffix||"",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||""})},[r]);const a=c=>{const{name:d,value:f}=c.target;i(p=>({...p,[d]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Patlogo"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"prefix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefijo"}),o.jsx("input",{type:"text",id:"prefix",name:"prefix",value:s.prefix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"suffix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sufijo"}),o.jsx("input",{type:"text",id:"suffix",name:"suffix",value:s.suffix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},RN=({isOpen:e,onClose:t,technicianInfo:r,onSave:n})=>{const[s,i]=j.useState({code:"",firstName:"",lastName:"",middleName:""});j.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||""})},[r]);const a=c=>{const{name:d,value:f}=c.target;i(p=>({...p,[d]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Tcnico"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},MN=({specimen:e,onClose:t,onSave:r})=>{var u,m,h,y,w,v,g,x,b,E,C,R,I,P,O,D,$;const[n,s]=j.useState({...e}),[i,a]=j.useState({type:"GROSSDESCRIPTION",value:""}),l=_=>{const{name:H,value:B}=_.target;if(H==="id")s({...n,id:B,externalId:B});else if(H.startsWith("procedure.")){const z=H.split(".")[1],A=H.split(".")[2];n.procedure||(n.procedure={}),A?(n.procedure[z]||(n.procedure[z]={}),n.procedure[z][A]=B):n.procedure[z]=B,s({...n})}else s({...n,[H]:B})},c=_=>{const{name:H,value:B}=_.target;a({...i,[H]:B})},d=()=>{if(!i.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const _={type:i.type,value:i.value,artifact:"SPECIMEN"};i.type==="QUALITYISSUE"&&i.optionalValue&&(_.optionalType="RESOLUTION",_.optionalValue=i.optionalValue),n.supplementalInfos.supplementalInfoList.push(_),a({type:"GROSSDESCRIPTION",value:""}),s({...n})},f=_=>{var H;(H=n.supplementalInfos)!=null&&H.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(_,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,s({...n}))},p=_=>{_.preventDefault(),r(n)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-2xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Edit Specimen"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(jt,{size:24})})]}),o.jsxs("form",{onSubmit:p,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),o.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),o.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Tissue Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsx("input",{type:"text",name:"procedure.tissue.type",value:((m=(u=n.procedure)==null?void 0:u.tissue)==null?void 0:m.type)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"procedure.tissue.description",value:((y=(h=n.procedure)==null?void 0:h.tissue)==null?void 0:y.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subtype"}),o.jsx("input",{type:"text",name:"procedure.tissue.subtype",value:((v=(w=n.procedure)==null?void 0:w.tissue)==null?void 0:v.subtype)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subtype Description"}),o.jsx("input",{type:"text",name:"procedure.tissue.subtypeDescription",value:((x=(g=n.procedure)==null?void 0:g.tissue)==null?void 0:x.subtypeDescription)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Surgical Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"procedure.surgical.name",value:((E=(b=n.procedure)==null?void 0:b.surgical)==null?void 0:E.name)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"procedure.surgical.description",value:((R=(C=n.procedure)==null?void 0:C.surgical)==null?void 0:R.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Anatomic Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Site"}),o.jsx("input",{type:"text",name:"procedure.anatomic.site",value:((P=(I=n.procedure)==null?void 0:I.anatomic)==null?void 0:P.site)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"procedure.anatomic.description",value:((D=(O=n.procedure)==null?void 0:O.anatomic)==null?void 0:D.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),(($=n.supplementalInfos)==null?void 0:$.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((_,H)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("span",{className:"font-medium mr-2",children:[_.type,":"]}),o.jsx("span",{children:_.value})]}),o.jsx("button",{type:"button",onClick:()=>f(H),className:"text-red-500 hover:text-red-700",children:o.jsx(xr,{size:16})})]},`suppl-${H}`))]}),o.jsxs("div",{className:"border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),o.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsxs("select",{name:"type",value:i.type,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),o.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),o.jsx("option",{value:"RECUT",children:"RECUT"}),o.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),o.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),o.jsx("input",{type:"text",name:"value",value:i.value,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs("button",{type:"button",onClick:d,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[o.jsx(vr,{size:16,className:"mr-1"}),"Add"]})})]}),i.type==="QUALITYISSUE"&&o.jsx("div",{className:"mt-3 grid grid-cols-5 gap-3",children:o.jsxs("div",{className:"col-span-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),o.jsx("input",{type:"text",name:"optionalValue",value:i.optionalValue||"",onChange:c,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},PN=({block:e,onClose:t,onSave:r})=>{var u;const[n,s]=j.useState({...e}),[i,a]=j.useState({type:"GROSSDESCRIPTION",value:""}),l=m=>{const{name:h,value:y}=m.target;s(h==="id"?{...n,id:y,externalId:y}:{...n,[h]:y})},c=m=>{const{name:h,value:y}=m.target;a({...i,[h]:y})},d=()=>{if(!i.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const m={type:i.type,value:i.value,artifact:"BLOCK"};i.type==="QUALITYISSUE"&&i.optionalValue&&(m.optionalType="RESOLUTION",m.optionalValue=i.optionalValue),n.supplementalInfos.supplementalInfoList.push(m),a({type:"GROSSDESCRIPTION",value:""}),s({...n})},f=m=>{var h;(h=n.supplementalInfos)!=null&&h.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(m,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,s({...n}))},p=m=>{m.preventDefault(),r(n)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Edit Block"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(jt,{size:24})})]}),o.jsxs("form",{onSubmit:p,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),o.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),o.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),((u=n.supplementalInfos)==null?void 0:u.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((m,h)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("span",{className:"font-medium mr-2",children:[m.type,":"]}),o.jsx("span",{children:m.value})]}),o.jsx("button",{type:"button",onClick:()=>f(h),className:"text-red-500 hover:text-red-700",children:o.jsx(xr,{size:16})})]},`suppl-${h}`))]}),o.jsxs("div",{className:"border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsxs("select",{name:"type",value:i.type,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),o.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),o.jsx("option",{value:"RECUT",children:"RECUT"}),o.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),o.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),o.jsx("input",{type:"text",name:"value",value:i.value,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),i.type==="QUALITYISSUE"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),o.jsx("input",{type:"text",name:"optionalValue",value:i.optionalValue||"",onChange:c,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("button",{type:"button",onClick:d,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[o.jsx(vr,{size:16,className:"mr-1"}),"Add Information"]})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},ON=({slide:e,onClose:t,onSave:r})=>{var R,I,P,O,D,$,_,H,B,z,A;const[n,s]=j.useState({...e}),[i,a]=j.useState({type:"GROSSDESCRIPTION",value:""}),[l,c]=j.useState(!1),[d,f]=j.useState(null),[p,u]=j.useState({substanceName:"UV INHIBITOR",substanceOtherName:"Other substance Name",substanceType:"ANTIBODY",manufacturer:"Ventana Medical Systems",lotNumber:"1236",lotSerialNumber:"56251",catalogNumber:"228664",intendedUseFlag:"K510",expirationDateTime:"2016-09-02T12:00",receivedDateTime:"2015-09-02T12:00"}),m=()=>({substanceName:"UV INHIBITOR",substanceOtherName:"Other substance Name",substanceType:"ANTIBODY",manufacturer:"Ventana Medical Systems",lotNumber:"1236",lotSerialNumber:"56251",catalogNumber:"228664",intendedUseFlag:"K510",expirationDateTime:"2016-09-02T12:00",receivedDateTime:"2015-09-02T12:00"}),h=N=>{const{name:T,value:L}=N.target;if(T==="id")s({...n,id:L,externalId:L});else if(T.startsWith("stainProtocol.")){const G=T.split(".")[1];n.stainProtocol||(n.stainProtocol={}),n.stainProtocol[G]=L,s({...n})}else if(T.startsWith("control.")){const G=T.split(".")[1];n.control||(n.control={}),n.control[G]=L,s({...n})}else s(T==="isRescanned"?{...n,isRescanned:L==="true"}:{...n,[T]:L})},y=N=>{const{name:T,value:L}=N.target;a({...i,[T]:L})},w=()=>{if(!i.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const N={type:i.type,value:i.value,artifact:"SLIDE"};i.type==="QUALITYISSUE"&&i.optionalValue&&(N.optionalType="RESOLUTION",N.optionalValue=i.optionalValue),n.supplementalInfos.supplementalInfoList.push(N),a({type:"GROSSDESCRIPTION",value:""}),s({...n})},v=N=>{var T;(T=n.supplementalInfos)!=null&&T.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(N,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,s({...n}))},g=()=>{var T;if(!((T=p.substanceName)!=null&&T.trim()))return;const N={substanceName:p.substanceName,substanceOtherName:p.substanceOtherName||"",substanceType:p.substanceType||"",manufacturer:p.manufacturer||"",lotNumber:p.lotNumber||"",lotSerialNumber:p.lotSerialNumber||"",catalogNumber:p.catalogNumber||"",intendedUseFlag:p.intendedUseFlag||"",expirationDateTime:p.expirationDateTime||"",receivedDateTime:p.receivedDateTime||""};n.reagents||(n.reagents=[]),n.reagents.push(N),u(m()),s({...n}),c(!1)},x=N=>{var L;const T=(L=n.reagents)==null?void 0:L[N];T&&(u({substanceName:T.substanceName||"",substanceOtherName:T.substanceOtherName||"",substanceType:T.substanceType||"",manufacturer:T.manufacturer||"",lotNumber:T.lotNumber||"",lotSerialNumber:T.lotSerialNumber||"",catalogNumber:T.catalogNumber||"",intendedUseFlag:T.intendedUseFlag||"",expirationDateTime:T.expirationDateTime||"",receivedDateTime:T.receivedDateTime||""}),f(N),c(!0))},b=()=>{var T;if(!((T=p.substanceName)!=null&&T.trim())||d===null)return;const N={substanceName:p.substanceName,substanceOtherName:p.substanceOtherName||"",substanceType:p.substanceType||"",manufacturer:p.manufacturer||"",lotNumber:p.lotNumber||"",lotSerialNumber:p.lotSerialNumber||"",catalogNumber:p.catalogNumber||"",intendedUseFlag:p.intendedUseFlag||"",expirationDateTime:p.expirationDateTime||"",receivedDateTime:p.receivedDateTime||""};n.reagents&&d<n.reagents.length&&(n.reagents[d]=N),u(m()),f(null),s({...n}),c(!1)},E=N=>{n.reagents&&(n.reagents.splice(N,1),n.reagents.length===0&&delete n.reagents,s({...n}))},C=N=>{N.preventDefault(),r(n)};return o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:[o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-2xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Edit Slide"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(jt,{size:24})})]}),o.jsxs("form",{onSubmit:C,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),o.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),o.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Stain Protocol"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"stainProtocol.name",value:((R=n.stainProtocol)==null?void 0:R.name)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Number"}),o.jsx("input",{type:"text",name:"stainProtocol.number",value:((I=n.stainProtocol)==null?void 0:I.number)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Identifier"}),o.jsx("input",{type:"text",name:"stainProtocol.identifier",value:((P=n.stainProtocol)==null?void 0:P.identifier)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"stainProtocol.description",value:((O=n.stainProtocol)==null?void 0:O.description)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Control"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"control.name",value:((D=n.control)==null?void 0:D.name)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"control.description",value:(($=n.control)==null?void 0:$.description)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scoring"}),o.jsx("input",{type:"text",name:"control.scoring",value:((_=n.control)==null?void 0:_.scoring)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Clone"}),o.jsx("input",{type:"text",name:"control.clone",value:((H=n.control)==null?void 0:H.clone)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vendor"}),o.jsx("input",{type:"text",name:"control.vendor",value:((B=n.control)==null?void 0:B.vendor)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Additional Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Is Rescanned"}),o.jsxs("select",{name:"isRescanned",value:n.isRescanned?"true":"false",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"false",children:"No"}),o.jsx("option",{value:"true",children:"Yes"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Label Printed"}),o.jsx("input",{type:"text",name:"labelPrinted",value:n.labelPrinted||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rescan Comment"}),o.jsx("input",{type:"text",name:"rescanComment",value:n.rescanComment||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Reagents"}),n.reagents&&n.reagents.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Current Reagents"}),n.reagents.map((N,T)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx("span",{className:"font-medium mr-2",children:N.substanceName}),N.manufacturer&&o.jsxs("span",{className:"text-sm text-gray-600",children:["(",N.manufacturer,")"]}),N.lotNumber&&o.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Lot: ",N.lotNumber]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>x(T),className:"text-blue-500 hover:text-blue-700 px-2 py-1 text-sm border border-blue-500 rounded hover:bg-blue-50",children:"Change"}),o.jsx("button",{type:"button",onClick:()=>E(T),className:"text-red-500 hover:text-red-700",children:o.jsx(xr,{size:16})})]})]},`reagent-${T}`))]}),o.jsx("div",{className:"mb-4",children:o.jsxs("button",{type:"button",onClick:()=>{u(m()),f(null),c(!0)},className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center",children:[o.jsx(vr,{size:16,className:"mr-1"}),"Add Reagent"]})}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),((z=n.supplementalInfos)==null?void 0:z.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((N,T)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("span",{className:"font-medium mr-2",children:[N.type,":"]}),o.jsx("span",{children:N.value})]}),o.jsx("button",{type:"button",onClick:()=>v(T),className:"text-red-500 hover:text-red-700",children:o.jsx(xr,{size:16})})]},`suppl-${T}`))]}),o.jsxs("div",{className:"border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsxs("select",{name:"type",value:i.type,onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),o.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),o.jsx("option",{value:"RECUT",children:"RECUT"}),o.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),o.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),o.jsx("input",{type:"text",name:"value",value:i.value,onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs("button",{type:"button",onClick:w,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[o.jsx(vr,{size:16,className:"mr-1"}),"Add"]})})]}),i.type==="QUALITYISSUE"&&o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),o.jsx("input",{type:"text",name:"optionalValue",value:i.optionalValue||"",onChange:y,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]}),l&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-lg max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold",children:d!==null?"Edit Reagent":"Add Reagent"}),o.jsx("button",{onClick:()=>{c(!1),u(m()),f(null)},className:"text-gray-500 hover:text-gray-700",children:o.jsx(jt,{size:20})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Substance Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:p.substanceName||"",onChange:N=>u({...p,substanceName:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Hematoxylin & Eosin"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Substance Other Name"}),o.jsx("input",{type:"text",value:p.substanceOtherName||"",onChange:N=>u({...p,substanceOtherName:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Substance Type"}),o.jsx("input",{type:"text",value:p.substanceType||"",onChange:N=>u({...p,substanceType:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Manufacturer"}),o.jsx("input",{type:"text",value:p.manufacturer||"",onChange:N=>u({...p,manufacturer:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lot Number"}),o.jsx("input",{type:"text",value:p.lotNumber||"",onChange:N=>u({...p,lotNumber:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lot Serial Number"}),o.jsx("input",{type:"text",value:p.lotSerialNumber||"",onChange:N=>u({...p,lotSerialNumber:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catalog Number"}),o.jsx("input",{type:"text",value:p.catalogNumber||"",onChange:N=>u({...p,catalogNumber:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Intended Use Flag"}),o.jsx("input",{type:"text",value:p.intendedUseFlag||"",onChange:N=>u({...p,intendedUseFlag:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expiration Date/Time"}),o.jsx("input",{type:"datetime-local",value:p.expirationDateTime||"",onChange:N=>u({...p,expirationDateTime:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Received Date/Time"}),o.jsx("input",{type:"datetime-local",value:p.receivedDateTime||"",onChange:N=>u({...p,receivedDateTime:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{c(!1),u(m()),f(null)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:d!==null?b:g,disabled:!((A=p.substanceName)!=null&&A.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:d!==null?"Update Reagent":"Add Reagent"})]})]})})]})},LN=({isOpen:e,onClose:t,message:r})=>{var P,O,D,$,_,H,B;const[n,s]=j.useState({}),[i,a]=j.useState({}),[l,c]=j.useState({}),[d,f]=j.useState(null),[p,u]=j.useState(null),[m,h]=j.useState(null);if(!e||!r)return null;const y=(D=(O=(P=r.patient)==null?void 0:P.orders)==null?void 0:O.orderList)==null?void 0:D[0];if(!y)return null;const w=z=>{s({...n,[z]:!n[z]})},v=(z,A)=>{const N=`${z}-${A}`;a({...i,[N]:!i[N]})},g=z=>{if(/^\d+$/.test(z))return String(parseInt(z)+1);if(/^[A-Za-z]$/.test(z)){const A=z.charCodeAt(0);return String.fromCharCode(A+1)}return`${z}-new`},x=()=>{var W,J,Q,ee,S;if(!((W=y.specimens)!=null&&W.specimenList))return;const z=y.specimens.specimenList[y.specimens.specimenList.length-1],A=g(z.sequence),N=z.id.replace(/([^;]+)$/,A),T={...JSON.parse(JSON.stringify(z)),id:N,sequence:A,externalId:N,blocks:{blockList:[]}},L=(Q=(J=z.blocks)==null?void 0:J.blockList)==null?void 0:Q[z.blocks.blockList.length-1],G={...JSON.parse(JSON.stringify(L)),id:N+";1",sequence:1,externalId:N+";1",slides:{slideList:[]}},M=(S=(ee=L==null?void 0:L.slides)==null?void 0:ee.slideList)==null?void 0:S[L.slides.slideList.length-1],q={...JSON.parse(JSON.stringify(M)),id:N+";1;1",sequence:1,externalId:N+";1;1"};G.slides.slideList.push(q),T.blocks.blockList.push(G),y.specimens.specimenList.push(T),s({...n})},b=z=>{var W,J,Q,ee,S;const A=(J=(W=y.specimens)==null?void 0:W.specimenList)==null?void 0:J[z];if(!A||!((Q=A.blocks)!=null&&Q.blockList))return;const N=A.blocks.blockList[A.blocks.blockList.length-1],T=g(N.sequence),L=N.id.replace(/(.*);(\d+)$/,`$1;${T}`),G={...JSON.parse(JSON.stringify(N)),id:L,sequence:T,externalId:L,slides:{slideList:[]}},M=(S=(ee=N==null?void 0:N.slides)==null?void 0:ee.slideList)==null?void 0:S[N.slides.slideList.length-1],q={...JSON.parse(JSON.stringify(M)),id:L+";1",sequence:1,externalId:L+";1"};G.slides.slideList.push(q),A.blocks.blockList.push(G),a({...i})},E=(z,A)=>{var W,J,Q,ee,S;const N=(J=(W=y.specimens)==null?void 0:W.specimenList)==null?void 0:J[z],T=(ee=(Q=N==null?void 0:N.blocks)==null?void 0:Q.blockList)==null?void 0:ee[A];if(!T||!((S=T.slides)!=null&&S.slideList))return;const L=T.slides.slideList[T.slides.slideList.length-1],G=g(L.sequence),M=L.id.replace(/(.*);(\d+)$/,`$1;${G}`),q={...JSON.parse(JSON.stringify(L)),id:M,sequence:G,externalId:M};T.slides.slideList.push(q),c({...l})},C=z=>{var A;(A=y.specimens)!=null&&A.specimenList&&(y.specimens.specimenList.splice(z,1),s({...n}))},R=(z,A)=>{var T,L,G;const N=(L=(T=y.specimens)==null?void 0:T.specimenList)==null?void 0:L[z];!N||!((G=N.blocks)!=null&&G.blockList)||(N.blocks.blockList.splice(A,1),a({...i}))},I=(z,A,N)=>{var G,M,q,W,J;const T=(M=(G=y.specimens)==null?void 0:G.specimenList)==null?void 0:M[z],L=(W=(q=T==null?void 0:T.blocks)==null?void 0:q.blockList)==null?void 0:W[A];!L||!((J=L.slides)!=null&&J.slideList)||(L.slides.slideList.splice(N,1),c({...l}))};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Order Hierarchy"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:[o.jsx(Hm,{className:"mr-2",size:20}),"Order: ",y.sampleId||"No ID"]}),(_=($=y.specimens)==null?void 0:$.specimenList)==null?void 0:_.map((z,A)=>{var N,T,L,G;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>w(A),children:[n[A]?o.jsx(Er,{className:"mr-1 text-gray-600",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",z.id||"No ID"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>f({specimen:z,index:A}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit specimen",children:o.jsx(Nn,{size:16})}),o.jsx("button",{onClick:()=>C(A),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete specimen",children:o.jsx(xr,{size:16})})]})]}),n[A]&&o.jsxs(o.Fragment,{children:[(T=(N=z.blocks)==null?void 0:N.blockList)==null?void 0:T.map((M,q)=>{var W,J,Q,ee;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"font-medium text-gray-700 flex items-center cursor-pointer flex-grow",onClick:()=>v(A,q),children:[i[`${A}-${q}`]?o.jsx(Er,{className:"mr-1 text-gray-500",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-500",size:16}),"Block: ",M.id||"No ID"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>u({block:M,specimenIndex:A,blockIndex:q}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit block",children:o.jsx(Nn,{size:16})}),o.jsx("button",{onClick:()=>R(A,q),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete block",children:o.jsx(xr,{size:16})})]})]}),i[`${A}-${q}`]&&o.jsxs(o.Fragment,{children:[(J=(W=M.slides)==null?void 0:W.slideList)==null?void 0:J.map((S,k)=>o.jsx("div",{className:"ml-6 mt-1 border-l-2 pl-4 border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"text-gray-600 flex-grow",children:["Slide: ",S.id||"No ID"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>h({slide:S,specimenIndex:A,blockIndex:q,slideIndex:k}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit slide",children:o.jsx(Nn,{size:16})}),o.jsx("button",{onClick:()=>I(A,q,k),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete slide",children:o.jsx(xr,{size:16})})]})]})},`slide-${k}`)),(((ee=(Q=M.slides)==null?void 0:Q.slideList)==null?void 0:ee.length)||0)>0&&o.jsx("div",{className:"ml-6 mt-2",children:o.jsxs("button",{onClick:()=>E(A,q),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[o.jsx(vr,{size:14,className:"mr-1"}),"Add Slide"]})})]})]},`block-${q}`)}),(((G=(L=z.blocks)==null?void 0:L.blockList)==null?void 0:G.length)||0)>0&&o.jsx("div",{className:"ml-6 mt-3",children:o.jsxs("button",{onClick:()=>b(A),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[o.jsx(vr,{size:14,className:"mr-1"}),"Add Block"]})})]})]},`specimen-${A}`)}),(((B=(H=y.specimens)==null?void 0:H.specimenList)==null?void 0:B.length)||0)>0&&o.jsx("div",{className:"ml-6 mt-4",children:o.jsxs("button",{onClick:x,className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[o.jsx(vr,{size:14,className:"mr-1"}),"Add Specimen"]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Close"})}),d&&o.jsx(MN,{specimen:d.specimen,onClose:()=>f(null),onSave:z=>{var A;(A=y.specimens)!=null&&A.specimenList&&(y.specimens.specimenList[d.index]=z,f(null),s({...n}))}}),p&&o.jsx(PN,{block:p.block,onClose:()=>u(null),onSave:z=>{var N,T,L;const A=(T=(N=y.specimens)==null?void 0:N.specimenList)==null?void 0:T[p.specimenIndex];A&&((L=A.blocks)!=null&&L.blockList)&&(A.blocks.blockList[p.blockIndex]=z,u(null),a({...i}))}}),m&&o.jsx(ON,{slide:m.slide,onClose:()=>h(null),onSave:z=>{var T,L,G,M,q;const A=(L=(T=y.specimens)==null?void 0:T.specimenList)==null?void 0:L[m.specimenIndex],N=(M=(G=A==null?void 0:A.blocks)==null?void 0:G.blockList)==null?void 0:M[m.blockIndex];N&&((q=N.slides)!=null&&q.slideList)&&(N.slides.slideList[m.slideIndex]=z,h(null),c({...l}))}})]})})},AN=({isPatientModalOpen:e,isPhysicianModalOpen:t,isPathologistModalOpen:r,isHierarchyModalOpen:n,isTechnicianModalOpen:s,patientInfo:i,physicianInfo:a,pathologistInfo:l,technicianInfo:c,message:d,togglePatientModal:f,togglePhysicianModal:p,togglePathologistModal:u,toggleHierarchyModal:m,toggleTechnicianModal:h,handlePatientInfoSave:y,handlePhysicianInfoSave:w,handlePathologistInfoSave:v,handleTechnicianInfoSave:g})=>o.jsxs(o.Fragment,{children:[o.jsx(DN,{isOpen:e,onClose:f,patientInfo:i,onSave:y}),o.jsx(IN,{isOpen:t,onClose:p,physicianInfo:a,onSave:w}),o.jsx(TN,{isOpen:r,onClose:u,pathologistInfo:l,onSave:v}),o.jsx(LN,{isOpen:n,onClose:m,message:d}),o.jsx(RN,{isOpen:s,onClose:h,technicianInfo:c,onSave:g})]}),BN=({isOpen:e,onClose:t,message:r,onSelectSpecimen:n})=>{var d,f,p,u,m;const[s,i]=j.useState({});if(!e||!r)return null;const a=(p=(f=(d=r.patient)==null?void 0:d.orders)==null?void 0:f.orderList)==null?void 0:p[0];if(!a)return null;const l=h=>{i({...s,[h]:!s[h]})},c=h=>{n(h),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select a Specimen"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",a.sampleId||"No ID"]}),(m=(u=a.specimens)==null?void 0:u.specimenList)==null?void 0:m.map((h,y)=>o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>l(y),children:[s[y]?o.jsx(Er,{className:"mr-1 text-gray-600",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",h.id||"No ID"]}),o.jsx("button",{onClick:()=>c(h),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),s[y]&&o.jsxs("div",{className:"ml-6 mt-2 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"ID:"})," ",h.id]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Sequence:"})," ",h.sequence]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Entity Name:"})," ",h.entityName]}),h.externalId&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"External ID:"})," ",h.externalId]})]})]},`specimen-${y}`))]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},FN=({isOpen:e,onClose:t,message:r,onSelectBlock:n})=>{var d,f,p,u,m;const[s,i]=j.useState({});if(j.useEffect(()=>{var h,y,w,v;if(r){const g=(w=(y=(h=r.patient)==null?void 0:h.orders)==null?void 0:y.orderList)==null?void 0:w[0];if((v=g==null?void 0:g.specimens)!=null&&v.specimenList){const x=g.specimens.specimenList.reduce((b,E,C)=>(b[C]=!0,b),{});i(x)}}},[e]),!e||!r)return null;const a=(p=(f=(d=r.patient)==null?void 0:d.orders)==null?void 0:f.orderList)==null?void 0:p[0];if(!a)return console.log("No order found in message"),null;const l=h=>{i({...s,[h]:!s[h]})},c=h=>{console.log("Selected block:",h),n(h),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select a Block"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",a.sampleId||"No ID"]}),(m=(u=a.specimens)==null?void 0:u.specimenList)==null?void 0:m.map((h,y)=>{var w,v;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>l(y),children:[s[y]?o.jsx(Er,{className:"mr-1 text-gray-600",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",h.id||"No ID"]})}),s[y]&&((v=(w=h.blocks)==null?void 0:w.blockList)==null?void 0:v.map((g,x)=>o.jsx("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Block: ",g.id||"No ID"]}),o.jsx("button",{onClick:()=>c(g),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]})},`block-${x}`)))]},`specimen-${y}`)})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},$N=({isOpen:e,onClose:t,message:r,onSelectSlide:n})=>{var u,m,h,y,w;const[s,i]=j.useState({}),[a,l]=j.useState({});if(j.useEffect(()=>{var v,g,x,b;if(r){const E=(x=(g=(v=r.patient)==null?void 0:v.orders)==null?void 0:g.orderList)==null?void 0:x[0];if((b=E==null?void 0:E.specimens)!=null&&b.specimenList){const C=E.specimens.specimenList.reduce((I,P,O)=>(I[O]=!0,I),{}),R=E.specimens.specimenList.reduce((I,P)=>{var O,D;return(D=(O=P.blocks)==null?void 0:O.blockList)==null||D.forEach($=>{I[$.id]=!0}),I},{});i(C),l(R)}}},[e]),!e||!r)return null;const c=(h=(m=(u=r.patient)==null?void 0:u.orders)==null?void 0:m.orderList)==null?void 0:h[0];if(!c)return console.log("No order found in message"),null;const d=v=>{i({...s,[v]:!s[v]})},f=v=>{l({...a,[v]:!a[v]})},p=v=>{console.log("Selected slide:",v),n(v),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select a Slide"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",c.sampleId||"No ID"]}),(w=(y=c.specimens)==null?void 0:y.specimenList)==null?void 0:w.map((v,g)=>{var x,b;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>d(g),children:[s[g]?o.jsx(Er,{className:"mr-1 text-gray-600",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",v.id||"No ID"]})}),s[g]&&((b=(x=v.blocks)==null?void 0:x.blockList)==null?void 0:b.map((E,C)=>{var R,I;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>f(E.id),children:[a[E.id]?o.jsx(Er,{className:"mr-1 text-gray-600",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-600",size:16}),"Block: ",E.id||"No ID"]})}),a[E.id]&&((I=(R=E.slides)==null?void 0:R.slideList)==null?void 0:I.map((P,O)=>{var D;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-blue-100",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Slide: ",P.id||"No ID"]}),o.jsx("button",{onClick:()=>p(P),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),o.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[o.jsxs("p",{children:["Sequence: ",P.sequence]}),((D=P.stainProtocol)==null?void 0:D.name)&&o.jsxs("p",{children:["Stain: ",P.stainProtocol.name]})]})]},`slide-${O}`)}))]},`block-${C}`)}))]},`specimen-${g}`)})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},zN=({isOpen:e,onClose:t,message:r,onSelectEntity:n})=>{var p,u,m,h,y,w,v,g,x;const[s,i]=j.useState("orders");if(j.useEffect(()=>{var b,E,C,R;if(r){const I=(C=(E=(b=r.patient)==null?void 0:b.orders)==null?void 0:E.orderList)==null?void 0:C[0];(R=I==null?void 0:I.specimens)!=null&&R.specimenList}},[e,r]),!e||!r)return null;const a=(m=(u=(p=r.patient)==null?void 0:p.orders)==null?void 0:u.orderList)==null?void 0:m[0];if(!a)return null;const l=b=>{n("Specimen",b),t()},c=b=>{n("Block",b),t()},d=b=>{n("Slide",b),t()},f=b=>{n("Order",b),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select an Entity"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),"        ",o.jsxs("div",{className:"flex border-b border-gray-200 mb-4",children:[o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="orders"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("orders"),children:"Orders"}),o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="specimens"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("specimens"),children:"Specimens"}),o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="blocks"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("blocks"),children:"Blocks"}),o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="slides"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("slides"),children:"Slides"})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:["          ",o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",a.sampleId||"No ID"]}),s==="orders"&&o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-purple-300",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-medium flex items-center cursor-pointer flex-grow",children:o.jsxs("span",{children:["Order: ",a.sampleId||"No ID"]})}),o.jsx("button",{onClick:()=>f(a),className:"ml-2 px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors text-sm",children:"Select"})]}),o.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Sample ID:"})," ",a.sampleId]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Entity Name:"})," ",a.entityName]}),a.extSampleId&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"External Sample ID:"})," ",a.extSampleId]}),a.status&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Status:"})," ",a.status]}),a.workFlow&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Workflow:"})," ",a.workFlow]})]})]}),s==="specimens"&&((y=(h=a.specimens)==null?void 0:h.specimenList)==null?void 0:y.map((b,E)=>o.jsx("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-medium flex items-center cursor-pointer flex-grow",children:o.jsxs("span",{children:["Specimen: ",b.id||"No ID"]})}),o.jsx("button",{onClick:()=>l(b),className:"ml-2 px-3 py-1 bg-amber-500 text-white rounded hover:bg-amber-600 transition-colors text-sm",children:"Select"})]})},`specimen-${E}`))),s==="blocks"&&((v=(w=a.specimens)==null?void 0:w.specimenList)==null?void 0:v.map((b,E)=>{var C,R;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsxs("div",{className:"font-medium",children:["Specimen: ",b.id||"No ID"]}),(R=(C=b.blocks)==null?void 0:C.blockList)==null?void 0:R.map((I,P)=>o.jsx("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Block: ",I.id||"No ID"]}),o.jsx("button",{onClick:()=>c(I),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]})},`block-${P}`))]},`specimen-blocks-${E}`)})),s==="slides"&&((x=(g=a.specimens)==null?void 0:g.specimenList)==null?void 0:x.map((b,E)=>{var C,R;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:["              ",o.jsxs("div",{className:"font-medium",children:["Specimen: ",b.id||"No ID"]}),(R=(C=b.blocks)==null?void 0:C.blockList)==null?void 0:R.map((I,P)=>{var O,D;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Block: ",I.id||"No ID"]}),(D=(O=I.slides)==null?void 0:O.slideList)==null?void 0:D.map(($,_)=>{var H;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-blue-100",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Slide: ",$.id||"No ID"]}),o.jsx("button",{onClick:()=>d($),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),o.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[o.jsxs("p",{children:["Sequence: ",$.sequence]}),((H=$.stainProtocol)==null?void 0:H.name)&&o.jsxs("p",{children:["Stain: ",$.stainProtocol.name]})]})]},`slide-${_}`)})]},`block-slides-${P}`)})]},`specimen-slides-${E}`)}))]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},UN=({isSpecimenSelectorModalOpen:e,isBlockSelectorModalOpen:t,isSlideSelectorModalOpen:r,isEntitySelectorModalOpen:n,message:s,toggleSpecimenSelectorModal:i,toggleBlockSelectorModal:a,toggleSlideSelectorModal:l,toggleEntitySelectorModal:c,handleSpecimenSelect:d,handleBlockSelect:f,handleSlideSelect:p,handleEntitySelect:u})=>o.jsxs(o.Fragment,{children:[o.jsx(BN,{isOpen:e,onClose:i,message:s,onSelectSpecimen:d}),o.jsx(FN,{isOpen:t,onClose:a,message:s,onSelectBlock:f}),o.jsx($N,{isOpen:r,onClose:l,message:s,onSelectSlide:p}),o.jsx(zN,{isOpen:n,onClose:c,message:s,onSelectEntity:u})]}),HN=({message:e,type:t,isVisible:r,onClose:n,duration:s=1500})=>{if(j.useEffect(()=>{if(r&&s>0){const d=setTimeout(()=>{n()},s);return()=>clearTimeout(d)}},[r,s,n]),!r)return null;const i=()=>{switch(t){case"success":return{bg:"bg-green-500",text:"text-white",icon:o.jsx(Ll,{size:20})};case"error":return{bg:"bg-red-500",text:"text-white",icon:o.jsx(rs,{size:20})};case"warning":return{bg:"bg-yellow-500",text:"text-white",icon:o.jsx(zm,{size:20})};case"info":return{bg:"bg-blue-500",text:"text-white",icon:o.jsx(Od,{size:20})};default:return{bg:"bg-gray-500",text:"text-white",icon:o.jsx(Od,{size:20})}}},{bg:a,text:l,icon:c}=i();return o.jsxs("div",{className:`fixed top-4 right-4 ${a} ${l} px-4 py-3 rounded-lg shadow-lg z-50 flex items-center gap-3 max-w-md transform transition-all duration-300 ease-in-out ${r?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:[c,o.jsx("span",{className:"flex-1 text-sm font-medium",children:e}),o.jsx("button",{onClick:n,className:`${l} hover:opacity-70 transition-opacity`,children:o.jsx(jt,{size:16})})]})},_N=({isSidebarOpen:e,snackbar:t,onToggleSidebar:r,onCloseSnackbar:n})=>{const[s,i]=j.useState(!1),[a,l]=j.useState(null),[c,d]=j.useState(!1),[f,p]=j.useState(null),u=x=>{l(x),i(!0)},m=()=>{i(!1),l(null)},h=x=>{p(x),d(!0)},y=(x,b)=>{ge.updateMessageContent(x,b),d(!1),p(null)},w=(x,b)=>{ge.updateMessageComment(x,b)},v=(x,b)=>{ge.updateMessageControlId(x,b)},g=()=>{d(!1),p(null)};return o.jsxs(o.Fragment,{children:[o.jsx(gN,{isOpen:e,onClose:r,onMessageClick:u,onEditMessage:h}),o.jsx(hN,{isOpen:s,onClose:m,message:a}),o.jsx(vN,{isOpen:c,onClose:g,message:f,onSave:y,onSaveComment:w,onSaveControlId:v}),o.jsx(HN,{message:t.message,type:t.type,isVisible:t.isVisible,onClose:n})]})},dh=e=>{var t;return((t=e.responses)==null?void 0:t.find(r=>r.isDefault))||null},Ql=e=>{const t=dh(e);return(t==null?void 0:t.applicationResponse)||{isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}},Yl=e=>{const t=dh(e);return(t==null?void 0:t.communicationResponse)||{isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}},Cp="http://localhost:8085/api/hosts";class GN{constructor(){me(this,"cachedServers",[])}async getServers(){try{console.log("Fetching servers from backend...");const t=await fetch(`${Cp}/servers`);if(!t.ok){let s=`HTTP ${t.status}: ${t.statusText}`;try{const i=await t.text();i&&(s+=` - ${i}`)}catch{}throw new Error(s)}const r=await t.json();console.log("Received servers from backend:",r);const n=r.map(s=>({...s,applicationResponse:Ql(s),communicationResponse:Yl(s)}));return this.cachedServers=n,n}catch(t){throw console.error("Error fetching servers:",t),t}}getCachedServers(){return this.cachedServers}async toggleServer(t){try{console.log("Toggling server:",t);const n=(await this.getServers()).find(i=>(i.serverName||i.name||i.hostName)===t);if(!n)throw new Error(`Server not found: ${t}`);const s={serverName:n.serverName,isRunning:!n.isRunning,applicationResponse:n.applicationResponse,communicationResponse:n.communicationResponse};return await this.modifyServer(s)}catch(r){throw console.error("Error toggling server:",r),r}}async modifyServer(t){var r,n,s,i,a,l,c,d,f,p,u,m,h,y;try{let w=[];t.responses?w=t.responses:(t.applicationResponse||t.communicationResponse)&&(w=[{messageType:"ACK",isDefault:!0,applicationResponse:{isEnable:((r=t.applicationResponse)==null?void 0:r.isEnable)||!1,isError:((n=t.applicationResponse)==null?void 0:n.isError)||!1,errorText:((s=t.applicationResponse)==null?void 0:s.errorText)||"",customResponse:{useCustomResponse:((a=(i=t.applicationResponse)==null?void 0:i.customResponse)==null?void 0:a.enabled)||!1,customResponseText:((c=(l=t.applicationResponse)==null?void 0:l.customResponse)==null?void 0:c.text)||""}},communicationResponse:{isEnable:((d=t.communicationResponse)==null?void 0:d.isEnable)||!1,isError:((f=t.communicationResponse)==null?void 0:f.isError)||!1,errorText:((p=t.communicationResponse)==null?void 0:p.errorText)||"",customResponse:{useCustomResponse:((m=(u=t.communicationResponse)==null?void 0:u.customResponse)==null?void 0:m.enabled)||!1,customResponseText:((y=(h=t.communicationResponse)==null?void 0:h.customResponse)==null?void 0:y.text)||""}}}]);const v={serverName:t.serverName,isRunning:t.isRunning||!1,responses:w,hostType:t.hostType||"",location:t.location||""};console.log(" Sending to backend:",v);const g=await fetch(`${Cp}/servers/modifyServer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const x=await g.json();console.log("Server modified successfully:",x);const b={...x,applicationResponse:Ql(x),communicationResponse:Yl(x)},E=this.cachedServers.findIndex(C=>(C.serverName||C.name||C.hostName)===t.serverName);return E>=0&&(this.cachedServers[E]=b),b}catch(w){throw console.error("Error modifying server:",w),w}}clearCache(){this.cachedServers=[]}}const Fa=new GN,WN=({server:e,isOpen:t,onClose:r,onSave:n})=>{var I,P,O,D,$,_,H,B,z,A,N,T,L,G;const[s,i]=j.useState([]),[a,l]=j.useState(0),[c,d]=j.useState(!1),[f,p]=j.useState(null),[u,m]=j.useState({isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}),[h,y]=j.useState({isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}),w=M=>M?!["VSS","VIRTUOSO","DP"].includes(M.toUpperCase()):!0;j.useEffect(()=>{var M,q,W,J,Q,ee;if(e){if(console.log(" Initializing modal with server data:",e),console.log(" Server responses from backend:",e.responses),e.responses&&e.responses.length>0){const S=e.responses.map(K=>{var se,le,re,Re,je,ke,de,We,kt,Tr,Zs,zn,wu,Nu;return{messageType:K.messageType,isDefault:K.isDefault,applicationResponse:{isEnable:((se=K.applicationResponse)==null?void 0:se.isEnable)||!1,isError:((le=K.applicationResponse)==null?void 0:le.isError)||!1,errorText:((re=K.applicationResponse)==null?void 0:re.errorText)||"",customResponse:{enabled:((je=(Re=K.applicationResponse)==null?void 0:Re.customResponse)==null?void 0:je.useCustomResponse)||!1,text:((de=(ke=K.applicationResponse)==null?void 0:ke.customResponse)==null?void 0:de.customResponseText)||""}},communicationResponse:{isEnable:((We=K.communicationResponse)==null?void 0:We.isEnable)||!1,isError:((kt=K.communicationResponse)==null?void 0:kt.isError)||!1,errorText:((Tr=K.communicationResponse)==null?void 0:Tr.errorText)||"",customResponse:{enabled:((zn=(Zs=K.communicationResponse)==null?void 0:Zs.customResponse)==null?void 0:zn.useCustomResponse)||!1,text:((Nu=(wu=K.communicationResponse)==null?void 0:wu.customResponse)==null?void 0:Nu.customResponseText)||""}}}});i(S);const k=S.findIndex(K=>K.isDefault),X=k!==-1?k:0;if(l(X),S.length>0){const K=S[X],se={...K.applicationResponse};w(e.hostType)||(se.isEnable=!1,se.isError=!1,se.errorText="",se.customResponse={enabled:!1,text:((M=se.customResponse)==null?void 0:M.text)||""}),m(se),y(K.communicationResponse)}}else{console.log(" ApplicationResponse from backend:",e.applicationResponse),console.log(" CommunicationResponse from backend:",e.communicationResponse);const S=Ql(e),k=Yl(e),X={isEnable:S.isEnable||!1,isError:S.isError||!1,errorText:S.errorText||"",customResponse:{enabled:((q=S.customResponse)==null?void 0:q.useCustomResponse)||!1,text:((W=S.customResponse)==null?void 0:W.customResponseText)||""}};w(e.hostType)||(X.isEnable=!1,X.isError=!1,X.errorText="",X.customResponse={enabled:!1,text:((J=X.customResponse)==null?void 0:J.text)||""}),m(X);const K={isEnable:k.isEnable||!1,isError:k.isError||!1,errorText:k.errorText||"",customResponse:{enabled:((Q=k.customResponse)==null?void 0:Q.useCustomResponse)||!1,text:((ee=k.customResponse)==null?void 0:ee.customResponseText)||""}};y(K),i([{messageType:"Default",isDefault:!0,applicationResponse:X,communicationResponse:K}]),l(0)}p(null),console.log(" Modal initialization complete")}},[e]);const v=async()=>{var M,q,W,J,Q,ee;if(e){d(!0),p(null);try{const S=[...s];S[a]&&(S[a]={...S[a],applicationResponse:{isEnable:u.isEnable,isError:u.isError,errorText:u.errorText,customResponse:(M=u.customResponse)!=null&&M.enabled?{useCustomResponse:!0,customResponseText:((q=u.customResponse)==null?void 0:q.text)||""}:{useCustomResponse:!1,customResponseText:((W=u.customResponse)==null?void 0:W.text)||""}},communicationResponse:{isEnable:h.isEnable,isError:h.isError,errorText:h.errorText,customResponse:(J=h.customResponse)!=null&&J.enabled?{useCustomResponse:!0,customResponseText:((Q=h.customResponse)==null?void 0:Q.text)||""}:{useCustomResponse:!1,customResponseText:((ee=h.customResponse)==null?void 0:ee.text)||""}}});const k={serverName:e.serverName,isRunning:e.isRunning,responses:S,applicationResponse:u,communicationResponse:h};console.log(" Saving server data:",k),await n(k),r()}catch(S){p(S instanceof Error?S.message:"Error saving server configuration")}finally{d(!1)}}},g=(M,q,W,J=!1)=>{var Q,ee;if(!(J&&W==="isEnable"&&!M[W]&&!w(e==null?void 0:e.hostType))){if(W==="isEnable"&&!M[W])q({...M,isEnable:!0,isError:!1,errorText:"",customResponse:M.customResponse||{enabled:!1,text:""}});else if(W==="isEnable"&&M[W])q({...M,isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:((Q=M.customResponse)==null?void 0:Q.text)||""}});else if(W==="isError"&&M.isEnable){const S=!M[W];q({...M,isError:S,errorText:S&&M.errorText||"",customResponse:S?{enabled:!1,text:((ee=M.customResponse)==null?void 0:ee.text)||""}:M.customResponse||{enabled:!1,text:""}})}}},x=(M,q,W)=>{q({...M,errorText:W})},b=(M,q)=>{var W,J;if(M.isEnable&&!M.isError){const Q=((W=M.customResponse)==null?void 0:W.enabled)||!1,ee=((J=M.customResponse)==null?void 0:J.text)||"";console.log(" Toggling customResponse:",{isCurrentlyEnabled:Q,currentText:ee,willBeEnabled:!Q}),q({...M,customResponse:{enabled:!Q,text:ee},isError:Q?M.isError:!1,errorText:Q?M.errorText:""})}},E=(M,q,W)=>{var J,Q,ee;console.log(" Updating customResponse text:",{currentEnabled:(J=M.customResponse)==null?void 0:J.enabled,currentText:(Q=M.customResponse)==null?void 0:Q.text,newText:W}),q({...M,customResponse:{enabled:((ee=M.customResponse)==null?void 0:ee.enabled)||!1,text:W}})},C=M=>{if(!M)return M;const q=M.split(/(\*originalControlId\*|\*controlId\*)/g);return o.jsx(o.Fragment,{children:q.map((W,J)=>W==="*originalControlId*"||W==="*controlId*"?o.jsx("span",{className:"bg-yellow-200 text-yellow-800 font-semibold px-1 rounded",children:W},J):o.jsx("span",{children:W},J))})},R=M=>!!(M&&(M.includes("*originalControlId*")||M.includes("*controlId*")));return!t||!e?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Edit Server: ",e.serverName||e.name||"Unknown"]}),o.jsx("button",{onClick:r,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:o.jsx(jt,{size:20})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Response to Edit:"}),o.jsx("select",{value:a,onChange:M=>{var J;const q=parseInt(M.target.value);l(q);const W=s[q];if(W){let Q={...W.applicationResponse},ee={...W.communicationResponse};if(!W.isDefault){const S=s.find(k=>k.isDefault);if(S){Q={...S.applicationResponse},ee={...S.communicationResponse};const k=[...s];k[q]={...k[q],applicationResponse:Q,communicationResponse:ee},i(k)}}w(e.hostType)||(Q.isEnable=!1,Q.isError=!1,Q.errorText="",Q.customResponse={enabled:!1,text:((J=Q.customResponse)==null?void 0:J.text)||""}),m(Q),y(ee)}},className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:s.map((M,q)=>o.jsxs("option",{value:q,children:[M.messageType," ",M.isDefault?"(Default)":""]},q))}),s[a]&&o.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Editing: ",o.jsx("span",{className:"font-medium",children:s[a].messageType}),s[a].isDefault&&o.jsx("span",{className:"text-blue-600 font-medium",children:" (Default Response)"})]})]}),f&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zm,{size:16,className:"text-red-600 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-red-700",children:f})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-medium text-gray-700",children:"Application Response"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:u.isEnable||!1,disabled:!w(e==null?void 0:e.hostType),onChange:()=>g(u,m,"isEnable",!0),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsxs("span",{className:`text-sm ${w(e==null?void 0:e.hostType)?"text-gray-600":"text-gray-400"}`,children:["Enabled ",!w(e==null?void 0:e.hostType)&&o.jsxs("span",{className:"text-xs text-red-500",children:["(Restricted for WS Host with ",e==null?void 0:e.hostType," type)"]})]})]}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:u.isError||!1,disabled:!u.isEnable,onChange:()=>g(u,m,"isError",!0),className:"w-4 h-4 text-red-600 rounded border-gray-300 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${u.isEnable?"text-gray-600":"text-gray-400"}`,children:"Has Error"})]}),u.isError&&u.isEnable&&o.jsx("div",{className:"ml-7 mt-2",children:o.jsx("input",{type:"text",placeholder:"Enter error description...",value:u.errorText||"",onChange:M=>x(u,m,M.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:((I=u.customResponse)==null?void 0:I.enabled)||!1,disabled:!u.isEnable||u.isError,onChange:()=>b(u,m),className:"w-4 h-4 text-green-600 rounded border-gray-300 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${u.isEnable&&!u.isError?"text-gray-600":"text-gray-400"}`,children:"Custom Response"})]}),((P=u.customResponse)==null?void 0:P.enabled)&&u.isEnable&&!u.isError&&o.jsxs("div",{className:"ml-7 mt-2",children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Custom Response Message:"}),o.jsx("div",{className:"relative",children:o.jsx("textarea",{placeholder:"Enter custom response (e.g., HL7 ACK message)...",value:((O=u.customResponse)==null?void 0:O.text)||"",onChange:M=>E(u,m,M.target.value),rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono resize-vertical min-h-[100px]",style:{background:R(((D=u.customResponse)==null?void 0:D.text)||"")?"linear-gradient(90deg, rgba(254, 249, 195, 0.3) 0%, rgba(254, 249, 195, 0.1) 100%)":"white"}})}),R((($=u.customResponse)==null?void 0:$.text)||"")&&o.jsx("div",{className:"flex items-center justify-end mt-1",children:o.jsx("div",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full font-medium border border-yellow-200",children:" Dynamic ID detected"})}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Tip: Use ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*originalControlId*"})," and ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*controlId*"})," as placeholders for dynamic message ID replacement"]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-medium text-gray-700",children:"Communication Response"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:h.isEnable||!1,onChange:()=>g(h,y,"isEnable",!1),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Enabled"})]}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:h.isError||!1,disabled:!h.isEnable,onChange:()=>g(h,y,"isError",!1),className:"w-4 h-4 text-red-600 rounded border-gray-300 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${h.isEnable?"text-gray-600":"text-gray-400"}`,children:"Has Error"})]}),h.isError&&h.isEnable&&o.jsx("div",{className:"ml-7 mt-2",children:o.jsx("input",{type:"text",placeholder:"Enter error description...",value:h.errorText||"",onChange:M=>x(h,y,M.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:((_=h.customResponse)==null?void 0:_.enabled)||!1,disabled:!h.isEnable||h.isError,onChange:()=>b(h,y),className:"w-4 h-4 text-green-600 rounded border-gray-300 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${h.isEnable&&!h.isError?"text-gray-600":"text-gray-400"}`,children:"Custom Response"})]}),((H=h.customResponse)==null?void 0:H.enabled)&&h.isEnable&&!h.isError&&o.jsxs("div",{className:"ml-7 mt-2",children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Custom Response Message:"}),o.jsx("div",{className:"relative",children:o.jsx("textarea",{placeholder:"Enter custom response (e.g., HL7 ACK message)...",value:((B=h.customResponse)==null?void 0:B.text)||"",onChange:M=>E(h,y,M.target.value),rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono resize-vertical min-h-[100px]",style:{background:R(((z=h.customResponse)==null?void 0:z.text)||"")?"linear-gradient(90deg, rgba(254, 249, 195, 0.3) 0%, rgba(254, 249, 195, 0.1) 100%)":"white"}})}),R(((A=h.customResponse)==null?void 0:A.text)||"")&&o.jsx("div",{className:"flex items-center justify-end mt-1",children:o.jsx("div",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full font-medium border border-yellow-200",children:" Dynamic ID detected"})}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Tip: Use ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*originalControlId*"})," and ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*controlId*"})," as placeholders for dynamic message ID replacement"]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-3",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Preview:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-xs font-medium",children:["App: ",u.isError?"":u.isEnable?"":""]}),u.isError&&u.errorText&&o.jsxs("span",{className:"text-red-600 italic text-xs",children:["(",u.errorText,")"]})]}),((N=u.customResponse)==null?void 0:N.enabled)&&((T=u.customResponse)==null?void 0:T.text)&&!u.isError&&o.jsxs("div",{className:"mt-1 p-2 bg-green-50 border border-green-200 rounded text-xs",children:[o.jsx("div",{className:"text-green-700 font-medium mb-1",children:"Custom Response:"}),o.jsx("div",{className:"font-mono text-green-600 break-all whitespace-pre-wrap max-h-20 overflow-y-auto",children:C(u.customResponse.text)})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-xs font-medium",children:["Comm: ",h.isError?"":h.isEnable?"":""]}),h.isError&&h.errorText&&o.jsxs("span",{className:"text-red-600 italic text-xs",children:["(",h.errorText,")"]})]}),((L=h.customResponse)==null?void 0:L.enabled)&&((G=h.customResponse)==null?void 0:G.text)&&!h.isError&&o.jsxs("div",{className:"mt-1 p-2 bg-green-50 border border-green-200 rounded text-xs",children:[o.jsx("div",{className:"text-green-700 font-medium mb-1",children:"Custom Response:"}),o.jsx("div",{className:"font-mono text-green-600 break-all whitespace-pre-wrap max-h-20 overflow-y-auto",children:C(h.customResponse.text)})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[o.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"}),o.jsx("button",{onClick:v,disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ro,{size:16}),o.jsx("span",{children:"Save"})]})})]})]})})},VN=({server:e,isOpen:t,onClose:r})=>{if(!t||!e)return null;const n=e.messages||[],s=e.serverName||e.name||e.hostName||"Unknown Server",i=l=>{if(l.trim().startsWith("<"))try{const d=new DOMParser().parseFromString(l,"text/xml"),f=d.querySelector("Body")||d.querySelector("SOAP-ENV\\:Body");return f&&f.children.length>0?a(f.children[0]):a(d.documentElement)}catch{return l}return l.trim().startsWith("MSH|")?l.includes(`
`)?l:l.split(/(?=[A-Z]{3}\|)/g).join(`
`):l},a=(l,c="")=>{var f,p;let d=c+"<"+l.nodeName;if(l.attributes.length>0)for(let u=0;u<l.attributes.length;u++){const m=l.attributes[u];d+=` ${m.name}="${m.value}"`}if(d+=">",l.childNodes.length===1&&l.childNodes[0].nodeType===3){const u=((f=l.textContent)==null?void 0:f.trim())||"";return d+=u+"</"+l.nodeName+">",d}if(l.children.length>0){d+=`
`;for(let u=0;u<l.children.length;u++)d+=a(l.children[u],c+"     ")+`
`;d+=c+"</"+l.nodeName+">"}else(p=l.textContent)!=null&&p.trim()?d+=l.textContent.trim()+"</"+l.nodeName+">":d+="</"+l.nodeName+">";return d};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full mx-4 max-h-[80vh] flex flex-col",onClick:l=>l.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Mensajes del Servidor"}),o.jsx("p",{className:"text-sm text-gray-600",children:s})]}),o.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Cerrar",children:o.jsx(jt,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:n.length===0?o.jsx("div",{className:"text-center text-gray-500 py-8",children:o.jsx("p",{children:"No hay mensajes para este servidor"})}):o.jsx("div",{className:"space-y-3",children:n.map((l,c)=>{const d=i(l);return o.jsxs("div",{className:"p-4 rounded-lg border bg-blue-50 border-blue-200",children:[n.length>1&&o.jsx("div",{className:"flex justify-between items-start mb-2",children:o.jsxs("div",{className:"text-xs font-semibold text-blue-600",children:["Mensaje #",c+1]})}),o.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap text-blue-800",children:d})]},c)})})}),o.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 bg-gray-50",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Total: ",o.jsx("span",{className:"font-semibold",children:n.length})," mensaje",n.length!==1?"s":""]}),o.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm font-medium",children:"Cerrar"})]})]})})},qN=({isServerSidebarOpen:e,onToggleServerSidebar:t})=>{const[r,n]=j.useState([]),[s,i]=j.useState(!1),[a,l]=j.useState(null),[c,d]=j.useState(new Set),[f,p]=j.useState(!1),[u,m]=j.useState(null),[h,y]=j.useState(!1),[w,v]=j.useState(null),g=async()=>{i(!0),l(null);try{const D=await Fa.getServers();n(D)}catch(D){const $=`Error loading servers: ${D instanceof Error?D.message:"Unknown error"}`;l($),console.error("Error loading servers:",D)}finally{i(!1)}},x=async D=>{d($=>new Set($).add(D));try{const $=await Fa.toggleServer(D);n(_=>_.map(H=>(H.serverName||H.name||H.hostName)===D?$:H))}catch($){console.error("Error toggling server:",$),l(`Error toggling server ${D}`)}finally{d($=>{const _=new Set($);return _.delete(D),_})}};j.useEffect(()=>{e&&g()},[e]);const b=D=>{m(D),p(!0)},E=()=>{p(!1),m(null)},C=async D=>{try{const $=await Fa.modifyServer(D);n(_=>_.map(H=>(H.serverName||H.name)===$.serverName?$:H)),console.log("Server updated successfully:",$)}catch($){throw console.error("Error updating server:",$),$}},R=D=>D.serverName||D.name||D.hostName||D.id||"Unknown Server",I=(D,$)=>{$.stopPropagation(),v(D),y(!0)},P=D=>{var $,_;return D?typeof D=="boolean"?D?o.jsx(Ll,{className:"w-3 h-3 text-green-500"}):o.jsx(rs,{className:"w-3 h-3 text-red-500"}):D.isError?o.jsx(wx,{className:"w-3 h-3 text-yellow-500"}):D.isEnable?($=D.customResponse)!=null&&$.enabled&&((_=D.customResponse)!=null&&_.text)?o.jsx("span",{title:`Custom: ${D.customResponse.text}`,children:o.jsx(hx,{className:"w-3 h-3 text-blue-500"})}):o.jsx(Ll,{className:"w-3 h-3 text-green-500"}):o.jsx(rs,{className:"w-3 h-3 text-red-500"}):o.jsx(rs,{className:"w-3 h-3 text-red-500"})},O=D=>D.applicationResponse!==void 0||D.communicationResponse!==void 0;return e?o.jsxs("div",{className:"fixed left-0 top-0 h-full w-96 bg-white shadow-lg z-50 overflow-y-auto border-r border-gray-200",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Server Management"}),o.jsx("button",{onClick:t,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:o.jsx(jt,{size:20})})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-medium text-gray-700",children:"Server Status"}),o.jsx("button",{onClick:g,disabled:s,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 disabled:opacity-50",title:"Refresh servers",children:o.jsx(Ld,{size:16,className:s?"animate-spin":""})})]}),s&&o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ld,{size:16,className:"animate-spin"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Loading servers..."})]})}),a&&o.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(rs,{size:16,className:"text-red-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-600",children:"Connection Error"}),o.jsx("p",{className:"text-xs text-red-500 mt-1",children:a}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Make sure the backend server is running on port 8085"})]})]})}),!s&&!a&&o.jsx("div",{className:"space-y-2",children:r.length===0?o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-gray-600",children:"No servers found"})}):r.map((D,$)=>{const _=R(D),H=c.has(_);return o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-700",children:_}),O(D)&&o.jsxs("div",{className:"bg-gray-100 rounded-md px-2 py-1 mt-2 inline-flex items-center gap-2",children:[o.jsxs("div",{className:"text-xs text-gray-600 flex items-center gap-1",children:[o.jsx("span",{children:"App:"}),P(D.applicationResponse),o.jsx("span",{children:"|"}),o.jsx("span",{children:"Comm:"}),P(D.communicationResponse)]}),o.jsx("button",{onClick:()=>b(D),className:"p-0.5 rounded text-blue-600 hover:text-blue-700 hover:bg-blue-50 transition-colors",title:"Edit server configuration",children:o.jsx(Nn,{size:12})})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[D.messages&&Array.isArray(D.messages)&&D.messages.length>0&&o.jsx("button",{onClick:B=>I(D,B),className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold hover:bg-blue-600 transition-colors cursor-pointer",title:`Messages: ${D.messages.length}`,children:D.messages.length}),o.jsx("button",{onClick:()=>x(_),disabled:H,className:`
                              relative inline-flex h-4 w-8 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent 
                              transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2
                              ${D.isRunning?"bg-green-500 focus:ring-green-600":"bg-red-500 focus:ring-red-600"}
                              ${H?"opacity-50 cursor-not-allowed":""}
                            `,children:o.jsx("span",{className:`
                                pointer-events-none inline-block h-3 w-3 transform rounded-full bg-white shadow ring-0 
                                transition duration-200 ease-in-out
                                ${D.isRunning?"translate-x-4":"translate-x-0"}
                                ${H?"animate-pulse":""}
                              `})})]})]})},$)})})]})}),o.jsx(WN,{server:u,isOpen:f,onClose:E,onSave:C}),o.jsx(VN,{server:w,isOpen:h,onClose:()=>y(!1)})]}):null},KN=()=>{const e=yN();return o.jsxs(bN,{isSidebarOpen:e.isSidebarOpen,isServerSidebarOpen:e.isServerSidebarOpen,isMessageSaved:e.isMessageSaved,onToggleSidebar:e.toggleSidebar,onToggleServerSidebar:e.toggleServerSidebar,children:[o.jsx(kN,{sampleId:e.sampleId,selectedHost:e.selectedHost,selectedType:e.selectedType,selectedStatus:e.selectedStatus,generatedMessage:e.generatedMessage,messageCopied:e.messageCopied,isFetchingData:e.isFetchingData,isGeneratingMessage:e.isGeneratingMessage,isSendingMessage:e.isSendingMessage,generateButtonDisabled:e.generateButtonDisabled,messageTypes:e.messageTypes,hosts:e.hosts,isLoadingHosts:e.isLoadingHosts,selectedSpecimen:e.selectedSpecimen,selectedBlock:e.selectedBlock,selectedSlide:e.selectedSlide,selectedEntity:e.selectedEntity,showSpecimenSelector:e.showSpecimenSelector,showBlockSelector:e.showBlockSelector,showSlideSelector:e.showSlideSelector,showEntitySelector:e.showEntitySelector,showStatusSelector:e.showStatusSelector,message:e.message,sendResponse:e.sendResponse,error:e.error,handleSampleIdChange:e.handleSampleIdChange,handleHostChange:e.handleHostChange,handleTypeChange:e.handleTypeChange,handleStatusChange:e.handleStatusChange,togglePatientModal:e.togglePatientModal,togglePhysicianModal:e.togglePhysicianModal,togglePathologistModal:e.togglePathologistModal,toggleTechnicianModal:e.toggleTechnicianModal,toggleHierarchyModal:e.toggleHierarchyModal,toggleSpecimenSelectorModal:e.toggleSpecimenSelectorModal,toggleBlockSelectorModal:e.toggleBlockSelectorModal,toggleSlideSelectorModal:e.toggleSlideSelectorModal,toggleEntitySelectorModal:e.toggleEntitySelectorModal,generateMessage:e.generateMessage,sendMessage:e.sendMessage,copyToClipboard:e.copyToClipboard,updateGeneratedMessage:e.updateGeneratedMessage,saveMessageToSidebar:e.saveMessageToSidebar}),o.jsx(AN,{isPatientModalOpen:e.isPatientModalOpen,isPhysicianModalOpen:e.isPhysicianModalOpen,isPathologistModalOpen:e.isPathologistModalOpen,isHierarchyModalOpen:e.isHierarchyModalOpen,isTechnicianModalOpen:e.isTechnicianModalOpen,patientInfo:e.patientInfo,physicianInfo:e.physicianInfo,pathologistInfo:e.pathologistInfo,technicianInfo:e.technicianInfo,message:e.message,togglePatientModal:e.togglePatientModal,togglePhysicianModal:e.togglePhysicianModal,togglePathologistModal:e.togglePathologistModal,toggleHierarchyModal:e.toggleHierarchyModal,toggleTechnicianModal:e.toggleTechnicianModal,handlePatientInfoSave:e.handlePatientInfoSave,handlePhysicianInfoSave:e.handlePhysicianInfoSave,handlePathologistInfoSave:e.handlePathologistInfoSave,handleTechnicianInfoSave:e.handleTechnicianInfoSave}),o.jsx(UN,{isSpecimenSelectorModalOpen:e.isSpecimenSelectorModalOpen,isBlockSelectorModalOpen:e.isBlockSelectorModalOpen,isSlideSelectorModalOpen:e.isSlideSelectorModalOpen,isEntitySelectorModalOpen:e.isEntitySelectorModalOpen,message:e.message,toggleSpecimenSelectorModal:e.toggleSpecimenSelectorModal,toggleBlockSelectorModal:e.toggleBlockSelectorModal,toggleSlideSelectorModal:e.toggleSlideSelectorModal,toggleEntitySelectorModal:e.toggleEntitySelectorModal,handleSpecimenSelect:e.handleSpecimenSelect,handleBlockSelect:e.handleBlockSelect,handleSlideSelect:e.handleSlideSelect,handleEntitySelect:e.handleEntitySelect}),"      ",o.jsx(_N,{isSidebarOpen:e.isSidebarOpen,snackbar:e.snackbar,onToggleSidebar:e.toggleSidebar,onCloseSnackbar:e.closeSnackbar}),o.jsx(qN,{isServerSidebarOpen:e.isServerSidebarOpen,onToggleServerSidebar:e.toggleServerSidebar})]})};function QN(){return o.jsx("div",{className:"min-h-screen bg-gray-100 py-6",children:o.jsx(KN,{})})}const YN=()=>{try{const e=$e.getMessages();if(e.length===0){console.log("No messages to migrate");return}const r=ge.getLists().find(i=>i.name==="Default"||i.name==="Mensajes Migrados");if(r&&r.messages.length>0){console.log("Migration already completed");return}let n=r;n||(n=ge.createList("Mensajes Migrados","Mensajes importados del sistema anterior","#3B82F6"));let s=0;for(const i of e)try{ge.addMessage(i.content,i.host,i.messageType,i.messageControlId,n.id),s++}catch(a){console.error("Error migrating message:",i.id,a)}try{$e.clearAllMessages()}catch(i){console.warn("Could not clear old messages service:",i)}if(console.log(`Successfully migrated ${s} messages to the new lists system`),s>0){const i=document.createElement("div");i.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #10B981;
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 1000;
        font-family: system-ui, -apple-system, sans-serif;
        font-size: 14px;
        max-width: 300px;
      `,i.textContent=` ${s} mensajes migrados al nuevo sistema de listas`,document.body.appendChild(i),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},5e3)}}catch(e){console.error("Error during migration:",e);const t=document.createElement("div");t.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #EF4444;
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 14px;
      max-width: 300px;
    `,t.textContent=" Error al migrar mensajes. Consulta la consola para ms detalles.",document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},5e3)}};YN();$a.createRoot(document.getElementById("root")).render(o.jsx(QN,{}));
