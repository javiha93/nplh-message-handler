var Xg=Object.defineProperty;var Zg=(e,t,r)=>t in e?Xg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ae=(e,t,r)=>(Zg(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function $l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fp={exports:{}},ao={},mp={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=Symbol.for("react.element"),eh=Symbol.for("react.portal"),th=Symbol.for("react.fragment"),rh=Symbol.for("react.strict_mode"),nh=Symbol.for("react.profiler"),ih=Symbol.for("react.provider"),sh=Symbol.for("react.context"),oh=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),lh=Symbol.for("react.memo"),uh=Symbol.for("react.lazy"),pc=Symbol.iterator;function ch(e){return e===null||typeof e!="object"?null:(e=pc&&e[pc]||e["@@iterator"],typeof e=="function"?e:null)}var gp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hp=Object.assign,vp={};function In(e,t,r){this.props=e,this.context=t,this.refs=vp,this.updater=r||gp}In.prototype.isReactComponent={};In.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};In.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yp(){}yp.prototype=In.prototype;function Ul(e,t,r){this.props=e,this.context=t,this.refs=vp,this.updater=r||gp}var Hl=Ul.prototype=new yp;Hl.constructor=Ul;hp(Hl,In.prototype);Hl.isPureReactComponent=!0;var fc=Array.isArray,xp=Object.prototype.hasOwnProperty,Gl={current:null},bp={key:!0,ref:!0,__self:!0,__source:!0};function Sp(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)xp.call(t,n)&&!bp.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Ti,type:e,key:s,ref:o,props:i,_owner:Gl.current}}function dh(e,t){return{$$typeof:Ti,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _l(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ti}function ph(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var mc=/\/+/g;function Vo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ph(""+e.key):t.toString(36)}function ms(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ti:case eh:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Vo(o,0):n,fc(i)?(r="",e!=null&&(r=e.replace(mc,"$&/")+"/"),ms(i,t,r,"",function(d){return d})):i!=null&&(_l(i)&&(i=dh(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",fc(e))for(var l=0;l<e.length;l++){s=e[l];var u=n+Vo(s,l);o+=ms(s,t,r,u,i)}else if(u=ch(e),typeof u=="function")for(e=u.call(e),l=0;!(s=e.next()).done;)s=s.value,u=n+Vo(s,l++),o+=ms(s,t,r,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qi(e,t,r){if(e==null)return e;var n=[],i=0;return ms(e,n,"","",function(s){return t.call(r,s,i++)}),n}function fh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},gs={transition:null},mh={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:gs,ReactCurrentOwner:Gl};function wp(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:qi,forEach:function(e,t,r){qi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qi(e,function(){t++}),t},toArray:function(e){return qi(e,function(t){return t})||[]},only:function(e){if(!_l(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=In;te.Fragment=th;te.Profiler=nh;te.PureComponent=Ul;te.StrictMode=rh;te.Suspense=ah;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mh;te.act=wp;te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=hp({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Gl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)xp.call(t,u)&&!bp.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Ti,type:e.type,key:i,ref:s,props:n,_owner:o}};te.createContext=function(e){return e={$$typeof:sh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ih,_context:e},e.Consumer=e};te.createElement=Sp;te.createFactory=function(e){var t=Sp.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:oh,render:e}};te.isValidElement=_l;te.lazy=function(e){return{$$typeof:uh,_payload:{_status:-1,_result:e},_init:fh}};te.memo=function(e,t){return{$$typeof:lh,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=gs.transition;gs.transition={};try{e()}finally{gs.transition=t}};te.unstable_act=wp;te.useCallback=function(e,t){return We.current.useCallback(e,t)};te.useContext=function(e){return We.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return We.current.useDeferredValue(e)};te.useEffect=function(e,t){return We.current.useEffect(e,t)};te.useId=function(){return We.current.useId()};te.useImperativeHandle=function(e,t,r){return We.current.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return We.current.useMemo(e,t)};te.useReducer=function(e,t,r){return We.current.useReducer(e,t,r)};te.useRef=function(e){return We.current.useRef(e)};te.useState=function(e){return We.current.useState(e)};te.useSyncExternalStore=function(e,t,r){return We.current.useSyncExternalStore(e,t,r)};te.useTransition=function(){return We.current.useTransition()};te.version="18.3.1";mp.exports=te;var I=mp.exports;const pe=$l(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh=I,hh=Symbol.for("react.element"),vh=Symbol.for("react.fragment"),yh=Object.prototype.hasOwnProperty,xh=gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bh={key:!0,ref:!0,__self:!0,__source:!0};function Np(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)yh.call(t,n)&&!bh.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:hh,type:e,key:s,ref:o,props:i,_owner:xh.current}}ao.Fragment=vh;ao.jsx=Np;ao.jsxs=Np;fp.exports=ao;var a=fp.exports,Ta={},Cp={exports:{}},at={},Ep={exports:{}},jp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,j){var T=S.length;S.push(j);e:for(;0<T;){var F=T-1>>>1,z=S[F];if(0<i(z,j))S[F]=j,S[T]=z,T=F;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var j=S[0],T=S.pop();if(T!==j){S[0]=T;e:for(var F=0,z=S.length,q=z>>>1;F<q;){var Z=2*(F+1)-1,X=S[Z],J=Z+1,Q=S[J];if(0>i(X,T))J<z&&0>i(Q,X)?(S[F]=Q,S[J]=T,F=J):(S[F]=X,S[Z]=T,F=Z);else if(J<z&&0>i(Q,T))S[F]=Q,S[J]=T,F=J;else break e}}return j}function i(S,j){var T=S.sortIndex-j.sortIndex;return T!==0?T:S.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,c=null,p=3,m=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(S){for(var j=r(d);j!==null;){if(j.callback===null)n(d);else if(j.startTime<=S)n(d),j.sortIndex=j.expirationTime,t(u,j);else break;j=r(d)}}function b(S){if(x=!1,y(S),!v)if(r(u)!==null)v=!0,A(N);else{var j=r(d);j!==null&&C(b,j.startTime-S)}}function N(S,j){v=!1,x&&(x=!1,h(k),k=-1),m=!0;var T=p;try{for(y(j),c=r(u);c!==null&&(!(c.expirationTime>j)||S&&!$());){var F=c.callback;if(typeof F=="function"){c.callback=null,p=c.priorityLevel;var z=F(c.expirationTime<=j);j=e.unstable_now(),typeof z=="function"?c.callback=z:c===r(u)&&n(u),y(j)}else n(u);c=r(u)}if(c!==null)var q=!0;else{var Z=r(d);Z!==null&&C(b,Z.startTime-j),q=!1}return q}finally{c=null,p=T,m=!1}}var E=!1,P=null,k=-1,M=5,O=-1;function $(){return!(e.unstable_now()-O<M)}function K(){if(P!==null){var S=e.unstable_now();O=S;var j=!0;try{j=P(!0,S)}finally{j?W():(E=!1,P=null)}}else E=!1}var W;if(typeof g=="function")W=function(){g(K)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,R=G.port2;G.port1.onmessage=K,W=function(){R.postMessage(null)}}else W=function(){w(K,0)};function A(S){P=S,E||(E=!0,W())}function C(S,j){k=w(function(){S(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,A(N))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(S){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var T=p;p=j;try{return S()}finally{p=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,j){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var T=p;p=S;try{return j()}finally{p=T}},e.unstable_scheduleCallback=function(S,j,T){var F=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?F+T:F):T=F,S){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=T+z,S={id:f++,callback:j,priorityLevel:S,startTime:T,expirationTime:z,sortIndex:-1},T>F?(S.sortIndex=T,t(d,S),r(u)===null&&S===r(d)&&(x?(h(k),k=-1):x=!0,C(b,T-F))):(S.sortIndex=z,t(u,S),v||m||(v=!0,A(N))),S},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(S){var j=p;return function(){var T=p;p=j;try{return S.apply(this,arguments)}finally{p=T}}}})(jp);Ep.exports=jp;var Sh=Ep.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=I,ot=Sh;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dp=new Set,li={};function Kr(e,t){yn(e,t),yn(e+"Capture",t)}function yn(e,t){for(li[e]=t,e=0;e<t.length;e++)Dp.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=Object.prototype.hasOwnProperty,Nh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gc={},hc={};function Ch(e){return Ma.call(hc,e)?!0:Ma.call(gc,e)?!1:Nh.test(e)?hc[e]=!0:(gc[e]=!0,!1)}function Eh(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jh(e,t,r,n){if(t===null||typeof t>"u"||Eh(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wl=/[\-:]([a-z])/g;function Vl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wl,Vl);Be[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wl,Vl);Be[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wl,Vl);Be[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function ql(e,t,r,n){var i=Be.hasOwnProperty(t)?Be[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jh(t,r,i,n)&&(r=null),n||i===null?Ch(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vt=wh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qi=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),en=Symbol.for("react.fragment"),Ql=Symbol.for("react.strict_mode"),Oa=Symbol.for("react.profiler"),Ip=Symbol.for("react.provider"),kp=Symbol.for("react.context"),Kl=Symbol.for("react.forward_ref"),La=Symbol.for("react.suspense"),Ra=Symbol.for("react.suspense_list"),Yl=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),Pp=Symbol.for("react.offscreen"),vc=Symbol.iterator;function Rn(e){return e===null||typeof e!="object"?null:(e=vc&&e[vc]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,qo;function Vn(e){if(qo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);qo=t&&t[1]||""}return`
`+qo+e}var Qo=!1;function Ko(e,t){if(!e||Qo)return"";Qo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{Qo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vn(e):""}function Dh(e){switch(e.tag){case 5:return Vn(e.type);case 16:return Vn("Lazy");case 13:return Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 2:case 15:return e=Ko(e.type,!1),e;case 11:return e=Ko(e.type.render,!1),e;case 1:return e=Ko(e.type,!0),e;default:return""}}function Aa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case en:return"Fragment";case Zr:return"Portal";case Oa:return"Profiler";case Ql:return"StrictMode";case La:return"Suspense";case Ra:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kp:return(e.displayName||"Context")+".Consumer";case Ip:return(e._context.displayName||"Context")+".Provider";case Kl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yl:return t=e.displayName||null,t!==null?t:Aa(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return Aa(e(t))}catch{}}return null}function Ih(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Aa(t);case 8:return t===Ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kh(e){var t=Tp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ki(e){e._valueTracker||(e._valueTracker=kh(e))}function Mp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Tp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ba(e,t){var r=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function yc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=hr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Op(e,t){t=t.checked,t!=null&&ql(e,"checked",t,!1)}function Fa(e,t){Op(e,t);var r=hr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?za(e,t.type,r):t.hasOwnProperty("defaultValue")&&za(e,t.type,hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function za(e,t,r){(t!=="number"||Ds(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qn=Array.isArray;function pn(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+hr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $a(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(qn(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hr(r)}}function Lp(e,t){var r=hr(t.value),n=hr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Sc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ua(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yi,Ap=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yi=Yi||document.createElement("div"),Yi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ui(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ph=["Webkit","ms","Moz","O"];Object.keys(Yn).forEach(function(e){Ph.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yn[t]=Yn[e]})});function Bp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yn.hasOwnProperty(e)&&Yn[e]?(""+t).trim():t+"px"}function Fp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Bp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Th=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ha(e,t){if(t){if(Th[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ga(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _a=null;function Jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wa=null,fn=null,mn=null;function wc(e){if(e=Li(e)){if(typeof Wa!="function")throw Error(L(280));var t=e.stateNode;t&&(t=fo(t),Wa(e.stateNode,e.type,t))}}function zp(e){fn?mn?mn.push(e):mn=[e]:fn=e}function $p(){if(fn){var e=fn,t=mn;if(mn=fn=null,wc(e),t)for(e=0;e<t.length;e++)wc(t[e])}}function Up(e,t){return e(t)}function Hp(){}var Yo=!1;function Gp(e,t,r){if(Yo)return e(t,r);Yo=!0;try{return Up(e,t,r)}finally{Yo=!1,(fn!==null||mn!==null)&&(Hp(),$p())}}function ci(e,t){var r=e.stateNode;if(r===null)return null;var n=fo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Va=!1;if(Ut)try{var An={};Object.defineProperty(An,"passive",{get:function(){Va=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{Va=!1}function Mh(e,t,r,n,i,s,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var Jn=!1,Is=null,ks=!1,qa=null,Oh={onError:function(e){Jn=!0,Is=e}};function Lh(e,t,r,n,i,s,o,l,u){Jn=!1,Is=null,Mh.apply(Oh,arguments)}function Rh(e,t,r,n,i,s,o,l,u){if(Lh.apply(this,arguments),Jn){if(Jn){var d=Is;Jn=!1,Is=null}else throw Error(L(198));ks||(ks=!0,qa=d)}}function Yr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nc(e){if(Yr(e)!==e)throw Error(L(188))}function Ah(e){var t=e.alternate;if(!t){if(t=Yr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Nc(i),e;if(s===n)return Nc(i),t;s=s.sibling}throw Error(L(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function Wp(e){return e=Ah(e),e!==null?Vp(e):null}function Vp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vp(e);if(t!==null)return t;e=e.sibling}return null}var qp=ot.unstable_scheduleCallback,Cc=ot.unstable_cancelCallback,Bh=ot.unstable_shouldYield,Fh=ot.unstable_requestPaint,Se=ot.unstable_now,zh=ot.unstable_getCurrentPriorityLevel,Xl=ot.unstable_ImmediatePriority,Qp=ot.unstable_UserBlockingPriority,Ps=ot.unstable_NormalPriority,$h=ot.unstable_LowPriority,Kp=ot.unstable_IdlePriority,lo=null,Lt=null;function Uh(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(lo,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:_h,Hh=Math.log,Gh=Math.LN2;function _h(e){return e>>>=0,e===0?32:31-(Hh(e)/Gh|0)|0}var Ji=64,Xi=4194304;function Qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ts(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Qn(l):(s&=o,s!==0&&(n=Qn(s)))}else o=r&~i,o!==0?n=Qn(o):s!==0&&(n=Qn(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-jt(t),i=1<<r,n|=e[r],t&=~i;return n}function Wh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vh(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-jt(s),l=1<<o,u=i[o];u===-1?(!(l&r)||l&n)&&(i[o]=Wh(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}}function Qa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yp(){var e=Ji;return Ji<<=1,!(Ji&4194240)&&(Ji=64),e}function Jo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=r}function qh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-jt(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Zl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-jt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ie=0;function Jp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xp,eu,Zp,ef,tf,Ka=!1,Zi=[],nr=null,ir=null,sr=null,di=new Map,pi=new Map,Xt=[],Qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ec(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(t.pointerId)}}function Bn(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Li(t),t!==null&&eu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Kh(e,t,r,n,i){switch(t){case"focusin":return nr=Bn(nr,e,t,r,n,i),!0;case"dragenter":return ir=Bn(ir,e,t,r,n,i),!0;case"mouseover":return sr=Bn(sr,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return di.set(s,Bn(di.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,pi.set(s,Bn(pi.get(s)||null,e,t,r,n,i)),!0}return!1}function rf(e){var t=Ar(e.target);if(t!==null){var r=Yr(t);if(r!==null){if(t=r.tag,t===13){if(t=_p(r),t!==null){e.blockedOn=t,tf(e.priority,function(){Zp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ya(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_a=n,r.target.dispatchEvent(n),_a=null}else return t=Li(r),t!==null&&eu(t),e.blockedOn=r,!1;t.shift()}return!0}function jc(e,t,r){hs(e)&&r.delete(t)}function Yh(){Ka=!1,nr!==null&&hs(nr)&&(nr=null),ir!==null&&hs(ir)&&(ir=null),sr!==null&&hs(sr)&&(sr=null),di.forEach(jc),pi.forEach(jc)}function Fn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ka||(Ka=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Yh)))}function fi(e){function t(i){return Fn(i,e)}if(0<Zi.length){Fn(Zi[0],e);for(var r=1;r<Zi.length;r++){var n=Zi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(nr!==null&&Fn(nr,e),ir!==null&&Fn(ir,e),sr!==null&&Fn(sr,e),di.forEach(t),pi.forEach(t),r=0;r<Xt.length;r++)n=Xt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xt.length&&(r=Xt[0],r.blockedOn===null);)rf(r),r.blockedOn===null&&Xt.shift()}var gn=Vt.ReactCurrentBatchConfig,Ms=!0;function Jh(e,t,r,n){var i=ie,s=gn.transition;gn.transition=null;try{ie=1,tu(e,t,r,n)}finally{ie=i,gn.transition=s}}function Xh(e,t,r,n){var i=ie,s=gn.transition;gn.transition=null;try{ie=4,tu(e,t,r,n)}finally{ie=i,gn.transition=s}}function tu(e,t,r,n){if(Ms){var i=Ya(e,t,r,n);if(i===null)aa(e,t,n,Os,r),Ec(e,n);else if(Kh(i,e,t,r,n))n.stopPropagation();else if(Ec(e,n),t&4&&-1<Qh.indexOf(e)){for(;i!==null;){var s=Li(i);if(s!==null&&Xp(s),s=Ya(e,t,r,n),s===null&&aa(e,t,n,Os,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else aa(e,t,n,null,r)}}var Os=null;function Ya(e,t,r,n){if(Os=null,e=Jl(n),e=Ar(e),e!==null)if(t=Yr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_p(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Os=e,null}function nf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zh()){case Xl:return 1;case Qp:return 4;case Ps:case $h:return 16;case Kp:return 536870912;default:return 16}default:return 16}}var tr=null,ru=null,vs=null;function sf(){if(vs)return vs;var e,t=ru,r=t.length,n,i="value"in tr?tr.value:tr.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return vs=i.slice(e,1<n?1-n:void 0)}function ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function es(){return!0}function Dc(){return!1}function lt(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?es:Dc,this.isPropagationStopped=Dc,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),t}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=lt(kn),Oi=ye({},kn,{view:0,detail:0}),Zh=lt(Oi),Xo,Zo,zn,uo=ye({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zn&&(zn&&e.type==="mousemove"?(Xo=e.screenX-zn.screenX,Zo=e.screenY-zn.screenY):Zo=Xo=0,zn=e),Xo)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),Ic=lt(uo),ev=ye({},uo,{dataTransfer:0}),tv=lt(ev),rv=ye({},Oi,{relatedTarget:0}),ea=lt(rv),nv=ye({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),iv=lt(nv),sv=ye({},kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ov=lt(sv),av=ye({},kn,{data:0}),kc=lt(av),lv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cv[e])?!!t[e]:!1}function iu(){return dv}var pv=ye({},Oi,{key:function(e){if(e.key){var t=lv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fv=lt(pv),mv=ye({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=lt(mv),gv=ye({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),hv=lt(gv),vv=ye({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),yv=lt(vv),xv=ye({},uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bv=lt(xv),Sv=[9,13,27,32],su=Ut&&"CompositionEvent"in window,Xn=null;Ut&&"documentMode"in document&&(Xn=document.documentMode);var wv=Ut&&"TextEvent"in window&&!Xn,of=Ut&&(!su||Xn&&8<Xn&&11>=Xn),Tc=String.fromCharCode(32),Mc=!1;function af(e,t){switch(e){case"keyup":return Sv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tn=!1;function Nv(e,t){switch(e){case"compositionend":return lf(t);case"keypress":return t.which!==32?null:(Mc=!0,Tc);case"textInput":return e=t.data,e===Tc&&Mc?null:e;default:return null}}function Cv(e,t){if(tn)return e==="compositionend"||!su&&af(e,t)?(e=sf(),vs=ru=tr=null,tn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return of&&t.locale!=="ko"?null:t.data;default:return null}}var Ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ev[e.type]:t==="textarea"}function uf(e,t,r,n){zp(n),t=Ls(t,"onChange"),0<t.length&&(r=new nu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zn=null,mi=null;function jv(e){bf(e,0)}function co(e){var t=sn(e);if(Mp(t))return e}function Dv(e,t){if(e==="change")return t}var cf=!1;if(Ut){var ta;if(Ut){var ra="oninput"in document;if(!ra){var Lc=document.createElement("div");Lc.setAttribute("oninput","return;"),ra=typeof Lc.oninput=="function"}ta=ra}else ta=!1;cf=ta&&(!document.documentMode||9<document.documentMode)}function Rc(){Zn&&(Zn.detachEvent("onpropertychange",df),mi=Zn=null)}function df(e){if(e.propertyName==="value"&&co(mi)){var t=[];uf(t,mi,e,Jl(e)),Gp(jv,t)}}function Iv(e,t,r){e==="focusin"?(Rc(),Zn=t,mi=r,Zn.attachEvent("onpropertychange",df)):e==="focusout"&&Rc()}function kv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return co(mi)}function Pv(e,t){if(e==="click")return co(t)}function Tv(e,t){if(e==="input"||e==="change")return co(t)}function Mv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:Mv;function gi(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ma.call(t,i)||!It(e[i],t[i]))return!1}return!0}function Ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bc(e,t){var r=Ac(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ac(r)}}function pf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ff(){for(var e=window,t=Ds();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ds(e.document)}return t}function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ov(e){var t=ff(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&pf(r.ownerDocument.documentElement,r)){if(n!==null&&ou(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Bc(r,s);var o=Bc(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lv=Ut&&"documentMode"in document&&11>=document.documentMode,rn=null,Ja=null,ei=null,Xa=!1;function Fc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xa||rn==null||rn!==Ds(n)||(n=rn,"selectionStart"in n&&ou(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ei&&gi(ei,n)||(ei=n,n=Ls(Ja,"onSelect"),0<n.length&&(t=new nu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rn)))}function ts(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var nn={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionend:ts("Transition","TransitionEnd")},na={},mf={};Ut&&(mf=document.createElement("div").style,"AnimationEvent"in window||(delete nn.animationend.animation,delete nn.animationiteration.animation,delete nn.animationstart.animation),"TransitionEvent"in window||delete nn.transitionend.transition);function po(e){if(na[e])return na[e];if(!nn[e])return e;var t=nn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mf)return na[e]=t[r];return e}var gf=po("animationend"),hf=po("animationiteration"),vf=po("animationstart"),yf=po("transitionend"),xf=new Map,zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(e,t){xf.set(e,t),Kr(t,[e])}for(var ia=0;ia<zc.length;ia++){var sa=zc[ia],Rv=sa.toLowerCase(),Av=sa[0].toUpperCase()+sa.slice(1);br(Rv,"on"+Av)}br(gf,"onAnimationEnd");br(hf,"onAnimationIteration");br(vf,"onAnimationStart");br("dblclick","onDoubleClick");br("focusin","onFocus");br("focusout","onBlur");br(yf,"onTransitionEnd");yn("onMouseEnter",["mouseout","mouseover"]);yn("onMouseLeave",["mouseout","mouseover"]);yn("onPointerEnter",["pointerout","pointerover"]);yn("onPointerLeave",["pointerout","pointerover"]);Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kn));function $c(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Rh(n,t,void 0,e),e.currentTarget=null}function bf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;$c(i,l,d),s=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;$c(i,l,d),s=u}}}if(ks)throw e=qa,ks=!1,qa=null,e}function ce(e,t){var r=t[nl];r===void 0&&(r=t[nl]=new Set);var n=e+"__bubble";r.has(n)||(Sf(t,e,2,!1),r.add(n))}function oa(e,t,r){var n=0;t&&(n|=4),Sf(r,e,n,t)}var rs="_reactListening"+Math.random().toString(36).slice(2);function hi(e){if(!e[rs]){e[rs]=!0,Dp.forEach(function(r){r!=="selectionchange"&&(Bv.has(r)||oa(r,!1,e),oa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rs]||(t[rs]=!0,oa("selectionchange",!1,t))}}function Sf(e,t,r,n){switch(nf(t)){case 1:var i=Jh;break;case 4:i=Xh;break;default:i=tu}r=i.bind(null,t,r,e),i=void 0,!Va||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function aa(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ar(l),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}l=l.parentNode}}n=n.return}Gp(function(){var d=s,f=Jl(r),c=[];e:{var p=xf.get(e);if(p!==void 0){var m=nu,v=e;switch(e){case"keypress":if(ys(r)===0)break e;case"keydown":case"keyup":m=fv;break;case"focusin":v="focus",m=ea;break;case"focusout":v="blur",m=ea;break;case"beforeblur":case"afterblur":m=ea;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hv;break;case gf:case hf:case vf:m=iv;break;case yf:m=yv;break;case"scroll":m=Zh;break;case"wheel":m=bv;break;case"copy":case"cut":case"paste":m=ov;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Pc}var x=(t&4)!==0,w=!x&&e==="scroll",h=x?p!==null?p+"Capture":null:p;x=[];for(var g=d,y;g!==null;){y=g;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,h!==null&&(b=ci(g,h),b!=null&&x.push(vi(g,b,y)))),w)break;g=g.return}0<x.length&&(p=new m(p,v,null,r,f),c.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==_a&&(v=r.relatedTarget||r.fromElement)&&(Ar(v)||v[Ht]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=d,v=v?Ar(v):null,v!==null&&(w=Yr(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=d),m!==v)){if(x=Ic,b="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Pc,b="onPointerLeave",h="onPointerEnter",g="pointer"),w=m==null?p:sn(m),y=v==null?p:sn(v),p=new x(b,g+"leave",m,r,f),p.target=w,p.relatedTarget=y,b=null,Ar(f)===d&&(x=new x(h,g+"enter",v,r,f),x.target=y,x.relatedTarget=w,b=x),w=b,m&&v)t:{for(x=m,h=v,g=0,y=x;y;y=Jr(y))g++;for(y=0,b=h;b;b=Jr(b))y++;for(;0<g-y;)x=Jr(x),g--;for(;0<y-g;)h=Jr(h),y--;for(;g--;){if(x===h||h!==null&&x===h.alternate)break t;x=Jr(x),h=Jr(h)}x=null}else x=null;m!==null&&Uc(c,p,m,x,!1),v!==null&&w!==null&&Uc(c,w,v,x,!0)}}e:{if(p=d?sn(d):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=Dv;else if(Oc(p))if(cf)N=Tv;else{N=kv;var E=Iv}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Pv);if(N&&(N=N(e,d))){uf(c,N,r,f);break e}E&&E(e,p,d),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&za(p,"number",p.value)}switch(E=d?sn(d):window,e){case"focusin":(Oc(E)||E.contentEditable==="true")&&(rn=E,Ja=d,ei=null);break;case"focusout":ei=Ja=rn=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,Fc(c,r,f);break;case"selectionchange":if(Lv)break;case"keydown":case"keyup":Fc(c,r,f)}var P;if(su)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else tn?af(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(of&&r.locale!=="ko"&&(tn||k!=="onCompositionStart"?k==="onCompositionEnd"&&tn&&(P=sf()):(tr=f,ru="value"in tr?tr.value:tr.textContent,tn=!0)),E=Ls(d,k),0<E.length&&(k=new kc(k,e,null,r,f),c.push({event:k,listeners:E}),P?k.data=P:(P=lf(r),P!==null&&(k.data=P)))),(P=wv?Nv(e,r):Cv(e,r))&&(d=Ls(d,"onBeforeInput"),0<d.length&&(f=new kc("onBeforeInput","beforeinput",null,r,f),c.push({event:f,listeners:d}),f.data=P))}bf(c,t)})}function vi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ls(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ci(e,r),s!=null&&n.unshift(vi(e,s,i)),s=ci(e,t),s!=null&&n.push(vi(e,s,i))),e=e.return}return n}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uc(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,d=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&d!==null&&(l=d,i?(u=ci(r,s),u!=null&&o.unshift(vi(r,u,l))):i||(u=ci(r,s),u!=null&&o.push(vi(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Fv=/\r\n?/g,zv=/\u0000|\uFFFD/g;function Hc(e){return(typeof e=="string"?e:""+e).replace(Fv,`
`).replace(zv,"")}function ns(e,t,r){if(t=Hc(t),Hc(e)!==t&&r)throw Error(L(425))}function Rs(){}var Za=null,el=null;function tl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rl=typeof setTimeout=="function"?setTimeout:void 0,$v=typeof clearTimeout=="function"?clearTimeout:void 0,Gc=typeof Promise=="function"?Promise:void 0,Uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Gc<"u"?function(e){return Gc.resolve(null).then(e).catch(Hv)}:rl;function Hv(e){setTimeout(function(){throw e})}function la(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),fi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);fi(t)}function or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Pn,yi="__reactProps$"+Pn,Ht="__reactContainer$"+Pn,nl="__reactEvents$"+Pn,Gv="__reactListeners$"+Pn,_v="__reactHandles$"+Pn;function Ar(e){var t=e[Ot];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ht]||r[Ot]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_c(e);e!==null;){if(r=e[Ot])return r;e=_c(e)}return t}e=r,r=e.parentNode}return null}function Li(e){return e=e[Ot]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function fo(e){return e[yi]||null}var il=[],on=-1;function Sr(e){return{current:e}}function fe(e){0>on||(e.current=il[on],il[on]=null,on--)}function le(e,t){on++,il[on]=e.current,e.current=t}var vr={},Ue=Sr(vr),Je=Sr(!1),Hr=vr;function xn(e,t){var r=e.type.contextTypes;if(!r)return vr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xe(e){return e=e.childContextTypes,e!=null}function As(){fe(Je),fe(Ue)}function Wc(e,t,r){if(Ue.current!==vr)throw Error(L(168));le(Ue,t),le(Je,r)}function wf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(L(108,Ih(e)||"Unknown",i));return ye({},r,n)}function Bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,Hr=Ue.current,le(Ue,e),le(Je,Je.current),!0}function Vc(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=wf(e,t,Hr),n.__reactInternalMemoizedMergedChildContext=e,fe(Je),fe(Ue),le(Ue,e)):fe(Je),le(Je,r)}var Bt=null,mo=!1,ua=!1;function Nf(e){Bt===null?Bt=[e]:Bt.push(e)}function Wv(e){mo=!0,Nf(e)}function wr(){if(!ua&&Bt!==null){ua=!0;var e=0,t=ie;try{var r=Bt;for(ie=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Bt=null,mo=!1}catch(i){throw Bt!==null&&(Bt=Bt.slice(e+1)),qp(Xl,wr),i}finally{ie=t,ua=!1}}return null}var an=[],ln=0,Fs=null,zs=0,pt=[],ft=0,Gr=null,Ft=1,zt="";function Ir(e,t){an[ln++]=zs,an[ln++]=Fs,Fs=e,zs=t}function Cf(e,t,r){pt[ft++]=Ft,pt[ft++]=zt,pt[ft++]=Gr,Gr=e;var n=Ft;e=zt;var i=32-jt(n)-1;n&=~(1<<i),r+=1;var s=32-jt(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ft=1<<32-jt(t)+i|r<<i|n,zt=s+e}else Ft=1<<s|r<<i|n,zt=e}function au(e){e.return!==null&&(Ir(e,1),Cf(e,1,0))}function lu(e){for(;e===Fs;)Fs=an[--ln],an[ln]=null,zs=an[--ln],an[ln]=null;for(;e===Gr;)Gr=pt[--ft],pt[ft]=null,zt=pt[--ft],pt[ft]=null,Ft=pt[--ft],pt[ft]=null}var nt=null,tt=null,ge=!1,Ct=null;function Ef(e,t){var r=mt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,tt=or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gr!==null?{id:Ft,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=mt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nt=e,tt=null,!0):!1;default:return!1}}function sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ol(e){if(ge){var t=tt;if(t){var r=t;if(!qc(e,t)){if(sl(e))throw Error(L(418));t=or(r.nextSibling);var n=nt;t&&qc(e,t)?Ef(n,r):(e.flags=e.flags&-4097|2,ge=!1,nt=e)}}else{if(sl(e))throw Error(L(418));e.flags=e.flags&-4097|2,ge=!1,nt=e}}}function Qc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function is(e){if(e!==nt)return!1;if(!ge)return Qc(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tl(e.type,e.memoizedProps)),t&&(t=tt)){if(sl(e))throw jf(),Error(L(418));for(;t;)Ef(e,t),t=or(t.nextSibling)}if(Qc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){tt=or(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=nt?or(e.stateNode.nextSibling):null;return!0}function jf(){for(var e=tt;e;)e=or(e.nextSibling)}function bn(){tt=nt=null,ge=!1}function uu(e){Ct===null?Ct=[e]:Ct.push(e)}var Vv=Vt.ReactCurrentBatchConfig;function $n(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function ss(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kc(e){var t=e._init;return t(e._payload)}function Df(e){function t(h,g){if(e){var y=h.deletions;y===null?(h.deletions=[g],h.flags|=16):y.push(g)}}function r(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function n(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function i(h,g){return h=cr(h,g),h.index=0,h.sibling=null,h}function s(h,g,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<g?(h.flags|=2,g):y):(h.flags|=2,g)):(h.flags|=1048576,g)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,g,y,b){return g===null||g.tag!==6?(g=ha(y,h.mode,b),g.return=h,g):(g=i(g,y),g.return=h,g)}function u(h,g,y,b){var N=y.type;return N===en?f(h,g,y.props.children,b,y.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qt&&Kc(N)===g.type)?(b=i(g,y.props),b.ref=$n(h,g,y),b.return=h,b):(b=Es(y.type,y.key,y.props,null,h.mode,b),b.ref=$n(h,g,y),b.return=h,b)}function d(h,g,y,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=va(y,h.mode,b),g.return=h,g):(g=i(g,y.children||[]),g.return=h,g)}function f(h,g,y,b,N){return g===null||g.tag!==7?(g=Ur(y,h.mode,b,N),g.return=h,g):(g=i(g,y),g.return=h,g)}function c(h,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ha(""+g,h.mode,y),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qi:return y=Es(g.type,g.key,g.props,null,h.mode,y),y.ref=$n(h,null,g),y.return=h,y;case Zr:return g=va(g,h.mode,y),g.return=h,g;case Qt:var b=g._init;return c(h,b(g._payload),y)}if(qn(g)||Rn(g))return g=Ur(g,h.mode,y,null),g.return=h,g;ss(h,g)}return null}function p(h,g,y,b){var N=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:l(h,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Qi:return y.key===N?u(h,g,y,b):null;case Zr:return y.key===N?d(h,g,y,b):null;case Qt:return N=y._init,p(h,g,N(y._payload),b)}if(qn(y)||Rn(y))return N!==null?null:f(h,g,y,b,null);ss(h,y)}return null}function m(h,g,y,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return h=h.get(y)||null,l(g,h,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qi:return h=h.get(b.key===null?y:b.key)||null,u(g,h,b,N);case Zr:return h=h.get(b.key===null?y:b.key)||null,d(g,h,b,N);case Qt:var E=b._init;return m(h,g,y,E(b._payload),N)}if(qn(b)||Rn(b))return h=h.get(y)||null,f(g,h,b,N,null);ss(g,b)}return null}function v(h,g,y,b){for(var N=null,E=null,P=g,k=g=0,M=null;P!==null&&k<y.length;k++){P.index>k?(M=P,P=null):M=P.sibling;var O=p(h,P,y[k],b);if(O===null){P===null&&(P=M);break}e&&P&&O.alternate===null&&t(h,P),g=s(O,g,k),E===null?N=O:E.sibling=O,E=O,P=M}if(k===y.length)return r(h,P),ge&&Ir(h,k),N;if(P===null){for(;k<y.length;k++)P=c(h,y[k],b),P!==null&&(g=s(P,g,k),E===null?N=P:E.sibling=P,E=P);return ge&&Ir(h,k),N}for(P=n(h,P);k<y.length;k++)M=m(P,h,k,y[k],b),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?k:M.key),g=s(M,g,k),E===null?N=M:E.sibling=M,E=M);return e&&P.forEach(function($){return t(h,$)}),ge&&Ir(h,k),N}function x(h,g,y,b){var N=Rn(y);if(typeof N!="function")throw Error(L(150));if(y=N.call(y),y==null)throw Error(L(151));for(var E=N=null,P=g,k=g=0,M=null,O=y.next();P!==null&&!O.done;k++,O=y.next()){P.index>k?(M=P,P=null):M=P.sibling;var $=p(h,P,O.value,b);if($===null){P===null&&(P=M);break}e&&P&&$.alternate===null&&t(h,P),g=s($,g,k),E===null?N=$:E.sibling=$,E=$,P=M}if(O.done)return r(h,P),ge&&Ir(h,k),N;if(P===null){for(;!O.done;k++,O=y.next())O=c(h,O.value,b),O!==null&&(g=s(O,g,k),E===null?N=O:E.sibling=O,E=O);return ge&&Ir(h,k),N}for(P=n(h,P);!O.done;k++,O=y.next())O=m(P,h,k,O.value,b),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?k:O.key),g=s(O,g,k),E===null?N=O:E.sibling=O,E=O);return e&&P.forEach(function(K){return t(h,K)}),ge&&Ir(h,k),N}function w(h,g,y,b){if(typeof y=="object"&&y!==null&&y.type===en&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Qi:e:{for(var N=y.key,E=g;E!==null;){if(E.key===N){if(N=y.type,N===en){if(E.tag===7){r(h,E.sibling),g=i(E,y.props.children),g.return=h,h=g;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qt&&Kc(N)===E.type){r(h,E.sibling),g=i(E,y.props),g.ref=$n(h,E,y),g.return=h,h=g;break e}r(h,E);break}else t(h,E);E=E.sibling}y.type===en?(g=Ur(y.props.children,h.mode,b,y.key),g.return=h,h=g):(b=Es(y.type,y.key,y.props,null,h.mode,b),b.ref=$n(h,g,y),b.return=h,h=b)}return o(h);case Zr:e:{for(E=y.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(h,g.sibling),g=i(g,y.children||[]),g.return=h,h=g;break e}else{r(h,g);break}else t(h,g);g=g.sibling}g=va(y,h.mode,b),g.return=h,h=g}return o(h);case Qt:return E=y._init,w(h,g,E(y._payload),b)}if(qn(y))return v(h,g,y,b);if(Rn(y))return x(h,g,y,b);ss(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(h,g.sibling),g=i(g,y),g.return=h,h=g):(r(h,g),g=ha(y,h.mode,b),g.return=h,h=g),o(h)):r(h,g)}return w}var Sn=Df(!0),If=Df(!1),$s=Sr(null),Us=null,un=null,cu=null;function du(){cu=un=Us=null}function pu(e){var t=$s.current;fe($s),e._currentValue=t}function al(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function hn(e,t){Us=e,cu=un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(cu!==e)if(e={context:e,memoizedValue:t,next:null},un===null){if(Us===null)throw Error(L(308));un=e,Us.dependencies={lanes:0,firstContext:e}}else un=un.next=e;return t}var Br=null;function fu(e){Br===null?Br=[e]:Br.push(e)}function kf(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,fu(t)):(r.next=i.next,i.next=r),t.interleaved=r,Gt(e,n)}function Gt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Kt=!1;function mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ar(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ne&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Gt(e,r)}return i=n.interleaved,i===null?(t.next=t,fu(n)):(t.next=i.next,i.next=t),n.interleaved=t,Gt(e,r)}function xs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zl(e,r)}}function Yc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hs(e,t,r,n){var i=e.updateQueue;Kt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?s=d:o.next=d,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=u))}if(s!==null){var c=i.baseState;o=0,f=d=u=null,l=s;do{var p=l.lane,m=l.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(p=t,m=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){c=v.call(m,c,p);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,c,p):v,p==null)break e;c=ye({},c,p);break e;case 2:Kt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=m,u=c):f=f.next=m,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(f===null&&(u=c),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Wr|=o,e.lanes=o,e.memoizedState=c}}function Jc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(L(191,i));i.call(n)}}}var Ri={},Rt=Sr(Ri),xi=Sr(Ri),bi=Sr(Ri);function Fr(e){if(e===Ri)throw Error(L(174));return e}function gu(e,t){switch(le(bi,t),le(xi,e),le(Rt,Ri),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ua(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ua(t,e)}fe(Rt),le(Rt,t)}function wn(){fe(Rt),fe(xi),fe(bi)}function Tf(e){Fr(bi.current);var t=Fr(Rt.current),r=Ua(t,e.type);t!==r&&(le(xi,e),le(Rt,r))}function hu(e){xi.current===e&&(fe(Rt),fe(xi))}var he=Sr(0);function Gs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function vu(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var bs=Vt.ReactCurrentDispatcher,da=Vt.ReactCurrentBatchConfig,_r=0,ve=null,Ne=null,je=null,_s=!1,ti=!1,Si=0,qv=0;function Fe(){throw Error(L(321))}function yu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!It(e[r],t[r]))return!1;return!0}function xu(e,t,r,n,i,s){if(_r=s,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bs.current=e===null||e.memoizedState===null?Jv:Xv,e=r(n,i),ti){s=0;do{if(ti=!1,Si=0,25<=s)throw Error(L(301));s+=1,je=Ne=null,t.updateQueue=null,bs.current=Zv,e=r(n,i)}while(ti)}if(bs.current=Ws,t=Ne!==null&&Ne.next!==null,_r=0,je=Ne=ve=null,_s=!1,t)throw Error(L(300));return e}function bu(){var e=Si!==0;return Si=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ve.memoizedState=je=e:je=je.next=e,je}function xt(){if(Ne===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=je===null?ve.memoizedState:je.next;if(t!==null)je=t,Ne=e;else{if(e===null)throw Error(L(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},je===null?ve.memoizedState=je=e:je=je.next=e}return je}function wi(e,t){return typeof t=="function"?t(e):t}function pa(e){var t=xt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Ne,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,u=null,d=s;do{var f=d.lane;if((_r&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var c={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=c,o=n):u=u.next=c,ve.lanes|=f,Wr|=f}d=d.next}while(d!==null&&d!==s);u===null?o=n:u.next=l,It(n,t.memoizedState)||(Ye=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,ve.lanes|=s,Wr|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fa(e){var t=xt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);It(s,t.memoizedState)||(Ye=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Mf(){}function Of(e,t){var r=ve,n=xt(),i=t(),s=!It(n.memoizedState,i);if(s&&(n.memoizedState=i,Ye=!0),n=n.queue,Su(Af.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||je!==null&&je.memoizedState.tag&1){if(r.flags|=2048,Ni(9,Rf.bind(null,r,n,i,t),void 0,null),De===null)throw Error(L(349));_r&30||Lf(r,t,i)}return i}function Lf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Rf(e,t,r,n){t.value=r,t.getSnapshot=n,Bf(t)&&Ff(e)}function Af(e,t,r){return r(function(){Bf(t)&&Ff(e)})}function Bf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!It(e,r)}catch{return!0}}function Ff(e){var t=Gt(e,1);t!==null&&Dt(t,e,1,-1)}function Xc(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yv.bind(null,ve,e),[t.memoizedState,e]}function Ni(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function zf(){return xt().memoizedState}function Ss(e,t,r,n){var i=Mt();ve.flags|=e,i.memoizedState=Ni(1|t,r,void 0,n===void 0?null:n)}function go(e,t,r,n){var i=xt();n=n===void 0?null:n;var s=void 0;if(Ne!==null){var o=Ne.memoizedState;if(s=o.destroy,n!==null&&yu(n,o.deps)){i.memoizedState=Ni(t,r,s,n);return}}ve.flags|=e,i.memoizedState=Ni(1|t,r,s,n)}function Zc(e,t){return Ss(8390656,8,e,t)}function Su(e,t){return go(2048,8,e,t)}function $f(e,t){return go(4,2,e,t)}function Uf(e,t){return go(4,4,e,t)}function Hf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gf(e,t,r){return r=r!=null?r.concat([e]):null,go(4,4,Hf.bind(null,t,e),r)}function wu(){}function _f(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wf(e,t){var r=xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vf(e,t,r){return _r&21?(It(r,t)||(r=Yp(),ve.lanes|=r,Wr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=r)}function Qv(e,t){var r=ie;ie=r!==0&&4>r?r:4,e(!0);var n=da.transition;da.transition={};try{e(!1),t()}finally{ie=r,da.transition=n}}function qf(){return xt().memoizedState}function Kv(e,t,r){var n=ur(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qf(e))Kf(t,r);else if(r=kf(e,t,r,n),r!==null){var i=_e();Dt(r,e,n,i),Yf(r,t,n)}}function Yv(e,t,r){var n=ur(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qf(e))Kf(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,It(l,o)){var u=t.interleaved;u===null?(i.next=i,fu(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=kf(e,t,i,n),r!==null&&(i=_e(),Dt(r,e,n,i),Yf(r,t,n))}}function Qf(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Kf(e,t){ti=_s=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zl(e,r)}}var Ws={readContext:yt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Jv={readContext:yt,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Zc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ss(4194308,4,Hf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ss(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ss(4,2,e,t)},useMemo:function(e,t){var r=Mt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Mt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Kv.bind(null,ve,e),[n.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:Xc,useDebugValue:wu,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=Xc(!1),t=e[0];return e=Qv.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ve,i=Mt();if(ge){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),De===null)throw Error(L(349));_r&30||Lf(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Zc(Af.bind(null,n,s,e),[e]),n.flags|=2048,Ni(9,Rf.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Mt(),t=De.identifierPrefix;if(ge){var r=zt,n=Ft;r=(n&~(1<<32-jt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Si++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xv={readContext:yt,useCallback:_f,useContext:yt,useEffect:Su,useImperativeHandle:Gf,useInsertionEffect:$f,useLayoutEffect:Uf,useMemo:Wf,useReducer:pa,useRef:zf,useState:function(){return pa(wi)},useDebugValue:wu,useDeferredValue:function(e){var t=xt();return Vf(t,Ne.memoizedState,e)},useTransition:function(){var e=pa(wi)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Mf,useSyncExternalStore:Of,useId:qf,unstable_isNewReconciler:!1},Zv={readContext:yt,useCallback:_f,useContext:yt,useEffect:Su,useImperativeHandle:Gf,useInsertionEffect:$f,useLayoutEffect:Uf,useMemo:Wf,useReducer:fa,useRef:zf,useState:function(){return fa(wi)},useDebugValue:wu,useDeferredValue:function(e){var t=xt();return Ne===null?t.memoizedState=e:Vf(t,Ne.memoizedState,e)},useTransition:function(){var e=fa(wi)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Mf,useSyncExternalStore:Of,useId:qf,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ll(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ho={isMounted:function(e){return(e=e._reactInternals)?Yr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_e(),i=ur(e),s=$t(n,i);s.payload=t,r!=null&&(s.callback=r),t=ar(e,s,i),t!==null&&(Dt(t,e,i,n),xs(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_e(),i=ur(e),s=$t(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ar(e,s,i),t!==null&&(Dt(t,e,i,n),xs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_e(),n=ur(e),i=$t(r,n);i.tag=2,t!=null&&(i.callback=t),t=ar(e,i,n),t!==null&&(Dt(t,e,n,r),xs(t,e,n))}};function ed(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!gi(r,n)||!gi(i,s):!0}function Jf(e,t,r){var n=!1,i=vr,s=t.contextType;return typeof s=="object"&&s!==null?s=yt(s):(i=Xe(t)?Hr:Ue.current,n=t.contextTypes,s=(n=n!=null)?xn(e,i):vr),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ho,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function td(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ho.enqueueReplaceState(t,t.state,null)}function ul(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},mu(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=yt(s):(s=Xe(t)?Hr:Ue.current,i.context=xn(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ll(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ho.enqueueReplaceState(i,i.state,null),Hs(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Nn(e,t){try{var r="",n=t;do r+=Dh(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ma(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var e0=typeof WeakMap=="function"?WeakMap:Map;function Xf(e,t,r){r=$t(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qs||(qs=!0,bl=n),cl(e,t)},r}function Zf(e,t,r){r=$t(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){cl(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){cl(e,t),typeof n!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function rd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new e0;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=m0.bind(null,e,t,r),t.then(e,e))}function nd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function id(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$t(-1,1),t.tag=2,ar(r,t,1))),r.lanes|=1),e)}var t0=Vt.ReactCurrentOwner,Ye=!1;function Ge(e,t,r,n){t.child=e===null?If(t,null,r,n):Sn(t,e.child,r,n)}function sd(e,t,r,n,i){r=r.render;var s=t.ref;return hn(t,i),n=xu(e,t,r,n,s,i),r=bu(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_t(e,t,i)):(ge&&r&&au(t),t.flags|=1,Ge(e,t,n,i),t.child)}function od(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Pu(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,em(e,t,s,n,i)):(e=Es(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:gi,r(o,n)&&e.ref===t.ref)return _t(e,t,i)}return t.flags|=1,e=cr(s,n),e.ref=t.ref,e.return=t,t.child=e}function em(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(gi(s,n)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,_t(e,t,i)}return dl(e,t,r,n,i)}function tm(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(dn,et),et|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(dn,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,le(dn,et),et|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,le(dn,et),et|=n;return Ge(e,t,i,r),t.child}function rm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dl(e,t,r,n,i){var s=Xe(r)?Hr:Ue.current;return s=xn(t,s),hn(t,i),r=xu(e,t,r,n,s,i),n=bu(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_t(e,t,i)):(ge&&n&&au(t),t.flags|=1,Ge(e,t,r,i),t.child)}function ad(e,t,r,n,i){if(Xe(r)){var s=!0;Bs(t)}else s=!1;if(hn(t,i),t.stateNode===null)ws(e,t),Jf(t,r,n),ul(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=yt(d):(d=Xe(r)?Hr:Ue.current,d=xn(t,d));var f=r.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==d)&&td(t,o,n,d),Kt=!1;var p=t.memoizedState;o.state=p,Hs(t,n,o,i),u=t.memoizedState,l!==n||p!==u||Je.current||Kt?(typeof f=="function"&&(ll(t,r,f,n),u=t.memoizedState),(l=Kt||ed(t,r,l,n,p,u,d))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Pf(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:wt(t.type,l),o.props=d,c=t.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=yt(u):(u=Xe(r)?Hr:Ue.current,u=xn(t,u));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||p!==u)&&td(t,o,n,u),Kt=!1,p=t.memoizedState,o.state=p,Hs(t,n,o,i);var v=t.memoizedState;l!==c||p!==v||Je.current||Kt?(typeof m=="function"&&(ll(t,r,m,n),v=t.memoizedState),(d=Kt||ed(t,r,d,n,p,v,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=u,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return pl(e,t,r,n,s,i)}function pl(e,t,r,n,i,s){rm(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Vc(t,r,!1),_t(e,t,s);n=t.stateNode,t0.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Sn(t,e.child,null,s),t.child=Sn(t,null,l,s)):Ge(e,t,l,s),t.memoizedState=n.state,i&&Vc(t,r,!0),t.child}function nm(e){var t=e.stateNode;t.pendingContext?Wc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wc(e,t.context,!1),gu(e,t.containerInfo)}function ld(e,t,r,n,i){return bn(),uu(i),t.flags|=256,Ge(e,t,r,n),t.child}var fl={dehydrated:null,treeContext:null,retryLane:0};function ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function im(e,t,r){var n=t.pendingProps,i=he.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),le(he,i&1),e===null)return ol(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xo(o,n,0,null),e=Ur(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ml(r),t.memoizedState=fl,e):Nu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return r0(e,t,o,n,l,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=cr(i,u),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=cr(l,s):(s=Ur(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?ml(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=fl,n}return s=e.child,e=s.sibling,n=cr(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Nu(e,t){return t=xo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function os(e,t,r,n){return n!==null&&uu(n),Sn(t,e.child,null,r),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r0(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=ma(Error(L(422))),os(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=xo({mode:"visible",children:n.children},i,0,null),s=Ur(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Sn(t,e.child,null,o),t.child.memoizedState=ml(o),t.memoizedState=fl,s);if(!(t.mode&1))return os(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(L(419)),n=ma(s,n,void 0),os(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ye||l){if(n=De,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gt(e,i),Dt(n,e,i,-1))}return ku(),n=ma(Error(L(421))),os(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=g0.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,tt=or(i.nextSibling),nt=t,ge=!0,Ct=null,e!==null&&(pt[ft++]=Ft,pt[ft++]=zt,pt[ft++]=Gr,Ft=e.id,zt=e.overflow,Gr=t),t=Nu(t,n.children),t.flags|=4096,t)}function ud(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),al(e.return,t,r)}function ga(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function sm(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Ge(e,t,n.children,r),n=he.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ud(e,r,t);else if(e.tag===19)ud(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(le(he,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Gs(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ga(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gs(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ga(t,!0,r,null,s);break;case"together":ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=cr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=cr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function n0(e,t,r){switch(t.tag){case 3:nm(t),bn();break;case 5:Tf(t);break;case 1:Xe(t.type)&&Bs(t);break;case 4:gu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;le($s,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(le(he,he.current&1),t.flags|=128,null):r&t.child.childLanes?im(e,t,r):(le(he,he.current&1),e=_t(e,t,r),e!==null?e.sibling:null);le(he,he.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sm(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(he,he.current),n)break;return null;case 22:case 23:return t.lanes=0,tm(e,t,r)}return _t(e,t,r)}var om,gl,am,lm;om=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gl=function(){};am=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Fr(Rt.current);var s=null;switch(r){case"input":i=Ba(e,i),n=Ba(e,n),s=[];break;case"select":i=ye({},i,{value:void 0}),n=ye({},n,{value:void 0}),s=[];break;case"textarea":i=$a(e,i),n=$a(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Rs)}Ha(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(li.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var u=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(li.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&ce("scroll",e),s||l===u||(s=[])):(s=s||[]).push(d,u))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};lm=function(e,t,r,n){r!==n&&(t.flags|=4)};function Un(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function i0(e,t,r){var n=t.pendingProps;switch(lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Xe(t.type)&&As(),ze(t),null;case 3:return n=t.stateNode,wn(),fe(Je),fe(Ue),vu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(Nl(Ct),Ct=null))),gl(e,t),ze(t),null;case 5:hu(t);var i=Fr(bi.current);if(r=t.type,e!==null&&t.stateNode!=null)am(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return ze(t),null}if(e=Fr(Rt.current),is(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ot]=t,n[yi]=s,e=(t.mode&1)!==0,r){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(i=0;i<Kn.length;i++)ce(Kn[i],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":yc(n,s),ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ce("invalid",n);break;case"textarea":bc(n,s),ce("invalid",n)}Ha(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&ns(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ns(n.textContent,l,e),i=["children",""+l]):li.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ce("scroll",n)}switch(r){case"input":Ki(n),xc(n,s,!0);break;case"textarea":Ki(n),Sc(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Rs)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ot]=t,e[yi]=n,om(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ga(r,n),r){case"dialog":ce("cancel",e),ce("close",e),i=n;break;case"iframe":case"object":case"embed":ce("load",e),i=n;break;case"video":case"audio":for(i=0;i<Kn.length;i++)ce(Kn[i],e);i=n;break;case"source":ce("error",e),i=n;break;case"img":case"image":case"link":ce("error",e),ce("load",e),i=n;break;case"details":ce("toggle",e),i=n;break;case"input":yc(e,n),i=Ba(e,n),ce("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ye({},n,{value:void 0}),ce("invalid",e);break;case"textarea":bc(e,n),i=$a(e,n),ce("invalid",e);break;default:i=n}Ha(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Fp(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ap(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ui(e,u):typeof u=="number"&&ui(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(li.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ce("scroll",e):u!=null&&ql(e,s,u,o))}switch(r){case"input":Ki(e),xc(e,n,!1);break;case"textarea":Ki(e),Sc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+hr(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?pn(e,!!n.multiple,s,!1):n.defaultValue!=null&&pn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Rs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)lm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Fr(bi.current),Fr(Rt.current),is(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ot]=t,(s=n.nodeValue!==r)&&(e=nt,e!==null))switch(e.tag){case 3:ns(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ns(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ot]=t,t.stateNode=n}return ze(t),null;case 13:if(fe(he),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&tt!==null&&t.mode&1&&!(t.flags&128))jf(),bn(),t.flags|=98560,s=!1;else if(s=is(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[Ot]=t}else bn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),s=!1}else Ct!==null&&(Nl(Ct),Ct=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Ce===0&&(Ce=3):ku())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return wn(),gl(e,t),e===null&&hi(t.stateNode.containerInfo),ze(t),null;case 10:return pu(t.type._context),ze(t),null;case 17:return Xe(t.type)&&As(),ze(t),null;case 19:if(fe(he),s=t.memoizedState,s===null)return ze(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Un(s,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gs(e),o!==null){for(t.flags|=128,Un(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return le(he,he.current&1|2),t.child}e=e.sibling}s.tail!==null&&Se()>Cn&&(t.flags|=128,n=!0,Un(s,!1),t.lanes=4194304)}else{if(!n)if(e=Gs(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Un(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ge)return ze(t),null}else 2*Se()-s.renderingStartTime>Cn&&r!==1073741824&&(t.flags|=128,n=!0,Un(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Se(),t.sibling=null,r=he.current,le(he,n?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return Iu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?et&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function s0(e,t){switch(lu(t),t.tag){case 1:return Xe(t.type)&&As(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wn(),fe(Je),fe(Ue),vu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hu(t),null;case 13:if(fe(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(he),null;case 4:return wn(),null;case 10:return pu(t.type._context),null;case 22:case 23:return Iu(),null;case 24:return null;default:return null}}var as=!1,$e=!1,o0=typeof WeakSet=="function"?WeakSet:Set,U=null;function cn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xe(e,t,n)}else r.current=null}function hl(e,t,r){try{r()}catch(n){xe(e,t,n)}}var cd=!1;function a0(e,t){if(Za=Ms,e=ff(),ou(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,d=0,f=0,c=e,p=null;t:for(;;){for(var m;c!==r||i!==0&&c.nodeType!==3||(l=o+i),c!==s||n!==0&&c.nodeType!==3||(u=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(m=c.firstChild)!==null;)p=c,c=m;for(;;){if(c===e)break t;if(p===r&&++d===i&&(l=o),p===s&&++f===n&&(u=o),(m=c.nextSibling)!==null)break;c=p,p=c.parentNode}c=m}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(el={focusedElem:e,selectionRange:r},Ms=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,w=v.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?x:wt(t.type,x),w);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){xe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return v=cd,cd=!1,v}function ri(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&hl(t,r,s)}i=i.next}while(i!==n)}}function vo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function um(e){var t=e.alternate;t!==null&&(e.alternate=null,um(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[yi],delete t[nl],delete t[Gv],delete t[_v])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cm(e){return e.tag===5||e.tag===3||e.tag===4}function dd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Rs));else if(n!==4&&(e=e.child,e!==null))for(yl(e,t,r),e=e.sibling;e!==null;)yl(e,t,r),e=e.sibling}function xl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xl(e,t,r),e=e.sibling;e!==null;)xl(e,t,r),e=e.sibling}var Le=null,Nt=!1;function qt(e,t,r){for(r=r.child;r!==null;)dm(e,t,r),r=r.sibling}function dm(e,t,r){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(lo,r)}catch{}switch(r.tag){case 5:$e||cn(r,t);case 6:var n=Le,i=Nt;Le=null,qt(e,t,r),Le=n,Nt=i,Le!==null&&(Nt?(e=Le,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Le.removeChild(r.stateNode));break;case 18:Le!==null&&(Nt?(e=Le,r=r.stateNode,e.nodeType===8?la(e.parentNode,r):e.nodeType===1&&la(e,r),fi(e)):la(Le,r.stateNode));break;case 4:n=Le,i=Nt,Le=r.stateNode.containerInfo,Nt=!0,qt(e,t,r),Le=n,Nt=i;break;case 0:case 11:case 14:case 15:if(!$e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hl(r,t,o),i=i.next}while(i!==n)}qt(e,t,r);break;case 1:if(!$e&&(cn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xe(r,t,l)}qt(e,t,r);break;case 21:qt(e,t,r);break;case 22:r.mode&1?($e=(n=$e)||r.memoizedState!==null,qt(e,t,r),$e=n):qt(e,t,r);break;default:qt(e,t,r)}}function pd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new o0),t.forEach(function(n){var i=h0.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function bt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Le=l.stateNode,Nt=!1;break e;case 3:Le=l.stateNode.containerInfo,Nt=!0;break e;case 4:Le=l.stateNode.containerInfo,Nt=!0;break e}l=l.return}if(Le===null)throw Error(L(160));dm(s,o,i),Le=null,Nt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){xe(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pm(t,e),t=t.sibling}function pm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Tt(e),n&4){try{ri(3,e,e.return),vo(3,e)}catch(x){xe(e,e.return,x)}try{ri(5,e,e.return)}catch(x){xe(e,e.return,x)}}break;case 1:bt(t,e),Tt(e),n&512&&r!==null&&cn(r,r.return);break;case 5:if(bt(t,e),Tt(e),n&512&&r!==null&&cn(r,r.return),e.flags&32){var i=e.stateNode;try{ui(i,"")}catch(x){xe(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Op(i,s),Ga(l,o);var d=Ga(l,s);for(o=0;o<u.length;o+=2){var f=u[o],c=u[o+1];f==="style"?Fp(i,c):f==="dangerouslySetInnerHTML"?Ap(i,c):f==="children"?ui(i,c):ql(i,f,c,d)}switch(l){case"input":Fa(i,s);break;case"textarea":Lp(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?pn(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?pn(i,!!s.multiple,s.defaultValue,!0):pn(i,!!s.multiple,s.multiple?[]:"",!1))}i[yi]=s}catch(x){xe(e,e.return,x)}}break;case 6:if(bt(t,e),Tt(e),n&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){xe(e,e.return,x)}}break;case 3:if(bt(t,e),Tt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fi(t.containerInfo)}catch(x){xe(e,e.return,x)}break;case 4:bt(t,e),Tt(e);break;case 13:bt(t,e),Tt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ju=Se())),n&4&&pd(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?($e=(d=$e)||f,bt(t,e),$e=d):bt(t,e),Tt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(U=e,f=e.child;f!==null;){for(c=U=f;U!==null;){switch(p=U,m=p.child,p.tag){case 0:case 11:case 14:case 15:ri(4,p,p.return);break;case 1:cn(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){xe(n,r,x)}}break;case 5:cn(p,p.return);break;case 22:if(p.memoizedState!==null){md(c);continue}}m!==null?(m.return=p,U=m):md(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,u=c.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Bp("display",o))}catch(x){xe(e,e.return,x)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=d?"":c.memoizedProps}catch(x){xe(e,e.return,x)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:bt(t,e),Tt(e),n&4&&pd(e);break;case 21:break;default:bt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cm(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ui(i,""),n.flags&=-33);var s=dd(e);xl(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=dd(e);yl(e,l,o);break;default:throw Error(L(161))}}catch(u){xe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function l0(e,t,r){U=e,fm(e)}function fm(e,t,r){for(var n=(e.mode&1)!==0;U!==null;){var i=U,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||as;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||$e;l=as;var d=$e;if(as=o,($e=u)&&!d)for(U=i;U!==null;)o=U,u=o.child,o.tag===22&&o.memoizedState!==null?gd(i):u!==null?(u.return=o,U=u):gd(i);for(;s!==null;)U=s,fm(s),s=s.sibling;U=i,as=l,$e=d}fd(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,U=s):fd(e)}}function fd(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||vo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$e)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:wt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Jc(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jc(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&fi(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}$e||t.flags&512&&vl(t)}catch(p){xe(t,t.return,p)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function md(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function gd(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vo(4,t)}catch(u){xe(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){xe(t,i,u)}}var s=t.return;try{vl(t)}catch(u){xe(t,s,u)}break;case 5:var o=t.return;try{vl(t)}catch(u){xe(t,o,u)}}}catch(u){xe(t,t.return,u)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var u0=Math.ceil,Vs=Vt.ReactCurrentDispatcher,Cu=Vt.ReactCurrentOwner,ht=Vt.ReactCurrentBatchConfig,ne=0,De=null,we=null,Ae=0,et=0,dn=Sr(0),Ce=0,Ci=null,Wr=0,yo=0,Eu=0,ni=null,Ke=null,ju=0,Cn=1/0,At=null,qs=!1,bl=null,lr=null,ls=!1,rr=null,Qs=0,ii=0,Sl=null,Ns=-1,Cs=0;function _e(){return ne&6?Se():Ns!==-1?Ns:Ns=Se()}function ur(e){return e.mode&1?ne&2&&Ae!==0?Ae&-Ae:Vv.transition!==null?(Cs===0&&(Cs=Yp()),Cs):(e=ie,e!==0||(e=window.event,e=e===void 0?16:nf(e.type)),e):1}function Dt(e,t,r,n){if(50<ii)throw ii=0,Sl=null,Error(L(185));Mi(e,r,n),(!(ne&2)||e!==De)&&(e===De&&(!(ne&2)&&(yo|=r),Ce===4&&Zt(e,Ae)),Ze(e,n),r===1&&ne===0&&!(t.mode&1)&&(Cn=Se()+500,mo&&wr()))}function Ze(e,t){var r=e.callbackNode;Vh(e,t);var n=Ts(e,e===De?Ae:0);if(n===0)r!==null&&Cc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Cc(r),t===1)e.tag===0?Wv(hd.bind(null,e)):Nf(hd.bind(null,e)),Uv(function(){!(ne&6)&&wr()}),r=null;else{switch(Jp(n)){case 1:r=Xl;break;case 4:r=Qp;break;case 16:r=Ps;break;case 536870912:r=Kp;break;default:r=Ps}r=Sm(r,mm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mm(e,t){if(Ns=-1,Cs=0,ne&6)throw Error(L(327));var r=e.callbackNode;if(vn()&&e.callbackNode!==r)return null;var n=Ts(e,e===De?Ae:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ks(e,n);else{t=n;var i=ne;ne|=2;var s=hm();(De!==e||Ae!==t)&&(At=null,Cn=Se()+500,$r(e,t));do try{p0();break}catch(l){gm(e,l)}while(1);du(),Vs.current=s,ne=i,we!==null?t=0:(De=null,Ae=0,t=Ce)}if(t!==0){if(t===2&&(i=Qa(e),i!==0&&(n=i,t=wl(e,i))),t===1)throw r=Ci,$r(e,0),Zt(e,n),Ze(e,Se()),r;if(t===6)Zt(e,n);else{if(i=e.current.alternate,!(n&30)&&!c0(i)&&(t=Ks(e,n),t===2&&(s=Qa(e),s!==0&&(n=s,t=wl(e,s))),t===1))throw r=Ci,$r(e,0),Zt(e,n),Ze(e,Se()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:kr(e,Ke,At);break;case 3:if(Zt(e,n),(n&130023424)===n&&(t=ju+500-Se(),10<t)){if(Ts(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){_e(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rl(kr.bind(null,e,Ke,At),t);break}kr(e,Ke,At);break;case 4:if(Zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-jt(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*u0(n/1960))-n,10<n){e.timeoutHandle=rl(kr.bind(null,e,Ke,At),n);break}kr(e,Ke,At);break;case 5:kr(e,Ke,At);break;default:throw Error(L(329))}}}return Ze(e,Se()),e.callbackNode===r?mm.bind(null,e):null}function wl(e,t){var r=ni;return e.current.memoizedState.isDehydrated&&($r(e,t).flags|=256),e=Ks(e,t),e!==2&&(t=Ke,Ke=r,t!==null&&Nl(t)),e}function Nl(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function c0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!It(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~Eu,t&=~yo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jt(t),n=1<<r;e[r]=-1,t&=~n}}function hd(e){if(ne&6)throw Error(L(327));vn();var t=Ts(e,0);if(!(t&1))return Ze(e,Se()),null;var r=Ks(e,t);if(e.tag!==0&&r===2){var n=Qa(e);n!==0&&(t=n,r=wl(e,n))}if(r===1)throw r=Ci,$r(e,0),Zt(e,t),Ze(e,Se()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kr(e,Ke,At),Ze(e,Se()),null}function Du(e,t){var r=ne;ne|=1;try{return e(t)}finally{ne=r,ne===0&&(Cn=Se()+500,mo&&wr())}}function Vr(e){rr!==null&&rr.tag===0&&!(ne&6)&&vn();var t=ne;ne|=1;var r=ht.transition,n=ie;try{if(ht.transition=null,ie=1,e)return e()}finally{ie=n,ht.transition=r,ne=t,!(ne&6)&&wr()}}function Iu(){et=dn.current,fe(dn)}function $r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$v(r)),we!==null)for(r=we.return;r!==null;){var n=r;switch(lu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&As();break;case 3:wn(),fe(Je),fe(Ue),vu();break;case 5:hu(n);break;case 4:wn();break;case 13:fe(he);break;case 19:fe(he);break;case 10:pu(n.type._context);break;case 22:case 23:Iu()}r=r.return}if(De=e,we=e=cr(e.current,null),Ae=et=t,Ce=0,Ci=null,Eu=yo=Wr=0,Ke=ni=null,Br!==null){for(t=0;t<Br.length;t++)if(r=Br[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Br=null}return e}function gm(e,t){do{var r=we;try{if(du(),bs.current=Ws,_s){for(var n=ve.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_s=!1}if(_r=0,je=Ne=ve=null,ti=!1,Si=0,Cu.current=null,r===null||r.return===null){Ce=1,Ci=t,we=null;break}e:{var s=e,o=r.return,l=r,u=t;if(t=Ae,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=nd(o);if(m!==null){m.flags&=-257,id(m,o,l,s,t),m.mode&1&&rd(s,d,t),t=m,u=d;var v=t.updateQueue;if(v===null){var x=new Set;x.add(u),t.updateQueue=x}else v.add(u);break e}else{if(!(t&1)){rd(s,d,t),ku();break e}u=Error(L(426))}}else if(ge&&l.mode&1){var w=nd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),id(w,o,l,s,t),uu(Nn(u,l));break e}}s=u=Nn(u,l),Ce!==4&&(Ce=2),ni===null?ni=[s]:ni.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=Xf(s,u,t);Yc(s,h);break e;case 1:l=u;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(lr===null||!lr.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=Zf(s,l,t);Yc(s,b);break e}}s=s.return}while(s!==null)}ym(r)}catch(N){t=N,we===r&&r!==null&&(we=r=r.return);continue}break}while(1)}function hm(){var e=Vs.current;return Vs.current=Ws,e===null?Ws:e}function ku(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),De===null||!(Wr&268435455)&&!(yo&268435455)||Zt(De,Ae)}function Ks(e,t){var r=ne;ne|=2;var n=hm();(De!==e||Ae!==t)&&(At=null,$r(e,t));do try{d0();break}catch(i){gm(e,i)}while(1);if(du(),ne=r,Vs.current=n,we!==null)throw Error(L(261));return De=null,Ae=0,Ce}function d0(){for(;we!==null;)vm(we)}function p0(){for(;we!==null&&!Bh();)vm(we)}function vm(e){var t=bm(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?ym(e):we=t,Cu.current=null}function ym(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=s0(r,t),r!==null){r.flags&=32767,we=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,we=null;return}}else if(r=i0(r,t,et),r!==null){we=r;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ce===0&&(Ce=5)}function kr(e,t,r){var n=ie,i=ht.transition;try{ht.transition=null,ie=1,f0(e,t,r,n)}finally{ht.transition=i,ie=n}return null}function f0(e,t,r,n){do vn();while(rr!==null);if(ne&6)throw Error(L(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(qh(e,s),e===De&&(we=De=null,Ae=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ls||(ls=!0,Sm(Ps,function(){return vn(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ht.transition,ht.transition=null;var o=ie;ie=1;var l=ne;ne|=4,Cu.current=null,a0(e,r),pm(r,e),Ov(el),Ms=!!Za,el=Za=null,e.current=r,l0(r),Fh(),ne=l,ie=o,ht.transition=s}else e.current=r;if(ls&&(ls=!1,rr=e,Qs=i),s=e.pendingLanes,s===0&&(lr=null),Uh(r.stateNode),Ze(e,Se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(qs)throw qs=!1,e=bl,bl=null,e;return Qs&1&&e.tag!==0&&vn(),s=e.pendingLanes,s&1?e===Sl?ii++:(ii=0,Sl=e):ii=0,wr(),null}function vn(){if(rr!==null){var e=Jp(Qs),t=ht.transition,r=ie;try{if(ht.transition=null,ie=16>e?16:e,rr===null)var n=!1;else{if(e=rr,rr=null,Qs=0,ne&6)throw Error(L(331));var i=ne;for(ne|=4,U=e.current;U!==null;){var s=U,o=s.child;if(U.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(U=d;U!==null;){var f=U;switch(f.tag){case 0:case 11:case 15:ri(8,f,s)}var c=f.child;if(c!==null)c.return=f,U=c;else for(;U!==null;){f=U;var p=f.sibling,m=f.return;if(um(f),f===d){U=null;break}if(p!==null){p.return=m,U=p;break}U=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}U=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,U=o;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ri(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,U=h;break e}U=s.return}}var g=e.current;for(U=g;U!==null;){o=U;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,U=y;else e:for(o=g;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vo(9,l)}}catch(N){xe(l,l.return,N)}if(l===o){U=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,U=b;break e}U=l.return}}if(ne=i,wr(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(lo,e)}catch{}n=!0}return n}finally{ie=r,ht.transition=t}}return!1}function vd(e,t,r){t=Nn(r,t),t=Xf(e,t,1),e=ar(e,t,1),t=_e(),e!==null&&(Mi(e,1,t),Ze(e,t))}function xe(e,t,r){if(e.tag===3)vd(e,e,r);else for(;t!==null;){if(t.tag===3){vd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(lr===null||!lr.has(n))){e=Nn(r,e),e=Zf(t,e,1),t=ar(t,e,1),e=_e(),t!==null&&(Mi(t,1,e),Ze(t,e));break}}t=t.return}}function m0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&r,De===e&&(Ae&r)===r&&(Ce===4||Ce===3&&(Ae&130023424)===Ae&&500>Se()-ju?$r(e,0):Eu|=r),Ze(e,t)}function xm(e,t){t===0&&(e.mode&1?(t=Xi,Xi<<=1,!(Xi&130023424)&&(Xi=4194304)):t=1);var r=_e();e=Gt(e,t),e!==null&&(Mi(e,t,r),Ze(e,r))}function g0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xm(e,r)}function h0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),xm(e,r)}var bm;bm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ye=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ye=!1,n0(e,t,r);Ye=!!(e.flags&131072)}else Ye=!1,ge&&t.flags&1048576&&Cf(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ws(e,t),e=t.pendingProps;var i=xn(t,Ue.current);hn(t,r),i=xu(null,t,n,e,i,r);var s=bu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(n)?(s=!0,Bs(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mu(t),i.updater=ho,t.stateNode=i,i._reactInternals=t,ul(t,n,e,r),t=pl(null,t,n,!0,s,r)):(t.tag=0,ge&&s&&au(t),Ge(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ws(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=y0(n),e=wt(n,e),i){case 0:t=dl(null,t,n,e,r);break e;case 1:t=ad(null,t,n,e,r);break e;case 11:t=sd(null,t,n,e,r);break e;case 14:t=od(null,t,n,wt(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wt(n,i),dl(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wt(n,i),ad(e,t,n,i,r);case 3:e:{if(nm(t),e===null)throw Error(L(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Pf(e,t),Hs(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Nn(Error(L(423)),t),t=ld(e,t,n,r,i);break e}else if(n!==i){i=Nn(Error(L(424)),t),t=ld(e,t,n,r,i);break e}else for(tt=or(t.stateNode.containerInfo.firstChild),nt=t,ge=!0,Ct=null,r=If(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bn(),n===i){t=_t(e,t,r);break e}Ge(e,t,n,r)}t=t.child}return t;case 5:return Tf(t),e===null&&ol(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,tl(n,i)?o=null:s!==null&&tl(n,s)&&(t.flags|=32),rm(e,t),Ge(e,t,o,r),t.child;case 6:return e===null&&ol(t),null;case 13:return im(e,t,r);case 4:return gu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Sn(t,null,n,r):Ge(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wt(n,i),sd(e,t,n,i,r);case 7:return Ge(e,t,t.pendingProps,r),t.child;case 8:return Ge(e,t,t.pendingProps.children,r),t.child;case 12:return Ge(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,le($s,n._currentValue),n._currentValue=o,s!==null)if(It(s.value,o)){if(s.children===i.children&&!Je.current){t=_t(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=$t(-1,r&-r),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),al(s.return,r,t),l.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),al(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ge(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,hn(t,r),i=yt(i),n=n(i),t.flags|=1,Ge(e,t,n,r),t.child;case 14:return n=t.type,i=wt(n,t.pendingProps),i=wt(n.type,i),od(e,t,n,i,r);case 15:return em(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wt(n,i),ws(e,t),t.tag=1,Xe(n)?(e=!0,Bs(t)):e=!1,hn(t,r),Jf(t,n,i),ul(t,n,i,r),pl(null,t,n,!0,e,r);case 19:return sm(e,t,r);case 22:return tm(e,t,r)}throw Error(L(156,t.tag))};function Sm(e,t){return qp(e,t)}function v0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,r,n){return new v0(e,t,r,n)}function Pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function y0(e){if(typeof e=="function")return Pu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kl)return 11;if(e===Yl)return 14}return 2}function cr(e,t){var r=e.alternate;return r===null?(r=mt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Es(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Pu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case en:return Ur(r.children,i,s,t);case Ql:o=8,i|=8;break;case Oa:return e=mt(12,r,t,i|2),e.elementType=Oa,e.lanes=s,e;case La:return e=mt(13,r,t,i),e.elementType=La,e.lanes=s,e;case Ra:return e=mt(19,r,t,i),e.elementType=Ra,e.lanes=s,e;case Pp:return xo(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ip:o=10;break e;case kp:o=9;break e;case Kl:o=11;break e;case Yl:o=14;break e;case Qt:o=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=mt(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Ur(e,t,r,n){return e=mt(7,e,n,t),e.lanes=r,e}function xo(e,t,r,n){return e=mt(22,e,n,t),e.elementType=Pp,e.lanes=r,e.stateNode={isHidden:!1},e}function ha(e,t,r){return e=mt(6,e,null,t),e.lanes=r,e}function va(e,t,r){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function x0(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jo(0),this.expirationTimes=Jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tu(e,t,r,n,i,s,o,l,u){return e=new x0(e,t,r,l,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=mt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mu(s),e}function b0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function wm(e){if(!e)return vr;e=e._reactInternals;e:{if(Yr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(Xe(r))return wf(e,r,t)}return t}function Nm(e,t,r,n,i,s,o,l,u){return e=Tu(r,n,!0,e,i,s,o,l,u),e.context=wm(null),r=e.current,n=_e(),i=ur(r),s=$t(n,i),s.callback=t??null,ar(r,s,i),e.current.lanes=i,Mi(e,i,n),Ze(e,n),e}function bo(e,t,r,n){var i=t.current,s=_e(),o=ur(i);return r=wm(r),t.context===null?t.context=r:t.pendingContext=r,t=$t(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ar(i,t,o),e!==null&&(Dt(e,i,o,s),xs(e,i,o)),o}function Ys(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Mu(e,t){yd(e,t),(e=e.alternate)&&yd(e,t)}function S0(){return null}var Cm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ou(e){this._internalRoot=e}So.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));bo(e,t,null,null)};So.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vr(function(){bo(null,e,null,null)}),t[Ht]=null}};function So(e){this._internalRoot=e}So.prototype.unstable_scheduleHydration=function(e){if(e){var t=ef();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xt.length&&t!==0&&t<Xt[r].priority;r++);Xt.splice(r,0,e),r===0&&rf(e)}};function Lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xd(){}function w0(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=Ys(o);s.call(d)}}var o=Nm(t,n,e,0,null,!1,!1,"",xd);return e._reactRootContainer=o,e[Ht]=o.current,hi(e.nodeType===8?e.parentNode:e),Vr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=Ys(u);l.call(d)}}var u=Tu(e,0,!1,null,null,!1,!1,"",xd);return e._reactRootContainer=u,e[Ht]=u.current,hi(e.nodeType===8?e.parentNode:e),Vr(function(){bo(t,u,r,n)}),u}function No(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Ys(o);l.call(u)}}bo(t,o,e,i)}else o=w0(r,t,e,i,n);return Ys(o)}Xp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qn(t.pendingLanes);r!==0&&(Zl(t,r|1),Ze(t,Se()),!(ne&6)&&(Cn=Se()+500,wr()))}break;case 13:Vr(function(){var n=Gt(e,1);if(n!==null){var i=_e();Dt(n,e,1,i)}}),Mu(e,1)}};eu=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var r=_e();Dt(t,e,134217728,r)}Mu(e,134217728)}};Zp=function(e){if(e.tag===13){var t=ur(e),r=Gt(e,t);if(r!==null){var n=_e();Dt(r,e,t,n)}Mu(e,t)}};ef=function(){return ie};tf=function(e,t){var r=ie;try{return ie=e,t()}finally{ie=r}};Wa=function(e,t,r){switch(t){case"input":if(Fa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=fo(n);if(!i)throw Error(L(90));Mp(n),Fa(n,i)}}}break;case"textarea":Lp(e,r);break;case"select":t=r.value,t!=null&&pn(e,!!r.multiple,t,!1)}};Up=Du;Hp=Vr;var N0={usingClientEntryPoint:!1,Events:[Li,sn,fo,zp,$p,Du]},Hn={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C0={bundleType:Hn.bundleType,version:Hn.version,rendererPackageName:Hn.rendererPackageName,rendererConfig:Hn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wp(e),e===null?null:e.stateNode},findFiberByHostInstance:Hn.findFiberByHostInstance||S0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!us.isDisabled&&us.supportsFiber)try{lo=us.inject(C0),Lt=us}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0;at.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lu(t))throw Error(L(200));return b0(e,t,null,r)};at.createRoot=function(e,t){if(!Lu(e))throw Error(L(299));var r=!1,n="",i=Cm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Tu(e,1,!1,null,null,r,!1,n,i),e[Ht]=t.current,hi(e.nodeType===8?e.parentNode:e),new Ou(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Wp(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return Vr(e)};at.hydrate=function(e,t,r){if(!wo(t))throw Error(L(200));return No(null,e,t,!0,r)};at.hydrateRoot=function(e,t,r){if(!Lu(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Cm;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Nm(t,null,e,1,r??null,i,!1,s,o),e[Ht]=t.current,hi(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new So(t)};at.render=function(e,t,r){if(!wo(t))throw Error(L(200));return No(null,e,t,!1,r)};at.unmountComponentAtNode=function(e){if(!wo(e))throw Error(L(40));return e._reactRootContainer?(Vr(function(){No(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};at.unstable_batchedUpdates=Du;at.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wo(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return No(e,t,r,!1,n)};at.version="18.3.1-next-f1338f8080-20240426";function Em(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Em)}catch(e){console.error(e)}}Em(),Cp.exports=at;var Ru=Cp.exports;const E0=$l(Ru);var bd=Ru;Ta.createRoot=bd.createRoot,Ta.hydrateRoot=bd.hydrateRoot;const Tr=class Tr{static getInstance(){return Tr.instance||(Tr.instance=new Tr),Tr.instance}async fetchMessageData(t){if(!t)throw new Error("Sample ID is required");const r=await fetch("http://localhost:8085/api/messages/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sampleId:t})});if(!r.ok)throw new Error(`Error: ${r.status}`);return await r.json()}async generateMessage(t,r,n,i,s,o,l,u,d){if(!t)throw new Error("No hay datos iniciales disponibles.");let f={message:t,messageType:r,hostName:n,hostType:i,status:s||null};d?d.type==="Specimen"?f.specimen=o:d.type==="Block"?f.block=l:d.type==="Slide"&&(f.slide=u):(o&&(f.specimen=o),l&&(f.block=l),u&&(f.slide=u));const c=await fetch("http://localhost:8085/api/messages/convert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!c.ok)throw new Error(`Error: ${c.status}`);return await c.json()}async sendMessage(t){const r=await fetch("http://localhost:8085/api/messages/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Error: ${r.status}`);const n=r.headers.get("content-type");return n&&n.includes("application/json")?await r.json():[{message:await r.text(),receiveTime:new Date().toISOString()}]}async deleteAllMessages(){const t=await fetch("http://localhost:8085/api/messages/deleteAll",{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){const r=await t.text();throw new Error(r||"Error al eliminar respuestas")}}};ae(Tr,"instance");let Cl=Tr;const zr=Cl.getInstance(),Sd="http://localhost:8085/api/messages";class j0{constructor(){ae(this,"cachedHosts",[]);ae(this,"hostMappings",new Map);ae(this,"clientData",new Map);this.initializeHostMappings()}initializeHostMappings(){this.hostMappings.set("LIS","LIS_HL7"),this.hostMappings.set("UPATH CLOUD","UPATH_CLOUD"),this.hostMappings.set("VANTAGE WS","VANTAGE_WS"),this.hostMappings.set("AUTOMATION SOFTWARE","AUTOMATION_SW")}async getHosts(){try{console.log("Fetching hosts from backend...");let t=await fetch(`${Sd}/hostClients`);if(!t.ok&&(console.warn("hostClients endpoint failed, trying hostsClient"),t=await fetch(`${Sd}/hostsClient`),!t.ok))throw new Error(`Both endpoints failed: ${t.status}`);const r=await t.json();if(console.log("Received clients from backend:",r),r.length>0&&r.every(s=>Object.keys(s).length===0||!s.clientName&&!s.name&&!s.hostName&&!s.id))throw console.warn("Received empty client objects from backend"),new Error("Received empty client objects");const n=r.map(s=>{const o=s.clientName||s.name||s.hostName||s.id;return o&&this.clientData.set(o,s),o}).filter(s=>s!=null&&s.trim()!=="");console.log("Extracted host names:",n);const i=[...new Set(n)];if(i.length===0)throw console.warn("No valid host names received from backend, using fallback"),new Error("No valid host names in response");return this.cachedHosts=i,i}catch(t){throw console.error("Error obteniendo hosts desde el backend:",t),this.cachedHosts=[],new Error(`Failed to fetch hosts from backend: ${t}`)}}getCachedHosts(){return this.cachedHosts}getClientType(t){const r=this.clientData.get(t);return r==null?void 0:r.clientType}getClientData(t){return this.clientData.get(t)}migrateHost(t){if(this.cachedHosts.includes(t))return t;const r=this.hostMappings.get(t);if(r&&this.cachedHosts.includes(r))return r;const n=this.cachedHosts.find(i=>i.includes(t)||t.includes(i));return n||t}hostExists(t){return this.cachedHosts.includes(t)}getDetectedMigrations(){const t=[];return this.hostMappings.forEach((r,n)=>{this.cachedHosts.includes(r)&&!this.cachedHosts.includes(n)&&t.push({oldHost:n,newHost:r})}),t}addHostMapping(t,r){this.hostMappings.set(t,r)}async initialize(){await this.getHosts()}}const er=new j0,Yt=class Yt{constructor(){ae(this,"messages",[]);ae(this,"listeners",[])}static getInstance(){return Yt.instance||(Yt.instance=new Yt,Yt.instance.initializeMigrations()),Yt.instance}subscribe(t){return this.listeners.push(t),t(this.messages),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(){this.listeners.forEach(t=>t(this.messages))}getMessages(){return[...this.messages]}addMessage(t,r,n,i){const s={id:Date.now().toString(),content:t,host:r,messageType:n,messageControlId:i,timestamp:new Date};return this.messages.push(s),this.notifyListeners(),s}removeMessage(t){this.messages=this.messages.filter(r=>r.id!==t),this.notifyListeners()}updateMessageResponses(t,r){console.log(`updateMessageResponses called with controlId: ${t}`,r),console.log("Current messages before update:",this.messages.map(n=>({id:n.id,controlId:n.messageControlId}))),this.messages=this.messages.map(n=>n.messageControlId===t?{...n,responses:r}:n),console.log("Updated messages:",this.messages.map(n=>({id:n.id,controlId:n.messageControlId,hasResponses:!!n.responses}))),this.notifyListeners(),console.log("Listeners notified")}clearAllResponses(){this.messages=this.messages.map(t=>({...t,responses:void 0,sentTimestamp:void 0})),this.notifyListeners()}clearMessageResponses(t){this.messages=this.messages.map(r=>r.id===t?{...r,responses:void 0,sentTimestamp:void 0}:r),this.notifyListeners()}reorderMessages(t,r){const n=Array.from(this.messages),[i]=n.splice(t,1);n.splice(r,0,i),this.messages=n,this.notifyListeners()}async sendMessage(t){const r=er.migrateHost(t.host),n={message:t.content,hostName:r,messageType:t.messageType,controlId:t.messageControlId},i=await zr.sendMessage(n);return this.messages=this.messages.map(s=>s.id===t.id?{...s,host:r,responses:i,sentTimestamp:new Date}:s),this.notifyListeners(),i}async sendAllMessages(){if(this.messages.length===0)throw new Error("No hay mensajes guardados para enviar.");for(const t of this.messages)await this.sendMessage(t)}updateMessageContent(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,content:r}:n),this.notifyListeners()}updateMessageComment(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,comment:r.trim()||void 0}:n),this.notifyListeners()}updateMessageControlId(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,messageControlId:r.trim()||void 0}:n),this.notifyListeners()}exportMessages(){const t={version:"1.0",exportDate:new Date().toISOString(),messages:this.messages.map(r=>{var n;return{...r,timestamp:r.timestamp.toISOString(),sentTimestamp:(n=r.sentTimestamp)==null?void 0:n.toISOString()}})};return JSON.stringify(t,null,2)}importMessages(t){try{const r=JSON.parse(t);if(!r.messages||!Array.isArray(r.messages))return{success:!1,message:"Formato de archivo invlido: no se encontraron mensajes"};const n=r.messages.map(i=>({...i,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date(i.timestamp),sentTimestamp:i.sentTimestamp?new Date(i.sentTimestamp):void 0,responses:void 0}));return this.messages=[...this.messages,...n],this.notifyListeners(),{success:!0,message:`${n.length} mensajes importados exitosamente`,importedCount:n.length}}catch{return{success:!1,message:"Error al procesar el archivo: formato JSON invlido"}}}clearAllMessages(){this.messages=[],this.notifyListeners()}migrateHostsInSavedMessages(){let t=!1;this.messages=this.messages.map(r=>{const n=er.migrateHost(r.host);return n!==r.host?(console.log(`Migrando mensaje ${r.id}: ${r.host}  ${n}`),t=!0,{...r,host:n}):r}),t&&(this.notifyListeners(),console.log("Migracin de hosts en mensajes guardados completada"))}initializeMigrations(){setTimeout(()=>{this.migrateHostsInSavedMessages()},1e3)}};ae(Yt,"instance");let El=Yt;const Me=El.getInstance(),Jt=class Jt{constructor(){ae(this,"lists",[]);ae(this,"activeListId",null);ae(this,"listeners",[]);ae(this,"STORAGE_KEY","messageLists");this.lists.length===0&&this.createList("Default","Lista principal de mensajes","#3B82F6")}static getInstance(){return Jt.instance||(Jt.instance=new Jt,Jt.instance.loadFromStorage()),Jt.instance}subscribe(t){return this.listeners.push(t),t(this.lists,this.activeListId),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(){this.saveToStorage(),this.listeners.forEach(t=>t(this.lists,this.activeListId))}saveToStorage(){try{const t={lists:this.lists.map(r=>({...r,createdAt:r.createdAt.toISOString(),updatedAt:r.updatedAt.toISOString(),messages:r.messages.map(n=>{var i;return{...n,timestamp:n.timestamp.toISOString(),sentTimestamp:(i=n.sentTimestamp)==null?void 0:i.toISOString()}})})),activeListId:this.activeListId};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(t){console.error("Error saving message lists to localStorage:",t)}}loadFromStorage(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(t){const r=JSON.parse(t);this.lists=r.lists.map(n=>({...n,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt),messages:n.messages.map(i=>({...i,timestamp:new Date(i.timestamp),sentTimestamp:i.sentTimestamp?new Date(i.sentTimestamp):void 0}))})),this.activeListId=r.activeListId,this.lists.length===0&&this.createList("Default","Lista principal de mensajes","#3B82F6"),(!this.activeListId||!this.lists.find(n=>n.id===this.activeListId))&&(this.activeListId=this.lists[0].id)}}catch(t){console.error("Error loading message lists from localStorage:",t),this.createList("Default","Lista principal de mensajes","#3B82F6")}}createList(t,r,n){const i={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:t.trim(),description:r==null?void 0:r.trim(),color:n||"#3B82F6",createdAt:new Date,updatedAt:new Date,messages:[]};return this.lists.push(i),this.activeListId||(this.activeListId=i.id),this.notifyListeners(),i}updateList(t,r){this.lists=this.lists.map(n=>n.id===t?{...n,...r,updatedAt:new Date}:n),this.notifyListeners()}deleteList(t){if(this.lists.length<=1)throw new Error("No se puede eliminar la nica lista existente");this.lists=this.lists.filter(r=>r.id!==t),this.activeListId===t&&(this.activeListId=this.lists[0].id),this.notifyListeners()}duplicateList(t,r){const n=this.lists.find(s=>s.id===t);if(!n)throw new Error("Lista no encontrada");const i={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:r||`${n.name} (Copia)`,description:n.description,color:n.color,createdAt:new Date,updatedAt:new Date,messages:n.messages.map(s=>({...s,id:Date.now().toString()+Math.random().toString(36).substr(2,9),responses:void 0,sentTimestamp:void 0}))};return this.lists.push(i),this.notifyListeners(),i}getLists(){return[...this.lists]}getActiveList(){return this.lists.find(t=>t.id===this.activeListId)||null}setActiveList(t){this.lists.find(r=>r.id===t)&&(this.activeListId=t,this.notifyListeners())}addMessage(t,r,n,i,s){const o=s||this.activeListId;if(!o)throw new Error("No hay lista activa");const l={id:Date.now().toString()+Math.random().toString(36).substr(2,9),content:t,host:r,messageType:n,messageControlId:i,timestamp:new Date};return this.lists=this.lists.map(u=>u.id===o?{...u,messages:[...u.messages,l],updatedAt:new Date}:u),this.notifyListeners(),l}removeMessage(t,r){const n=r||this.activeListId;n&&(this.lists=this.lists.map(i=>i.id===n?{...i,messages:i.messages.filter(s=>s.id!==t),updatedAt:new Date}:i),this.notifyListeners())}moveMessage(t,r,n){var s;const i=(s=this.lists.find(o=>o.id===r))==null?void 0:s.messages.find(o=>o.id===t);i&&(this.lists=this.lists.map(o=>o.id===r?{...o,messages:o.messages.filter(l=>l.id!==t),updatedAt:new Date}:o),this.lists=this.lists.map(o=>o.id===n?{...o,messages:[...o.messages,{...i,responses:void 0,sentTimestamp:void 0}],updatedAt:new Date}:o),this.notifyListeners())}updateMessageResponses(t,r,n){const i=n||this.activeListId;if(!i){console.warn("updateMessageResponses: No target list ID");return}console.log(`MessageListsService.updateMessageResponses called with controlId: ${t}`,r),console.log(`Target list ID: ${i}`),console.log("Current lists:",this.lists.map(s=>({id:s.id,name:s.name,messageCount:s.messages.length}))),this.lists=this.lists.map(s=>s.id===i?{...s,messages:s.messages.map(o=>{const l=o.messageControlId===t;return console.log(`Checking message ${o.id} with controlId ${o.messageControlId}: ${l?"MATCH":"no match"}`),l?{...o,responses:r}:o}),updatedAt:new Date}:s),console.log("Lists updated, notifying listeners"),this.notifyListeners()}clearAllResponses(t){const r=t||this.activeListId;r&&(this.lists=this.lists.map(n=>n.id===r?{...n,messages:n.messages.map(i=>({...i,responses:void 0,sentTimestamp:void 0})),updatedAt:new Date}:n),this.notifyListeners())}clearMessageResponses(t,r){const n=r||this.activeListId;n&&(this.lists=this.lists.map(i=>i.id===n?{...i,messages:i.messages.map(s=>s.id===t?{...s,responses:void 0,sentTimestamp:void 0}:s),updatedAt:new Date}:i),this.notifyListeners())}reorderMessages(t,r,n){const i=n||this.activeListId;i&&(this.lists=this.lists.map(s=>{if(s.id===i){const o=Array.from(s.messages),[l]=o.splice(t,1);return o.splice(r,0,l),{...s,messages:o,updatedAt:new Date}}return s}),this.notifyListeners())}reorderLists(t,r){const n=Array.from(this.lists),[i]=n.splice(t,1);n.splice(r,0,i),this.lists=n,this.notifyListeners()}async sendMessage(t,r){const n={message:t.content,hostName:t.host,messageType:t.messageType,controlId:t.messageControlId},i=await zr.sendMessage(n),s=r||this.activeListId;return s&&(this.lists=this.lists.map(o=>o.id===s?{...o,messages:o.messages.map(l=>l.id===t.id?{...l,responses:i,sentTimestamp:new Date}:l),updatedAt:new Date}:o),this.notifyListeners()),i}updateMessageContent(t,r,n){const i=n||this.activeListId;i&&(this.lists=this.lists.map(s=>s.id===i?{...s,messages:s.messages.map(o=>o.id===t?{...o,content:r}:o),updatedAt:new Date}:s),this.notifyListeners())}updateMessageComment(t,r,n){const i=n||this.activeListId;i&&(this.lists=this.lists.map(s=>s.id===i?{...s,messages:s.messages.map(o=>o.id===t?{...o,comment:r.trim()||void 0}:o),updatedAt:new Date}:s),this.notifyListeners())}updateMessageControlId(t,r,n){const i=n||this.activeListId;i&&(this.lists=this.lists.map(s=>s.id===i?{...s,messages:s.messages.map(o=>o.id===t?{...o,messageControlId:r.trim()||void 0}:o),updatedAt:new Date}:s),this.notifyListeners())}exportList(t){const r=this.lists.find(i=>i.id===t);if(!r)throw new Error("Lista no encontrada");const n={version:"1.0",exportDate:new Date().toISOString(),listInfo:{name:r.name,description:r.description,color:r.color},messages:r.messages.map(i=>{var s;return{...i,timestamp:i.timestamp.toISOString(),sentTimestamp:(s=i.sentTimestamp)==null?void 0:s.toISOString()}})};return JSON.stringify(n,null,2)}exportAllLists(){const t={version:"1.0",exportDate:new Date().toISOString(),lists:this.lists.map(r=>({...r,createdAt:r.createdAt.toISOString(),updatedAt:r.updatedAt.toISOString(),messages:r.messages.map(n=>{var i;return{...n,timestamp:n.timestamp.toISOString(),sentTimestamp:(i=n.sentTimestamp)==null?void 0:i.toISOString()}})}))};return JSON.stringify(t,null,2)}};ae(Jt,"instance");let jl=Jt;const de=jl.getInstance();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jm=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},u)=>I.createElement("svg",{ref:u,...I0,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:jm("lucide",i),...l},[...o.map(([d,f])=>I.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const r=I.forwardRef(({className:n,...i},s)=>I.createElement(k0,{ref:s,iconNode:t,className:jm(`lucide-${D0(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yr=be("ChevronDown",P0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qr=be("ChevronRight",T0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],O0=be("CircleAlert",M0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],R0=be("CircleCheckBig",L0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],B0=be("CircleX",A0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],z0=be("Copy",F0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],U0=be("Download",$0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Dm=be("GripVertical",H0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wd=be("Info",G0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]],Im=be("ListTree",_0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],V0=be("MessageCircle",W0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]],Q0=be("MessagesSquare",q0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Y0=be("Pen",K0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dr=be("Plus",J0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Dl=be("RotateCcw",X0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Au=be("Save",Z0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],km=be("Send",ey);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],si=be("SquarePen",ty);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],pr=be("Trash2",ry);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],iy=be("Trash",ny);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],oy=be("Upload",sy);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wt=be("X",ay);function Il(e,t){return Il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Il(e,t)}function Pm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Il(e,t)}function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V.apply(null,arguments)}function Ei(e){"@babel/helpers - typeof";return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(e)}function ly(e,t){if(Ei(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ei(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uy(e){var t=ly(e,"string");return Ei(t)=="symbol"?t:t+""}function cy(e,t,r){return(t=uy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nd(Object(r),!0).forEach(function(n){cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ed=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ya=function(){return Math.random().toString(36).substring(7).split("").join(".")},jd={INIT:"@@redux/INIT"+ya(),REPLACE:"@@redux/REPLACE"+ya(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ya()}};function dy(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Tm(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Qe(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Qe(1));return r(Tm)(e,t)}if(typeof e!="function")throw new Error(Qe(2));var i=e,s=t,o=[],l=o,u=!1;function d(){l===o&&(l=o.slice())}function f(){if(u)throw new Error(Qe(3));return s}function c(x){if(typeof x!="function")throw new Error(Qe(4));if(u)throw new Error(Qe(5));var w=!0;return d(),l.push(x),function(){if(w){if(u)throw new Error(Qe(6));w=!1,d();var g=l.indexOf(x);l.splice(g,1),o=null}}}function p(x){if(!dy(x))throw new Error(Qe(7));if(typeof x.type>"u")throw new Error(Qe(8));if(u)throw new Error(Qe(9));try{u=!0,s=i(s,x)}finally{u=!1}for(var w=o=l,h=0;h<w.length;h++){var g=w[h];g()}return x}function m(x){if(typeof x!="function")throw new Error(Qe(10));i=x,p({type:jd.REPLACE})}function v(){var x,w=c;return x={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Qe(11));function y(){g.next&&g.next(f())}y();var b=w(y);return{unsubscribe:b}}},x[Ed]=function(){return this},x}return p({type:jd.INIT}),n={dispatch:p,subscribe:c,getState:f,replaceReducer:m},n[Ed]=v,n}function Dd(e,t){return function(){return t(e.apply(this,arguments))}}function Id(e,t){if(typeof e=="function")return Dd(e,t);if(typeof e!="object"||e===null)throw new Error(Qe(16));var r={};for(var n in e){var i=e[n];typeof i=="function"&&(r[n]=Dd(i,t))}return r}function Mm(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function py(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),s=function(){throw new Error(Qe(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(u){return u(o)});return s=Mm.apply(void 0,l)(i.dispatch),Cd(Cd({},i),{},{dispatch:s})}}}var Om=pe.createContext(null);function fy(e){e()}var Lm=fy,my=function(t){return Lm=t},gy=function(){return Lm};function hy(){var e=gy(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=t;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=r={callback:i,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var kd={notify:function(){},get:function(){return[]}};function Rm(e,t){var r,n=kd;function i(c){return u(),n.subscribe(c)}function s(){n.notify()}function o(){f.onStateChange&&f.onStateChange()}function l(){return!!r}function u(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=hy())}function d(){r&&(r(),r=void 0,n.clear(),n=kd)}var f={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:l,trySubscribe:u,tryUnsubscribe:d,getListeners:function(){return n}};return f}var Am=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect;function vy(e){var t=e.store,r=e.context,n=e.children,i=I.useMemo(function(){var l=Rm(t);return{store:t,subscription:l}},[t]),s=I.useMemo(function(){return t.getState()},[t]);Am(function(){var l=i.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[i,s]);var o=r||Om;return pe.createElement(o.Provider,{value:i},n)}function Js(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bm={exports:{}},se={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pe=typeof Symbol=="function"&&Symbol.for,Bu=Pe?Symbol.for("react.element"):60103,Fu=Pe?Symbol.for("react.portal"):60106,Co=Pe?Symbol.for("react.fragment"):60107,Eo=Pe?Symbol.for("react.strict_mode"):60108,jo=Pe?Symbol.for("react.profiler"):60114,Do=Pe?Symbol.for("react.provider"):60109,Io=Pe?Symbol.for("react.context"):60110,zu=Pe?Symbol.for("react.async_mode"):60111,ko=Pe?Symbol.for("react.concurrent_mode"):60111,Po=Pe?Symbol.for("react.forward_ref"):60112,To=Pe?Symbol.for("react.suspense"):60113,yy=Pe?Symbol.for("react.suspense_list"):60120,Mo=Pe?Symbol.for("react.memo"):60115,Oo=Pe?Symbol.for("react.lazy"):60116,xy=Pe?Symbol.for("react.block"):60121,by=Pe?Symbol.for("react.fundamental"):60117,Sy=Pe?Symbol.for("react.responder"):60118,wy=Pe?Symbol.for("react.scope"):60119;function ut(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Bu:switch(e=e.type,e){case zu:case ko:case Co:case jo:case Eo:case To:return e;default:switch(e=e&&e.$$typeof,e){case Io:case Po:case Oo:case Mo:case Do:return e;default:return t}}case Fu:return t}}}function Fm(e){return ut(e)===ko}se.AsyncMode=zu;se.ConcurrentMode=ko;se.ContextConsumer=Io;se.ContextProvider=Do;se.Element=Bu;se.ForwardRef=Po;se.Fragment=Co;se.Lazy=Oo;se.Memo=Mo;se.Portal=Fu;se.Profiler=jo;se.StrictMode=Eo;se.Suspense=To;se.isAsyncMode=function(e){return Fm(e)||ut(e)===zu};se.isConcurrentMode=Fm;se.isContextConsumer=function(e){return ut(e)===Io};se.isContextProvider=function(e){return ut(e)===Do};se.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bu};se.isForwardRef=function(e){return ut(e)===Po};se.isFragment=function(e){return ut(e)===Co};se.isLazy=function(e){return ut(e)===Oo};se.isMemo=function(e){return ut(e)===Mo};se.isPortal=function(e){return ut(e)===Fu};se.isProfiler=function(e){return ut(e)===jo};se.isStrictMode=function(e){return ut(e)===Eo};se.isSuspense=function(e){return ut(e)===To};se.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Co||e===ko||e===jo||e===Eo||e===To||e===yy||typeof e=="object"&&e!==null&&(e.$$typeof===Oo||e.$$typeof===Mo||e.$$typeof===Do||e.$$typeof===Io||e.$$typeof===Po||e.$$typeof===by||e.$$typeof===Sy||e.$$typeof===wy||e.$$typeof===xy)};se.typeOf=ut;Bm.exports=se;var Ny=Bm.exports,$u=Ny,Cy={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ey={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jy={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zm={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Uu={};Uu[$u.ForwardRef]=jy;Uu[$u.Memo]=zm;function Pd(e){return $u.isMemo(e)?zm:Uu[e.$$typeof]||Cy}var Dy=Object.defineProperty,Iy=Object.getOwnPropertyNames,Td=Object.getOwnPropertySymbols,ky=Object.getOwnPropertyDescriptor,Py=Object.getPrototypeOf,Md=Object.prototype;function $m(e,t,r){if(typeof t!="string"){if(Md){var n=Py(t);n&&n!==Md&&$m(e,n,r)}var i=Iy(t);Td&&(i=i.concat(Td(t)));for(var s=Pd(e),o=Pd(t),l=0;l<i.length;++l){var u=i[l];if(!Ey[u]&&!(r&&r[u])&&!(o&&o[u])&&!(s&&s[u])){var d=ky(t,u);try{Dy(e,u,d)}catch{}}}}return e}var Ty=$m;const Od=$l(Ty);var Um={exports:{}},oe={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=60103,Ro=60106,Ai=60107,Bi=60108,Fi=60114,zi=60109,$i=60110,Ui=60112,Hi=60113,Hu=60120,Gi=60115,_i=60116,Hm=60121,Gm=60122,_m=60117,Wm=60129,Vm=60131;if(typeof Symbol=="function"&&Symbol.for){var Te=Symbol.for;Lo=Te("react.element"),Ro=Te("react.portal"),Ai=Te("react.fragment"),Bi=Te("react.strict_mode"),Fi=Te("react.profiler"),zi=Te("react.provider"),$i=Te("react.context"),Ui=Te("react.forward_ref"),Hi=Te("react.suspense"),Hu=Te("react.suspense_list"),Gi=Te("react.memo"),_i=Te("react.lazy"),Hm=Te("react.block"),Gm=Te("react.server.block"),_m=Te("react.fundamental"),Wm=Te("react.debug_trace_mode"),Vm=Te("react.legacy_hidden")}function kt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Lo:switch(e=e.type,e){case Ai:case Fi:case Bi:case Hi:case Hu:return e;default:switch(e=e&&e.$$typeof,e){case $i:case Ui:case _i:case Gi:case zi:return e;default:return t}}case Ro:return t}}}var My=zi,Oy=Lo,Ly=Ui,Ry=Ai,Ay=_i,By=Gi,Fy=Ro,zy=Fi,$y=Bi,Uy=Hi;oe.ContextConsumer=$i;oe.ContextProvider=My;oe.Element=Oy;oe.ForwardRef=Ly;oe.Fragment=Ry;oe.Lazy=Ay;oe.Memo=By;oe.Portal=Fy;oe.Profiler=zy;oe.StrictMode=$y;oe.Suspense=Uy;oe.isAsyncMode=function(){return!1};oe.isConcurrentMode=function(){return!1};oe.isContextConsumer=function(e){return kt(e)===$i};oe.isContextProvider=function(e){return kt(e)===zi};oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lo};oe.isForwardRef=function(e){return kt(e)===Ui};oe.isFragment=function(e){return kt(e)===Ai};oe.isLazy=function(e){return kt(e)===_i};oe.isMemo=function(e){return kt(e)===Gi};oe.isPortal=function(e){return kt(e)===Ro};oe.isProfiler=function(e){return kt(e)===Fi};oe.isStrictMode=function(e){return kt(e)===Bi};oe.isSuspense=function(e){return kt(e)===Hi};oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ai||e===Fi||e===Wm||e===Bi||e===Hi||e===Hu||e===Vm||typeof e=="object"&&e!==null&&(e.$$typeof===_i||e.$$typeof===Gi||e.$$typeof===zi||e.$$typeof===$i||e.$$typeof===Ui||e.$$typeof===_m||e.$$typeof===Hm||e[0]===Gm)};oe.typeOf=kt;Um.exports=oe;var Hy=Um.exports,Gy=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],_y=["reactReduxForwardedRef"],Wy=[],Vy=[null,null];function qy(e,t){var r=e[1];return[t.payload,r+1]}function Ld(e,t,r){Am(function(){return e.apply(void 0,t)},r)}function Qy(e,t,r,n,i,s,o){e.current=n,t.current=i,r.current=!1,s.current&&(s.current=null,o())}function Ky(e,t,r,n,i,s,o,l,u,d){if(e){var f=!1,c=null,p=function(){if(!f){var x=t.getState(),w,h;try{w=n(x,i.current)}catch(g){h=g,c=g}h||(c=null),w===s.current?o.current||u():(s.current=w,l.current=w,o.current=!0,d({type:"STORE_UPDATED",payload:{error:h}}))}};r.onStateChange=p,r.trySubscribe(),p();var m=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,c)throw c};return m}}var Yy=function(){return[null,0]};function Jy(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,i=n===void 0?function(y){return"ConnectAdvanced("+y+")"}:n,s=r.methodName,o=s===void 0?"connectAdvanced":s,l=r.renderCountProp,u=l===void 0?void 0:l,d=r.shouldHandleStateChanges,f=d===void 0?!0:d,c=r.storeKey,p=c===void 0?"store":c;r.withRef;var m=r.forwardRef,v=m===void 0?!1:m,x=r.context,w=x===void 0?Om:x,h=Js(r,Gy),g=w;return function(b){var N=b.displayName||b.name||"Component",E=i(N),P=V({},h,{getDisplayName:i,methodName:o,renderCountProp:u,shouldHandleStateChanges:f,storeKey:p,displayName:E,wrappedComponentName:N,WrappedComponent:b}),k=h.pure;function M(G){return e(G.dispatch,P)}var O=k?I.useMemo:function(G){return G()};function $(G){var R=I.useMemo(function(){var Ln=G.reactReduxForwardedRef,Wo=Js(G,_y);return[G.context,Ln,Wo]},[G]),A=R[0],C=R[1],S=R[2],j=I.useMemo(function(){return A&&A.Consumer&&Hy.isContextConsumer(pe.createElement(A.Consumer,null))?A:g},[A,g]),T=I.useContext(j),F=!!G.store&&!!G.store.getState&&!!G.store.dispatch;T&&T.store;var z=F?G.store:T.store,q=I.useMemo(function(){return M(z)},[z]),Z=I.useMemo(function(){if(!f)return Vy;var Ln=Rm(z,F?null:T.subscription),Wo=Ln.notifyNestedSubs.bind(Ln);return[Ln,Wo]},[z,F,T]),X=Z[0],J=Z[1],Q=I.useMemo(function(){return F?T:V({},T,{subscription:X})},[F,T,X]),D=I.useReducer(qy,Wy,Yy),H=D[0],me=H[0],ue=D[1];if(me&&me.error)throw me.error;var qe=I.useRef(),Pt=I.useRef(S),ct=I.useRef(),Cr=I.useRef(!1),Er=O(function(){return ct.current&&S===Pt.current?ct.current:q(z.getState(),S)},[z,me,S]);Ld(Qy,[Pt,qe,Cr,S,Er,ct,J]),Ld(Ky,[f,z,X,q,Pt,qe,Cr,ct,J,ue],[z,X,q]);var _o=I.useMemo(function(){return pe.createElement(b,V({},Er,{ref:C}))},[C,b,Er]),Jg=I.useMemo(function(){return f?pe.createElement(j.Provider,{value:Q},_o):_o},[j,_o,Q]);return Jg}var K=k?pe.memo($):$;if(K.WrappedComponent=b,K.displayName=$.displayName=E,v){var W=pe.forwardRef(function(R,A){return pe.createElement(K,V({},R,{reactReduxForwardedRef:A}))});return W.displayName=E,W.WrappedComponent=b,Od(W,b)}return Od(K,b)}}function Rd(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function xa(e,t){if(Rd(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!Rd(e[r[i]],t[r[i]]))return!1;return!0}function Xy(e,t){var r={},n=function(o){var l=e[o];typeof l=="function"&&(r[o]=function(){return t(l.apply(void 0,arguments))})};for(var i in e)n(i);return r}function Gu(e){return function(r,n){var i=e(r,n);function s(){return i}return s.dependsOnOwnProps=!1,s}}function Ad(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function qm(e,t){return function(n,i){i.displayName;var s=function(l,u){return s.dependsOnOwnProps?s.mapToProps(l,u):s.mapToProps(l)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,u){s.mapToProps=e,s.dependsOnOwnProps=Ad(e);var d=s(l,u);return typeof d=="function"&&(s.mapToProps=d,s.dependsOnOwnProps=Ad(d),d=s(l,u)),d},s}}function Zy(e){return typeof e=="function"?qm(e):void 0}function ex(e){return e?void 0:Gu(function(t){return{dispatch:t}})}function tx(e){return e&&typeof e=="object"?Gu(function(t){return Xy(e,t)}):void 0}const rx=[Zy,ex,tx];function nx(e){return typeof e=="function"?qm(e):void 0}function ix(e){return e?void 0:Gu(function(){return{}})}const sx=[nx,ix];function ox(e,t,r){return V({},r,e,t)}function ax(e){return function(r,n){n.displayName;var i=n.pure,s=n.areMergedPropsEqual,o=!1,l;return function(d,f,c){var p=e(d,f,c);return o?(!i||!s(p,l))&&(l=p):(o=!0,l=p),l}}}function lx(e){return typeof e=="function"?ax(e):void 0}function ux(e){return e?void 0:function(){return ox}}const cx=[lx,ux];var dx=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function px(e,t,r,n){return function(s,o){return r(e(s,o),t(n,o),o)}}function fx(e,t,r,n,i){var s=i.areStatesEqual,o=i.areOwnPropsEqual,l=i.areStatePropsEqual,u=!1,d,f,c,p,m;function v(y,b){return d=y,f=b,c=e(d,f),p=t(n,f),m=r(c,p,f),u=!0,m}function x(){return c=e(d,f),t.dependsOnOwnProps&&(p=t(n,f)),m=r(c,p,f),m}function w(){return e.dependsOnOwnProps&&(c=e(d,f)),t.dependsOnOwnProps&&(p=t(n,f)),m=r(c,p,f),m}function h(){var y=e(d,f),b=!l(y,c);return c=y,b&&(m=r(c,p,f)),m}function g(y,b){var N=!o(b,f),E=!s(y,d,b,f);return d=y,f=b,N&&E?x():N?w():E?h():m}return function(b,N){return u?g(b,N):v(b,N)}}function mx(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,s=Js(t,dx),o=r(e,s),l=n(e,s),u=i(e,s),d=s.pure?fx:px;return d(o,l,u,e,s)}var gx=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function ba(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(s,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function hx(e,t){return e===t}function vx(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?Jy:r,i=t.mapStateToPropsFactories,s=i===void 0?sx:i,o=t.mapDispatchToPropsFactories,l=o===void 0?rx:o,u=t.mergePropsFactories,d=u===void 0?cx:u,f=t.selectorFactory,c=f===void 0?mx:f;return function(m,v,x,w){w===void 0&&(w={});var h=w,g=h.pure,y=g===void 0?!0:g,b=h.areStatesEqual,N=b===void 0?hx:b,E=h.areOwnPropsEqual,P=E===void 0?xa:E,k=h.areStatePropsEqual,M=k===void 0?xa:k,O=h.areMergedPropsEqual,$=O===void 0?xa:O,K=Js(h,gx),W=ba(m,s,"mapStateToProps"),G=ba(v,l,"mapDispatchToProps"),R=ba(x,d,"mergeProps");return n(c,V({methodName:"connect",getDisplayName:function(C){return"Connect("+C+")"},shouldHandleStateChanges:!!m,initMapStateToProps:W,initMapDispatchToProps:G,initMergeProps:R,pure:y,areStatesEqual:N,areOwnPropsEqual:P,areStatePropsEqual:M,areMergedPropsEqual:$},K))}}const Qm=vx();my(Ru.unstable_batchedUpdates);function yx(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Km(e,t){var r=I.useState(function(){return{inputs:t,result:e()}})[0],n=I.useRef(!0),i=I.useRef(r),s=n.current||!!(t&&i.current.inputs&&yx(t,i.current.inputs)),o=s?i.current:{inputs:t,result:e()};return I.useEffect(function(){n.current=!1,i.current=o},[o]),o.result}function xx(e,t){return Km(function(){return e},t)}var re=Km,_=xx,bx=!0,Sa="Invariant failed";function Sx(e,t){if(!e){if(bx)throw new Error(Sa);var r=typeof t=="function"?t():t,n=r?"".concat(Sa,": ").concat(r):Sa;throw new Error(n)}}var Et=function(t){var r=t.top,n=t.right,i=t.bottom,s=t.left,o=n-s,l=i-r,u={top:r,right:n,bottom:i,left:s,width:o,height:l,x:s,y:r,center:{x:(n+s)/2,y:(i+r)/2}};return u},_u=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Bd=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},wx=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},wa={top:0,right:0,bottom:0,left:0},Wu=function(t){var r=t.borderBox,n=t.margin,i=n===void 0?wa:n,s=t.border,o=s===void 0?wa:s,l=t.padding,u=l===void 0?wa:l,d=Et(_u(r,i)),f=Et(Bd(r,o)),c=Et(Bd(f,u));return{marginBox:d,borderBox:Et(r),paddingBox:f,contentBox:c,margin:i,border:o,padding:u}},dt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&Sx(!1),i},Nx=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Xs=function(t,r){var n=t.borderBox,i=t.border,s=t.margin,o=t.padding,l=wx(n,r);return Wu({borderBox:l,border:i,margin:s,padding:o})},Zs=function(t,r){return r===void 0&&(r=Nx()),Xs(t,r)},Ym=function(t,r){var n={top:dt(r.marginTop),right:dt(r.marginRight),bottom:dt(r.marginBottom),left:dt(r.marginLeft)},i={top:dt(r.paddingTop),right:dt(r.paddingRight),bottom:dt(r.paddingBottom),left:dt(r.paddingLeft)},s={top:dt(r.borderTopWidth),right:dt(r.borderRightWidth),bottom:dt(r.borderBottomWidth),left:dt(r.borderLeftWidth)};return Wu({borderBox:t,margin:n,padding:i,border:s})},Jm=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return Ym(r,n)},Fd=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Cx(e,t){return!!(e===t||Fd(e)&&Fd(t))}function Ex(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Cx(e[r],t[r]))return!1;return!0}function Ie(e,t){t===void 0&&(t=Ex);var r,n=[],i,s=!1;function o(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return s&&r===this&&t(l,n)||(i=e.apply(this,l),s=!0,r=this,n=l),i}return o}var jx=function(t){var r=[],n=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};const ji=jx;function Xm(e,t){}Xm.bind(null,"warn");Xm.bind(null,"error");function fr(){}function Dx(e,t){return V({},e,{},t)}function gt(e,t,r){var n=t.map(function(i){var s=Dx(r,i.options);return e.addEventListener(i.eventName,i.fn,s),function(){e.removeEventListener(i.eventName,i.fn,s)}});return function(){n.forEach(function(s){s()})}}var Ix="Invariant failed";function eo(e){this.message=e}eo.prototype.toString=function(){return this.message};function B(e,t){if(!e)throw new eo(Ix)}var kx=function(e){Pm(t,e);function t(){for(var n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=e.call.apply(e,[this].concat(s))||this,n.callbacks=null,n.unbind=fr,n.onWindowError=function(l){var u=n.getCallbacks();u.isDragging()&&u.tryAbort();var d=l.error;d instanceof eo&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=gt(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(i){if(i instanceof eo){this.setState({});return}throw i},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(pe.Component),Px=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,to=function(t){return t+1},Tx=function(t){return`
  You have lifted an item in position `+to(t.source.index)+`
`},Zm=function(t,r){var n=t.droppableId===r.droppableId,i=to(t.index),s=to(r.index);return n?`
      You have moved the item from position `+i+`
      to position `+s+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+s+`
  `},eg=function(t,r,n){var i=r.droppableId===n.droppableId;return i?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Mx=function(t){var r=t.destination;if(r)return Zm(t.source,r);var n=t.combine;return n?eg(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},zd=function(t){return`
  The item has returned to its starting position
  of `+to(t.index)+`
`},Ox=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+zd(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+Zm(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+eg(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+zd(t.source)+`
  `},js={dragHandleUsageInstructions:Px,onDragStart:Tx,onDragUpdate:Mx,onDragEnd:Ox},ke={x:0,y:0},Re=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},rt=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},mr=function(t,r){return t.x===r.x&&t.y===r.y},Tn=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Qr=function(t,r,n){var i;return n===void 0&&(n=0),i={},i[t]=r,i[t==="x"?"y":"x"]=n,i},Di=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},$d=function(t,r){return Math.min.apply(Math,r.map(function(n){return Di(t,n)}))},tg=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},Lx=function(e,t){var r=Et({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Wi=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ud=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Rx={top:0,right:0,bottom:0,left:0},Ax=function(t,r){return r?Wi(t,r.scroll.diff.displacement):t},Bx=function(t,r,n){if(n&&n.increasedBy){var i;return V({},t,(i={},i[r.end]=t[r.end]+n.increasedBy[r.line],i))}return t},Fx=function(t,r){return r&&r.shouldClipSubject?Lx(r.pageMarginBox,t):Et(t)},En=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,i=e.frame,s=Ax(t.marginBox,i),o=Bx(s,n,r),l=Fx(o,i);return{page:t,withPlaceholder:r,active:l}},Vu=function(e,t){e.frame||B(!1);var r=e.frame,n=rt(t,r.scroll.initial),i=Tn(n),s=V({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:i},max:r.scroll.max}}),o=En({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s}),l=V({},e,{frame:s,subject:o});return l};function ro(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function qu(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Nr(e,t){if(e.find)return e.find(t);var r=qu(e,t);if(r!==-1)return e[r]}function rg(e){return Array.prototype.slice.call(e)}var ng=Ie(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),ig=Ie(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Ao=Ie(function(e){return ro(e)}),zx=Ie(function(e){return ro(e)}),Mn=Ie(function(e,t){var r=zx(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,i){return n.descriptor.index-i.descriptor.index});return r});function Qu(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Bo(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Fo=Ie(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),$x=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.insideDestination,s=e.previousImpact;if(!n.isCombineEnabled)return null;var o=Qu(s);if(!o)return null;function l(x){var w={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return V({},s,{at:w})}var u=s.displaced.all,d=u.length?u[0]:null;if(t)return d?l(d):null;var f=Fo(r,i);if(!d){if(!f.length)return null;var c=f[f.length-1];return l(c.descriptor.id)}var p=qu(f,function(x){return x.descriptor.id===d});p===-1&&B(!1);var m=p-1;if(m<0)return null;var v=f[m];return l(v.descriptor.id)},On=function(e,t){return e.descriptor.droppableId===t.descriptor.id},sg={point:ke,value:0},Ii={invisible:{},visible:{},all:[]},Ux={displaced:Ii,displacedBy:sg,at:null},vt=function(e,t){return function(r){return e<=r&&r<=t}},og=function(e){var t=vt(e.top,e.bottom),r=vt(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(i)return!0;var s=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),l=s&&o;if(l)return!0;var u=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right,f=u&&d;if(f)return!0;var c=u&&o||d&&s;return c}},Hx=function(e){var t=vt(e.top,e.bottom),r=vt(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return i}},Ku={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ag={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Gx=function(e){return function(t){var r=vt(t.top,t.bottom),n=vt(t.left,t.right);return function(i){return e===Ku?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)}}},_x=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:ke;return Wi(t,n)},Wx=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},Vx=function(t,r,n){return n(r)(t)},Yu=function(t){var r=t.target,n=t.destination,i=t.viewport,s=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=s?_x(r,n):r;return Wx(l,n,o)&&Vx(l,i,o)},qx=function(t){return Yu(V({},t,{isVisibleThroughFrameFn:og}))},lg=function(t){return Yu(V({},t,{isVisibleThroughFrameFn:Hx}))},Qx=function(t){return Yu(V({},t,{isVisibleThroughFrameFn:Gx(t.destination.axis)}))},Kx=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var i=r.invisible,s=r.visible;if(i[t])return!1;var o=s[t];return o?o.shouldAnimate:!0};function Yx(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Et(_u(r,n))}function ki(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,i=e.viewport,s=e.forceShouldAnimate,o=e.last;return t.reduce(function(u,d){var f=Yx(d,n),c=d.descriptor.id;u.all.push(c);var p=qx({target:f,destination:r,viewport:i,withDroppableDisplacement:!0});if(!p)return u.invisible[d.descriptor.id]=!0,u;var m=Kx(c,o,s),v={draggableId:c,shouldAnimate:m};return u.visible[c]=v,u},{all:[],visible:{},invisible:{}})}function Jx(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Hd(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,i=e.destination,s=Jx(t,{inHomeList:r});return{displaced:Ii,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function no(e){var t=e.draggable,r=e.insideDestination,n=e.destination,i=e.viewport,s=e.displacedBy,o=e.last,l=e.index,u=e.forceShouldAnimate,d=On(t,n);if(l==null)return Hd({insideDestination:r,inHomeList:d,displacedBy:s,destination:n});var f=Nr(r,function(x){return x.descriptor.index===l});if(!f)return Hd({insideDestination:r,inHomeList:d,displacedBy:s,destination:n});var c=Fo(t,r),p=r.indexOf(f),m=c.slice(p),v=ki({afterDragging:m,destination:n,displacedBy:s,last:o,viewport:i.frame,forceShouldAnimate:u});return{displaced:v,displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function xr(e,t){return!!t.effected[e]}var Xx=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,i=e.combine,s=e.afterCritical;if(!r.isCombineEnabled)return null;var o=i.draggableId,l=n[o],u=l.descriptor.index,d=xr(o,s);return d?t?u:u-1:t?u+1:u},Zx=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,i=e.location;if(!n.length)return null;var s=i.index,o=t?s+1:s-1,l=n[0].descriptor.index,u=n[n.length-1].descriptor.index,d=r?u:u+1;return o<l||o>d?null:o},eb=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,i=e.draggables,s=e.destination,o=e.insideDestination,l=e.previousImpact,u=e.viewport,d=e.afterCritical,f=l.at;if(f||B(!1),f.type==="REORDER"){var c=Zx({isMovingForward:t,isInHomeList:r,location:f.destination,insideDestination:o});return c==null?null:no({draggable:n,insideDestination:o,destination:s,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:c})}var p=Xx({isMovingForward:t,destination:s,displaced:l.displaced,draggables:i,combine:f.combine,afterCritical:d});return p==null?null:no({draggable:n,insideDestination:o,destination:s,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:p})},tb=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,i=e.displacedBy,s=!!(t.visible[n]||t.invisible[n]);return xr(n,r)?s?ke:Tn(i.point):s?i.point:ke},rb=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,i=Bo(r);i||B(!1);var s=i.draggableId,o=n[s].page.borderBox.center,l=tb({displaced:r.displaced,afterCritical:t,combineWith:s,displacedBy:r.displacedBy});return Re(o,l)},ug=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},nb=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Ju=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Gd=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return Qr(r.line,n.marginBox[r.end]+ug(r,i),Ju(r,n.marginBox,i))},_d=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return Qr(r.line,n.marginBox[r.start]-nb(r,i),Ju(r,n.marginBox,i))},ib=function(t){var r=t.axis,n=t.moveInto,i=t.isMoving;return Qr(r.line,n.contentBox[r.start]+ug(r,i),Ju(r,n.contentBox,i))},sb=function(e){var t=e.impact,r=e.draggable,n=e.draggables,i=e.droppable,s=e.afterCritical,o=Mn(i.descriptor.id,n),l=r.page,u=i.axis;if(!o.length)return ib({axis:u,moveInto:i.page,isMoving:l});var d=t.displaced,f=t.displacedBy,c=d.all[0];if(c){var p=n[c];if(xr(c,s))return _d({axis:u,moveRelativeTo:p.page,isMoving:l});var m=Xs(p.page,f.point);return _d({axis:u,moveRelativeTo:m,isMoving:l})}var v=o[o.length-1];if(v.descriptor.id===r.descriptor.id)return l.borderBox.center;if(xr(v.descriptor.id,s)){var x=Xs(v.page,Tn(s.displacedBy.point));return Gd({axis:u,moveRelativeTo:x,isMoving:l})}return Gd({axis:u,moveRelativeTo:v.page,isMoving:l})},kl=function(e,t){var r=e.frame;return r?Re(t,r.scroll.diff.displacement):t},ob=function(t){var r=t.impact,n=t.draggable,i=t.droppable,s=t.draggables,o=t.afterCritical,l=n.page.borderBox.center,u=r.at;return!i||!u?l:u.type==="REORDER"?sb({impact:r,draggable:n,draggables:s,droppable:i,afterCritical:o}):rb({impact:r,draggables:s,afterCritical:o})},zo=function(e){var t=ob(e),r=e.droppable,n=r?kl(r,t):t;return n},cg=function(e,t){var r=rt(t,e.scroll.initial),n=Tn(r),i=Et({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),s={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return s};function Wd(e,t){return e.map(function(r){return t[r]})}function ab(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var lb=function(e){var t=e.impact,r=e.viewport,n=e.destination,i=e.draggables,s=e.maxScrollChange,o=cg(r,Re(r.scroll.current,s)),l=n.frame?Vu(n,Re(n.frame.scroll.current,s)):n,u=t.displaced,d=ki({afterDragging:Wd(u.all,i),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:u,forceShouldAnimate:!1}),f=ki({afterDragging:Wd(u.all,i),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:u,forceShouldAnimate:!1}),c={},p={},m=[u,d,f];u.all.forEach(function(x){var w=ab(x,m);if(w){p[x]=w;return}c[x]=!0});var v=V({},t,{displaced:{all:u.all,invisible:c,visible:p}});return v},ub=function(e,t){return Re(e.scroll.diff.displacement,t)},Xu=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,i=ub(n,t),s=rt(i,r.page.borderBox.center);return Re(r.client.borderBox.center,s)},dg=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,i=e.viewport,s=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,u=rt(n,t.page.borderBox.center),d=Wi(t.page.borderBox,u),f={target:d,destination:r,withDroppableDisplacement:s,viewport:i};return l?Qx(f):lg(f)},cb=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.draggables,s=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,u=e.previousClientSelection,d=e.afterCritical;if(!n.isEnabled)return null;var f=Mn(n.descriptor.id,i),c=On(r,n),p=$x({isMovingForward:t,draggable:r,destination:n,insideDestination:f,previousImpact:s})||eb({isMovingForward:t,isInHomeList:c,draggable:r,draggables:i,destination:n,insideDestination:f,previousImpact:s,viewport:o,afterCritical:d});if(!p)return null;var m=zo({impact:p,draggable:r,droppable:n,draggables:i,afterCritical:d}),v=dg({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var x=Xu({pageBorderBoxCenter:m,draggable:r,viewport:o});return{clientSelection:x,impact:p,scrollJumpRequest:null}}var w=rt(m,l),h=lb({impact:p,viewport:o,destination:n,draggables:i,maxScrollChange:w});return{clientSelection:u,impact:h,scrollJumpRequest:w}},He=function(t){var r=t.subject.active;return r||B(!1),r},db=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,i=e.droppables,s=e.viewport,o=n.subject.active;if(!o)return null;var l=n.axis,u=vt(o[l.start],o[l.end]),d=Ao(i).filter(function(c){return c!==n}).filter(function(c){return c.isEnabled}).filter(function(c){return!!c.subject.active}).filter(function(c){return og(s.frame)(He(c))}).filter(function(c){var p=He(c);return t?o[l.crossAxisEnd]<p[l.crossAxisEnd]:p[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(c){var p=He(c),m=vt(p[l.start],p[l.end]);return u(p[l.start])||u(p[l.end])||m(o[l.start])||m(o[l.end])}).sort(function(c,p){var m=He(c)[l.crossAxisStart],v=He(p)[l.crossAxisStart];return t?m-v:v-m}).filter(function(c,p,m){return He(c)[l.crossAxisStart]===He(m[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var f=d.filter(function(c){var p=vt(He(c)[l.start],He(c)[l.end]);return p(r[l.line])});return f.length===1?f[0]:f.length>1?f.sort(function(c,p){return He(c)[l.start]-He(p)[l.start]})[0]:d.sort(function(c,p){var m=$d(r,Ud(He(c))),v=$d(r,Ud(He(p)));return m!==v?m-v:He(c)[l.start]-He(p)[l.start]})[0]},Vd=function(t,r){var n=t.page.borderBox.center;return xr(t.descriptor.id,r)?rt(n,r.displacedBy.point):n},pb=function(t,r){var n=t.page.borderBox;return xr(t.descriptor.id,r)?Wi(n,Tn(r.displacedBy.point)):n},fb=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,i=e.insideDestination,s=e.afterCritical,o=i.filter(function(l){return lg({target:pb(l,s),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,u){var d=Di(t,kl(n,Vd(l,s))),f=Di(t,kl(n,Vd(u,s)));return d<f?-1:f<d?1:l.descriptor.index-u.descriptor.index});return o[0]||null},Vi=Ie(function(t,r){var n=r[t.line];return{value:n,point:Qr(t.line,n)}}),mb=function(t,r,n){var i=t.axis;if(t.descriptor.mode==="virtual")return Qr(i.line,r[i.line]);var s=t.subject.page.contentBox[i.size],o=Mn(t.descriptor.id,n),l=o.reduce(function(f,c){return f+c.client.marginBox[i.size]},0),u=l+r[i.line],d=u-s;return d<=0?null:Qr(i.line,d)},pg=function(t,r){return V({},t,{scroll:V({},t.scroll,{max:r})})},fg=function(t,r,n){var i=t.frame;On(r,t)&&B(!1),t.subject.withPlaceholder&&B(!1);var s=Vi(t.axis,r.displaceBy).point,o=mb(t,s,n),l={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var u=En({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return V({},t,{subject:u})}var d=o?Re(i.scroll.max,o):i.scroll.max,f=pg(i,d),c=En({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:f});return V({},t,{subject:c,frame:f})},gb=function(t){var r=t.subject.withPlaceholder;r||B(!1);var n=t.frame;if(!n){var i=En({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return V({},t,{subject:i})}var s=r.oldFrameMaxScroll;s||B(!1);var o=pg(n,s),l=En({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return V({},t,{subject:l,frame:o})},hb=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,i=e.draggable,s=e.draggables,o=e.destination,l=e.viewport,u=e.afterCritical;if(!r){if(n.length)return null;var d={displaced:Ii,displacedBy:sg,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},f=zo({impact:d,draggable:i,droppable:o,draggables:s,afterCritical:u}),c=On(i,o)?o:fg(o,i,s),p=dg({draggable:i,destination:c,newPageBorderBoxCenter:f,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?d:null}var m=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],v=function(){var w=r.descriptor.index;return r.descriptor.id===i.descriptor.id||m?w:w+1}(),x=Vi(o.axis,i.displaceBy);return no({draggable:i,insideDestination:n,destination:o,viewport:l,displacedBy:x,last:Ii,index:v})},vb=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,i=e.isOver,s=e.draggables,o=e.droppables,l=e.viewport,u=e.afterCritical,d=db({isMovingForward:t,pageBorderBoxCenter:r,source:i,droppables:o,viewport:l});if(!d)return null;var f=Mn(d.descriptor.id,s),c=fb({pageBorderBoxCenter:r,viewport:l,destination:d,insideDestination:f,afterCritical:u}),p=hb({previousPageBorderBoxCenter:r,destination:d,draggable:n,draggables:s,moveRelativeTo:c,insideDestination:f,viewport:l,afterCritical:u});if(!p)return null;var m=zo({impact:p,draggable:n,droppable:d,draggables:s,afterCritical:u}),v=Xu({pageBorderBoxCenter:m,draggable:n,viewport:l});return{clientSelection:v,impact:p,scrollJumpRequest:null}},it=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},yb=function(t,r){var n=it(t);return n?r[n]:null},xb=function(e){var t=e.state,r=e.type,n=yb(t.impact,t.dimensions.droppables),i=!!n,s=t.dimensions.droppables[t.critical.droppable.id],o=n||s,l=o.axis.direction,u=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(u&&!i)return null;var d=r==="MOVE_DOWN"||r==="MOVE_RIGHT",f=t.dimensions.draggables[t.critical.draggable.id],c=t.current.page.borderBoxCenter,p=t.dimensions,m=p.draggables,v=p.droppables;return u?cb({isMovingForward:d,previousPageBorderBoxCenter:c,draggable:f,destination:o,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):vb({isMovingForward:d,previousPageBorderBoxCenter:c,draggable:f,isOver:o,draggables:m,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function Pr(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function mg(e){var t=vt(e.top,e.bottom),r=vt(e.left,e.right);return function(i){return t(i.y)&&r(i.x)}}function bb(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Sb(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,i=r.page.borderBox.center,s=n.map(function(o){var l=o.axis,u=Qr(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:Di(i,u)}}).sort(function(o,l){return l.distance-o.distance});return s[0]?s[0].id:null}function wb(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,i=Ao(n).filter(function(s){if(!s.isEnabled)return!1;var o=s.subject.active;if(!o||!bb(t,o))return!1;if(mg(o)(t.center))return!0;var l=s.axis,u=o.center[l.crossAxisLine],d=t[l.crossAxisStart],f=t[l.crossAxisEnd],c=vt(o[l.crossAxisStart],o[l.crossAxisEnd]),p=c(d),m=c(f);return!p&&!m?!0:p?d<u:f>u});return i.length?i.length===1?i[0].descriptor.id:Sb({pageBorderBox:t,draggable:r,candidates:i}):null}var gg=function(t,r){return Et(Wi(t,r))},Nb=function(e,t){var r=e.frame;return r?gg(t,r.scroll.diff.value):t};function hg(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function Cb(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var Eb=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,i=e.insideDestination,s=e.last,o=e.viewport,l=e.afterCritical,u=n.axis,d=Vi(n.axis,r.displaceBy),f=d.value,c=t[u.start],p=t[u.end],m=Fo(r,i),v=Nr(m,function(w){var h=w.descriptor.id,g=w.page.borderBox.center[u.line],y=xr(h,l),b=hg({displaced:s,id:h});return y?b?p<=g:c<g-f:b?p<=g+f:c<g}),x=Cb({draggable:r,closest:v,inHomeList:On(r,n)});return no({draggable:r,insideDestination:i,destination:n,viewport:o,last:s,displacedBy:d,index:x})},jb=4,Db=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,i=e.destination,s=e.insideDestination,o=e.afterCritical;if(!i.isCombineEnabled)return null;var l=i.axis,u=Vi(i.axis,t.displaceBy),d=u.value,f=r[l.start],c=r[l.end],p=Fo(t,s),m=Nr(p,function(x){var w=x.descriptor.id,h=x.page.borderBox,g=h[l.size],y=g/jb,b=xr(w,o),N=hg({displaced:n.displaced,id:w});return b?N?c>h[l.start]+y&&c<h[l.end]-y:f>h[l.start]-d+y&&f<h[l.end]-d-y:N?c>h[l.start]+d+y&&c<h[l.end]+d-y:f>h[l.start]+y&&f<h[l.end]-y});if(!m)return null;var v={displacedBy:u,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:i.descriptor.id}}};return v},vg=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,i=e.droppables,s=e.previousImpact,o=e.viewport,l=e.afterCritical,u=gg(r.page.borderBox,t),d=wb({pageBorderBox:u,draggable:r,droppables:i});if(!d)return Ux;var f=i[d],c=Mn(f.descriptor.id,n),p=Nb(f,u);return Db({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:s,destination:f,insideDestination:c,afterCritical:l})||Eb({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:f,insideDestination:c,last:s.displaced,viewport:o,afterCritical:l})},Zu=function(e,t){var r;return V({},e,(r={},r[t.descriptor.id]=t,r))},Ib=function(t){var r=t.previousImpact,n=t.impact,i=t.droppables,s=it(r),o=it(n);if(!s||s===o)return i;var l=i[s];if(!l.subject.withPlaceholder)return i;var u=gb(l);return Zu(i,u)},kb=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,i=e.previousImpact,s=e.impact,o=Ib({previousImpact:i,impact:s,droppables:n}),l=it(s);if(!l)return o;var u=n[l];if(On(t,u)||u.subject.withPlaceholder)return o;var d=fg(u,t,r);return Zu(o,d)},oi=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,i=e.viewport,s=e.impact,o=e.scrollJumpRequest,l=i||t.viewport,u=n||t.dimensions,d=r||t.current.client.selection,f=rt(d,t.initial.client.selection),c={offset:f,selection:d,borderBoxCenter:Re(t.initial.client.borderBoxCenter,f)},p={selection:Re(c.selection,l.scroll.current),borderBoxCenter:Re(c.borderBoxCenter,l.scroll.current),offset:Re(c.offset,l.scroll.diff.value)},m={client:c,page:p};if(t.phase==="COLLECTING")return V({phase:"COLLECTING"},t,{dimensions:u,viewport:l,current:m});var v=u.draggables[t.critical.draggable.id],x=s||vg({pageOffset:p.offset,draggable:v,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),w=kb({draggable:v,impact:x,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables}),h=V({},t,{current:m,dimensions:{draggables:u.draggables,droppables:w},impact:x,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return h};function Pb(e,t){return e.map(function(r){return t[r]})}var yg=function(e){var t=e.impact,r=e.viewport,n=e.draggables,i=e.destination,s=e.forceShouldAnimate,o=t.displaced,l=Pb(o.all,n),u=ki({afterDragging:l,destination:i,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:s,last:o});return V({},t,{displaced:u})},xg=function(e){var t=e.impact,r=e.draggable,n=e.droppable,i=e.draggables,s=e.viewport,o=e.afterCritical,l=zo({impact:t,draggable:r,draggables:i,droppable:n,afterCritical:o});return Xu({pageBorderBoxCenter:l,draggable:r,viewport:s})},bg=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&B(!1);var i=t.impact,s=n||t.viewport,o=r||t.dimensions,l=o.draggables,u=o.droppables,d=l[t.critical.draggable.id],f=it(i);f||B(!1);var c=u[f],p=yg({impact:i,viewport:s,destination:c,draggables:l}),m=xg({impact:p,draggable:d,droppable:c,draggables:l,viewport:s,afterCritical:t.afterCritical});return oi({impact:p,clientSelection:m,state:t,dimensions:o,viewport:s})},Tb=function(e){return{index:e.index,droppableId:e.droppableId}},Sg=function(e){var t=e.draggable,r=e.home,n=e.draggables,i=e.viewport,s=Vi(r.axis,t.displaceBy),o=Mn(r.descriptor.id,n),l=o.indexOf(t);l===-1&&B(!1);var u=o.slice(l+1),d=u.reduce(function(m,v){return m[v.descriptor.id]=!0,m},{}),f={inVirtualList:r.descriptor.mode==="virtual",displacedBy:s,effected:d},c=ki({afterDragging:u,destination:r,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),p={displaced:c,displacedBy:s,at:{type:"REORDER",destination:Tb(t.descriptor)}};return{impact:p,afterCritical:f}},Mb=function(e,t){return{draggables:e.draggables,droppables:Zu(e.droppables,t)}},Ob=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,i=Xs(t.client,r),s=Zs(i,n),o=V({},t,{placeholder:V({},t.placeholder,{client:i}),client:i,page:s});return o},Lb=function(e){var t=e.frame;return t||B(!1),t},Rb=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,i=n.scroll.diff.value;return t.map(function(s){var o=s.descriptor.droppableId,l=r[o],u=Lb(l),d=u.scroll.diff.value,f=Re(i,d),c=Ob({draggable:s,offset:f,initialWindowScroll:n.scroll.initial});return c})},Ab=function(e){var t=e.state,r=e.published,n=r.modified.map(function(y){var b=t.dimensions.droppables[y.droppableId],N=Vu(b,y.scroll);return N}),i=V({},t.dimensions.droppables,{},ng(n)),s=ig(Rb({additions:r.additions,updatedDroppables:i,viewport:t.viewport})),o=V({},t.dimensions.draggables,{},s);r.removals.forEach(function(y){delete o[y]});var l={droppables:i,draggables:o},u=it(t.impact),d=u?l.droppables[u]:null,f=l.draggables[t.critical.draggable.id],c=l.droppables[t.critical.droppable.id],p=Sg({draggable:f,home:c,draggables:o,viewport:t.viewport}),m=p.impact,v=p.afterCritical,x=d&&d.isCombineEnabled?t.impact:m,w=vg({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:x,viewport:t.viewport,afterCritical:v}),h=V({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:w,onLiftImpact:m,dimensions:l,afterCritical:v,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return h;var g=V({phase:"DROP_PENDING"},h,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return g},Pl=function(t){return t.movementMode==="SNAP"},Na=function(t,r,n){var i=Mb(t.dimensions,r);return!Pl(t)||n?oi({state:t,dimensions:i}):bg({state:t,dimensions:i})};function Ca(e){return e.isDragging&&e.movementMode==="SNAP"?V({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var qd={phase:"IDLE",completed:null,shouldFlush:!1},Bb=function(e,t){if(e===void 0&&(e=qd),t.type==="FLUSH")return V({},qd,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&B(!1);var r=t.payload,n=r.critical,i=r.clientSelection,s=r.viewport,o=r.dimensions,l=r.movementMode,u=o.draggables[n.draggable.id],d=o.droppables[n.droppable.id],f={selection:i,borderBoxCenter:u.client.borderBox.center,offset:ke},c={client:f,page:{selection:Re(f.selection,s.scroll.initial),borderBoxCenter:Re(f.selection,s.scroll.initial),offset:Re(f.selection,s.scroll.diff.value)}},p=Ao(o.droppables).every(function(ue){return!ue.isFixedOnPage}),m=Sg({draggable:u,home:d,draggables:o.draggables,viewport:s}),v=m.impact,x=m.afterCritical,w={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:c,current:c,isWindowScrollAllowed:p,impact:v,afterCritical:x,onLiftImpact:v,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return w}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&B(!1);var h=V({phase:"COLLECTING"},e,{phase:"COLLECTING"});return h}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||B(!1),Ab({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Pr(e)||B(!1);var g=t.payload.client;return mr(g,e.current.client.selection)?e:oi({state:e,clientSelection:g,impact:Pl(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ca(e);Pr(e)||B(!1);var y=t.payload,b=y.id,N=y.newScroll,E=e.dimensions.droppables[b];if(!E)return e;var P=Vu(E,N);return Na(e,P,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Pr(e)||B(!1);var k=t.payload,M=k.id,O=k.isEnabled,$=e.dimensions.droppables[M];$||B(!1),$.isEnabled===O&&B(!1);var K=V({},$,{isEnabled:O});return Na(e,K,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Pr(e)||B(!1);var W=t.payload,G=W.id,R=W.isCombineEnabled,A=e.dimensions.droppables[G];A||B(!1),A.isCombineEnabled===R&&B(!1);var C=V({},A,{isCombineEnabled:R});return Na(e,C,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Pr(e)||B(!1),e.isWindowScrollAllowed||B(!1);var S=t.payload.newScroll;if(mr(e.viewport.scroll.current,S))return Ca(e);var j=cg(e.viewport,S);return Pl(e)?bg({state:e,viewport:j}):oi({state:e,viewport:j})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Pr(e))return e;var T=t.payload.maxScroll;if(mr(T,e.viewport.scroll.max))return e;var F=V({},e.viewport,{scroll:V({},e.viewport.scroll,{max:T})});return V({phase:"DRAGGING"},e,{viewport:F})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&B(!1);var z=xb({state:e,type:t.type});return z?oi({state:e,impact:z.impact,clientSelection:z.clientSelection,scrollJumpRequest:z.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var q=t.payload.reason;e.phase!=="COLLECTING"&&B(!1);var Z=V({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:q});return Z}if(t.type==="DROP_ANIMATE"){var X=t.payload,J=X.completed,Q=X.dropDuration,D=X.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||B(!1);var H={phase:"DROP_ANIMATING",completed:J,dropDuration:Q,newHomeClientOffset:D,dimensions:e.dimensions};return H}if(t.type==="DROP_COMPLETE"){var me=t.payload.completed;return{phase:"IDLE",completed:me,shouldFlush:!1}}return e},Fb=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},zb=function(t){return{type:"LIFT",payload:t}},$b=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Ub=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},Hb=function(){return{type:"COLLECTION_STARTING",payload:null}},Gb=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},_b=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Wb=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},wg=function(t){return{type:"MOVE",payload:t}},Vb=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},qb=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Qb=function(){return{type:"MOVE_UP",payload:null}},Kb=function(){return{type:"MOVE_DOWN",payload:null}},Yb=function(){return{type:"MOVE_RIGHT",payload:null}},Jb=function(){return{type:"MOVE_LEFT",payload:null}},ec=function(){return{type:"FLUSH",payload:null}},Xb=function(t){return{type:"DROP_ANIMATE",payload:t}},tc=function(t){return{type:"DROP_COMPLETE",payload:t}},Ng=function(t){return{type:"DROP",payload:t}},Zb=function(t){return{type:"DROP_PENDING",payload:t}},Cg=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},eS=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(i){return function(s){if(s.type!=="LIFT"){i(s);return}var o=s.payload,l=o.id,u=o.clientSelection,d=o.movementMode,f=r();f.phase==="DROP_ANIMATING"&&n(tc({completed:f.completed})),r().phase!=="IDLE"&&B(!1),n(ec()),n(Fb({draggableId:l,movementMode:d}));var c={shouldPublishImmediately:d==="SNAP"},p={draggableId:l,scrollOptions:c},m=e.startPublishing(p),v=m.critical,x=m.dimensions,w=m.viewport;n($b({critical:v,dimensions:x,clientSelection:u,movementMode:d,viewport:w}))}}}},tS=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},rc={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Pi={opacity:{drop:0,combining:.7},scale:{drop:.75}},nc={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},jr=nc.outOfTheWay+"s "+rc.outOfTheWay,ai={fluid:"opacity "+jr,snap:"transform "+jr+", opacity "+jr,drop:function(t){var r=t+"s "+rc.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+jr,placeholder:"height "+jr+", width "+jr+", margin "+jr},Qd=function(t){return mr(t,ke)?null:"translate("+t.x+"px, "+t.y+"px)"},Tl={moveTo:Qd,drop:function(t,r){var n=Qd(t);return n?r?n+" scale("+Pi.scale.drop+")":n:null}},Ml=nc.minDropTime,Eg=nc.maxDropTime,rS=Eg-Ml,Kd=1500,nS=.6,iS=function(e){var t=e.current,r=e.destination,n=e.reason,i=Di(t,r);if(i<=0)return Ml;if(i>=Kd)return Eg;var s=i/Kd,o=Ml+rS*s,l=n==="CANCEL"?o*nS:o;return Number(l.toFixed(2))},sS=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,i=e.viewport,s=e.afterCritical,o=n.draggables,l=n.droppables,u=it(t),d=u?l[u]:null,f=l[r.descriptor.droppableId],c=xg({impact:t,draggable:r,draggables:o,afterCritical:s,droppable:d||f,viewport:i}),p=rt(c,r.client.borderBox.center);return p},oS=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,i=e.home,s=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=yg({draggables:t,impact:o,destination:i,viewport:s,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var u=V({},n,{displaced:Ii});return{impact:u,didDropInsideDroppable:!0}},aS=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(i){if(i.type!=="DROP"){n(i);return}var s=t(),o=i.payload.reason;if(s.phase==="COLLECTING"){r(Zb({reason:o}));return}if(s.phase!=="IDLE"){var l=s.phase==="DROP_PENDING"&&s.isWaiting;l&&B(!1),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||B(!1);var u=s.critical,d=s.dimensions,f=d.draggables[s.critical.draggable.id],c=oS({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=c.impact,m=c.didDropInsideDroppable,v=m?Qu(p):null,x=m?Bo(p):null,w={index:u.draggable.index,droppableId:u.droppable.id},h={draggableId:f.descriptor.id,type:f.descriptor.type,source:w,reason:o,mode:s.movementMode,destination:v,combine:x},g=sS({impact:p,draggable:f,dimensions:d,viewport:s.viewport,afterCritical:s.afterCritical}),y={critical:s.critical,afterCritical:s.afterCritical,result:h,impact:p},b=!mr(s.current.client.offset,g)||!!h.combine;if(!b){r(tc({completed:y}));return}var N=iS({current:s.current.client.offset,destination:g,reason:o}),E={newHomeClientOffset:g,dropDuration:N,completed:y};r(Xb(E))}}}},jg=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function lS(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function uS(e){var t=e.onWindowScroll;function r(){t(jg())}var n=ji(r),i=lS(n),s=fr;function o(){return s!==fr}function l(){o()&&B(!1),s=gt(window,[i])}function u(){o()||B(!1),n.cancel(),s(),s=fr}return{start:l,stop:u,isActive:o}}var cS=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},dS=function(e){var t=uS({onWindowScroll:function(n){e.dispatch(Vb({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&cS(n)&&t.stop(),r(n)}}},pS=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),i=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return i.wasCalled=function(){return t},i},fS=function(){var e=[],t=function(s){var o=qu(e,function(d){return d.timerId===s});o===-1&&B(!1);var l=e.splice(o,1),u=l[0];u.callback()},r=function(s){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:s};e.push(l)},n=function(){if(e.length){var s=[].concat(e);e.length=0,s.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},mS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},gS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},hS=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,i=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&i},Gn=function(t,r){r()},cs=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Ea=function(t,r,n,i){if(!t){n(i(r));return}var s=pS(n),o={announce:s};t(r,o),s.wasCalled()||n(i(r))},vS=function(e,t){var r=fS(),n=null,i=function(p,m){n&&B(!1),Gn("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var x={draggableId:p,mode:m};v(x)}})},s=function(p,m){n&&B(!1),Gn("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(cs(p,m))})},o=function(p,m){n&&B(!1);var v=cs(p,m);n={mode:m,lastCritical:p,lastLocation:v.source,lastCombine:null},r.add(function(){Gn("onDragStart",function(){return Ea(e().onDragStart,v,t,js.onDragStart)})})},l=function(p,m){var v=Qu(m),x=Bo(m);n||B(!1);var w=!hS(p,n.lastCritical);w&&(n.lastCritical=p);var h=!mS(n.lastLocation,v);h&&(n.lastLocation=v);var g=!gS(n.lastCombine,x);if(g&&(n.lastCombine=x),!(!w&&!h&&!g)){var y=V({},cs(p,n.mode),{combine:x,destination:v});r.add(function(){Gn("onDragUpdate",function(){return Ea(e().onDragUpdate,y,t,js.onDragUpdate)})})}},u=function(){n||B(!1),r.flush()},d=function(p){n||B(!1),n=null,Gn("onDragEnd",function(){return Ea(e().onDragEnd,p,t,js.onDragEnd)})},f=function(){if(n){var p=V({},cs(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});d(p)}};return{beforeCapture:i,beforeStart:s,start:o,update:l,flush:u,drop:d,abort:f}},yS=function(e,t){var r=vS(e,t);return function(n){return function(i){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var o=s.payload.critical;r.beforeStart(o,s.payload.movementMode),i(s),r.start(o,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var l=s.payload.completed.result;r.flush(),i(s),r.drop(l);return}if(i(s),s.type==="FLUSH"){r.abort();return}var u=n.getState();u.phase==="DRAGGING"&&r.update(u.critical,u.impact)}}}},xS=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&B(!1),e.dispatch(tc({completed:n.completed}))}}},bS=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(i){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&n(),i(s),s.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var u=e.getState();u.phase==="DROP_ANIMATING"&&e.dispatch(Cg())}};r=requestAnimationFrame(function(){r=null,t=gt(window,[o])})}}}},SS=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},wS=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var i=n.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},NS=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},CS=function(e){return function(t){return function(r){return function(n){if(NS(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var i=t.getState();i.phase!=="DRAGGING"&&B(!1),e.start(i);return}r(n),e.scroll(t.getState())}}}},ES=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Ng({reason:n.reason})))}}}},jS=Mm,DS=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,i=e.getResponders,s=e.announce,o=e.autoScroller;return Tm(Bb,jS(py(tS(n),SS(t),eS(t),aS,xS,bS,ES,CS(o),dS,wS(r),yS(i,s))))},ja=function(){return{additions:{},removals:{},modified:{}}};function IS(e){var t=e.registry,r=e.callbacks,n=ja(),i=null,s=function(){i||(r.collectionStarting(),i=requestAnimationFrame(function(){i=null;var f=n,c=f.additions,p=f.removals,m=f.modified,v=Object.keys(c).map(function(h){return t.draggable.getById(h).getDimension(ke)}).sort(function(h,g){return h.descriptor.index-g.descriptor.index}),x=Object.keys(m).map(function(h){var g=t.droppable.getById(h),y=g.callbacks.getScrollWhileDragging();return{droppableId:h,scroll:y}}),w={additions:v,removals:Object.keys(p),modified:x};n=ja(),r.publish(w)}))},o=function(f){var c=f.descriptor.id;n.additions[c]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],s()},l=function(f){var c=f.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],s()},u=function(){i&&(cancelAnimationFrame(i),i=null,n=ja())};return{add:o,remove:l,stop:u}}var Dg=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,i=e.width,s=rt({x:r,y:t},{x:i,y:n}),o={x:Math.max(0,s.x),y:Math.max(0,s.y)};return o},Ig=function(){var e=document.documentElement;return e||B(!1),e},kg=function(){var e=Ig(),t=Dg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},kS=function(){var e=jg(),t=kg(),r=e.y,n=e.x,i=Ig(),s=i.clientWidth,o=i.clientHeight,l=n+s,u=r+o,d=Et({top:r,left:n,right:l,bottom:u}),f={frame:d,scroll:{initial:e,current:e,max:t,diff:{value:ke,displacement:ke}}};return f},PS=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,i=kS(),s=i.scroll.current,o=t.droppable,l=n.droppable.getAllByType(o.type).map(function(c){return c.callbacks.getDimensionAndWatchScroll(s,r)}),u=n.draggable.getAllByType(t.draggable.type).map(function(c){return c.getDimension(s)}),d={draggables:ig(u),droppables:ng(l)},f={dimensions:d,critical:t,viewport:i};return f};function Yd(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var TS=function(e,t){var r=null,n=IS({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(m,v){e.droppable.exists(m)||B(!1),r&&t.updateDroppableIsEnabled({id:m,isEnabled:v})},s=function(m,v){r&&(e.droppable.exists(m)||B(!1),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:v}))},o=function(m,v){r&&(e.droppable.exists(m)||B(!1),t.updateDroppableScroll({id:m,newScroll:v}))},l=function(m,v){r&&e.droppable.getById(m).callbacks.scroll(v)},u=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},d=function(m){r||B(!1);var v=r.critical.draggable;m.type==="ADDITION"&&Yd(e,v,m.value)&&n.add(m.value),m.type==="REMOVAL"&&Yd(e,v,m.value)&&n.remove(m.value)},f=function(m){r&&B(!1);var v=e.draggable.getById(m.draggableId),x=e.droppable.getById(v.descriptor.droppableId),w={draggable:v.descriptor,droppable:x.descriptor},h=e.subscribe(d);return r={critical:w,unsubscribe:h},PS({critical:w,registry:e,scrollOptions:m.scrollOptions})},c={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:l,updateDroppableScroll:o,startPublishing:f,stopPublishing:u};return c},Pg=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},MS=function(e){window.scrollBy(e.x,e.y)},OS=Ie(function(e){return Ao(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),LS=function(t,r){var n=Nr(OS(r),function(i){return i.frame||B(!1),mg(i.frame.pageMarginBox)(t)});return n},RS=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var i=n[r];return i.frame?i:null}var s=LS(t,n);return s},gr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},AS=function(e,t){var r=e[t.size]*gr.startFromPercentage,n=e[t.size]*gr.maxScrollAtPercentage,i={startScrollingFrom:r,maxScrollValueAt:n};return i},Tg=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,i=r-t;if(i===0)return 0;var s=n-t,o=s/i;return o},ic=1,BS=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return gr.maxPixelScroll;if(e===t.startScrollingFrom)return ic;var r=Tg({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,i=gr.maxPixelScroll*gr.ease(n);return Math.ceil(i)},Jd=gr.durationDampening.accelerateAt,Xd=gr.durationDampening.stopDampeningAt,FS=function(e,t){var r=t,n=Xd,i=Date.now(),s=i-r;if(s>=Xd)return e;if(s<Jd)return ic;var o=Tg({startOfRange:Jd,endOfRange:n,current:s}),l=e*gr.ease(o);return Math.ceil(l)},Zd=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,i=e.shouldUseTimeDampening,s=BS(t,r);return s===0?0:i?Math.max(FS(s,n),ic):s},ep=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,i=e.axis,s=e.shouldUseTimeDampening,o=AS(t,i),l=r[i.end]<r[i.start];return l?Zd({distanceToEdge:r[i.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s}):-1*Zd({distanceToEdge:r[i.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s})},zS=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,i=r.height>t.height,s=r.width>t.width;return!s&&!i?n:s&&i?null:{x:s?0:n.x,y:i?0:n.y}},$S=tg(function(e){return e===0?0:e}),Mg=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,i=e.center,s=e.shouldUseTimeDampening,o={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},l=ep({container:r,distanceToEdges:o,dragStartTime:t,axis:Ku,shouldUseTimeDampening:s}),u=ep({container:r,distanceToEdges:o,dragStartTime:t,axis:ag,shouldUseTimeDampening:s}),d=$S({x:u,y:l});if(mr(d,ke))return null;var f=zS({container:r,subject:n,proposedScroll:d});return f?mr(f,ke)?null:f:null},US=tg(function(e){return e===0?0:e>0?1:-1}),sc=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,i=t.change,s=Re(r,i),o={x:e(s.x,n.x),y:e(s.y,n.y)};return mr(o,ke)?null:o}}(),Og=function(t){var r=t.max,n=t.current,i=t.change,s={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=US(i),l=sc({max:s,current:n,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},oc=function(t,r){return Og({current:t.scroll.current,max:t.scroll.max,change:r})},HS=function(t,r){if(!oc(t,r))return null;var n=t.scroll.max,i=t.scroll.current;return sc({current:i,max:n,change:r})},ac=function(t,r){var n=t.frame;return n?Og({current:n.scroll.current,max:n.scroll.max,change:r}):!1},GS=function(t,r){var n=t.frame;return!n||!ac(t,r)?null:sc({current:n.scroll.current,max:n.scroll.max,change:r})},_S=function(e){var t=e.viewport,r=e.subject,n=e.center,i=e.dragStartTime,s=e.shouldUseTimeDampening,o=Mg({dragStartTime:i,container:t.frame,subject:r,center:n,shouldUseTimeDampening:s});return o&&oc(t,o)?o:null},WS=function(e){var t=e.droppable,r=e.subject,n=e.center,i=e.dragStartTime,s=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=Mg({dragStartTime:i,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:s});return l&&ac(t,l)?l:null},tp=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,i=e.scrollWindow,s=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],u=l.page.marginBox;if(t.isWindowScrollAllowed){var d=t.viewport,f=_S({dragStartTime:r,viewport:d,subject:u,center:o,shouldUseTimeDampening:n});if(f){i(f);return}}var c=RS({center:o,destination:it(t.impact),droppables:t.dimensions.droppables});if(c){var p=WS({dragStartTime:r,droppable:c,subject:u,center:o,shouldUseTimeDampening:n});p&&s(c.descriptor.id,p)}},VS=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=ji(t),i=ji(r),s=null,o=function(f){s||B(!1);var c=s,p=c.shouldUseTimeDampening,m=c.dragStartTime;tp({state:f,scrollWindow:n,scrollDroppable:i,dragStartTime:m,shouldUseTimeDampening:p})},l=function(f){s&&B(!1);var c=Date.now(),p=!1,m=function(){p=!0};tp({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),s={dragStartTime:c,shouldUseTimeDampening:p},p&&o(f)},u=function(){s&&(n.cancel(),i.cancel(),s=null)};return{start:l,stop:u,scroll:o}},qS=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,i=function(d,f){var c=Re(d.current.client.selection,f);t({client:c})},s=function(d,f){if(!ac(d,f))return f;var c=GS(d,f);if(!c)return r(d.descriptor.id,f),null;var p=rt(f,c);r(d.descriptor.id,p);var m=rt(f,p);return m},o=function(d,f,c){if(!d||!oc(f,c))return c;var p=HS(f,c);if(!p)return n(c),null;var m=rt(c,p);n(m);var v=rt(c,m);return v},l=function(d){var f=d.scrollJumpRequest;if(f){var c=it(d.impact);c||B(!1);var p=s(d.dimensions.droppables[c],f);if(p){var m=d.viewport,v=o(d.isWindowScrollAllowed,m,p);v&&i(d,v)}}};return l},QS=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,i=VS({scrollWindow:r,scrollDroppable:t}),s=qS({move:n,scrollWindow:r,scrollDroppable:t}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){i.scroll(d);return}d.scrollJumpRequest&&s(d)}},l={scroll:o,start:i.start,stop:i.stop};return l},jn="data-rbd",Dn=function(){var e=jn+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Ol=function(){var e=jn+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),KS=function(){var e=jn+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),rp={contextId:jn+"-scroll-container-context-id"},YS=function(t){return function(r){return"["+r+'="'+t+'"]'}},_n=function(t,r){return t.map(function(n){var i=n.styles[r];return i?n.selector+" { "+i+" }":""}).join(" ")},JS="pointer-events: none;",XS=function(e){var t=YS(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Dn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:JS,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+ai.outOfTheWay+`;
    `;return{selector:t(Ol.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),i={selector:t(KS.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,i,s];return{always:_n(o,"always"),resting:_n(o,"resting"),dragging:_n(o,"dragging"),dropAnimating:_n(o,"dropAnimating"),userCancel:_n(o,"userCancel")}},st=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect,Da=function(){var t=document.querySelector("head");return t||B(!1),t},np=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function ZS(e,t){var r=re(function(){return XS(e)},[e]),n=I.useRef(null),i=I.useRef(null),s=_(Ie(function(c){var p=i.current;p||B(!1),p.textContent=c}),[]),o=_(function(c){var p=n.current;p||B(!1),p.textContent=c},[]);st(function(){!n.current&&!i.current||B(!1);var c=np(t),p=np(t);return n.current=c,i.current=p,c.setAttribute(jn+"-always",e),p.setAttribute(jn+"-dynamic",e),Da().appendChild(c),Da().appendChild(p),o(r.always),s(r.resting),function(){var m=function(x){var w=x.current;w||B(!1),Da().removeChild(w),x.current=null};m(n),m(i)}},[t,o,s,r.always,r.resting,e]);var l=_(function(){return s(r.dragging)},[s,r.dragging]),u=_(function(c){if(c==="DROP"){s(r.dropAnimating);return}s(r.userCancel)},[s,r.dropAnimating,r.userCancel]),d=_(function(){i.current&&s(r.resting)},[s,r.resting]),f=re(function(){return{dragging:l,dropping:u,resting:d}},[l,u,d]);return f}var Lg=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function $o(e){return e instanceof Lg(e).HTMLElement}function e1(e,t){var r="["+Dn.contextId+'="'+e+'"]',n=rg(document.querySelectorAll(r));if(!n.length)return null;var i=Nr(n,function(s){return s.getAttribute(Dn.draggableId)===t});return!i||!$o(i)?null:i}function t1(e){var t=I.useRef({}),r=I.useRef(null),n=I.useRef(null),i=I.useRef(!1),s=_(function(p,m){var v={id:p,focus:m};return t.current[p]=v,function(){var w=t.current,h=w[p];h!==v&&delete w[p]}},[]),o=_(function(p){var m=e1(e,p);m&&m!==document.activeElement&&m.focus()},[e]),l=_(function(p,m){r.current===p&&(r.current=m)},[]),u=_(function(){n.current||i.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=r.current;p&&o(p)}))},[o]),d=_(function(p){r.current=null;var m=document.activeElement;m&&m.getAttribute(Dn.draggableId)===p&&(r.current=p)},[]);st(function(){return i.current=!0,function(){i.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var f=re(function(){return{register:s,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}},[s,d,u,l]);return f}function r1(){var e={draggables:{},droppables:{}},t=[];function r(c){return t.push(c),function(){var m=t.indexOf(c);m!==-1&&t.splice(m,1)}}function n(c){t.length&&t.forEach(function(p){return p(c)})}function i(c){return e.draggables[c]||null}function s(c){var p=i(c);return p||B(!1),p}var o={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,m){var v=e.draggables[m.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var m=p.descriptor.id,v=i(m);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:p}))},getById:s,findById:i,exists:function(p){return!!i(p)},getAllByType:function(p){return ro(e.draggables).filter(function(m){return m.descriptor.type===p})}};function l(c){return e.droppables[c]||null}function u(c){var p=l(c);return p||B(!1),p}var d={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var m=l(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:function(p){return!!l(p)},getAllByType:function(p){return ro(e.droppables).filter(function(m){return m.descriptor.type===p})}};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:f}}function n1(){var e=re(r1,[]);return I.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var lc=pe.createContext(null),io=function(){var e=document.body;return e||B(!1),e},i1={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},s1=function(t){return"rbd-announcement-"+t};function o1(e){var t=re(function(){return s1(e)},[e]),r=I.useRef(null);I.useEffect(function(){var s=document.createElement("div");return r.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),V(s.style,i1),io().appendChild(s),function(){setTimeout(function(){var u=io();u.contains(s)&&u.removeChild(s),s===r.current&&(r.current=null)})}},[t]);var n=_(function(i){var s=r.current;if(s){s.textContent=i;return}},[]);return n}var a1=0,l1={separator:"::"};function uc(e,t){return t===void 0&&(t=l1),re(function(){return""+e+t.separator+a1++},[t.separator,e])}function u1(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function c1(e){var t=e.contextId,r=e.text,n=uc("hidden-text",{separator:"-"}),i=re(function(){return u1({contextId:t,uniqueId:n})},[n,t]);return I.useEffect(function(){var o=document.createElement("div");return o.id=i,o.textContent=r,o.style.display="none",io().appendChild(o),function(){var u=io();u.contains(o)&&u.removeChild(o)}},[i,r]),i}var Uo=pe.createContext(null);function Rg(e){var t=I.useRef(e);return I.useEffect(function(){t.current=e}),t}function d1(){var e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&B(!1);var l={abandon:o};return e=l,l}function i(){e||B(!1),e=null}function s(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:r,claim:n,release:i,tryAbandon:s}}var p1=9,f1=13,cc=27,Ag=32,m1=33,g1=34,h1=35,v1=36,y1=37,x1=38,b1=39,S1=40,ds,w1=(ds={},ds[f1]=!0,ds[p1]=!0,ds),Bg=function(e){w1[e.keyCode]&&e.preventDefault()},Ho=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=Nr(t,function(n){return"on"+n in document});return r||e}(),Fg=0,ip=5;function N1(e,t){return Math.abs(t.x-e.x)>=ip||Math.abs(t.y-e.y)>=ip}var sp={type:"IDLE"};function C1(e){var t=e.cancel,r=e.completed,n=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,u=o.clientX,d=o.clientY;if(l===Fg){var f={x:u,y:d},c=n();if(c.type==="DRAGGING"){o.preventDefault(),c.actions.move(f);return}c.type!=="PENDING"&&B(!1);var p=c.point;if(N1(p,f)){o.preventDefault();var m=c.actions.fluidLift(f);i({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(o){var l=n();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=n();if(l.type==="PENDING"){t();return}if(o.keyCode===cc){o.preventDefault(),t();return}Bg(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=n();if(l.type==="IDLE"&&B(!1),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:Ho,fn:t}]}function E1(e){var t=I.useRef(sp),r=I.useRef(fr),n=re(function(){return{eventName:"mousedown",fn:function(c){if(!c.defaultPrevented&&c.button===Fg&&!(c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)){var p=e.findClosestDraggableId(c);if(p){var m=e.tryGetLock(p,o,{sourceEvent:c});if(m){c.preventDefault();var v={x:c.clientX,y:c.clientY};r.current(),d(m,v)}}}}}},[e]),i=re(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(c){if(!c.defaultPrevented){var p=e.findClosestDraggableId(c);if(p){var m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&c.preventDefault())}}}}},[e]),s=_(function(){var c={passive:!1,capture:!0};r.current=gt(window,[i,n],c)},[i,n]),o=_(function(){var f=t.current;f.type!=="IDLE"&&(t.current=sp,r.current(),s())},[s]),l=_(function(){var f=t.current;o(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[o]),u=_(function(){var c={capture:!0,passive:!1},p=C1({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(v){t.current=v}});r.current=gt(window,p,c)},[l,o]),d=_(function(c,p){t.current.type!=="IDLE"&&B(!1),t.current={type:"PENDING",point:p,actions:c},u()},[u]);st(function(){return s(),function(){r.current()}},[s])}var Xr;function j1(){}var D1=(Xr={},Xr[g1]=!0,Xr[m1]=!0,Xr[v1]=!0,Xr[h1]=!0,Xr);function I1(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===cc){s.preventDefault(),r();return}if(s.keyCode===Ag){s.preventDefault(),n();return}if(s.keyCode===S1){s.preventDefault(),e.moveDown();return}if(s.keyCode===x1){s.preventDefault(),e.moveUp();return}if(s.keyCode===b1){s.preventDefault(),e.moveRight();return}if(s.keyCode===y1){s.preventDefault(),e.moveLeft();return}if(D1[s.keyCode]){s.preventDefault();return}Bg(s)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Ho,fn:r}]}function k1(e){var t=I.useRef(j1),r=re(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==Ag)return;var o=e.findClosestDraggableId(s);if(!o)return;var l=e.tryGetLock(o,f,{sourceEvent:s});if(!l)return;s.preventDefault();var u=!0,d=l.snapLift();t.current();function f(){u||B(!1),u=!1,t.current(),n()}t.current=gt(window,I1(d,f),{capture:!0,passive:!1})}}},[e]),n=_(function(){var s={passive:!1,capture:!0};t.current=gt(window,[r],s)},[r]);st(function(){return n(),function(){t.current()}},[n])}var Ia={type:"IDLE"},P1=120,T1=.15;function M1(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(r().type!=="DRAGGING"){t();return}i.keyCode===cc&&i.preventDefault(),t()}},{eventName:Ho,fn:t}]}function O1(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=s.touches[0],u=l.clientX,d=l.clientY,f={x:u,y:d};s.preventDefault(),o.actions.move(f)}},{eventName:"touchend",fn:function(s){var o=n();if(o.type!=="DRAGGING"){t();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(s){if(n().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(s){var o=n();o.type==="IDLE"&&B(!1);var l=s.touches[0];if(l){var u=l.force>=T1;if(u){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&t();return}if(d){if(o.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}}}},{eventName:Ho,fn:t}]}function L1(e){var t=I.useRef(Ia),r=I.useRef(fr),n=_(function(){return t.current},[]),i=_(function(m){t.current=m},[]),s=re(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var v=e.findClosestDraggableId(m);if(v){var x=e.tryGetLock(v,l,{sourceEvent:m});if(x){var w=m.touches[0],h=w.clientX,g=w.clientY,y={x:h,y:g};r.current(),c(x,y)}}}}}},[e]),o=_(function(){var m={capture:!0,passive:!1};r.current=gt(window,[s],m)},[s]),l=_(function(){var p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(Ia),r.current(),o())},[o,i]),u=_(function(){var p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),d=_(function(){var m={capture:!0,passive:!1},v={cancel:u,completed:l,getPhase:n},x=gt(window,O1(v),m),w=gt(window,M1(v),m);r.current=function(){x(),w()}},[u,n,l]),f=_(function(){var m=n();m.type!=="PENDING"&&B(!1);var v=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:v,hasMoved:!1})},[n,i]),c=_(function(m,v){n().type!=="IDLE"&&B(!1);var x=setTimeout(f,P1);i({type:"PENDING",point:v,actions:m,longPressTimerId:x}),d()},[d,n,i,f]);st(function(){return o(),function(){r.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),i(Ia))}},[n,o,i]),st(function(){var m=gt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var R1={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function zg(e,t){if(t==null)return!1;var r=!!R1[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:zg(e,t.parentElement)}function A1(e,t){var r=t.target;return $o(r)?zg(e,r):!1}var B1=function(e){return Et(e.getBoundingClientRect()).center};function F1(e){return e instanceof Lg(e).Element}var z1=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=Nr(t,function(n){return n in Element.prototype});return r||e}();function $g(e,t){return e==null?null:e[z1](t)?e:$g(e.parentElement,t)}function $1(e,t){return e.closest?e.closest(t):$g(e,t)}function U1(e){return"["+Dn.contextId+'="'+e+'"]'}function H1(e,t){var r=t.target;if(!F1(r))return null;var n=U1(e),i=$1(r,n);return!i||!$o(i)?null:i}function G1(e,t){var r=H1(e,t);return r?r.getAttribute(Dn.draggableId):null}function _1(e,t){var r="["+Ol.contextId+'="'+e+'"]',n=rg(document.querySelectorAll(r)),i=Nr(n,function(s){return s.getAttribute(Ol.id)===t});return!i||!$o(i)?null:i}function W1(e){e.preventDefault()}function ps(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function Ug(e){var t=e.lockAPI,r=e.store,n=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var s=n.draggable.findById(i);return!(!s||!s.options.isEnabled||!Pg(r.getState(),i))}function V1(e){var t=e.lockAPI,r=e.contextId,n=e.store,i=e.registry,s=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,u=Ug({lockAPI:t,store:n,registry:i,draggableId:s});if(!u)return null;var d=i.draggable.getById(s),f=_1(r,d.descriptor.id);if(!f||l&&!d.options.canDragInteractiveElements&&A1(f,l))return null;var c=t.claim(o||fr),p="PRE_DRAG";function m(){return d.options.shouldRespectForcePress}function v(){return t.isActive(c)}function x(E,P){ps({expected:E,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(P())}var w=x.bind(null,"DRAGGING");function h(E){function P(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(P(),p!=="PRE_DRAG"&&B(!1)),n.dispatch(zb(E.liftActionArgs)),p="DRAGGING";function k(M,O){if(O===void 0&&(O={shouldBlockNextClick:!1}),E.cleanup(),O.shouldBlockNextClick){var $=gt(window,[{eventName:"click",fn:W1,options:{once:!0,passive:!1,capture:!0}}]);setTimeout($)}P(),n.dispatch(Ng({reason:M}))}return V({isActive:function(){return ps({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(O){return k("DROP",O)},cancel:function(O){return k("CANCEL",O)}},E.actions)}function g(E){var P=ji(function(M){w(function(){return wg({client:M})})}),k=h({liftActionArgs:{id:s,clientSelection:E,movementMode:"FLUID"},cleanup:function(){return P.cancel()},actions:{move:P}});return V({},k,{move:P})}function y(){var E={moveUp:function(){return w(Qb)},moveRight:function(){return w(Yb)},moveDown:function(){return w(Kb)},moveLeft:function(){return w(Jb)}};return h({liftActionArgs:{id:s,clientSelection:B1(f),movementMode:"SNAP"},cleanup:fr,actions:E})}function b(){var E=ps({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0});E&&t.release()}var N={isActive:function(){return ps({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:g,snapLift:y,abort:b};return N}var q1=[E1,k1,L1];function Q1(e){var t=e.contextId,r=e.store,n=e.registry,i=e.customSensors,s=e.enableDefaultSensors,o=[].concat(s?q1:[],i||[]),l=I.useState(function(){return d1()})[0],u=_(function(g,y){g.isDragging&&!y.isDragging&&l.tryAbandon()},[l]);st(function(){var g=r.getState(),y=r.subscribe(function(){var b=r.getState();u(g,b),g=b});return y},[l,r,u]),st(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=_(function(h){return Ug({lockAPI:l,registry:n,store:r,draggableId:h})},[l,n,r]),f=_(function(h,g,y){return V1({lockAPI:l,registry:n,contextId:t,store:r,draggableId:h,forceSensorStop:g,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[t,l,n,r]),c=_(function(h){return G1(t,h)},[t]),p=_(function(h){var g=n.draggable.findById(h);return g?g.options:null},[n.draggable]),m=_(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(ec()))},[l,r]),v=_(l.isClaimed,[l]),x=re(function(){return{canGetLock:d,tryGetLock:f,findClosestDraggableId:c,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:v}},[d,f,c,p,m,v]),w=0;w<o.length;w++)o[w](x)}var K1=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Wn(e){return e.current||B(!1),e.current}function Y1(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,i=e.nonce,s=e.dragHandleUsageInstructions,o=I.useRef(null),l=Rg(e),u=_(function(){return K1(l.current)},[l]),d=o1(t),f=c1({contextId:t,text:s}),c=ZS(t,i),p=_(function(M){Wn(o).dispatch(M)},[]),m=re(function(){return Id({publishWhileDragging:Ub,updateDroppableScroll:Gb,updateDroppableIsEnabled:_b,updateDroppableIsCombineEnabled:Wb,collectionStarting:Hb},p)},[p]),v=n1(),x=re(function(){return TS(v,m)},[v,m]),w=re(function(){return QS(V({scrollWindow:MS,scrollDroppable:x.scrollDroppable},Id({move:wg},p)))},[x.scrollDroppable,p]),h=t1(t),g=re(function(){return DS({announce:d,autoScroller:w,dimensionMarshal:x,focusMarshal:h,getResponders:u,styleMarshal:c})},[d,w,x,h,u,c]);o.current=g;var y=_(function(){var M=Wn(o),O=M.getState();O.phase!=="IDLE"&&M.dispatch(ec())},[]),b=_(function(){var M=Wn(o).getState();return M.isDragging||M.phase==="DROP_ANIMATING"},[]),N=re(function(){return{isDragging:b,tryAbort:y}},[b,y]);r(N);var E=_(function(M){return Pg(Wn(o).getState(),M)},[]),P=_(function(){return Pr(Wn(o).getState())},[]),k=re(function(){return{marshal:x,focus:h,contextId:t,canLift:E,isMovementAllowed:P,dragHandleUsageInstructionsId:f,registry:v}},[t,x,f,h,E,P,v]);return Q1({contextId:t,store:g,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),I.useEffect(function(){return y},[y]),pe.createElement(Uo.Provider,{value:k},pe.createElement(vy,{context:lc,store:g},e.children))}var J1=0;function X1(){return re(function(){return""+J1++},[])}function Hg(e){var t=X1(),r=e.dragHandleUsageInstructions||js.dragHandleUsageInstructions;return pe.createElement(kx,null,function(n){return pe.createElement(Y1,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Gg=function(t){return function(r){return t===r}},Z1=Gg("scroll"),ew=Gg("auto"),op=function(t,r){return r(t.overflowX)||r(t.overflowY)},tw=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return op(n,Z1)||op(n,ew)},rw=function(){return!1},nw=function e(t){return t==null?null:t===document.body?rw()?t:null:t===document.documentElement?null:tw(t)?t:e(t.parentElement)},Ll=function(e){return{x:e.scrollLeft,y:e.scrollTop}},iw=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},sw=function(e){var t=nw(e),r=iw(e);return{closestScrollable:t,isFixedOnPage:r}},ow=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,i=e.isFixedOnPage,s=e.direction,o=e.client,l=e.page,u=e.closest,d=function(){if(!u)return null;var m=u.scrollSize,v=u.client,x=Dg({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:v,scrollSize:m,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:x,diff:{value:ke,displacement:ke}}}}(),f=s==="vertical"?Ku:ag,c=En({page:l,withPlaceholder:null,axis:f,frame:d}),p={descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:f,isEnabled:r,client:o,page:l,frame:d,subject:c};return p},aw=function(t,r){var n=Jm(t);if(!r||t!==r)return n;var i=n.paddingBox.top-r.scrollTop,s=n.paddingBox.left-r.scrollLeft,o=i+r.scrollHeight,l=s+r.scrollWidth,u={top:i,right:l,bottom:o,left:s},d=_u(u,n.border),f=Wu({borderBox:d,margin:n.margin,border:n.border,padding:n.padding});return f},lw=function(e){var t=e.ref,r=e.descriptor,n=e.env,i=e.windowScroll,s=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,u=e.shouldClipSubject,d=n.closestScrollable,f=aw(t,d),c=Zs(f,i),p=function(){if(!d)return null;var v=Jm(d),x={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:v,page:Zs(v,i),scroll:Ll(d),scrollSize:x,shouldClipSubject:u}}(),m=ow({descriptor:r,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:s,client:f,page:c,closest:p});return m},uw={passive:!1},cw={passive:!0},ap=function(e){return e.shouldPublishImmediately?uw:cw};function so(e){var t=I.useContext(e);return t||B(!1),t}var fs=function(t){return t&&t.env.closestScrollable||null};function dw(e){var t=I.useRef(null),r=so(Uo),n=uc("droppable"),i=r.registry,s=r.marshal,o=Rg(e),l=re(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),u=I.useRef(l),d=re(function(){return Ie(function(b,N){t.current||B(!1);var E={x:b,y:N};s.updateDroppableScroll(l.id,E)})},[l.id,s]),f=_(function(){var b=t.current;return!b||!b.env.closestScrollable?ke:Ll(b.env.closestScrollable)},[]),c=_(function(){var b=f();d(b.x,b.y)},[f,d]),p=re(function(){return ji(c)},[c]),m=_(function(){var b=t.current,N=fs(b);b&&N||B(!1);var E=b.scrollOptions;if(E.shouldPublishImmediately){c();return}p()},[p,c]),v=_(function(b,N){t.current&&B(!1);var E=o.current,P=E.getDroppableRef();P||B(!1);var k=sw(P),M={ref:P,descriptor:l,env:k,scrollOptions:N};t.current=M;var O=lw({ref:P,descriptor:l,env:k,windowScroll:b,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),$=k.closestScrollable;return $&&($.setAttribute(rp.contextId,r.contextId),$.addEventListener("scroll",m,ap(M.scrollOptions))),O},[r.contextId,l,m,o]),x=_(function(){var b=t.current,N=fs(b);return b&&N||B(!1),Ll(N)},[]),w=_(function(){var b=t.current;b||B(!1);var N=fs(b);t.current=null,N&&(p.cancel(),N.removeAttribute(rp.contextId),N.removeEventListener("scroll",m,ap(b.scrollOptions)))},[m,p]),h=_(function(b){var N=t.current;N||B(!1);var E=fs(N);E||B(!1),E.scrollTop+=b.y,E.scrollLeft+=b.x},[]),g=re(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:x,dragStopped:w,scroll:h}},[w,v,x,h]),y=re(function(){return{uniqueId:n,descriptor:l,callbacks:g}},[g,l,n]);st(function(){return u.current=y.descriptor,i.droppable.register(y),function(){t.current&&w(),i.droppable.unregister(y)}},[g,l,w,y,s,i.droppable]),st(function(){t.current&&s.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),st(function(){t.current&&s.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function ka(){}var lp={width:0,height:0,margin:Rx},pw=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate;return r||i==="close"?lp:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},fw=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate,s=pw({isAnimatingOpenOnMount:r,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?ai.placeholder:null}};function mw(e){var t=I.useRef(null),r=_(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,i=e.onTransitionEnd,s=e.onClose,o=e.contextId,l=I.useState(e.animate==="open"),u=l[0],d=l[1];I.useEffect(function(){return u?n!=="open"?(r(),d(!1),ka):t.current?ka:(t.current=setTimeout(function(){t.current=null,d(!1)}),r):ka},[n,u,r]);var f=_(function(p){p.propertyName==="height"&&(i(),n==="close"&&s())},[n,s,i]),c=fw({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return pe.createElement(e.placeholder.tagName,{style:c,"data-rbd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})}var gw=pe.memo(mw),dc=pe.createContext(null),hw=function(e){Pm(t,e);function t(){for(var n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=e.call.apply(e,[this].concat(s))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(i,s){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(pe.PureComponent),up={dragging:5e3,dropAnimating:4500},vw=function(t,r){return r?ai.drop(r.duration):t?ai.snap:ai.fluid},yw=function(t,r){return t?r?Pi.opacity.drop:Pi.opacity.combining:null},xw=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function bw(e){var t=e.dimension,r=t.client,n=e.offset,i=e.combineWith,s=e.dropping,o=!!i,l=xw(e),u=!!s,d=u?Tl.drop(n,o):Tl.moveTo(n),f={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:vw(l,s),transform:d,opacity:yw(o,u),zIndex:u?up.dropAnimating:up.dragging,pointerEvents:"none"};return f}function Sw(e){return{transform:Tl.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function ww(e){return e.type==="DRAGGING"?bw(e):Sw(e)}function Nw(e,t,r){r===void 0&&(r=ke);var n=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=Ym(i,n),o=Zs(s,r),l={client:s,tagName:t.tagName.toLowerCase(),display:n.display},u={x:s.marginBox.width,y:s.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:u,client:s,page:o};return d}function Cw(e){var t=uc("draggable"),r=e.descriptor,n=e.registry,i=e.getDraggableRef,s=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,u=re(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:l}},[s,l,o]),d=_(function(m){var v=i();return v||B(!1),Nw(r,v,m)},[r,i]),f=re(function(){return{uniqueId:t,descriptor:r,options:u,getDimension:d}},[r,d,u,t]),c=I.useRef(f),p=I.useRef(!0);st(function(){return n.draggable.register(c.current),function(){return n.draggable.unregister(c.current)}},[n.draggable]),st(function(){if(p.current){p.current=!1;return}var m=c.current;c.current=f,n.draggable.update(f,m)},[f,n.draggable])}function Ew(e){e.preventDefault()}function jw(e){var t=I.useRef(null),r=_(function(M){t.current=M},[]),n=_(function(){return t.current},[]),i=so(Uo),s=i.contextId,o=i.dragHandleUsageInstructionsId,l=i.registry,u=so(dc),d=u.type,f=u.droppableId,c=re(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:f}},[e.draggableId,e.index,d,f]),p=e.children,m=e.draggableId,v=e.isEnabled,x=e.shouldRespectForcePress,w=e.canDragInteractiveElements,h=e.isClone,g=e.mapped,y=e.dropAnimationFinished;if(!h){var b=re(function(){return{descriptor:c,registry:l,getDraggableRef:n,canDragInteractiveElements:w,shouldRespectForcePress:x,isEnabled:v}},[c,l,n,w,x,v]);Cw(b)}var N=re(function(){return v?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:Ew}:null},[s,o,m,v]),E=_(function(M){g.type==="DRAGGING"&&g.dropping&&M.propertyName==="transform"&&y()},[y,g]),P=re(function(){var M=ww(g),O=g.type==="DRAGGING"&&g.dropping?E:null,$={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":m,style:M,onTransitionEnd:O},dragHandleProps:N};return $},[s,N,m,g,E,r]),k=re(function(){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}},[c.droppableId,c.id,c.index,c.type]);return p(P,g.snapshot,k)}var _g=function(e,t){return e===t},Wg=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},Dw=function(t){return t.combine?t.combine.draggableId:null},Iw=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function kw(){var e=Ie(function(i,s){return{x:i,y:s}}),t=Ie(function(i,s,o,l,u){return{isDragging:!0,isClone:s,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null}}),r=Ie(function(i,s,o,l,u,d,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:s,offset:i,dimension:o,forceShouldAnimate:f,snapshot:t(s,l,u,d,null)}}}),n=function(s,o){if(s.isDragging){if(s.critical.draggable.id!==o.draggableId)return null;var l=s.current.client.offset,u=s.dimensions.draggables[o.draggableId],d=it(s.impact),f=Iw(s.impact),c=s.forceShouldAnimate;return r(e(l.x,l.y),s.movementMode,u,o.isClone,d,f,c)}if(s.phase==="DROP_ANIMATING"){var p=s.completed;if(p.result.draggableId!==o.draggableId)return null;var m=o.isClone,v=s.dimensions.draggables[o.draggableId],x=p.result,w=x.mode,h=Wg(x),g=Dw(x),y=s.dropDuration,b={duration:y,curve:rc.drop,moveTo:s.newHomeClientOffset,opacity:g?Pi.opacity.drop:null,scale:g?Pi.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:v,dropping:b,draggingOver:h,combineWith:g,mode:w,forceShouldAnimate:null,snapshot:t(w,m,h,g,b)}}}return null};return n}function Vg(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Pw={mapped:{type:"SECONDARY",offset:ke,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Vg(null)}};function Tw(){var e=Ie(function(o,l){return{x:o,y:l}}),t=Ie(Vg),r=Ie(function(o,l,u){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}}}),n=function(l){return l?r(ke,l,!0):null},i=function(l,u,d,f){var c=d.displaced.visible[l],p=!!(f.inVirtualList&&f.effected[l]),m=Bo(d),v=m&&m.draggableId===l?u:null;if(!c){if(!p)return n(v);if(d.displaced.invisible[l])return null;var x=Tn(f.displacedBy.point),w=e(x.x,x.y);return r(w,v,!0)}if(p)return n(v);var h=d.displacedBy.point,g=e(h.x,h.y);return r(g,v,c.shouldAnimate)},s=function(l,u){if(l.isDragging)return l.critical.draggable.id===u.draggableId?null:i(u.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===u.draggableId?null:i(u.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return s}var Mw=function(){var t=kw(),r=Tw(),n=function(s,o){return t(s,o)||r(s,o)||Pw};return n},Ow={dropAnimationFinished:Cg},Lw=Qm(Mw,Ow,null,{context:lc,pure:!0,areStatePropsEqual:_g})(jw);function qg(e){var t=so(dc),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:pe.createElement(Lw,e)}function Qg(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return pe.createElement(qg,V({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function Rw(e){var t=I.useContext(Uo);t||B(!1);var r=t.contextId,n=t.isMovementAllowed,i=I.useRef(null),s=I.useRef(null),o=e.children,l=e.droppableId,u=e.type,d=e.mode,f=e.direction,c=e.ignoreContainerClipping,p=e.isDropDisabled,m=e.isCombineEnabled,v=e.snapshot,x=e.useClone,w=e.updateViewportMaxScroll,h=e.getContainerForClone,g=_(function(){return i.current},[]),y=_(function($){i.current=$},[]);_(function(){return s.current},[]);var b=_(function($){s.current=$},[]),N=_(function(){n()&&w({maxScroll:kg()})},[n,w]);dw({droppableId:l,type:u,mode:d,direction:f,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:c,getDroppableRef:g});var E=pe.createElement(hw,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function($){var K=$.onClose,W=$.data,G=$.animate;return pe.createElement(gw,{placeholder:W,onClose:K,innerRef:b,animate:G,contextId:r,onTransitionEnd:N})}),P=re(function(){return{innerRef:y,placeholder:E,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,E,y]),k=x?x.dragging.draggableId:null,M=re(function(){return{droppableId:l,type:u,isUsingCloneFor:k}},[l,k,u]);function O(){if(!x)return null;var $=x.dragging,K=x.render,W=pe.createElement(qg,{draggableId:$.draggableId,index:$.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(G,R){return K(G,R,$)});return E0.createPortal(W,h())}return pe.createElement(dc.Provider,{value:M},o(P,v),O())}var Pa=function(t,r){return t===r.droppable.type},cp=function(t,r){return r.draggables[t.draggable.id]},Aw=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=V({},t,{shouldAnimatePlaceholder:!1}),n=Ie(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),i=Ie(function(o,l,u,d,f,c){var p=f.descriptor.id,m=f.descriptor.droppableId===o;if(m){var v=c?{render:c,dragging:n(f.descriptor)}:null,x={isDraggingOver:u,draggingOverWith:u?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:v}}if(!l)return r;if(!d)return t;var w={isDraggingOver:u,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}}),s=function(l,u){var d=u.droppableId,f=u.type,c=!u.isDropDisabled,p=u.renderClone;if(l.isDragging){var m=l.critical;if(!Pa(f,m))return r;var v=cp(m,l.dimensions),x=it(l.impact)===d;return i(d,c,x,x,v,p)}if(l.phase==="DROP_ANIMATING"){var w=l.completed;if(!Pa(f,w.critical))return r;var h=cp(w.critical,l.dimensions);return i(d,c,Wg(w.result)===d,it(w.impact)===d,h,p)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var g=l.completed;if(!Pa(f,g.critical))return r;var y=it(g.impact)===d,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),N=g.critical.droppable.id===d;return y?b?t:r:N?t:r}return r};return s},Bw={updateViewportMaxScroll:qb};function Fw(){return document.body||B(!1),document.body}var zw={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Fw},Kg=Qm(Aw,Bw,null,{context:lc,pure:!0,areStatePropsEqual:_g})(Rw);Kg.defaultProps=zw;const $w=e=>{const t=e.trim();return t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")},Uw=e=>{const t=e.trim();return t.startsWith("<")&&t.includes(">")},Hw=e=>{try{const t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(t){return console.warn("Failed to parse JSON response:",t),e}},Gw=e=>{if(!e.trim().startsWith("<"))return e;try{let t=e.replace(/></g,`>
<`).replace(/^\s+|\s+$/g,"").split(`
`),r="",n=0;for(let i of t){const s=i.trim();s&&(s.startsWith("</")&&(n=Math.max(0,n-1)),r+="  ".repeat(n)+s+`
`,s.startsWith("<")&&!s.startsWith("</")&&!s.endsWith("/>")&&!s.includes("</",1)&&n++)}return r.trim()}catch(t){return console.warn("Failed to format XML response:",t),e}},_w=e=>{try{const t=JSON.parse(e);return t.code!==void 0?{hasError:!0,errorDetails:t.message||t.description||`Error code: ${t.code}`}:t.error?{hasError:!0,errorDetails:t.error}:t.success===!1?{hasError:!0,errorDetails:t.message||t.error||"Operation failed"}:t.status==="error"||t.status==="failed"?{hasError:!0,errorDetails:t.message||t.error||"Operation failed"}:t.statusCode&&t.statusCode>=400?{hasError:!0,errorDetails:`HTTP ${t.statusCode}: ${t.message||"Error"}`}:t.errorMessage?{hasError:!0,errorDetails:t.errorMessage}:t.errors&&Array.isArray(t.errors)&&t.errors.length>0?{hasError:!0,errorDetails:t.errors.join(", ")}:{hasError:!1}}catch{return e.includes('"code":')?{hasError:!0,errorDetails:"JSON response contains error code"}:{hasError:e.includes("ERR|"),errorDetails:e.includes("ERR|")?"HL7 Error detected":void 0}}},Ww=e=>{try{const t=e.match(/<faultstring>(.*?)<\/faultstring>/i);let r=t?t[1]:"";const n=e.match(/<text[^>]*>(.*?)<\/text>/i);return n&&n[1]&&(r=n[1].replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),r||"SOAP Fault detected"}catch{return"SOAP Fault detected (unable to parse details)"}},Vw=e=>e.includes("ERR|")?{hasError:!0,errorDetails:"HL7 Error detected"}:e.toLowerCase().includes("<error>")||e.toLowerCase().includes("<fault>")||e.toLowerCase().includes("<exception>")?{hasError:!0,errorDetails:"XML Error detected"}:e.toLowerCase().includes("soap-env:fault")||e.toLowerCase().includes("soap:fault")||e.toLowerCase().includes("soapenv:fault")?{hasError:!0,errorDetails:Ww(e)}:{hasError:!1},Go=e=>{const t=e.trim();if($w(t)){const n=_w(t);return{content:Hw(t),format:"json",isFormatted:!0,hasError:n.hasError,errorDetails:n.errorDetails}}if(Uw(t)){const n=Vw(t);return{content:Gw(t),format:"xml",isFormatted:!0,hasError:n.hasError,errorDetails:n.errorDetails}}const r=t.includes("ERR|");return{content:t,format:"text",isFormatted:!1,hasError:r,errorDetails:r?"HL7 Error detected":void 0}},oo=e=>Go(e).hasError||!1,Yg=({children:e,...t})=>{const[r,n]=I.useState(!1);return I.useEffect(()=>{const i=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(i),n(!1)}},[]),r?a.jsx(Kg,{...t,children:e}):null},qw=({lists:e,activeListId:t,onSelectList:r,onCreateList:n,onUpdateList:i,onDeleteList:s,onDuplicateList:o,onExportList:l,onImportList:u,onReorderLists:d})=>{const[f,c]=I.useState(!1),[p,m]=I.useState(!1),[v,x]=I.useState(!1),[w,h]=I.useState(null),[g,y]=I.useState({name:"",description:"",color:"#3B82F6"}),b=I.useRef(null),N=e.find(R=>R.id===t),E=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#6B7280","#F97316"];I.useEffect(()=>{const R=C=>{b.current&&!b.current.contains(C.target)&&c(!1)},A=C=>{C.key==="Escape"&&(c(!1),m(!1),x(!1))};return f&&(document.addEventListener("mousedown",R),document.addEventListener("keydown",A)),()=>{document.removeEventListener("mousedown",R),document.removeEventListener("keydown",A)}},[f]);const P=()=>{y({name:"",description:"",color:"#3B82F6"}),m(!0),c(!1)},k=R=>{y({name:R.name,description:R.description||"",color:R.color||"#3B82F6"}),h(R.id),x(!0),c(!1)},M=R=>{R.preventDefault(),R.stopPropagation(),g.name.trim()&&(n(g.name.trim(),g.description.trim()||void 0,g.color),m(!1),y({name:"",description:"",color:"#3B82F6"}))},O=R=>{R.preventDefault(),R.stopPropagation(),w&&g.name.trim()&&(i(w,{name:g.name.trim(),description:g.description.trim()||void 0,color:g.color}),x(!1),h(null),y({name:"",description:"",color:"#3B82F6"}))},$=R=>{if(!R.destination)return;const A=R.source.index,C=R.destination.index;A!==C&&d(A,C)},K=R=>{const A=prompt(`Nombre para la copia de "${R.name}":`,`${R.name} (Copia)`);A!=null&&A.trim()&&o(R.id,A.trim()),c(!1)},W=R=>{if(e.length<=1){alert("No se puede eliminar la nica lista existente.");return}confirm(`Ests seguro de que quieres eliminar la lista "${R.name}"? Esta accin no se puede deshacer.`)&&s(R.id),c(!1)},G=({isOpen:R,onClose:A,title:C,children:S})=>R?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:j=>{j.target===j.currentTarget&&A()},children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",onClick:j=>j.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:C}),a.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600",children:""})]}),S]})}):null;return a.jsxs("div",{className:"relative",ref:b,children:[a.jsxs("button",{onClick:()=>c(!f),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(N==null?void 0:N.color)||"#3B82F6"}}),a.jsx("span",{className:"font-medium text-gray-700",children:(N==null?void 0:N.name)||"Sin lista"}),a.jsx(yr,{size:16,className:`text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),"      ",f&&a.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-300 rounded-lg shadow-lg z-50",onClick:R=>R.stopPropagation(),children:[a.jsx("div",{className:"p-2 border-b border-gray-200",children:a.jsxs("button",{onClick:P,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-md transition-colors",children:[a.jsx(dr,{size:16}),"Nueva Lista"]})}),"          ",a.jsx("div",{className:"max-h-60 overflow-y-auto",children:a.jsxs(Hg,{onDragEnd:$,children:["              ",a.jsx(Yg,{droppableId:"lists",children:(R,A)=>a.jsxs("div",{...R.droppableProps,ref:R.innerRef,className:`${A.isDraggingOver?"bg-blue-50 border-blue-200":""} transition-all duration-200 rounded-md`,children:[e.map((C,S)=>a.jsx(Qg,{draggableId:C.id,index:S,children:(j,T)=>{var F;return a.jsx("div",{ref:j.innerRef,...j.draggableProps,className:`group relative border-b border-gray-100 last:border-b-0 transition-all duration-200 ${T.isDragging?"shadow-lg rounded-lg bg-white border border-blue-200 z-50 opacity-90":"hover:bg-gray-50 opacity-100"}`,style:{...j.draggableProps.style,...T.isDragging&&{transform:`${(F=j.draggableProps.style)==null?void 0:F.transform} rotate(1deg)`}},children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{...j.dragHandleProps,className:"flex items-center justify-center p-3 cursor-grab active:cursor-grabbing text-gray-500 hover:text-gray-700 opacity-70 group-hover:opacity-100 transition-opacity",children:a.jsx(Dm,{size:14})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("button",{onClick:()=>{r(C.id),c(!1)},className:`w-full flex items-center gap-3 px-3 py-3 text-sm transition-colors ${C.id===t?"bg-blue-50 text-blue-800 font-medium":"text-gray-800 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:C.color||"#3B82F6"}}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("div",{className:`font-semibold ${C.id===t?"text-blue-900":"text-gray-900"}`,children:C.name}),C.description&&a.jsx("div",{className:`text-xs truncate ${C.id===t?"text-blue-600":"text-gray-600"}`,children:C.description}),a.jsxs("div",{className:`text-xs ${C.id===t?"text-blue-500":"text-gray-500"}`,children:[C.messages.length," mensaje",C.messages.length!==1?"s":""]})]})]}),a.jsx("div",{className:"px-3 pb-2 opacity-70 group-hover:opacity-100 transition-opacity",children:a.jsxs("div",{className:"flex gap-1 justify-end",children:[a.jsx("button",{onClick:z=>{z.stopPropagation(),k(C)},className:"p-1.5 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded transition-colors",title:"Editar lista",children:a.jsx(Y0,{size:14})}),a.jsx("button",{onClick:z=>{z.stopPropagation(),K(C)},className:"p-1.5 text-gray-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors",title:"Duplicar lista",children:a.jsx(z0,{size:14})}),a.jsx("button",{onClick:z=>{z.stopPropagation(),l(C.id)},className:"p-1.5 text-gray-600 hover:text-orange-700 hover:bg-orange-50 rounded transition-colors",title:"Exportar lista",children:a.jsx(U0,{size:14})}),e.length>1&&a.jsx("button",{onClick:z=>{z.stopPropagation(),W(C)},className:"p-1.5 text-gray-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Eliminar lista",children:a.jsx(pr,{size:14})})]})})]})]})})}},C.id)),R.placeholder]})})]})}),a.jsx("div",{className:"p-2 border-t border-gray-200",children:a.jsxs("button",{onClick:()=>{u(),c(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-md transition-colors",children:[a.jsx(oy,{size:16}),"Importar Lista"]})})]}),a.jsxs(G,{isOpen:p,onClose:()=>m(!1),title:"Nueva Lista",children:["        ",a.jsxs("form",{onSubmit:M,className:"space-y-4",children:["          ",a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),a.jsx("input",{type:"text",value:g.name,onChange:R=>y({...g,name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de la lista",autoFocus:!0,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),a.jsx("textarea",{value:g.description,onChange:R=>y({...g,description:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripcin opcional",rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),a.jsx("div",{className:"flex gap-2",children:E.map(R=>a.jsx("button",{type:"button",onClick:()=>y({...g,color:R}),className:`w-8 h-8 rounded-full border-2 transition-all ${g.color===R?"border-gray-400 scale-110":"border-gray-200"}`,style:{backgroundColor:R}},R))})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Crear"})]})]})]}),a.jsxs(G,{isOpen:v,onClose:()=>x(!1),title:"Editar Lista",children:["        ",a.jsxs("form",{onSubmit:O,className:"space-y-4",children:[a.jsxs("div",{children:["            ",a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),"            ",a.jsx("input",{type:"text",value:g.name,onChange:R=>y({...g,name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de la lista",autoFocus:!0,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),a.jsx("textarea",{value:g.description,onChange:R=>y({...g,description:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripcin opcional",rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),a.jsx("div",{className:"flex gap-2",children:E.map(R=>a.jsx("button",{type:"button",onClick:()=>y({...g,color:R}),className:`w-8 h-8 rounded-full border-2 transition-all ${g.color===R?"border-gray-400 scale-110":"border-gray-200"}`,style:{backgroundColor:R}},R))})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Guardar"})]})]})]}),"      ",(f||p||v)&&a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{c(!1)}})]})},Mr=class Mr{constructor(){ae(this,"state");ae(this,"callbacks",new Set);ae(this,"autoCloseTimeout",null);this.state={isVisible:!1,message:"",type:"info"}}static getInstance(){return Mr.instance||(Mr.instance=new Mr),Mr.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}show(t,r="info",n=!0){this.autoCloseTimeout&&(window.clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.updateState({isVisible:!0,message:t,type:r}),n&&(this.autoCloseTimeout=window.setTimeout(()=>{this.close()},5e3))}showSuccess(t,r=!0){this.show(t,"success",r)}showError(t,r=!0){this.show(t,"error",r)}showWarning(t,r=!0){this.show(t,"warning",r)}showInfo(t,r=!0){this.show(t,"info",r)}close(){this.autoCloseTimeout&&(window.clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.updateState({isVisible:!1})}isVisible(){return this.state.isVisible}getCurrentMessage(){return this.state.message}getCurrentType(){return this.state.type}clear(){this.autoCloseTimeout&&(clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.state={isVisible:!1,message:"",type:"info"},this.notifySubscribers()}};ae(Mr,"instance");let Rl=Mr;const Ee=Rl.getInstance(),Qw=({children:e,content:t,position:r="bottom"})=>{const[n,i]=I.useState(!1);if(!t.trim())return a.jsx(a.Fragment,{children:e});const s={top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"},o={top:"top-full left-1/2 transform -translate-x-1/2 -mt-1",bottom:"bottom-full left-1/2 transform -translate-x-1/2 -mb-1",left:"left-full top-1/2 transform -translate-y-1/2 -ml-1",right:"right-full top-1/2 transform -translate-y-1/2 -mr-1"};return a.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[e,n&&a.jsxs("div",{className:`absolute z-50 px-3 py-2 text-sm text-white bg-gray-800 rounded-lg shadow-lg whitespace-normal max-w-xs ${s[r]}`,style:{wordBreak:"break-word",minWidth:"200px",maxWidth:"300px"},children:[t,a.jsx("div",{className:`absolute w-2 h-2 bg-gray-800 transform rotate-45 ${o[r]}`})]})]})},Kw=({isOpen:e,onClose:t,onMessageClick:r,onEditMessage:n})=>{const[i,s]=I.useState(new Set),[o,l]=I.useState([]),[u,d]=I.useState(null),[f,c]=I.useState(!1),[p,m]=I.useState(384),[v,x]=I.useState(!1),w=I.useRef(!1),h=o.find(C=>C.id===u),g=(h==null?void 0:h.messages)||[];I.useEffect(()=>de.subscribe((S,j)=>{l(S),d(j)}),[]);const y=I.useMemo(()=>{let C=300;const S=g.reduce((Z,X)=>{const J=(X.host+X.messageType).length+5;return J>Z?J:Z},0),j=h!=null&&h.name?h.name.length+15:0,T=h!=null&&h.description?h.description.length+10:0,F=18+5,q=Math.max(S,j,T,F)*8+120;return C=Math.min(Math.max(q,320),650),C},[g,h]);I.useEffect(()=>{m(y)},[y]);const b=C=>{if(w.current){const S=window.innerWidth-C.clientX;m(Math.min(Math.max(S,320),650))}},N=()=>{w.current=!1,x(!1),document.body.style.cursor="",document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",N)};if(I.useEffect(()=>()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",N),document.body.style.cursor=""},[]),!e)return null;const E=C=>{if(!C.destination)return;const S=C.source.index,j=C.destination.index;S!==j&&de.reorderMessages(S,j)},P=C=>{w.current=!0,x(!0),document.body.style.cursor="col-resize",document.addEventListener("mousemove",b),document.addEventListener("mouseup",N)},k=C=>new Date(C).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),M=C=>{const S=new Set(i);S.has(C)?S.delete(C):S.add(C),s(S)},O=async C=>{try{await de.sendMessage(C)}catch(S){console.error("Error sending message:",S),alert("Error al enviar el mensaje. Por favor, intenta de nuevo.")}},$=async()=>{if(g.length!==0){c(!0);try{for(const C of g)await de.sendMessage(C)}catch(C){console.error("Error sending all messages:",C),alert("Error al enviar los mensajes. Algunos mensajes pueden no haberse enviado.")}finally{c(!1)}}},K=async()=>{try{await zr.deleteAllMessages(),de.clearAllResponses(),Ee.showSuccess("Deleted all messages from monitoring. All acks deleted successfully")}catch(C){console.error("Failed to clear all responses:",C),de.clearAllResponses(),Ee.showWarning("Ack deleted (Server error)")}},W=C=>{g.find(j=>j.id===C)&&u&&(de.clearMessageResponses(C),Ee.showInfo("Message responses cleared successfully"))},G=C=>{de.removeMessage(C)},R=C=>{try{const S=de.exportList(C),j=new Blob([S],{type:"application/json"}),T=URL.createObjectURL(j),F=document.createElement("a"),z=o.find(q=>q.id===C);F.href=T,F.download=`${(z==null?void 0:z.name)||"lista"}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(T)}catch(S){console.error("Error exporting list:",S),alert("Error al exportar la lista.")}},A=()=>{const C=document.createElement("input");C.type="file",C.accept=".json",C.onchange=async S=>{var T,F,z,q,Z;const j=(T=S.target.files)==null?void 0:T[0];if(j)try{const X=await j.text(),J=JSON.parse(X),Q=de.createList(((F=J.listInfo)==null?void 0:F.name)||"Lista Importada",(z=J.listInfo)==null?void 0:z.description,(q=J.listInfo)==null?void 0:q.color);if(J.messages&&Array.isArray(J.messages))for(const D of J.messages)de.addMessage(D.content,D.host,D.messageType,D.messageControlId,Q.id);alert(`Lista "${Q.name}" importada exitosamente con ${((Z=J.messages)==null?void 0:Z.length)||0} mensajes.`)}catch(X){console.error("Error importing list:",X),alert("Error al importar la lista. Verifica que el archivo sea vlido.")}},C.click()};return a.jsxs("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-lg border-l border-gray-200 z-50 transform transition-transform duration-300 flex flex-col",style:{width:`${p}px`,transition:v?"none":"width 0.2s ease"},children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 -ml-1 cursor-col-resize hover:bg-blue-200 active:bg-blue-300 z-10",onMouseDown:P}),a.jsxs("div",{className:"flex flex-col p-3 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mensajes Guardados"}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Wt,{size:20})})]}),"        ",a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsxs("div",{className:"flex-1",children:["            ",a.jsx(qw,{lists:o,activeListId:u,onSelectList:C=>de.setActiveList(C),onCreateList:(C,S,j)=>de.createList(C,S,j),onUpdateList:(C,S)=>de.updateList(C,S),onDeleteList:C=>de.deleteList(C),onDuplicateList:(C,S)=>de.duplicateList(C,S),onExportList:R,onImportList:A,onReorderLists:(C,S)=>de.reorderLists(C,S)})]}),g.length>0&&a.jsx("button",{onClick:K,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Limpiar todas las respuestas de esta lista",children:a.jsx(Dl,{size:18})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:g.length===0?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("p",{className:"text-gray-500",children:"No hay mensajes en esta lista"})}):a.jsxs(Hg,{onDragEnd:E,children:["            ",a.jsx(Yg,{droppableId:"messages",children:C=>a.jsxs("div",{className:"p-3 space-y-3",...C.droppableProps,ref:C.innerRef,children:[g.map((S,j)=>{var z;const T=S.responses&&S.responses.length>0,F=T&&((z=S.responses)==null?void 0:z.some(q=>oo(q.message)));return a.jsx(Qg,{draggableId:S.id,index:j,children:(q,Z)=>{var X,J;return a.jsxs("div",{ref:q.innerRef,...q.draggableProps,className:`rounded-lg border transition-shadow ${Z.isDragging?"shadow-lg":""} ${F?"bg-red-50 border-red-200":T?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center border-b border-gray-200",children:[a.jsx("div",{...q.dragHandleProps,className:"flex items-center justify-center p-2 cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600",children:a.jsx(Dm,{size:16})}),a.jsx("div",{className:"flex-1 p-2",children:a.jsx(Qw,{content:S.comment||"",position:"bottom",children:a.jsxs("div",{className:"text-sm flex items-center",children:[a.jsx("span",{className:"font-medium text-blue-600",children:S.host}),a.jsx("span",{className:"text-gray-500 mx-1",children:""}),a.jsx("span",{className:`${F?"text-red-700":T?"text-green-700":"text-gray-700"}`,children:S.messageType}),S.comment&&a.jsx("span",{className:"ml-2 text-orange-500",title:"Tiene comentarios",children:a.jsx(V0,{size:14})})]})})})]}),a.jsx("div",{className:"cursor-pointer",onClick:()=>r(S),children:a.jsxs("div",{className:"p-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("div",{className:"text-xs text-gray-500",children:S.sentTimestamp?`Enviado: ${k(S.sentTimestamp)}`:""}),a.jsxs("div",{className:"flex gap-1",onClick:Q=>Q.stopPropagation(),children:[a.jsx("button",{onClick:Q=>{Q.stopPropagation(),M(S.id)},className:"p-1 text-gray-600 hover:bg-gray-200 rounded",title:"Ver/ocultar respuesta",children:i.has(S.id)?a.jsx(yr,{size:16}):a.jsx(qr,{size:16})}),a.jsx("button",{onClick:Q=>{Q.stopPropagation(),W(S.id)},className:"p-1 text-gray-400 hover:bg-gray-200 rounded",title:"Limpiar respuestas",children:a.jsx(Dl,{size:16})}),a.jsx("button",{onClick:Q=>{Q.stopPropagation(),!S.sentTimestamp&&n&&n(S)},disabled:!!S.sentTimestamp||!n,className:`p-1 rounded transition-colors ${S.sentTimestamp||!n?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-100 cursor-pointer"}`,title:n?S.sentTimestamp?"No se puede editar mensaje enviado":"Editar mensaje":"Edicin no disponible",children:a.jsx(si,{size:16})}),a.jsx("button",{onClick:Q=>{Q.stopPropagation(),O(S)},className:"p-1 text-green-600 hover:bg-green-100 rounded",title:"Enviar mensaje",children:a.jsx(km,{size:16})}),a.jsx("button",{onClick:Q=>{Q.stopPropagation(),G(S.id)},className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Eliminar mensaje",children:a.jsx(iy,{size:16})})]})]}),i.has(S.id)&&a.jsxs("div",{className:"bg-white p-2 rounded text-xs font-mono max-h-32 overflow-y-auto hover:bg-gray-50 cursor-text mb-2",onClick:Q=>Q.stopPropagation(),children:[S.content.substring(0,200),S.content.length>200&&"..."]}),S.responses&&S.responses.length>0&&i.has(S.id)&&a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",onClick:Q=>Q.stopPropagation(),children:[a.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-1",children:["Respuesta",(((X=S.responses)==null?void 0:X.length)||0)>1?"s":"",":"]}),a.jsx("div",{className:"space-y-2",children:(J=S.responses)==null?void 0:J.map((Q,D)=>{var qe;const H=oo(Q.message),me=Go(Q.message),ue=new Date(Q.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return a.jsxs("div",{className:`p-2 rounded text-xs font-mono max-h-40 overflow-y-auto border cursor-text ${H?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsxs("div",{className:"flex gap-2",children:[(((qe=S.responses)==null?void 0:qe.length)||0)>1&&a.jsxs("div",{className:`text-xs font-semibold ${H?"text-red-600":"text-green-600"}`,children:["#",D+1]}),a.jsx("div",{className:`text-xs px-1 py-0.5 rounded ${me.format==="json"?"bg-blue-100 text-blue-700":me.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:me.format.toUpperCase()})]}),a.jsx("div",{className:`text-xs ${H?"text-red-500":"text-green-500"}`,children:ue})]}),a.jsx("div",{className:`text-xs leading-relaxed font-mono ${H?"text-red-800":"text-green-800"}`,dangerouslySetInnerHTML:{__html:me.content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;")}})]},D)})})]})]})})]})}},S.id)}),C.placeholder,"                "]})})]})}),g.length>0&&a.jsx("div",{className:"p-3 border-t border-gray-200",children:a.jsx("button",{onClick:$,disabled:f,className:`w-full py-2 px-3 rounded-lg text-white font-medium transition-colors text-sm ${f?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:f?"Enviando...":`Enviar Todos (${g.length})`})})]})},Yw=({isOpen:e,onClose:t,message:r})=>{var i,s;if(!e||!r)return null;const n=o=>new Date(o).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mensaje Completo"}),"            ",a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium text-blue-600",children:r.host}),a.jsx("span",{className:"text-gray-500 mx-1",children:""}),a.jsx("span",{className:"text-gray-700",children:r.messageType}),r.sentTimestamp&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-500 mx-1",children:""}),a.jsxs("span",{className:"text-gray-500",children:["Enviado: ",n(r.sentTimestamp)]})]})]})]}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Wt,{size:20})})]}),a.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contenido del Mensaje:"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:a.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap text-gray-800",children:r.content})})]}),r.responses&&r.responses.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Respuesta",(((i=r.responses)==null?void 0:i.length)||0)>1?"s":""," del Servidor:"]}),"                ",a.jsxs("div",{className:"space-y-3",children:["                ",(s=r.responses)==null?void 0:s.map((o,l)=>{var c;const u=oo(o.message),d=Go(o.message),f=new Date(o.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return a.jsxs("div",{className:`p-4 rounded-lg border ${u?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex gap-2",children:[(((c=r.responses)==null?void 0:c.length)||0)>1&&a.jsxs("div",{className:`text-xs font-semibold ${u?"text-red-600":"text-green-600"}`,children:["Respuesta #",l+1]}),a.jsx("div",{className:`text-xs px-2 py-1 rounded ${d.format==="json"?"bg-blue-100 text-blue-700":d.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:d.format.toUpperCase()})]}),a.jsxs("div",{className:`text-xs ${u?"text-red-500":"text-green-500"}`,children:["Recibido: ",f]})]}),a.jsx("pre",{className:`text-xs font-mono whitespace-pre-wrap ${u?"text-red-800":"text-green-800"}`,children:d.content})]},l)})]})]})]})})]})})},Jw=({isOpen:e,onClose:t,message:r,onSave:n,onSaveComment:i,onSaveControlId:s})=>{var P,k;const[o,l]=I.useState(""),[u,d]=I.useState(""),[f,c]=I.useState(""),[p,m]=I.useState(!1);I.useEffect(()=>{r&&(l(r.content),d(r.comment||""),c(r.messageControlId||""),m(!1))},[r]);const v=M=>{const O=M.target.value;l(O),m(O!==(r==null?void 0:r.content)||u!==((r==null?void 0:r.comment)||"")||f!==((r==null?void 0:r.messageControlId)||""))},x=M=>{const O=M.target.value;d(O),m(o!==(r==null?void 0:r.content)||O!==((r==null?void 0:r.comment)||"")||f!==((r==null?void 0:r.messageControlId)||""))},w=M=>{const O=M.target.value;c(O),m(o!==(r==null?void 0:r.content)||u!==((r==null?void 0:r.comment)||"")||O!==((r==null?void 0:r.messageControlId)||""))},h=()=>{r&&p&&(o!==r.content&&n(r.id,o),u!==(r.comment||"")&&i(r.id,u),f!==(r.messageControlId||"")&&s(r.id,f),t())},g=()=>{r&&(l(r.content),d(r.comment||""),c(r.messageControlId||""),m(!1))},y=M=>{M.ctrlKey&&M.key==="s"&&(M.preventDefault(),h()),M.key==="Escape"&&t()};if(!e||!r)return null;const b=!r.sentTimestamp,N=M=>(typeof M=="string"?new Date(M):M).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),E=r.responses&&r.responses.length>0?r.responses[r.responses.length-1].receiveTime:null;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:b?"Editar Mensaje":"Ver Mensaje (Solo Lectura)"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-blue-600",children:r.host}),a.jsx("span",{className:"text-gray-500 mx-1",children:""}),a.jsx("span",{className:"text-gray-700",children:r.messageType}),r.sentTimestamp&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-500 mx-1",children:""}),a.jsx("span",{className:"text-green-600 font-medium",children:"Enviado"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Creado:"}),a.jsx("span",{className:"ml-1 text-gray-700",children:N(r.timestamp)})]}),r.sentTimestamp&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Enviado:"}),a.jsx("span",{className:"ml-1 text-green-600 font-medium",children:N(r.sentTimestamp)})]}),E&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"ltima respuesta:"}),a.jsx("span",{className:"ml-1 text-purple-600 font-medium",children:N(E)})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[b&&p&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:g,className:"p-2 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Resetear cambios",children:a.jsx(Dl,{size:18})}),a.jsx("button",{onClick:h,className:"p-2 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Guardar cambios (Ctrl+S)",children:a.jsx(Au,{size:18})})]}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Wt,{size:20})})]})]}),"        ",a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Contenido del Mensaje:"}),b&&a.jsx("div",{className:"text-xs text-gray-500",children:"Usa Ctrl+S para guardar  Esc para cerrar"})]}),b?a.jsx("textarea",{value:o,onChange:v,onKeyDown:y,className:"w-full h-96 p-4 bg-gray-50 border border-gray-300 rounded-lg font-mono text-xs resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contenido del mensaje...",autoFocus:!0}):a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border h-96 overflow-y-auto",children:a.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap text-gray-800",children:r.content})}),b&&p&&a.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("span",{className:"font-medium",children:"Cambios sin guardar"})," - Presiona Ctrl+S para guardar o el botn de resetear para descartar."]})}),!b&&a.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("span",{className:"font-medium",children:"Mensaje enviado"})," - Este mensaje ya fue enviado y no puede ser modificado."]})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Comentarios:"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Los comentarios aparecern como tooltips en la barra lateral"})]}),a.jsx("textarea",{value:u,onChange:x,onKeyDown:y,className:"w-full h-20 p-3 bg-gray-50 border border-gray-300 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Agrega un comentario para este mensaje (opcional)..."})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Control ID:"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Identificador nico para el mensaje (opcional)"})]}),a.jsx("input",{type:"text",value:f,onChange:w,onKeyDown:y,className:"w-full h-10 px-3 bg-gray-50 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ingresa un Control ID personalizado (opcional)..."})]}),r.responses&&r.responses.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Respuesta",(((P=r.responses)==null?void 0:P.length)||0)>1?"s":""," del Servidor:"]}),"                ",a.jsx("div",{className:"space-y-3",children:(k=r.responses)==null?void 0:k.map((M,O)=>{var W;const $=M.message.includes("ERR|"),K=new Date(M.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return a.jsxs("div",{className:`p-4 rounded-lg border ${$?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[(((W=r.responses)==null?void 0:W.length)||0)>1&&a.jsxs("div",{className:`text-xs font-semibold ${$?"text-red-600":"text-green-600"}`,children:["Respuesta #",O+1]}),a.jsxs("div",{className:`text-xs ${$?"text-red-500":"text-green-500"}`,children:["Recibido: ",K]})]}),a.jsx("pre",{className:`text-xs font-mono whitespace-pre-wrap ${$?"text-red-800":"text-green-800"}`,children:M.message})]},O)})})]})]})}),"        ",b&&a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Los cambios se guardarn automticamente al cerrar si hay modificaciones."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:h,disabled:!p,className:`px-4 py-2 rounded-lg transition-colors ${p?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Guardar Cambios"})]})]})]})})},Or=class Or{constructor(){ae(this,"state");ae(this,"callbacks",new Set);this.state={isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1,isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1,isSidebarOpen:!1,isMessageSaved:!1,messageCopied:!1,error:null}}static getInstance(){return Or.instance||(Or.instance=new Or),Or.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}togglePatientModal(){this.updateState({isPatientModalOpen:!this.state.isPatientModalOpen})}togglePhysicianModal(){this.updateState({isPhysicianModalOpen:!this.state.isPhysicianModalOpen})}togglePathologistModal(){this.updateState({isPathologistModalOpen:!this.state.isPathologistModalOpen})}toggleHierarchyModal(){this.updateState({isHierarchyModalOpen:!this.state.isHierarchyModalOpen})}toggleTechnicianModal(){this.updateState({isTechnicianModalOpen:!this.state.isTechnicianModalOpen})}toggleSpecimenSelectorModal(){this.updateState({isSpecimenSelectorModalOpen:!this.state.isSpecimenSelectorModalOpen})}toggleBlockSelectorModal(){this.updateState({isBlockSelectorModalOpen:!this.state.isBlockSelectorModalOpen})}toggleSlideSelectorModal(){this.updateState({isSlideSelectorModalOpen:!this.state.isSlideSelectorModalOpen})}toggleEntitySelectorModal(){this.updateState({isEntitySelectorModalOpen:!this.state.isEntitySelectorModalOpen})}setFetchingData(t){this.updateState({isFetchingData:t})}setGeneratingMessage(t){this.updateState({isGeneratingMessage:t})}setSendingMessage(t){this.updateState({isSendingMessage:t})}setSendingAll(t){this.updateState({isSendingAll:t})}setClearingAll(t){this.updateState({isClearingAll:t})}toggleSidebar(){this.updateState({isSidebarOpen:!this.state.isSidebarOpen})}setMessageSaved(t){this.updateState({isMessageSaved:t}),t&&setTimeout(()=>{this.updateState({isMessageSaved:!1})},1500)}setMessageCopied(t){this.updateState({messageCopied:t}),t&&setTimeout(()=>{this.updateState({messageCopied:!1})},2e3)}setError(t){this.updateState({error:t})}clearError(){this.updateState({error:null})}closeAllModals(){this.updateState({isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1})}resetLoadingStates(){this.updateState({isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1})}resetAllStates(){this.state={isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1,isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1,isSidebarOpen:!1,isMessageSaved:!1,messageCopied:!1,error:null},this.notifySubscribers()}};ae(Or,"instance");let Al=Or;const ee=Al.getInstance(),Oe=[{id:"IN_PROGRESS",name:"IN_PROGRESS",description:"Work in progress"},{id:"SIGN_OUT",name:"SIGN_OUT",description:"Signed out"},{id:"ADDEND",name:"ADDEND",description:"Addendum"},{id:"AMEND",name:"AMEND",description:"Amendment"},{id:"CANCEL",name:"CANCEL",description:"Cancelled"}],Bl=[{id:"EMBEDDED",name:"EMBEDDED",description:"Embedded"},{id:"MARKED",name:"MARKED",description:"Marked"},{id:"VERIFIED",name:"VERIFIED",description:"Verified"},{id:"ASSEMBLED",name:"ASSEMBLED",description:"Assembled"},{id:"ASSIGNED",name:"ASSIGNED",description:"Assigned"},{id:"ADDITION",name:"ADDITION",description:"Addition"},{id:"CANCELED",name:"CANCELED",description:"Canceled"}],Xw=[{id:"SCANNED",name:"SCANNED",description:"Slide has been scanned"},{id:"SCANNED_ERROR",name:"SCANNED_ERROR",description:"Error during scanning"},{id:"TRANSFER_OK",name:"TRANSFER_OK",description:"Transfer completed successfully"},{id:"TRANSFER_ERROR",name:"TRANSFER_ERROR",description:"Error during transfer"},{id:"PRESCAN_OK",name:"PRESCAN_OK",description:"Prescan completed successfully"},{id:"PRESCAN_ERROR",name:"PRESCAN_ERROR",description:"Error during prescan"},{id:"PRESCAN_QC",name:"PRESCAN_QC",description:"Prescan quality control"},{id:"SCAN_SCHEDULED",name:"SCAN_SCHEDULED",description:"Scan has been scheduled"},{id:"SCAN_ISSUE",name:"SCAN_ISSUE",description:"Issue with scan"},{id:"SCAN_QC",name:"SCAN_QC",description:"Scan quality control"}],dp=[{id:"SlideStaining",name:"SlideStaining",description:"Slide is being stained"},{id:"SlideStained",name:"SlideStained",description:"Slide has been stained"}],Dr=[{id:"LIS",name:"LIS",messageTypes:[{id:"OML21",name:"OML21"},{id:"ADTA28",name:"ADTA28"},{id:"ADTA08",name:"ADTA08"},{id:"CASE_UPDATE",name:"CASE_UPDATE",requiresStatusSelector:!0,statusOptions:Oe},{id:"DELETE_CASE",name:"DELETE_CASE"},{id:"DELETE_SPECIMEN",name:"DELETE_SPECIMEN",requiresSpecimenSelector:!0},{id:"DELETE_SLIDE",name:"DELETE_SLIDE",requiresSlideSelector:!0}],statusOptions:Oe},{id:"VTG",name:"VTG",messageTypes:[{id:"OEWF",name:"OEWF"},{id:"ADDITION",name:"ADDITION",requiresSpecimenSelector:!0},{id:"SPECIMEN_UPDATE",name:"SPECIMEN_UPDATE",requiresSpecimenSelector:!0,requiresStatusSelector:!0,statusOptions:Oe},{id:"BLOCK_UPDATE",name:"BLOCK_UPDATE",requiresSpecimenSelector:!0,requiresBlockSelector:!0,requiresStatusSelector:!0,statusOptions:Oe},{id:"SLIDE_UPDATE",name:"SLIDE_UPDATE",requiresSpecimenSelector:!0,requiresBlockSelector:!0,requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:Oe}],statusOptions:Oe},{id:"VANTAGE WS",name:"VANTAGE WS",messageTypes:[{id:"ProcessVANTAGEEvent",name:"ProcessVANTAGEEvent",requiresEntitySelector:!0,requiresStatusSelector:!0,statusOptions:Bl},{id:"ProcessNewOrderRequest",name:"ProcessNewOrderRequest"},{id:"ProcessChangeOrderRequest",name:"ProcessChangeOrderRequest"},{id:"ProcessCancelOrderRequest",name:"ProcessCancelOrderRequest"},{id:"ProcessNewOrder",name:"ProcessNewOrder"},{id:"ProcessChangeOrder",name:"ProcessChangeOrder"},{id:"ProcessCancelOrder",name:"ProcessCancelOrder"},{id:"ProcessAssignedPathologistUpdate",name:"ProcessAssignedPathologistUpdate"},{id:"ProcessPhysicianUpdate",name:"ProcessPhysicianUpdate"},{id:"ProcessPatientUpdate",name:"ProcessPatientUpdate"}],statusOptions:Bl},{id:"UPATH CLOUD",name:"UPATH CLOUD",messageTypes:[{id:"sendScannedSlideImageLabelId",name:"sendScannedSlideImageLabelId",requiresSlideSelector:!0},{id:"sendReleasedSpecimen",name:"sendReleasedSpecimen",requiresSpecimenSelector:!0},{id:"sendSlideWSAData",name:"sendSlideWSAData",requiresSlideSelector:!0,requiresEntitySelector:!0,requiresStatusSelector:!0,statusOptions:Oe},{id:"BLOCK_UPDATE",name:"BLOCK_UPDATE"},{id:"SLIDE_UPDATE",name:"SLIDE_UPDATE"}],statusOptions:Oe},{id:"DP600",name:"DP600",messageTypes:[{id:"sendScannedSlideImageLabelId",name:"sendScannedSlideImageLabelId",requiresSlideSelector:!0},{id:"sendUpdatedSlideStatus",name:"sendUpdatedSlideStatus",requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:Xw}],statusOptions:Oe},{id:"AUTOMATION_SW",name:"AUTOMATION SOFTWARE",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS UPDATE",requiresEntitySelector:!0}],statusOptions:Oe},{id:"HISTOBOT",name:"HISTOBOT",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS_UPDATE",requiresEntitySelector:!0}],statusOptions:Oe},{id:"HISTOBOT_SENSITIVE_DATA",name:"HISTOBOT_SENSITIVE_DATA",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS_UPDATE",requiresEntitySelector:!0}],statusOptions:Oe},{id:"LIS_HL7",name:"LIS_HL7",messageTypes:[{id:"OML21",name:"OML21"},{id:"ADTA28",name:"ADTA28"},{id:"ADTA08",name:"ADTA08"},{id:"CASE_UPDATE",name:"CASE_UPDATE",requiresStatusSelector:!0,statusOptions:Oe},{id:"DELETE_CASE",name:"DELETE_CASE"},{id:"DELETE_SPECIMEN",name:"DELETE_SPECIMEN",requiresSpecimenSelector:!0},{id:"DELETE_SLIDE",name:"DELETE_SLIDE",requiresSlideSelector:!0}],statusOptions:Oe},{id:"VSS",name:"VSS",messageTypes:[{id:"UpdateSlideStatus",name:"UpdateSlideStatus",requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:dp}],statusOptions:dp}];class St{static getHostConfig(t){let r=Dr.find(n=>n.id===t);if(r)return r;if(t.startsWith("histobot")||t.includes("HISTOBOT")){const n=Dr.find(i=>i.id==="HISTOBOT");if(n)return{...n,id:t,name:t}}if(t.includes("LIS")){const n=Dr.find(i=>i.id==="LIS_HL7");if(n)return{...n,id:t,name:t}}if(t.includes("VTG")){const n=Dr.find(i=>i.id==="VTG");if(n)return{...n,id:t,name:t}}if(t.includes("VSS")){const n=Dr.find(i=>i.id==="VSS");if(n)return{...n,id:t,name:t}}if(t.includes("DP600")){const n=Dr.find(i=>i.id==="DP600");if(n)return{...n,id:t,name:t}}return{id:t,name:t,messageTypes:[{id:"GENERIC_MESSAGE",name:"Generic Message"}],statusOptions:Oe}}static getMessageTypeConfig(t,r){const n=this.getHostConfig(t);return n==null?void 0:n.messageTypes.find(i=>i.id===r)}static getHostOptions(){return Dr.map(t=>({id:t.id,name:t.name}))}static getMessageTypesForHost(t){const r=this.getHostConfig(t);return(r==null?void 0:r.messageTypes)||[]}static getStatusOptions(t,r){if(r){const i=this.getMessageTypeConfig(t,r);if(i!=null&&i.statusOptions)return i.statusOptions}const n=this.getHostConfig(t);return(n==null?void 0:n.statusOptions)||Oe}static shouldShowSpecimenSelector(t,r){const n=this.getMessageTypeConfig(t,r),i=this.getHostConfig(t);return(n==null?void 0:n.requiresSpecimenSelector)||(i==null?void 0:i.requiresSpecimenSelector)||!1}static shouldShowBlockSelector(t,r){const n=this.getMessageTypeConfig(t,r),i=this.getHostConfig(t);return(n==null?void 0:n.requiresBlockSelector)||(i==null?void 0:i.requiresBlockSelector)||!1}static shouldShowSlideSelector(t,r){const n=this.getMessageTypeConfig(t,r),i=this.getHostConfig(t);return(n==null?void 0:n.requiresSlideSelector)||(i==null?void 0:i.requiresSlideSelector)||!1}static shouldShowEntitySelector(t,r){const n=this.getMessageTypeConfig(t,r),i=this.getHostConfig(t);return(n==null?void 0:n.requiresEntitySelector)||(i==null?void 0:i.requiresEntitySelector)||!1}static shouldShowStatusSelector(t,r){const n=this.getMessageTypeConfig(t,r);return(n==null?void 0:n.requiresStatusSelector)||!1}static getSelectorRequirements(t,r){return{showSpecimenSelector:this.shouldShowSpecimenSelector(t,r),showBlockSelector:this.shouldShowBlockSelector(t,r),showSlideSelector:this.shouldShowSlideSelector(t,r),showEntitySelector:this.shouldShowEntitySelector(t,r),showStatusSelector:this.shouldShowStatusSelector(t,r)}}}const Lr=class Lr{constructor(){ae(this,"state");ae(this,"callbacks",new Set);this.state={sampleId:"",selectedHost:"",selectedType:"",selectedStatus:"IN_PROGRESS",message:null,generatedMessage:"",currentMessageControlId:void 0,sendResponse:[],patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,availableReagents:[],selectedSlideReagents:[],messageTypes:[],dynamicHosts:[],isLoadingHosts:!1},this.initializeDefaultReagents(),this.initializeDynamicHosts()}get hosts(){return this.state.dynamicHosts.length>0?this.state.dynamicHosts:St.getHostOptions()}get statusOptions(){return Oe}get statusVTGWSOptions(){return Bl}getCurrentStatusOptions(){const{selectedHost:t,selectedType:r}=this.state;return St.getStatusOptions(t,r)}async initializeDynamicHosts(){this.updateState({isLoadingHosts:!0});try{await er.initialize();const r=er.getCachedHosts().map(n=>({id:n,name:n}));if(this.updateState({dynamicHosts:r,isLoadingHosts:!1}),this.state.selectedHost&&!er.hostExists(this.state.selectedHost)){const n=er.migrateHost(this.state.selectedHost);n!==this.state.selectedHost&&(console.log(`Migrando host ${this.state.selectedHost}  ${n}`),this.setSelectedHost(n))}}catch(t){console.error("Error inicializando hosts dinmicos:",t),this.updateState({isLoadingHosts:!1})}}initializeDefaultReagents(){const t=[{substanceName:"Hematoxylin & Eosin",substanceOtherName:"H&E Stain",substanceType:"Stain",manufacturer:"Sigma-Aldrich",lotNumber:"HE2024001",lotSerialNumber:"SN-HE-001",catalogNumber:"CAT-HE-2024",intendedUseFlag:"Routine Staining",expirationDateTime:"2025-12-31T23:59:59",receivedDateTime:"2024-01-15T08:00:00"}];this.updateState({availableReagents:t})}static getInstance(){return Lr.instance||(Lr.instance=new Lr),Lr.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}setSampleId(t){this.updateState({sampleId:t})}setSelectedHost(t){const r=St.getMessageTypesForHost(t),n="IN_PROGRESS";this.updateState({selectedHost:t,selectedType:"",selectedStatus:n,messageTypes:r,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null})}setSelectedType(t){const r=St.getStatusOptions(this.state.selectedHost,t),n=r.length>0?r[0].id:"IN_PROGRESS";this.updateState({selectedType:t,selectedStatus:n,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null})}setSelectedStatus(t){this.updateState({selectedStatus:t})}setMessage(t){var r,n,i,s,o,l,u,d;this.updateState({message:t}),t&&this.updateState({patientInfo:t.patient||null,physicianInfo:t.physician||null,pathologistInfo:((s=(i=(n=(r=t.patient)==null?void 0:r.orders)==null?void 0:n.orderList)==null?void 0:i[0])==null?void 0:s.pathologist)||null,technicianInfo:((d=(u=(l=(o=t.patient)==null?void 0:o.orders)==null?void 0:l.orderList)==null?void 0:u[0])==null?void 0:d.technician)||null})}setGeneratedMessage(t){this.updateState({generatedMessage:t})}setCurrentMessageControlId(t){this.updateState({currentMessageControlId:t})}setSendResponse(t){this.updateState({sendResponse:t})}clearSendResponse(){this.updateState({sendResponse:[]})}setPatientInfo(t){if(this.updateState({patientInfo:t}),this.state.message){const r={...this.state.message,patient:t};this.updateState({message:r})}}setPhysicianInfo(t){if(this.updateState({physicianInfo:t}),this.state.message){const r={...this.state.message,physician:t};this.updateState({message:r})}}setPathologistInfo(t){var r,n,i,s;if(this.updateState({pathologistInfo:t}),(i=(n=(r=this.state.message)==null?void 0:r.patient)==null?void 0:n.orders)!=null&&i.orderList){const o={...this.state.message};(s=o.patient)!=null&&s.orders&&(o.patient.orders.orderList=o.patient.orders.orderList.map(l=>({...l,pathologist:t}))),this.updateState({message:o})}}setTechnicianInfo(t){var r,n,i,s;if(this.updateState({technicianInfo:t}),(i=(n=(r=this.state.message)==null?void 0:r.patient)==null?void 0:n.orders)!=null&&i.orderList){const o={...this.state.message};(s=o.patient)!=null&&s.orders&&(o.patient.orders.orderList=o.patient.orders.orderList.map(l=>({...l,technician:t}))),this.updateState({message:o})}}setSelectedSpecimen(t){this.updateState({selectedSpecimen:t})}setSelectedBlock(t){this.updateState({selectedBlock:t})}setSelectedSlide(t){const r=(t==null?void 0:t.reagents)||[];this.updateState({selectedSlide:t,selectedSlideReagents:r})}setSelectedEntity(t,r){t==="Specimen"?this.updateState({selectedSpecimen:r,selectedBlock:null,selectedSlide:null,selectedEntity:{type:t,id:r.id}}):t==="Block"?this.updateState({selectedSpecimen:null,selectedBlock:r,selectedSlide:null,selectedEntity:{type:t,id:r.id}}):t==="Slide"?this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:r,selectedEntity:{type:t,id:r.id}}):t==="Order"&&this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:{type:t,id:r.sampleId}})}setAvailableReagents(t){this.updateState({availableReagents:t})}addReagentToSlide(t){const r=this.state.selectedSlideReagents;r.find(n=>n.substanceName===t.substanceName&&n.lotNumber===t.lotNumber)||this.updateState({selectedSlideReagents:[...r,t]})}removeReagentFromSlide(t){const r=this.state.selectedSlideReagents,n=t.split("-"),i=parseInt(n[n.length-1]);this.updateState({selectedSlideReagents:r.filter((s,o)=>o!==i)})}clearSlideReagents(){this.updateState({selectedSlideReagents:[]})}getAvailableReagents(){return this.state.availableReagents}getSelectedSlideReagents(){return this.state.selectedSlideReagents}updateSelectedSlideWithReagents(){if(this.state.selectedSlide&&this.state.selectedSlideReagents.length>0){const t={...this.state.selectedSlide,reagents:this.state.selectedSlideReagents};this.updateState({selectedSlide:t})}}getShowSpecimenSelector(){const{selectedHost:t,selectedType:r}=this.state;return St.shouldShowSpecimenSelector(t,r)}getShowBlockSelector(){const{selectedHost:t,selectedType:r}=this.state;return St.shouldShowBlockSelector(t,r)}getShowSlideSelector(){const{selectedHost:t,selectedType:r}=this.state;return St.shouldShowSlideSelector(t,r)}getShowEntitySelector(){const{selectedHost:t,selectedType:r}=this.state;return St.shouldShowEntitySelector(t,r)}getShowStatusSelector(){const{selectedHost:t,selectedType:r}=this.state;return St.shouldShowStatusSelector(t,r)}isGenerateButtonDisabled(t,r){const{selectedHost:n,selectedType:i,selectedSpecimen:s,selectedSlide:o,selectedBlock:l,selectedEntity:u}=this.state;return r||!n||!i||t||this.getShowSpecimenSelector()&&!s||this.getShowSlideSelector()&&!o||this.getShowBlockSelector()&&!l||this.getShowEntitySelector()&&!u}clearAllSelections(){this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,selectedSlideReagents:[]})}clearEntityInformation(){this.updateState({patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null})}resetFormState(){this.state={sampleId:"",selectedHost:"",selectedType:"",selectedStatus:"IN_PROGRESS",message:null,generatedMessage:"",currentMessageControlId:void 0,sendResponse:[],patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,availableReagents:this.state.availableReagents,selectedSlideReagents:[],messageTypes:[],dynamicHosts:this.state.dynamicHosts,isLoadingHosts:this.state.isLoadingHosts},this.notifySubscribers()}async refreshHosts(){await this.initializeDynamicHosts()}get isLoadingHosts(){return this.state.isLoadingHosts}migrateHostIfNeeded(t){return er.migrateHost(t)}};ae(Lr,"instance");let Fl=Lr;const Y=Fl.getInstance(),Rr=class Rr{constructor(){ae(this,"updateCallbacks",[]);ae(this,"eventSource",null);this.setupSSEConnection()}static getInstance(){return Rr.instance||(Rr.instance=new Rr),Rr.instance}registerUpdateCallback(t){this.updateCallbacks.push(t),console.log("Registered update callback. Total callbacks:",this.updateCallbacks.length)}unregisterUpdateCallback(t){this.updateCallbacks=this.updateCallbacks.filter(r=>r!==t),console.log("Unregistered update callback. Total callbacks:",this.updateCallbacks.length)}notifyCallbacks(t,r){console.log(`Notifying ${this.updateCallbacks.length} callbacks for controlId: ${t}`,r),this.updateCallbacks.forEach(n=>{try{n(t,r)}catch(i){console.error("Error calling update callback:",i)}})}setupSSEConnection(){try{this.eventSource=new EventSource("/api/ui/messages/sse"),this.eventSource.onopen=()=>{console.log("SSE connection established")},this.eventSource.onmessage=t=>{try{const r=JSON.parse(t.data);if(console.log("Received SSE message:",r),r.type==="messageUpdate"&&r.controlId&&r.responses){const n=Array.isArray(r.responses)?r.responses.map(i=>typeof i=="string"?{message:i,receiveTime:new Date().toISOString()}:i):[];this.notifyCallbacks(r.controlId,n)}}catch(r){console.error("Error parsing SSE message:",r)}},this.eventSource.onerror=t=>{console.error("SSE connection error:",t),setTimeout(()=>{var r;((r=this.eventSource)==null?void 0:r.readyState)===EventSource.CLOSED&&(console.log("Attempting to reconnect SSE..."),this.setupSSEConnection())},5e3)}}catch(t){console.error("Error setting up SSE connection:",t)}}disconnect(){this.eventSource&&(this.eventSource.close(),this.eventSource=null,console.log("SSE connection closed"))}updateResponses(t,r){const n=r.map(i=>typeof i=="string"?{message:i,receiveTime:new Date().toISOString()}:i);this.notifyCallbacks(t,n)}};ae(Rr,"instance");let zl=Rr;const pp=zl.getInstance(),Zw=()=>{const[e,t]=I.useState(ee.getState()),[r,n]=I.useState(Y.getState()),[i,s]=I.useState(Me.getMessages()),[o,l]=I.useState(Ee.getState());I.useEffect(()=>{const D=ee.subscribe(t),H=Y.subscribe(n),me=Me.subscribe(s),ue=Ee.subscribe(l),qe=(Pt,ct)=>{console.log(`handleMessageUpdate called with controlId: ${Pt}`,ct),Me.updateMessageResponses(Pt,ct),de.updateMessageResponses(Pt,ct),Y.getState().currentMessageControlId===Pt&&(console.log("Updating main form sendResponse because controlId matches current message"),Y.setSendResponse(ct))};return console.log("Registering message update callback"),pp.registerUpdateCallback(qe),()=>{D(),H(),me(),ue(),console.log("Unregistering message update callback"),pp.unregisterUpdateCallback(qe)}},[]);const u=async D=>{const H=D.target.value;Y.setSampleId(H),setTimeout(async()=>{H.trim()===Y.getState().sampleId&&(H.trim()?await b(H):(Y.setMessage(null),Y.clearEntityInformation(),ee.setFetchingData(!1)))},500)},d=D=>{Y.setSelectedHost(D.target.value)},f=D=>{Y.setSelectedType(D.target.value)},c=D=>{Y.setSelectedStatus(D.target.value)},p=D=>{Y.setPatientInfo(D)},m=D=>{Y.setPhysicianInfo(D)},v=D=>{Y.setPathologistInfo(D)},x=D=>{Y.setTechnicianInfo(D)},w=D=>{Y.setSelectedSpecimen(D)},h=D=>{Y.setSelectedBlock(D)},g=D=>{Y.setSelectedSlide(D)},y=(D,H)=>{Y.setSelectedEntity(D,H)},b=async D=>{if(!D){ee.setFetchingData(!1);return}try{ee.setFetchingData(!0),ee.clearError();const H=await zr.fetchMessageData(D);Y.setMessage(H)}catch(H){console.error("Error fetching data:",H),ee.setError("Error al obtener los datos. Por favor intente nuevamente.")}finally{ee.setFetchingData(!1)}},N=async()=>{const D=Y.getState();if(!D.sampleId||!D.selectedType){Y.setGeneratedMessage("Por favor, completa todos los campos.");return}if(D.selectedHost==="LIS"&&D.selectedType==="DELETE_SPECIMEN"&&!D.selectedSpecimen||D.selectedHost==="UPATH_CLOUD"&&D.selectedType==="sendReleasedSpecimen"&&!D.selectedSpecimen){Y.setGeneratedMessage("Por favor, selecciona un specimen para eliminar.");return}if(D.selectedHost==="LIS"&&D.selectedType==="DELETE_SLIDE"&&!D.selectedSlide||D.selectedHost==="UPATH_CLOUD"&&D.selectedType==="sendScannedSlideImageLabelId"&&!D.selectedSlide||D.selectedHost==="DP600"&&D.selectedType==="sendScannedSlideImageLabelId"&&!D.selectedSlide||D.selectedHost==="DP600"&&D.selectedType==="sendUpdatedSlideStatus"&&!D.selectedSlide||D.selectedHost==="VANTAGE_WS"&&D.selectedType==="ProcessVANTAGEEvent"&&!D.selectedEntity){Y.setGeneratedMessage("Por favor, selecciona una entidad para procesar.");return}if(D.selectedHost==="DP600"&&D.selectedType==="sendUpdatedSlideStatus"&&!D.selectedStatus){Y.setGeneratedMessage("Por favor, selecciona un status para el slide.");return}try{ee.setGeneratingMessage(!0),ee.clearError(),Y.clearSendResponse(),Y.updateSelectedSlideWithReagents();const H=St.getHostConfig(D.selectedHost),me=(H==null?void 0:H.name)||D.selectedHost;let ue=er.getClientType(D.selectedHost);ue||(ue=H==null?void 0:H.id),ue||(ue=D.selectedHost),console.log(`Sending message with hostName: ${me}, hostType: ${ue} (from clientType)`);const qe=await zr.generateMessage(D.message,D.selectedType,me,ue,Y.getShowStatusSelector()?D.selectedStatus:void 0,D.selectedSpecimen||void 0,D.selectedBlock||void 0,D.selectedSlide||void 0,D.selectedEntity||void 0);Y.setGeneratedMessage(qe.message),Y.setCurrentMessageControlId(qe.controlId)}catch(H){console.error("Error generating message:",H),ee.setError("Error al generar mensaje. Por favor intente nuevamente."),Y.setGeneratedMessage("")}finally{ee.setGeneratingMessage(!1)}},E=async()=>{const D=Y.getState();if(!D.generatedMessage||!D.selectedHost||!D.selectedType){ee.setError("No hay mensaje para enviar o faltan datos.");return}try{ee.setSendingMessage(!0),ee.clearError();const H=await zr.sendMessage({message:D.generatedMessage,hostName:D.selectedHost,messageType:D.selectedType,controlId:D.currentMessageControlId});Y.setSendResponse(H),console.log("Mensaje enviado exitosamente")}catch(H){console.error("Error sending message:",H),ee.setError("Error al enviar mensaje. Por favor intente nuevamente.")}finally{ee.setSendingMessage(!1)}},P=()=>{const D=Y.getState();D.generatedMessage&&navigator.clipboard.writeText(D.generatedMessage).then(()=>{ee.setMessageCopied(!0)}).catch(H=>{console.error("Error al copiar: ",H)})},k=D=>{Y.setGeneratedMessage(D)},M=()=>{const D=Y.getState();if(!D.generatedMessage||!D.selectedHost||!D.selectedType){ee.setError("No hay mensaje para guardar o faltan datos.");return}de.addMessage(D.generatedMessage,D.selectedHost,D.selectedType,D.currentMessageControlId),ee.setMessageSaved(!0),Ee.showSuccess("Mensaje guardado exitosamente")},O=D=>{Me.removeMessage(D)},$=async()=>{try{ee.setClearingAll(!0),await zr.deleteAllMessages(),Me.clearAllResponses(),Ee.showSuccess("Deleted all messages from monitoring. All acks deleted successfully")}catch(D){console.error("Error calling deleteAll endpoint:",D),Me.clearAllResponses(),Ee.showWarning("Ack deleted (Server error)")}finally{ee.setClearingAll(!1)}},K=D=>{Me.clearMessageResponses(D),Ee.showInfo("All messages deleted successfully")},W=(D,H)=>{Me.reorderMessages(D,H)},G=async D=>{try{const H=await Me.sendMessage(D);console.log("Mensaje guardado enviado exitosamente:",H)}catch(H){console.error("Error sending saved message:",H),ee.setError("Error al enviar mensaje guardado.")}},R=async()=>{if(i.length===0){ee.setError("No hay mensajes guardados para enviar.");return}try{ee.setSendingAll(!0),ee.clearError();for(const D of i)await G(D);console.log("Todos los mensajes enviados exitosamente")}catch(D){console.error("Error sending all messages:",D),ee.setError("Error al enviar todos los mensajes.")}finally{ee.setSendingAll(!1)}},A=(D,H)=>{const me=H.map(ue=>({message:ue,receiveTime:new Date().toISOString()}));Me.updateMessageResponses(D,me)},C=(D,H)=>{Me.updateMessageContent(D,H),Ee.showSuccess("Mensaje actualizado exitosamente")},S=(D,H)=>{Me.updateMessageComment(D,H),Ee.showSuccess("Comentario actualizado exitosamente")},j=(D,H)=>{Me.updateMessageControlId(D,H),Ee.showSuccess("Control ID actualizado exitosamente")},T=()=>{try{const D=Me.exportMessages(),H=new Blob([D],{type:"application/json"}),me=URL.createObjectURL(H),ue=document.createElement("a");ue.href=me,ue.download=`saved-messages-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),URL.revokeObjectURL(me),Ee.showSuccess("Mensajes exportados exitosamente")}catch(D){console.error("Error exporting messages:",D),Ee.showError("Error al exportar mensajes")}},F=()=>{const D=document.createElement("input");D.type="file",D.accept=".json",D.onchange=H=>{var ue;const me=(ue=H.target.files)==null?void 0:ue[0];if(me){const qe=new FileReader;qe.onload=Pt=>{var ct;try{const Cr=(ct=Pt.target)==null?void 0:ct.result,Er=Me.importMessages(Cr);Er.success?Ee.showSuccess(Er.message):Ee.showError(Er.message)}catch(Cr){console.error("Error importing messages:",Cr),Ee.showError("Error al importar mensajes")}},qe.readAsText(me)}},D.click()},z=Y.getShowSpecimenSelector(),q=Y.getShowBlockSelector(),Z=Y.getShowSlideSelector(),X=Y.getShowEntitySelector(),J=Y.getShowStatusSelector(),Q=Y.isGenerateButtonDisabled(e.isFetchingData,e.isGeneratingMessage);return{message:r.message,sampleId:r.sampleId,selectedHost:r.selectedHost,selectedType:r.selectedType,selectedStatus:r.selectedStatus,generatedMessage:r.generatedMessage,patientInfo:r.patientInfo,physicianInfo:r.physicianInfo,pathologistInfo:r.pathologistInfo,technicianInfo:r.technicianInfo,selectedSpecimen:r.selectedSpecimen,selectedBlock:r.selectedBlock,selectedSlide:r.selectedSlide,selectedEntity:r.selectedEntity,sendResponse:r.sendResponse,messageCopied:e.messageCopied,isPatientModalOpen:e.isPatientModalOpen,isPhysicianModalOpen:e.isPhysicianModalOpen,isPathologistModalOpen:e.isPathologistModalOpen,isHierarchyModalOpen:e.isHierarchyModalOpen,isFetchingData:e.isFetchingData,isGeneratingMessage:e.isGeneratingMessage,isSendingMessage:e.isSendingMessage,error:e.error,isTechnicianModalOpen:e.isTechnicianModalOpen,isSpecimenSelectorModalOpen:e.isSpecimenSelectorModalOpen,isBlockSelectorModalOpen:e.isBlockSelectorModalOpen,isSlideSelectorModalOpen:e.isSlideSelectorModalOpen,isEntitySelectorModalOpen:e.isEntitySelectorModalOpen,isSidebarOpen:e.isSidebarOpen,isSendingAll:e.isSendingAll,isClearingAll:e.isClearingAll,isMessageSaved:e.isMessageSaved,hosts:Y.hosts,isLoadingHosts:Y.isLoadingHosts,messageTypes:r.messageTypes,showSpecimenSelector:z,showBlockSelector:q,showSlideSelector:Z,showEntitySelector:X,showStatusSelector:J,generateButtonDisabled:Q,savedMessages:i,snackbar:o,closeSnackbar:()=>Ee.close(),handleSampleIdChange:u,handleHostChange:d,handleTypeChange:f,handleStatusChange:c,handlePatientInfoSave:p,handlePhysicianInfoSave:m,handlePathologistInfoSave:v,handleTechnicianInfoSave:x,handleSpecimenSelect:w,handleBlockSelect:h,handleSlideSelect:g,handleEntitySelect:y,togglePatientModal:()=>ee.togglePatientModal(),togglePhysicianModal:()=>ee.togglePhysicianModal(),togglePathologistModal:()=>ee.togglePathologistModal(),toggleHierarchyModal:()=>ee.toggleHierarchyModal(),toggleTechnicianModal:()=>ee.toggleTechnicianModal(),toggleSpecimenSelectorModal:()=>ee.toggleSpecimenSelectorModal(),toggleBlockSelectorModal:()=>ee.toggleBlockSelectorModal(),toggleSlideSelectorModal:()=>ee.toggleSlideSelectorModal(),toggleEntitySelectorModal:()=>ee.toggleEntitySelectorModal(),toggleSidebar:()=>ee.toggleSidebar(),generateMessage:N,sendMessage:E,copyToClipboard:P,updateGeneratedMessage:k,saveMessageToSidebar:M,removeSavedMessage:O,clearAllResponses:$,clearMessageResponses:K,reorderSavedMessages:W,sendSavedMessage:G,sendAllSavedMessages:R,updateMessageResponses:A,updateMessageContent:C,updateMessageComment:S,updateMessageControlId:j,exportMessages:T,importMessages:F}},eN=({isSidebarOpen:e,isMessageSaved:t,onToggleSidebar:r,children:n})=>a.jsx("div",{className:"flex min-h-screen bg-gray-100",children:a.jsx("div",{className:`flex-1 transition-all duration-300 ${e?"mr-96":""}`,children:a.jsxs("div",{className:"max-w-4xl mx-auto my-8 p-8 bg-white rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Message Generator"}),a.jsx("button",{onClick:r,className:`p-2 rounded-lg transition-colors ${t?"bg-green-600 text-white hover:bg-green-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,title:"Saved Messages",children:a.jsx(Q0,{size:24})})]}),n]})})}),tN=({sampleId:e,isFetchingData:t,handleSampleIdChange:r,togglePatientModal:n,togglePhysicianModal:i,togglePathologistModal:s,toggleTechnicianModal:o,toggleHierarchyModal:l})=>a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{htmlFor:"sampleId",className:"block text-sm font-medium text-gray-700",children:"Sample ID"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:n,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-100 text-blue-700 hover:bg-blue-200"} rounded-md transition-colors text-sm`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Patient"]}),a.jsxs("button",{onClick:i,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-100 text-green-700 hover:bg-green-200"} rounded-md transition-colors text-sm`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Physician"]}),a.jsxs("button",{onClick:s,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-purple-100 text-purple-700 hover:bg-purple-200"} rounded-md transition-colors text-sm`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Pathologist"]}),a.jsxs("button",{onClick:o,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-pink-100 text-pink-700 hover:bg-pink-200"} rounded-md transition-colors text-sm`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Technician"]}),a.jsxs("button",{onClick:l,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-amber-100 text-amber-700 hover:bg-amber-200"} rounded-md transition-colors text-sm`,children:[a.jsx(Im,{className:"h-4 w-4 mr-1"}),"Edit Hierarchy"]})]})]}),a.jsx("input",{type:"text",id:"sampleId",value:e,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Insert Sample ID"}),t&&a.jsxs("div",{className:"mt-2 flex items-center text-sm text-blue-600",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})]}),rN=({selectedHost:e,selectedType:t,selectedStatus:r,messageTypes:n,hosts:i,isLoadingHosts:s,handleHostChange:o,handleTypeChange:l,handleStatusChange:u,toggleSpecimenSelectorModal:d,toggleBlockSelectorModal:f,toggleSlideSelectorModal:c,toggleEntitySelectorModal:p,showSpecimenSelector:m,showBlockSelector:v,showSlideSelector:x,showEntitySelector:w,showStatusSelector:h,message:g,selectedSpecimen:y,selectedBlock:b,selectedSlide:N,selectedEntity:E})=>{const P=St.getStatusOptions(e,t);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"hostType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Host"}),"        ",a.jsxs("select",{id:"hostType",value:e,onChange:o,disabled:s,className:`w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all ${s?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx("option",{value:"",children:s?"Loading hosts...":"Select a host"}),i.map(k=>a.jsx("option",{value:k.id,children:k.name},k.id))]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("label",{htmlFor:"messageType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Type"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("select",{id:"messageType",value:t,onChange:l,disabled:!e,className:`flex-grow px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all ${e?"":"cursor-not-allowed bg-gray-100"}`,children:[a.jsx("option",{value:"",children:"Select type"}),n.map(k=>a.jsx("option",{value:k.id,children:k.name},k.id))]}),h&&a.jsx("select",{id:"statusSelector",value:r,onChange:u,className:"w-1/3 px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all",children:P.map(k=>a.jsx("option",{value:k.id,children:k.name},k.id))}),m&&a.jsxs("button",{onClick:d,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-amber-500 text-white hover:bg-amber-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[a.jsx("span",{children:"Select Specimen"}),y&&a.jsx("span",{className:"ml-1 font-bold",children:""})]}),v&&a.jsxs("button",{onClick:f,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[a.jsx("span",{children:"Select Block"}),b&&a.jsx("span",{className:"ml-1 font-bold",children:""})]}),x&&!w&&a.jsxs("button",{onClick:c,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[a.jsx("span",{children:"Select Slide"}),N&&a.jsx("span",{className:"ml-1 font-bold",children:""})]}),w&&a.jsxs("button",{onClick:p,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[a.jsx("span",{children:"Select Entity"}),E&&a.jsx("span",{className:"ml-1 font-bold",children:""})]})]}),!e&&a.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"First select a host"}),m&&y&&a.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-amber-800",children:["Specimen selected: ",a.jsx("span",{className:"font-semibold",children:y.id})]})}),v&&b&&a.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-amber-800",children:["Block selected: ",a.jsx("span",{className:"font-semibold",children:b.id})]})}),x&&N&&!w&&a.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:["Slide selected: ",a.jsx("span",{className:"font-semibold",children:N.id})]})}),w&&E&&a.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-green-800",children:[E.type," selected: ",a.jsx("span",{className:"font-semibold",children:E.id})]})}),h&&a.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-green-800",children:["Status selected: ",a.jsx("span",{className:"font-semibold",children:r})]})})]})]})},nN=({generateMessage:e,isGeneratingMessage:t,disabled:r})=>a.jsx("button",{onClick:e,disabled:r,className:`w-full py-3 px-6 rounded-lg text-lg font-medium transition-colors ${r?"bg-gray-400 text-white cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:t?"Generating...":"Generate Message"}),iN=({message:e,onSave:t,onCancel:r})=>{const[n,i]=I.useState(e);I.useEffect(()=>{i(e)},[e]);const s=()=>{t(n)};return a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Editar Mensaje:"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-1 rounded border text-green-600 hover:text-green-800 border-green-300 hover:border-green-500 transition-colors",children:[a.jsx(Au,{size:16}),"Guardar"]}),a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1 rounded border text-red-600 hover:text-red-800 border-red-300 hover:border-red-500 transition-colors",children:[a.jsx(Wt,{size:16}),"Cancelar"]})]})]}),a.jsx("textarea",{value:n,onChange:o=>i(o.target.value),className:"w-full h-96 p-4 border border-gray-300 rounded-lg font-mono text-sm resize-vertical focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Edita tu mensaje aqu..."})]})},sN=({generatedMessage:e,messageCopied:t,copyToClipboard:r,onSendMessage:n,isSendingMessage:i,onMessageUpdate:s,onSaveMessage:o})=>{const[l,u]=I.useState(!1);if(!e)return null;const d=p=>{s(p),u(!1)},f=()=>{u(!1)},c=()=>{u(!l)};return a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Mensaje Generado:"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:r,className:"text-indigo-600 hover:text-indigo-800 flex items-center px-3 py-1 rounded border border-indigo-300 hover:border-indigo-500 transition-colors",children:t?"Copied!":"Copy"}),a.jsxs("button",{onClick:c,className:"text-blue-600 hover:text-blue-800 flex items-center gap-2 px-3 py-1 rounded border border-blue-300 hover:border-blue-500 transition-colors",children:[a.jsx(si,{size:16}),l?"Vista previa":"Editar"]}),a.jsxs("button",{onClick:o,className:"text-purple-600 hover:text-purple-800 flex items-center gap-2 px-3 py-1 rounded border border-purple-300 hover:border-purple-500 transition-colors",children:[a.jsx(Au,{size:16}),"Guardar"]}),a.jsxs("button",{onClick:n,disabled:i,className:`flex items-center gap-2 px-3 py-1 rounded border transition-colors ${i?"bg-gray-400 text-white border-gray-400 cursor-not-allowed":"text-green-600 hover:text-green-800 border-green-300 hover:border-green-500"}`,children:[a.jsx(km,{size:16}),i?"Sending...":"Send"]})]})]}),l?a.jsx(iN,{message:e,onSave:d,onCancel:f}):a.jsx("div",{className:"relative",children:a.jsx("pre",{className:"bg-gray-50 p-6 rounded-lg overflow-auto max-h-[400px] text-sm whitespace-pre-wrap shadow-inner border border-gray-200",children:e})})]})},oN=({sendResponse:e})=>{if(!e||e.length===0)return null;const t=n=>oo(n.message),r=n=>new Date(n).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return a.jsxs("div",{className:"mt-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:["Respuesta",e.length>1?"s":""," del Servidor:"]}),"      ",a.jsx("div",{className:"space-y-3",children:e.map((n,i)=>{const s=t(n),o=Go(n.message);return a.jsxs("div",{className:`p-4 rounded-lg border ${s?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex gap-2",children:[e.length>1&&a.jsxs("div",{className:`text-xs font-semibold ${s?"text-red-600":"text-green-600"}`,children:["Respuesta #",i+1]}),a.jsx("div",{className:`text-xs px-2 py-1 rounded ${o.format==="json"?"bg-blue-100 text-blue-700":o.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:o.format.toUpperCase()}),s&&a.jsx("div",{className:"text-xs px-2 py-1 rounded bg-red-100 text-red-700",children:"ERROR"})]}),a.jsxs("div",{className:`text-xs ${s?"text-red-500":"text-green-500"}`,children:["Recibido: ",r(n.receiveTime)]})]}),s&&o.errorDetails&&a.jsxs("div",{className:"mb-3 p-3 bg-red-100 border border-red-200 rounded",children:[a.jsx("div",{className:"text-xs font-semibold text-red-700 mb-1",children:"Detalle del Error:"}),a.jsx("div",{className:"text-sm text-red-800",children:o.errorDetails})]}),a.jsx("pre",{className:`text-sm whitespace-pre-wrap font-mono ${s?"text-red-800":"text-green-800"}`,children:o.content})]},i)})})]})},aN=({sampleId:e,selectedHost:t,selectedType:r,selectedStatus:n,generatedMessage:i,messageCopied:s,isFetchingData:o,isGeneratingMessage:l,isSendingMessage:u,generateButtonDisabled:d,messageTypes:f,hosts:c,isLoadingHosts:p,selectedSpecimen:m,selectedBlock:v,selectedSlide:x,selectedEntity:w,showSpecimenSelector:h,showBlockSelector:g,showSlideSelector:y,showEntitySelector:b,showStatusSelector:N,message:E,sendResponse:P,error:k,handleSampleIdChange:M,handleHostChange:O,handleTypeChange:$,handleStatusChange:K,togglePatientModal:W,togglePhysicianModal:G,togglePathologistModal:R,toggleTechnicianModal:A,toggleHierarchyModal:C,toggleSpecimenSelectorModal:S,toggleBlockSelectorModal:j,toggleSlideSelectorModal:T,toggleEntitySelectorModal:F,generateMessage:z,sendMessage:q,copyToClipboard:Z,updateGeneratedMessage:X,saveMessageToSidebar:J})=>a.jsxs(a.Fragment,{children:[a.jsx(tN,{sampleId:e,isFetchingData:o,handleSampleIdChange:M,togglePatientModal:W,togglePhysicianModal:G,togglePathologistModal:R,toggleTechnicianModal:A,toggleHierarchyModal:C}),a.jsx(rN,{selectedHost:t,selectedType:r,selectedStatus:n,messageTypes:f,hosts:c,isLoadingHosts:p,handleHostChange:O,handleTypeChange:$,handleStatusChange:K,toggleSpecimenSelectorModal:S,toggleBlockSelectorModal:j,toggleSlideSelectorModal:T,toggleEntitySelectorModal:F,showSpecimenSelector:h,showBlockSelector:g,showSlideSelector:y,showEntitySelector:b,showStatusSelector:N,message:E,selectedSpecimen:m,selectedSlide:x,selectedBlock:v,selectedEntity:w}),a.jsx(nN,{generateMessage:z,isGeneratingMessage:l,disabled:d}),k&&a.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:k}),a.jsx(sN,{generatedMessage:i,messageCopied:s,copyToClipboard:Z,onSendMessage:q,isSendingMessage:u,onMessageUpdate:X,onSaveMessage:J}),a.jsx(oN,{sendResponse:P})]}),lN=({isOpen:e,onClose:t,patientInfo:r,onSave:n})=>{const[i,s]=I.useState({code:"",firstName:"",lastName:"",middleName:"",suffix:"",secondSurname:"",dateOfBirth:"",sex:"M",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:"",orders:{orderList:[]}});I.useEffect(()=>{r&&s({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",suffix:r.suffix||"",secondSurname:r.secondSurname||"",dateOfBirth:r.dateOfBirth||"",sex:r.sex||"M",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||"",orders:r.orders||{orderList:[]}})},[r]);const o=u=>{const{name:d,value:f}=u.target;s(c=>({...c,[d]:f}))},l=u=>{u.preventDefault(),n(i),t()};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Paciente"}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),a.jsx("input",{type:"text",id:"code",name:"code",value:i.code,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),a.jsx("input",{type:"text",id:"firstName",name:"firstName",value:i.firstName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),a.jsx("input",{type:"text",id:"middleName",name:"middleName",value:i.middleName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),a.jsx("input",{type:"text",id:"lastName",name:"lastName",value:i.lastName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sex",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sexo"}),a.jsxs("select",{id:"sex",name:"sex",value:i.sex,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[a.jsx("option",{value:"M",children:"Masculino"}),a.jsx("option",{value:"F",children:"Femenino"}),a.jsx("option",{value:"O",children:"Otro"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Nacimiento (AAAAMMDD)"}),a.jsx("input",{type:"text",id:"dateOfBirth",name:"dateOfBirth",value:i.dateOfBirth,onChange:o,placeholder:"AAAAMMDD",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},uN=({isOpen:e,onClose:t,physicianInfo:r,onSave:n})=>{const[i,s]=I.useState({code:"",firstName:"",lastName:"",middleName:"",prefix:"",suffix:"",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:""});I.useEffect(()=>{r&&s({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",prefix:r.prefix||"",suffix:r.suffix||"",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||""})},[r]);const o=u=>{const{name:d,value:f}=u.target;s(c=>({...c,[d]:f}))},l=u=>{u.preventDefault(),n(i),t()};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Mdico"}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),a.jsx("input",{type:"text",id:"code",name:"code",value:i.code,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),a.jsx("input",{type:"text",id:"firstName",name:"firstName",value:i.firstName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),a.jsx("input",{type:"text",id:"middleName",name:"middleName",value:i.middleName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),a.jsx("input",{type:"text",id:"lastName",name:"lastName",value:i.lastName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"prefix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefijo"}),a.jsx("input",{type:"text",id:"prefix",name:"prefix",value:i.prefix,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"suffix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sufijo"}),a.jsx("input",{type:"text",id:"suffix",name:"suffix",value:i.suffix,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},cN=({isOpen:e,onClose:t,pathologistInfo:r,onSave:n})=>{const[i,s]=I.useState({code:"",firstName:"",lastName:"",middleName:"",prefix:"",suffix:"",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:""});I.useEffect(()=>{r&&s({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",prefix:r.prefix||"",suffix:r.suffix||"",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||""})},[r]);const o=u=>{const{name:d,value:f}=u.target;s(c=>({...c,[d]:f}))},l=u=>{u.preventDefault(),n(i),t()};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Patlogo"}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),a.jsx("input",{type:"text",id:"code",name:"code",value:i.code,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),a.jsx("input",{type:"text",id:"firstName",name:"firstName",value:i.firstName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),a.jsx("input",{type:"text",id:"middleName",name:"middleName",value:i.middleName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),a.jsx("input",{type:"text",id:"lastName",name:"lastName",value:i.lastName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"prefix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefijo"}),a.jsx("input",{type:"text",id:"prefix",name:"prefix",value:i.prefix,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"suffix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sufijo"}),a.jsx("input",{type:"text",id:"suffix",name:"suffix",value:i.suffix,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},dN=({isOpen:e,onClose:t,technicianInfo:r,onSave:n})=>{const[i,s]=I.useState({code:"",firstName:"",lastName:"",middleName:""});I.useEffect(()=>{r&&s({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||""})},[r]);const o=u=>{const{name:d,value:f}=u.target;s(c=>({...c,[d]:f}))},l=u=>{u.preventDefault(),n(i),t()};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Tcnico"}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),a.jsx("input",{type:"text",id:"code",name:"code",value:i.code,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),a.jsx("input",{type:"text",id:"firstName",name:"firstName",value:i.firstName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),a.jsx("input",{type:"text",id:"middleName",name:"middleName",value:i.middleName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),a.jsx("input",{type:"text",id:"lastName",name:"lastName",value:i.lastName,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},pN=({specimen:e,onClose:t,onSave:r})=>{var p,m,v,x,w,h,g,y,b,N,E,P,k,M,O,$,K;const[n,i]=I.useState({...e}),[s,o]=I.useState({type:"GROSSDESCRIPTION",value:""}),l=W=>{const{name:G,value:R}=W.target;if(G==="id")i({...n,id:R,externalId:R});else if(G.startsWith("procedure.")){const A=G.split(".")[1],C=G.split(".")[2];n.procedure||(n.procedure={}),C?(n.procedure[A]||(n.procedure[A]={}),n.procedure[A][C]=R):n.procedure[A]=R,i({...n})}else i({...n,[G]:R})},u=W=>{const{name:G,value:R}=W.target;o({...s,[G]:R})},d=()=>{if(!s.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const W={type:s.type,value:s.value,artifact:"SPECIMEN"};s.type==="QUALITYISSUE"&&s.optionalValue&&(W.optionalType="RESOLUTION",W.optionalValue=s.optionalValue),n.supplementalInfos.supplementalInfoList.push(W),o({type:"GROSSDESCRIPTION",value:""}),i({...n})},f=W=>{var G;(G=n.supplementalInfos)!=null&&G.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(W,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,i({...n}))},c=W=>{W.preventDefault(),r(n)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-2xl max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Edit Specimen"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx(Wt,{size:24})})]}),a.jsxs("form",{onSubmit:c,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),a.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),a.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Tissue Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),a.jsx("input",{type:"text",name:"procedure.tissue.type",value:((m=(p=n.procedure)==null?void 0:p.tissue)==null?void 0:m.type)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("input",{type:"text",name:"procedure.tissue.description",value:((x=(v=n.procedure)==null?void 0:v.tissue)==null?void 0:x.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subtype"}),a.jsx("input",{type:"text",name:"procedure.tissue.subtype",value:((h=(w=n.procedure)==null?void 0:w.tissue)==null?void 0:h.subtype)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subtype Description"}),a.jsx("input",{type:"text",name:"procedure.tissue.subtypeDescription",value:((y=(g=n.procedure)==null?void 0:g.tissue)==null?void 0:y.subtypeDescription)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Surgical Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("input",{type:"text",name:"procedure.surgical.name",value:((N=(b=n.procedure)==null?void 0:b.surgical)==null?void 0:N.name)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("input",{type:"text",name:"procedure.surgical.description",value:((P=(E=n.procedure)==null?void 0:E.surgical)==null?void 0:P.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Anatomic Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Site"}),a.jsx("input",{type:"text",name:"procedure.anatomic.site",value:((M=(k=n.procedure)==null?void 0:k.anatomic)==null?void 0:M.site)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("input",{type:"text",name:"procedure.anatomic.description",value:(($=(O=n.procedure)==null?void 0:O.anatomic)==null?void 0:$.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),((K=n.supplementalInfos)==null?void 0:K.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&a.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((W,G)=>a.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("span",{className:"font-medium mr-2",children:[W.type,":"]}),a.jsx("span",{children:W.value})]}),a.jsx("button",{type:"button",onClick:()=>f(G),className:"text-red-500 hover:text-red-700",children:a.jsx(pr,{size:16})})]},`suppl-${G}`))]}),a.jsxs("div",{className:"border rounded-md p-3",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),a.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),a.jsxs("select",{name:"type",value:s.type,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),a.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),a.jsx("option",{value:"RECUT",children:"RECUT"}),a.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),a.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),a.jsx("input",{type:"text",name:"value",value:s.value,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{type:"button",onClick:d,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[a.jsx(dr,{size:16,className:"mr-1"}),"Add"]})})]}),s.type==="QUALITYISSUE"&&a.jsx("div",{className:"mt-3 grid grid-cols-5 gap-3",children:a.jsxs("div",{className:"col-span-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),a.jsx("input",{type:"text",name:"optionalValue",value:s.optionalValue||"",onChange:u,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},fN=({block:e,onClose:t,onSave:r})=>{var p;const[n,i]=I.useState({...e}),[s,o]=I.useState({type:"GROSSDESCRIPTION",value:""}),l=m=>{const{name:v,value:x}=m.target;i(v==="id"?{...n,id:x,externalId:x}:{...n,[v]:x})},u=m=>{const{name:v,value:x}=m.target;o({...s,[v]:x})},d=()=>{if(!s.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const m={type:s.type,value:s.value,artifact:"BLOCK"};s.type==="QUALITYISSUE"&&s.optionalValue&&(m.optionalType="RESOLUTION",m.optionalValue=s.optionalValue),n.supplementalInfos.supplementalInfoList.push(m),o({type:"GROSSDESCRIPTION",value:""}),i({...n})},f=m=>{var v;(v=n.supplementalInfos)!=null&&v.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(m,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,i({...n}))},c=m=>{m.preventDefault(),r(n)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Edit Block"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx(Wt,{size:24})})]}),a.jsxs("form",{onSubmit:c,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),a.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),a.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),((p=n.supplementalInfos)==null?void 0:p.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&a.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((m,v)=>a.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("span",{className:"font-medium mr-2",children:[m.type,":"]}),a.jsx("span",{children:m.value})]}),a.jsx("button",{type:"button",onClick:()=>f(v),className:"text-red-500 hover:text-red-700",children:a.jsx(pr,{size:16})})]},`suppl-${v}`))]}),a.jsxs("div",{className:"border rounded-md p-3",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),a.jsxs("select",{name:"type",value:s.type,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),a.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),a.jsx("option",{value:"RECUT",children:"RECUT"}),a.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),a.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),a.jsx("input",{type:"text",name:"value",value:s.value,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),s.type==="QUALITYISSUE"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),a.jsx("input",{type:"text",name:"optionalValue",value:s.optionalValue||"",onChange:u,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("button",{type:"button",onClick:d,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[a.jsx(dr,{size:16,className:"mr-1"}),"Add Information"]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},mN=({slide:e,onClose:t,onSave:r})=>{var P,k,M,O,$,K,W,G,R,A,C;const[n,i]=I.useState({...e}),[s,o]=I.useState({type:"GROSSDESCRIPTION",value:""}),[l,u]=I.useState(!1),[d,f]=I.useState(null),[c,p]=I.useState({substanceName:"UV INHIBITOR",substanceOtherName:"Other substance Name",substanceType:"ANTIBODY",manufacturer:"Ventana Medical Systems",lotNumber:"1236",lotSerialNumber:"56251",catalogNumber:"228664",intendedUseFlag:"K510",expirationDateTime:"2016-09-02T12:00",receivedDateTime:"2015-09-02T12:00"}),m=()=>({substanceName:"UV INHIBITOR",substanceOtherName:"Other substance Name",substanceType:"ANTIBODY",manufacturer:"Ventana Medical Systems",lotNumber:"1236",lotSerialNumber:"56251",catalogNumber:"228664",intendedUseFlag:"K510",expirationDateTime:"2016-09-02T12:00",receivedDateTime:"2015-09-02T12:00"}),v=S=>{const{name:j,value:T}=S.target;if(j==="id")i({...n,id:T,externalId:T});else if(j.startsWith("stainProtocol.")){const F=j.split(".")[1];n.stainProtocol||(n.stainProtocol={}),n.stainProtocol[F]=T,i({...n})}else if(j.startsWith("control.")){const F=j.split(".")[1];n.control||(n.control={}),n.control[F]=T,i({...n})}else i(j==="isRescanned"?{...n,isRescanned:T==="true"}:{...n,[j]:T})},x=S=>{const{name:j,value:T}=S.target;o({...s,[j]:T})},w=()=>{if(!s.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const S={type:s.type,value:s.value,artifact:"SLIDE"};s.type==="QUALITYISSUE"&&s.optionalValue&&(S.optionalType="RESOLUTION",S.optionalValue=s.optionalValue),n.supplementalInfos.supplementalInfoList.push(S),o({type:"GROSSDESCRIPTION",value:""}),i({...n})},h=S=>{var j;(j=n.supplementalInfos)!=null&&j.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(S,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,i({...n}))},g=()=>{var j;if(!((j=c.substanceName)!=null&&j.trim()))return;const S={substanceName:c.substanceName,substanceOtherName:c.substanceOtherName||"",substanceType:c.substanceType||"",manufacturer:c.manufacturer||"",lotNumber:c.lotNumber||"",lotSerialNumber:c.lotSerialNumber||"",catalogNumber:c.catalogNumber||"",intendedUseFlag:c.intendedUseFlag||"",expirationDateTime:c.expirationDateTime||"",receivedDateTime:c.receivedDateTime||""};n.reagents||(n.reagents=[]),n.reagents.push(S),p(m()),i({...n}),u(!1)},y=S=>{var T;const j=(T=n.reagents)==null?void 0:T[S];j&&(p({substanceName:j.substanceName||"",substanceOtherName:j.substanceOtherName||"",substanceType:j.substanceType||"",manufacturer:j.manufacturer||"",lotNumber:j.lotNumber||"",lotSerialNumber:j.lotSerialNumber||"",catalogNumber:j.catalogNumber||"",intendedUseFlag:j.intendedUseFlag||"",expirationDateTime:j.expirationDateTime||"",receivedDateTime:j.receivedDateTime||""}),f(S),u(!0))},b=()=>{var j;if(!((j=c.substanceName)!=null&&j.trim())||d===null)return;const S={substanceName:c.substanceName,substanceOtherName:c.substanceOtherName||"",substanceType:c.substanceType||"",manufacturer:c.manufacturer||"",lotNumber:c.lotNumber||"",lotSerialNumber:c.lotSerialNumber||"",catalogNumber:c.catalogNumber||"",intendedUseFlag:c.intendedUseFlag||"",expirationDateTime:c.expirationDateTime||"",receivedDateTime:c.receivedDateTime||""};n.reagents&&d<n.reagents.length&&(n.reagents[d]=S),p(m()),f(null),i({...n}),u(!1)},N=S=>{n.reagents&&(n.reagents.splice(S,1),n.reagents.length===0&&delete n.reagents,i({...n}))},E=S=>{S.preventDefault(),r(n)};return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:[a.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-2xl max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Edit Slide"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx(Wt,{size:24})})]}),a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),a.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),a.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Stain Protocol"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("input",{type:"text",name:"stainProtocol.name",value:((P=n.stainProtocol)==null?void 0:P.name)||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Number"}),a.jsx("input",{type:"text",name:"stainProtocol.number",value:((k=n.stainProtocol)==null?void 0:k.number)||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Identifier"}),a.jsx("input",{type:"text",name:"stainProtocol.identifier",value:((M=n.stainProtocol)==null?void 0:M.identifier)||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("input",{type:"text",name:"stainProtocol.description",value:((O=n.stainProtocol)==null?void 0:O.description)||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Control"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("input",{type:"text",name:"control.name",value:(($=n.control)==null?void 0:$.name)||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("input",{type:"text",name:"control.description",value:((K=n.control)==null?void 0:K.description)||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scoring"}),a.jsx("input",{type:"text",name:"control.scoring",value:((W=n.control)==null?void 0:W.scoring)||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Clone"}),a.jsx("input",{type:"text",name:"control.clone",value:((G=n.control)==null?void 0:G.clone)||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vendor"}),a.jsx("input",{type:"text",name:"control.vendor",value:((R=n.control)==null?void 0:R.vendor)||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Is Rescanned"}),a.jsxs("select",{name:"isRescanned",value:n.isRescanned?"true":"false",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"false",children:"No"}),a.jsx("option",{value:"true",children:"Yes"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Label Printed"}),a.jsx("input",{type:"text",name:"labelPrinted",value:n.labelPrinted||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rescan Comment"}),a.jsx("input",{type:"text",name:"rescanComment",value:n.rescanComment||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Reagents"}),n.reagents&&n.reagents.length>0&&a.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Current Reagents"}),n.reagents.map((S,j)=>a.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("span",{className:"font-medium mr-2",children:S.substanceName}),S.manufacturer&&a.jsxs("span",{className:"text-sm text-gray-600",children:["(",S.manufacturer,")"]}),S.lotNumber&&a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Lot: ",S.lotNumber]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>y(j),className:"text-blue-500 hover:text-blue-700 px-2 py-1 text-sm border border-blue-500 rounded hover:bg-blue-50",children:"Change"}),a.jsx("button",{type:"button",onClick:()=>N(j),className:"text-red-500 hover:text-red-700",children:a.jsx(pr,{size:16})})]})]},`reagent-${j}`))]}),a.jsx("div",{className:"mb-4",children:a.jsxs("button",{type:"button",onClick:()=>{p(m()),f(null),u(!0)},className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center",children:[a.jsx(dr,{size:16,className:"mr-1"}),"Add Reagent"]})}),a.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),((A=n.supplementalInfos)==null?void 0:A.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&a.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((S,j)=>a.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("span",{className:"font-medium mr-2",children:[S.type,":"]}),a.jsx("span",{children:S.value})]}),a.jsx("button",{type:"button",onClick:()=>h(j),className:"text-red-500 hover:text-red-700",children:a.jsx(pr,{size:16})})]},`suppl-${j}`))]}),a.jsxs("div",{className:"border rounded-md p-3",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),a.jsxs("select",{name:"type",value:s.type,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),a.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),a.jsx("option",{value:"RECUT",children:"RECUT"}),a.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),a.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),a.jsx("input",{type:"text",name:"value",value:s.value,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{type:"button",onClick:w,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[a.jsx(dr,{size:16,className:"mr-1"}),"Add"]})})]}),s.type==="QUALITYISSUE"&&a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),a.jsx("input",{type:"text",name:"optionalValue",value:s.optionalValue||"",onChange:x,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-lg max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-bold",children:d!==null?"Edit Reagent":"Add Reagent"}),a.jsx("button",{onClick:()=>{u(!1),p(m()),f(null)},className:"text-gray-500 hover:text-gray-700",children:a.jsx(Wt,{size:20})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Substance Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:c.substanceName||"",onChange:S=>p({...c,substanceName:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Hematoxylin & Eosin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Substance Other Name"}),a.jsx("input",{type:"text",value:c.substanceOtherName||"",onChange:S=>p({...c,substanceOtherName:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Substance Type"}),a.jsx("input",{type:"text",value:c.substanceType||"",onChange:S=>p({...c,substanceType:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Manufacturer"}),a.jsx("input",{type:"text",value:c.manufacturer||"",onChange:S=>p({...c,manufacturer:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lot Number"}),a.jsx("input",{type:"text",value:c.lotNumber||"",onChange:S=>p({...c,lotNumber:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lot Serial Number"}),a.jsx("input",{type:"text",value:c.lotSerialNumber||"",onChange:S=>p({...c,lotSerialNumber:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catalog Number"}),a.jsx("input",{type:"text",value:c.catalogNumber||"",onChange:S=>p({...c,catalogNumber:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Intended Use Flag"}),a.jsx("input",{type:"text",value:c.intendedUseFlag||"",onChange:S=>p({...c,intendedUseFlag:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expiration Date/Time"}),a.jsx("input",{type:"datetime-local",value:c.expirationDateTime||"",onChange:S=>p({...c,expirationDateTime:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Received Date/Time"}),a.jsx("input",{type:"datetime-local",value:c.receivedDateTime||"",onChange:S=>p({...c,receivedDateTime:S.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>{u(!1),p(m()),f(null)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{type:"button",onClick:d!==null?b:g,disabled:!((C=c.substanceName)!=null&&C.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:d!==null?"Update Reagent":"Add Reagent"})]})]})})]})},gN=({isOpen:e,onClose:t,message:r})=>{var M,O,$,K,W,G,R;const[n,i]=I.useState({}),[s,o]=I.useState({}),[l,u]=I.useState({}),[d,f]=I.useState(null),[c,p]=I.useState(null),[m,v]=I.useState(null);if(!e||!r)return null;const x=($=(O=(M=r.patient)==null?void 0:M.orders)==null?void 0:O.orderList)==null?void 0:$[0];if(!x)return null;const w=A=>{i({...n,[A]:!n[A]})},h=(A,C)=>{const S=`${A}-${C}`;o({...s,[S]:!s[S]})},g=A=>{if(/^\d+$/.test(A))return String(parseInt(A)+1);if(/^[A-Za-z]$/.test(A)){const C=A.charCodeAt(0);return String.fromCharCode(C+1)}return`${A}-new`},y=()=>{var Z,X,J,Q,D;if(!((Z=x.specimens)!=null&&Z.specimenList))return;const A=x.specimens.specimenList[x.specimens.specimenList.length-1],C=g(A.sequence),S=A.id.replace(/([^;]+)$/,C),j={...JSON.parse(JSON.stringify(A)),id:S,sequence:C,externalId:S,blocks:{blockList:[]}},T=(J=(X=A.blocks)==null?void 0:X.blockList)==null?void 0:J[A.blocks.blockList.length-1],F={...JSON.parse(JSON.stringify(T)),id:S+";1",sequence:1,externalId:S+";1",slides:{slideList:[]}},z=(D=(Q=T==null?void 0:T.slides)==null?void 0:Q.slideList)==null?void 0:D[T.slides.slideList.length-1],q={...JSON.parse(JSON.stringify(z)),id:S+";1;1",sequence:1,externalId:S+";1;1"};F.slides.slideList.push(q),j.blocks.blockList.push(F),x.specimens.specimenList.push(j),i({...n})},b=A=>{var Z,X,J,Q,D;const C=(X=(Z=x.specimens)==null?void 0:Z.specimenList)==null?void 0:X[A];if(!C||!((J=C.blocks)!=null&&J.blockList))return;const S=C.blocks.blockList[C.blocks.blockList.length-1],j=g(S.sequence),T=S.id.replace(/(.*);(\d+)$/,`$1;${j}`),F={...JSON.parse(JSON.stringify(S)),id:T,sequence:j,externalId:T,slides:{slideList:[]}},z=(D=(Q=S==null?void 0:S.slides)==null?void 0:Q.slideList)==null?void 0:D[S.slides.slideList.length-1],q={...JSON.parse(JSON.stringify(z)),id:T+";1",sequence:1,externalId:T+";1"};F.slides.slideList.push(q),C.blocks.blockList.push(F),o({...s})},N=(A,C)=>{var Z,X,J,Q,D;const S=(X=(Z=x.specimens)==null?void 0:Z.specimenList)==null?void 0:X[A],j=(Q=(J=S==null?void 0:S.blocks)==null?void 0:J.blockList)==null?void 0:Q[C];if(!j||!((D=j.slides)!=null&&D.slideList))return;const T=j.slides.slideList[j.slides.slideList.length-1],F=g(T.sequence),z=T.id.replace(/(.*);(\d+)$/,`$1;${F}`),q={...JSON.parse(JSON.stringify(T)),id:z,sequence:F,externalId:z};j.slides.slideList.push(q),u({...l})},E=A=>{var C;(C=x.specimens)!=null&&C.specimenList&&(x.specimens.specimenList.splice(A,1),i({...n}))},P=(A,C)=>{var j,T,F;const S=(T=(j=x.specimens)==null?void 0:j.specimenList)==null?void 0:T[A];!S||!((F=S.blocks)!=null&&F.blockList)||(S.blocks.blockList.splice(C,1),o({...s}))},k=(A,C,S)=>{var F,z,q,Z,X;const j=(z=(F=x.specimens)==null?void 0:F.specimenList)==null?void 0:z[A],T=(Z=(q=j==null?void 0:j.blocks)==null?void 0:q.blockList)==null?void 0:Z[C];!T||!((X=T.slides)!=null&&X.slideList)||(T.slides.slideList.splice(S,1),u({...l}))};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Order Hierarchy"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"font-semibold text-lg flex items-center",children:[a.jsx(Im,{className:"mr-2",size:20}),"Order: ",x.sampleId||"No ID"]}),(W=(K=x.specimens)==null?void 0:K.specimenList)==null?void 0:W.map((A,C)=>{var S,j,T,F;return a.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>w(C),children:[n[C]?a.jsx(yr,{className:"mr-1 text-gray-600",size:16}):a.jsx(qr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",A.id||"No ID"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>f({specimen:A,index:C}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit specimen",children:a.jsx(si,{size:16})}),a.jsx("button",{onClick:()=>E(C),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete specimen",children:a.jsx(pr,{size:16})})]})]}),n[C]&&a.jsxs(a.Fragment,{children:[(j=(S=A.blocks)==null?void 0:S.blockList)==null?void 0:j.map((z,q)=>{var Z,X,J,Q;return a.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"font-medium text-gray-700 flex items-center cursor-pointer flex-grow",onClick:()=>h(C,q),children:[s[`${C}-${q}`]?a.jsx(yr,{className:"mr-1 text-gray-500",size:16}):a.jsx(qr,{className:"mr-1 text-gray-500",size:16}),"Block: ",z.id||"No ID"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>p({block:z,specimenIndex:C,blockIndex:q}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit block",children:a.jsx(si,{size:16})}),a.jsx("button",{onClick:()=>P(C,q),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete block",children:a.jsx(pr,{size:16})})]})]}),s[`${C}-${q}`]&&a.jsxs(a.Fragment,{children:[(X=(Z=z.slides)==null?void 0:Z.slideList)==null?void 0:X.map((D,H)=>a.jsx("div",{className:"ml-6 mt-1 border-l-2 pl-4 border-gray-100",children:a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"text-gray-600 flex-grow",children:["Slide: ",D.id||"No ID"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>v({slide:D,specimenIndex:C,blockIndex:q,slideIndex:H}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit slide",children:a.jsx(si,{size:16})}),a.jsx("button",{onClick:()=>k(C,q,H),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete slide",children:a.jsx(pr,{size:16})})]})]})},`slide-${H}`)),(((Q=(J=z.slides)==null?void 0:J.slideList)==null?void 0:Q.length)||0)>0&&a.jsx("div",{className:"ml-6 mt-2",children:a.jsxs("button",{onClick:()=>N(C,q),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(dr,{size:14,className:"mr-1"}),"Add Slide"]})})]})]},`block-${q}`)}),(((F=(T=A.blocks)==null?void 0:T.blockList)==null?void 0:F.length)||0)>0&&a.jsx("div",{className:"ml-6 mt-3",children:a.jsxs("button",{onClick:()=>b(C),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(dr,{size:14,className:"mr-1"}),"Add Block"]})})]})]},`specimen-${C}`)}),(((R=(G=x.specimens)==null?void 0:G.specimenList)==null?void 0:R.length)||0)>0&&a.jsx("div",{className:"ml-6 mt-4",children:a.jsxs("button",{onClick:y,className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(dr,{size:14,className:"mr-1"}),"Add Specimen"]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Close"})}),d&&a.jsx(pN,{specimen:d.specimen,onClose:()=>f(null),onSave:A=>{var C;(C=x.specimens)!=null&&C.specimenList&&(x.specimens.specimenList[d.index]=A,f(null),i({...n}))}}),c&&a.jsx(fN,{block:c.block,onClose:()=>p(null),onSave:A=>{var S,j,T;const C=(j=(S=x.specimens)==null?void 0:S.specimenList)==null?void 0:j[c.specimenIndex];C&&((T=C.blocks)!=null&&T.blockList)&&(C.blocks.blockList[c.blockIndex]=A,p(null),o({...s}))}}),m&&a.jsx(mN,{slide:m.slide,onClose:()=>v(null),onSave:A=>{var j,T,F,z,q;const C=(T=(j=x.specimens)==null?void 0:j.specimenList)==null?void 0:T[m.specimenIndex],S=(z=(F=C==null?void 0:C.blocks)==null?void 0:F.blockList)==null?void 0:z[m.blockIndex];S&&((q=S.slides)!=null&&q.slideList)&&(S.slides.slideList[m.slideIndex]=A,v(null),u({...l}))}})]})})},hN=({isPatientModalOpen:e,isPhysicianModalOpen:t,isPathologistModalOpen:r,isHierarchyModalOpen:n,isTechnicianModalOpen:i,patientInfo:s,physicianInfo:o,pathologistInfo:l,technicianInfo:u,message:d,togglePatientModal:f,togglePhysicianModal:c,togglePathologistModal:p,toggleHierarchyModal:m,toggleTechnicianModal:v,handlePatientInfoSave:x,handlePhysicianInfoSave:w,handlePathologistInfoSave:h,handleTechnicianInfoSave:g})=>a.jsxs(a.Fragment,{children:[a.jsx(lN,{isOpen:e,onClose:f,patientInfo:s,onSave:x}),a.jsx(uN,{isOpen:t,onClose:c,physicianInfo:o,onSave:w}),a.jsx(cN,{isOpen:r,onClose:p,pathologistInfo:l,onSave:h}),a.jsx(gN,{isOpen:n,onClose:m,message:d}),a.jsx(dN,{isOpen:i,onClose:v,technicianInfo:u,onSave:g})]}),vN=({isOpen:e,onClose:t,message:r,onSelectSpecimen:n})=>{var d,f,c,p,m;const[i,s]=I.useState({});if(!e||!r)return null;const o=(c=(f=(d=r.patient)==null?void 0:d.orders)==null?void 0:f.orderList)==null?void 0:c[0];if(!o)return null;const l=v=>{s({...i,[v]:!i[v]})},u=v=>{n(v),t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Select a Specimen"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",o.sampleId||"No ID"]}),(m=(p=o.specimens)==null?void 0:p.specimenList)==null?void 0:m.map((v,x)=>a.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>l(x),children:[i[x]?a.jsx(yr,{className:"mr-1 text-gray-600",size:16}):a.jsx(qr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",v.id||"No ID"]}),a.jsx("button",{onClick:()=>u(v),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),i[x]&&a.jsxs("div",{className:"ml-6 mt-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"ID:"})," ",v.id]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Sequence:"})," ",v.sequence]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Entity Name:"})," ",v.entityName]}),v.externalId&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"External ID:"})," ",v.externalId]})]})]},`specimen-${x}`))]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},yN=({isOpen:e,onClose:t,message:r,onSelectBlock:n})=>{var d,f,c,p,m;const[i,s]=I.useState({});if(I.useEffect(()=>{var v,x,w,h;if(r){const g=(w=(x=(v=r.patient)==null?void 0:v.orders)==null?void 0:x.orderList)==null?void 0:w[0];if((h=g==null?void 0:g.specimens)!=null&&h.specimenList){const y=g.specimens.specimenList.reduce((b,N,E)=>(b[E]=!0,b),{});s(y)}}},[e]),!e||!r)return console.log("Modal not open or message is null",{isOpen:e,messageExists:!!r}),null;const o=(c=(f=(d=r.patient)==null?void 0:d.orders)==null?void 0:f.orderList)==null?void 0:c[0];if(!o)return console.log("No order found in message"),null;const l=v=>{s({...i,[v]:!i[v]})},u=v=>{console.log("Selected block:",v),n(v),t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Select a Block"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",o.sampleId||"No ID"]}),(m=(p=o.specimens)==null?void 0:p.specimenList)==null?void 0:m.map((v,x)=>{var w,h;return a.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>l(x),children:[i[x]?a.jsx(yr,{className:"mr-1 text-gray-600",size:16}):a.jsx(qr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",v.id||"No ID"]})}),i[x]&&((h=(w=v.blocks)==null?void 0:w.blockList)==null?void 0:h.map((g,y)=>a.jsx("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-medium text-sm",children:["Block: ",g.id||"No ID"]}),a.jsx("button",{onClick:()=>u(g),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]})},`block-${y}`)))]},`specimen-${x}`)})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},xN=({isOpen:e,onClose:t,message:r,onSelectSlide:n})=>{var p,m,v,x,w;const[i,s]=I.useState({}),[o,l]=I.useState({});if(I.useEffect(()=>{var h,g,y,b;if(r){const N=(y=(g=(h=r.patient)==null?void 0:h.orders)==null?void 0:g.orderList)==null?void 0:y[0];if((b=N==null?void 0:N.specimens)!=null&&b.specimenList){const E=N.specimens.specimenList.reduce((k,M,O)=>(k[O]=!0,k),{}),P=N.specimens.specimenList.reduce((k,M)=>{var O,$;return($=(O=M.blocks)==null?void 0:O.blockList)==null||$.forEach(K=>{k[K.id]=!0}),k},{});s(E),l(P)}}},[e]),!e||!r)return console.log("Modal not open or message is null",{isOpen:e,messageExists:!!r}),null;const u=(v=(m=(p=r.patient)==null?void 0:p.orders)==null?void 0:m.orderList)==null?void 0:v[0];if(!u)return console.log("No order found in message"),null;const d=h=>{s({...i,[h]:!i[h]})},f=h=>{l({...o,[h]:!o[h]})},c=h=>{console.log("Selected slide:",h),n(h),t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Select a Slide"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",u.sampleId||"No ID"]}),(w=(x=u.specimens)==null?void 0:x.specimenList)==null?void 0:w.map((h,g)=>{var y,b;return a.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>d(g),children:[i[g]?a.jsx(yr,{className:"mr-1 text-gray-600",size:16}):a.jsx(qr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",h.id||"No ID"]})}),i[g]&&((b=(y=h.blocks)==null?void 0:y.blockList)==null?void 0:b.map((N,E)=>{var P,k;return a.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>f(N.id),children:[o[N.id]?a.jsx(yr,{className:"mr-1 text-gray-600",size:16}):a.jsx(qr,{className:"mr-1 text-gray-600",size:16}),"Block: ",N.id||"No ID"]})}),o[N.id]&&((k=(P=N.slides)==null?void 0:P.slideList)==null?void 0:k.map((M,O)=>{var $;return a.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-blue-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-medium text-sm",children:["Slide: ",M.id||"No ID"]}),a.jsx("button",{onClick:()=>c(M),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),a.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[a.jsxs("p",{children:["Sequence: ",M.sequence]}),(($=M.stainProtocol)==null?void 0:$.name)&&a.jsxs("p",{children:["Stain: ",M.stainProtocol.name]})]})]},`slide-${O}`)}))]},`block-${E}`)}))]},`specimen-${g}`)})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},bN=({isOpen:e,onClose:t,message:r,onSelectEntity:n})=>{var c,p,m,v,x,w,h,g,y;const[i,s]=I.useState("orders");if(I.useEffect(()=>{var b,N,E,P;if(r){const k=(E=(N=(b=r.patient)==null?void 0:b.orders)==null?void 0:N.orderList)==null?void 0:E[0];(P=k==null?void 0:k.specimens)!=null&&P.specimenList}},[e,r]),!e||!r)return null;const o=(m=(p=(c=r.patient)==null?void 0:c.orders)==null?void 0:p.orderList)==null?void 0:m[0];if(!o)return null;const l=b=>{n("Specimen",b),t()},u=b=>{n("Block",b),t()},d=b=>{n("Slide",b),t()},f=b=>{n("Order",b),t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Select an Entity"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),"        ",a.jsxs("div",{className:"flex border-b border-gray-200 mb-4",children:[a.jsx("button",{className:`py-2 px-4 border-b-2 ${i==="orders"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>s("orders"),children:"Orders"}),a.jsx("button",{className:`py-2 px-4 border-b-2 ${i==="specimens"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>s("specimens"),children:"Specimens"}),a.jsx("button",{className:`py-2 px-4 border-b-2 ${i==="blocks"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>s("blocks"),children:"Blocks"}),a.jsx("button",{className:`py-2 px-4 border-b-2 ${i==="slides"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>s("slides"),children:"Slides"})]}),a.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:["          ",a.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",o.sampleId||"No ID"]}),i==="orders"&&a.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-purple-300",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"font-medium flex items-center cursor-pointer flex-grow",children:a.jsxs("span",{children:["Order: ",o.sampleId||"No ID"]})}),a.jsx("button",{onClick:()=>f(o),className:"ml-2 px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors text-sm",children:"Select"})]}),a.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Sample ID:"})," ",o.sampleId]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Entity Name:"})," ",o.entityName]}),o.extSampleId&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"External Sample ID:"})," ",o.extSampleId]}),o.status&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",o.status]}),o.workFlow&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Workflow:"})," ",o.workFlow]})]})]}),i==="specimens"&&((x=(v=o.specimens)==null?void 0:v.specimenList)==null?void 0:x.map((b,N)=>a.jsx("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"font-medium flex items-center cursor-pointer flex-grow",children:a.jsxs("span",{children:["Specimen: ",b.id||"No ID"]})}),a.jsx("button",{onClick:()=>l(b),className:"ml-2 px-3 py-1 bg-amber-500 text-white rounded hover:bg-amber-600 transition-colors text-sm",children:"Select"})]})},`specimen-${N}`))),i==="blocks"&&((h=(w=o.specimens)==null?void 0:w.specimenList)==null?void 0:h.map((b,N)=>{var E,P;return a.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[a.jsxs("div",{className:"font-medium",children:["Specimen: ",b.id||"No ID"]}),(P=(E=b.blocks)==null?void 0:E.blockList)==null?void 0:P.map((k,M)=>a.jsx("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-medium text-sm",children:["Block: ",k.id||"No ID"]}),a.jsx("button",{onClick:()=>u(k),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]})},`block-${M}`))]},`specimen-blocks-${N}`)})),i==="slides"&&((y=(g=o.specimens)==null?void 0:g.specimenList)==null?void 0:y.map((b,N)=>{var E,P;return a.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:["              ",a.jsxs("div",{className:"font-medium",children:["Specimen: ",b.id||"No ID"]}),(P=(E=b.blocks)==null?void 0:E.blockList)==null?void 0:P.map((k,M)=>{var O,$;return a.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[a.jsxs("div",{className:"font-medium text-sm",children:["Block: ",k.id||"No ID"]}),($=(O=k.slides)==null?void 0:O.slideList)==null?void 0:$.map((K,W)=>{var G;return a.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-blue-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-medium text-sm",children:["Slide: ",K.id||"No ID"]}),a.jsx("button",{onClick:()=>d(K),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),a.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[a.jsxs("p",{children:["Sequence: ",K.sequence]}),((G=K.stainProtocol)==null?void 0:G.name)&&a.jsxs("p",{children:["Stain: ",K.stainProtocol.name]})]})]},`slide-${W}`)})]},`block-slides-${M}`)})]},`specimen-slides-${N}`)}))]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},SN=({isSpecimenSelectorModalOpen:e,isBlockSelectorModalOpen:t,isSlideSelectorModalOpen:r,isEntitySelectorModalOpen:n,message:i,toggleSpecimenSelectorModal:s,toggleBlockSelectorModal:o,toggleSlideSelectorModal:l,toggleEntitySelectorModal:u,handleSpecimenSelect:d,handleBlockSelect:f,handleSlideSelect:c,handleEntitySelect:p})=>a.jsxs(a.Fragment,{children:[a.jsx(vN,{isOpen:e,onClose:s,message:i,onSelectSpecimen:d}),a.jsx(yN,{isOpen:t,onClose:o,message:i,onSelectBlock:f}),a.jsx(xN,{isOpen:r,onClose:l,message:i,onSelectSlide:c}),a.jsx(bN,{isOpen:n,onClose:u,message:i,onSelectEntity:p})]}),wN=({message:e,type:t,isVisible:r,onClose:n,duration:i=1500})=>{if(I.useEffect(()=>{if(r&&i>0){const d=setTimeout(()=>{n()},i);return()=>clearTimeout(d)}},[r,i,n]),!r)return null;const s=()=>{switch(t){case"success":return{bg:"bg-green-500",text:"text-white",icon:a.jsx(R0,{size:20})};case"error":return{bg:"bg-red-500",text:"text-white",icon:a.jsx(B0,{size:20})};case"warning":return{bg:"bg-yellow-500",text:"text-white",icon:a.jsx(O0,{size:20})};case"info":return{bg:"bg-blue-500",text:"text-white",icon:a.jsx(wd,{size:20})};default:return{bg:"bg-gray-500",text:"text-white",icon:a.jsx(wd,{size:20})}}},{bg:o,text:l,icon:u}=s();return a.jsxs("div",{className:`fixed top-4 right-4 ${o} ${l} px-4 py-3 rounded-lg shadow-lg z-50 flex items-center gap-3 max-w-md transform transition-all duration-300 ease-in-out ${r?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:[u,a.jsx("span",{className:"flex-1 text-sm font-medium",children:e}),a.jsx("button",{onClick:n,className:`${l} hover:opacity-70 transition-opacity`,children:a.jsx(Wt,{size:16})})]})},NN=({isSidebarOpen:e,snackbar:t,onToggleSidebar:r,onCloseSnackbar:n})=>{const[i,s]=I.useState(!1),[o,l]=I.useState(null),[u,d]=I.useState(!1),[f,c]=I.useState(null),p=y=>{l(y),s(!0)},m=()=>{s(!1),l(null)},v=y=>{c(y),d(!0)},x=(y,b)=>{de.updateMessageContent(y,b),d(!1),c(null)},w=(y,b)=>{de.updateMessageComment(y,b)},h=(y,b)=>{de.updateMessageControlId(y,b)},g=()=>{d(!1),c(null)};return a.jsxs(a.Fragment,{children:[a.jsx(Kw,{isOpen:e,onClose:r,onMessageClick:p,onEditMessage:v}),a.jsx(Yw,{isOpen:i,onClose:m,message:o}),a.jsx(Jw,{isOpen:u,onClose:g,message:f,onSave:x,onSaveComment:w,onSaveControlId:h}),a.jsx(wN,{message:t.message,type:t.type,isVisible:t.isVisible,onClose:n})]})},CN=()=>{const e=Zw();return a.jsxs(eN,{isSidebarOpen:e.isSidebarOpen,isMessageSaved:e.isMessageSaved,onToggleSidebar:e.toggleSidebar,children:[a.jsx(aN,{sampleId:e.sampleId,selectedHost:e.selectedHost,selectedType:e.selectedType,selectedStatus:e.selectedStatus,generatedMessage:e.generatedMessage,messageCopied:e.messageCopied,isFetchingData:e.isFetchingData,isGeneratingMessage:e.isGeneratingMessage,isSendingMessage:e.isSendingMessage,generateButtonDisabled:e.generateButtonDisabled,messageTypes:e.messageTypes,hosts:e.hosts,isLoadingHosts:e.isLoadingHosts,selectedSpecimen:e.selectedSpecimen,selectedBlock:e.selectedBlock,selectedSlide:e.selectedSlide,selectedEntity:e.selectedEntity,showSpecimenSelector:e.showSpecimenSelector,showBlockSelector:e.showBlockSelector,showSlideSelector:e.showSlideSelector,showEntitySelector:e.showEntitySelector,showStatusSelector:e.showStatusSelector,message:e.message,sendResponse:e.sendResponse,error:e.error,handleSampleIdChange:e.handleSampleIdChange,handleHostChange:e.handleHostChange,handleTypeChange:e.handleTypeChange,handleStatusChange:e.handleStatusChange,togglePatientModal:e.togglePatientModal,togglePhysicianModal:e.togglePhysicianModal,togglePathologistModal:e.togglePathologistModal,toggleTechnicianModal:e.toggleTechnicianModal,toggleHierarchyModal:e.toggleHierarchyModal,toggleSpecimenSelectorModal:e.toggleSpecimenSelectorModal,toggleBlockSelectorModal:e.toggleBlockSelectorModal,toggleSlideSelectorModal:e.toggleSlideSelectorModal,toggleEntitySelectorModal:e.toggleEntitySelectorModal,generateMessage:e.generateMessage,sendMessage:e.sendMessage,copyToClipboard:e.copyToClipboard,updateGeneratedMessage:e.updateGeneratedMessage,saveMessageToSidebar:e.saveMessageToSidebar}),a.jsx(hN,{isPatientModalOpen:e.isPatientModalOpen,isPhysicianModalOpen:e.isPhysicianModalOpen,isPathologistModalOpen:e.isPathologistModalOpen,isHierarchyModalOpen:e.isHierarchyModalOpen,isTechnicianModalOpen:e.isTechnicianModalOpen,patientInfo:e.patientInfo,physicianInfo:e.physicianInfo,pathologistInfo:e.pathologistInfo,technicianInfo:e.technicianInfo,message:e.message,togglePatientModal:e.togglePatientModal,togglePhysicianModal:e.togglePhysicianModal,togglePathologistModal:e.togglePathologistModal,toggleHierarchyModal:e.toggleHierarchyModal,toggleTechnicianModal:e.toggleTechnicianModal,handlePatientInfoSave:e.handlePatientInfoSave,handlePhysicianInfoSave:e.handlePhysicianInfoSave,handlePathologistInfoSave:e.handlePathologistInfoSave,handleTechnicianInfoSave:e.handleTechnicianInfoSave}),a.jsx(SN,{isSpecimenSelectorModalOpen:e.isSpecimenSelectorModalOpen,isBlockSelectorModalOpen:e.isBlockSelectorModalOpen,isSlideSelectorModalOpen:e.isSlideSelectorModalOpen,isEntitySelectorModalOpen:e.isEntitySelectorModalOpen,message:e.message,toggleSpecimenSelectorModal:e.toggleSpecimenSelectorModal,toggleBlockSelectorModal:e.toggleBlockSelectorModal,toggleSlideSelectorModal:e.toggleSlideSelectorModal,toggleEntitySelectorModal:e.toggleEntitySelectorModal,handleSpecimenSelect:e.handleSpecimenSelect,handleBlockSelect:e.handleBlockSelect,handleSlideSelect:e.handleSlideSelect,handleEntitySelect:e.handleEntitySelect}),"      ",a.jsx(NN,{isSidebarOpen:e.isSidebarOpen,snackbar:e.snackbar,onToggleSidebar:e.toggleSidebar,onCloseSnackbar:e.closeSnackbar})]})};function EN(){return a.jsx("div",{className:"min-h-screen bg-gray-100 py-6",children:a.jsx(CN,{})})}const jN=()=>{try{const e=Me.getMessages();if(e.length===0){console.log("No messages to migrate");return}const r=de.getLists().find(s=>s.name==="Default"||s.name==="Mensajes Migrados");if(r&&r.messages.length>0){console.log("Migration already completed");return}let n=r;n||(n=de.createList("Mensajes Migrados","Mensajes importados del sistema anterior","#3B82F6"));let i=0;for(const s of e)try{de.addMessage(s.content,s.host,s.messageType,s.messageControlId,n.id),i++}catch(o){console.error("Error migrating message:",s.id,o)}try{Me.clearAllMessages()}catch(s){console.warn("Could not clear old messages service:",s)}if(console.log(`Successfully migrated ${i} messages to the new lists system`),i>0){const s=document.createElement("div");s.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #10B981;
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 1000;
        font-family: system-ui, -apple-system, sans-serif;
        font-size: 14px;
        max-width: 300px;
      `,s.textContent=` ${i} mensajes migrados al nuevo sistema de listas`,document.body.appendChild(s),setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},5e3)}}catch(e){console.error("Error during migration:",e);const t=document.createElement("div");t.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #EF4444;
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 14px;
      max-width: 300px;
    `,t.textContent=" Error al migrar mensajes. Consulta la consola para ms detalles.",document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},5e3)}};jN();Ta.createRoot(document.getElementById("root")).render(a.jsx(EN,{}));
