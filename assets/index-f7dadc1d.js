var mh=Object.defineProperty;var gh=(e,t,r)=>t in e?mh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fe=(e,t,r)=>(gh(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Kl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dp={exports:{}},mo={},kp={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var As=Symbol.for("react.element"),hh=Symbol.for("react.portal"),vh=Symbol.for("react.fragment"),xh=Symbol.for("react.strict_mode"),yh=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),Sh=Symbol.for("react.context"),wh=Symbol.for("react.forward_ref"),Nh=Symbol.for("react.suspense"),Eh=Symbol.for("react.memo"),Ch=Symbol.for("react.lazy"),Eu=Symbol.iterator;function jh(e){return e===null||typeof e!="object"?null:(e=Eu&&e[Eu]||e["@@iterator"],typeof e=="function"?e:null)}var Ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tp=Object.assign,Rp={};function On(e,t,r){this.props=e,this.context=t,this.refs=Rp,this.updater=r||Ip}On.prototype.isReactComponent={};On.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};On.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pp(){}Pp.prototype=On.prototype;function Ql(e,t,r){this.props=e,this.context=t,this.refs=Rp,this.updater=r||Ip}var Yl=Ql.prototype=new Pp;Yl.constructor=Ql;Tp(Yl,On.prototype);Yl.isPureReactComponent=!0;var Cu=Array.isArray,Mp=Object.prototype.hasOwnProperty,Jl={current:null},Op={key:!0,ref:!0,__self:!0,__source:!0};function Lp(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Mp.call(t,n)&&!Op.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),p=0;p<l;p++)c[p]=arguments[p+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:As,type:e,key:i,ref:a,props:s,_owner:Jl.current}}function Dh(e,t){return{$$typeof:As,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xl(e){return typeof e=="object"&&e!==null&&e.$$typeof===As}function kh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ju=/\/+/g;function Jo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kh(""+e.key):t.toString(36)}function bi(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case As:case hh:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Jo(a,0):n,Cu(s)?(r="",e!=null&&(r=e.replace(ju,"$&/")+"/"),bi(s,t,r,"",function(p){return p})):s!=null&&(Xl(s)&&(s=Dh(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ju,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Cu(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Jo(i,l);a+=bi(i,t,r,c,s)}else if(c=jh(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Jo(i,l++),a+=bi(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zs(e,t,r){if(e==null)return e;var n=[],s=0;return bi(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Ih(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},Si={transition:null},Th={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:Si,ReactCurrentOwner:Jl};function Ap(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Zs,forEach:function(e,t,r){Zs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zs(e,function(){t++}),t},toArray:function(e){return Zs(e,function(t){return t})||[]},only:function(e){if(!Xl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=On;oe.Fragment=vh;oe.Profiler=yh;oe.PureComponent=Ql;oe.StrictMode=xh;oe.Suspense=Nh;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Th;oe.act=Ap;oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Tp({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Jl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Mp.call(t,c)&&!Op.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var p=0;p<c;p++)l[p]=arguments[p+2];n.children=l}return{$$typeof:As,type:e.type,key:s,ref:i,props:n,_owner:a}};oe.createContext=function(e){return e={$$typeof:Sh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bh,_context:e},e.Consumer=e};oe.createElement=Lp;oe.createFactory=function(e){var t=Lp.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:wh,render:e}};oe.isValidElement=Xl;oe.lazy=function(e){return{$$typeof:Ch,_payload:{_status:-1,_result:e},_init:Ih}};oe.memo=function(e,t){return{$$typeof:Eh,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Si.transition;Si.transition={};try{e()}finally{Si.transition=t}};oe.unstable_act=Ap;oe.useCallback=function(e,t){return Ze.current.useCallback(e,t)};oe.useContext=function(e){return Ze.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};oe.useEffect=function(e,t){return Ze.current.useEffect(e,t)};oe.useId=function(){return Ze.current.useId()};oe.useImperativeHandle=function(e,t,r){return Ze.current.useImperativeHandle(e,t,r)};oe.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Ze.current.useMemo(e,t)};oe.useReducer=function(e,t,r){return Ze.current.useReducer(e,t,r)};oe.useRef=function(e){return Ze.current.useRef(e)};oe.useState=function(e){return Ze.current.useState(e)};oe.useSyncExternalStore=function(e,t,r){return Ze.current.useSyncExternalStore(e,t,r)};oe.useTransition=function(){return Ze.current.useTransition()};oe.version="18.3.1";kp.exports=oe;var j=kp.exports;const xe=Kl(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=j,Ph=Symbol.for("react.element"),Mh=Symbol.for("react.fragment"),Oh=Object.prototype.hasOwnProperty,Lh=Rh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ah={key:!0,ref:!0,__self:!0,__source:!0};function Bp(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Oh.call(t,n)&&!Ah.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Ph,type:e,key:i,ref:a,props:s,_owner:Lh.current}}mo.Fragment=Mh;mo.jsx=Bp;mo.jsxs=Bp;Dp.exports=mo;var o=Dp.exports,Ba={},Fp={exports:{}},mt={},$p={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,T){var P=E.length;E.push(T);e:for(;0<P;){var H=P-1>>>1,U=E[H];if(0<s(U,T))E[H]=T,E[P]=U,P=H;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var T=E[0],P=E.pop();if(P!==T){E[0]=P;e:for(var H=0,U=E.length,L=U>>>1;H<L;){var q=2*(H+1)-1,_=E[q],Z=q+1,ee=E[Z];if(0>s(_,P))Z<U&&0>s(ee,_)?(E[H]=ee,E[Z]=P,H=Z):(E[H]=_,E[q]=P,H=q);else if(Z<U&&0>s(ee,P))E[H]=ee,E[Z]=P,H=Z;else break e}}return T}function s(E,T){var P=E.sortIndex-T.sortIndex;return P!==0?P:E.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],p=[],f=1,u=null,d=3,m=!1,h=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var T=r(p);T!==null;){if(T.callback===null)n(p);else if(T.startTime<=E)n(p),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(p)}}function b(E){if(y=!1,x(E),!h)if(r(c)!==null)h=!0,F(C);else{var T=r(p);T!==null&&O(b,T.startTime-E)}}function C(E,T){h=!1,y&&(y=!1,v(k),k=-1),m=!0;var P=d;try{for(x(T),u=r(c);u!==null&&(!(u.expirationTime>T)||E&&!$());){var H=u.callback;if(typeof H=="function"){u.callback=null,d=u.priorityLevel;var U=H(u.expirationTime<=T);T=e.unstable_now(),typeof U=="function"?u.callback=U:u===r(c)&&n(c),x(T)}else n(c);u=r(c)}if(u!==null)var L=!0;else{var q=r(p);q!==null&&O(b,q.startTime-T),L=!1}return L}finally{u=null,d=P,m=!1}}var w=!1,D=null,k=-1,R=5,M=-1;function $(){return!(e.unstable_now()-M<R)}function W(){if(D!==null){var E=e.unstable_now();M=E;var T=!0;try{T=D(!0,E)}finally{T?Q():(w=!1,D=null)}}else w=!1}var Q;if(typeof g=="function")Q=function(){g(W)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=W,Q=function(){B.postMessage(null)}}else Q=function(){N(W,0)};function F(E){D=E,w||(w=!0,Q())}function O(E,T){k=N(function(){E(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,F(C))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(d){case 1:case 2:case 3:var T=3;break;default:T=d}var P=d;d=T;try{return E()}finally{d=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,T){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var P=d;d=E;try{return T()}finally{d=P}},e.unstable_scheduleCallback=function(E,T,P){var H=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?H+P:H):P=H,E){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=P+U,E={id:f++,callback:T,priorityLevel:E,startTime:P,expirationTime:U,sortIndex:-1},P>H?(E.sortIndex=P,t(p,E),r(c)===null&&E===r(p)&&(y?(v(k),k=-1):y=!0,O(b,P-H))):(E.sortIndex=U,t(c,E),h||m||(h=!0,F(C))),E},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(E){var T=d;return function(){var P=d;d=T;try{return E.apply(this,arguments)}finally{d=P}}}})(zp);$p.exports=zp;var Bh=$p.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh=j,ft=Bh;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Up=new Set,fs={};function en(e,t){En(e,t),En(e+"Capture",t)}function En(e,t){for(fs[e]=t,e=0;e<t.length;e++)Up.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=Object.prototype.hasOwnProperty,$h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Du={},ku={};function zh(e){return Fa.call(ku,e)?!0:Fa.call(Du,e)?!1:$h.test(e)?ku[e]=!0:(Du[e]=!0,!1)}function Uh(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hh(e,t,r,n){if(t===null||typeof t>"u"||Uh(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zl=/[\-:]([a-z])/g;function ec(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zl,ec);_e[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zl,ec);_e[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zl,ec);_e[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function tc(e,t,r,n){var s=_e.hasOwnProperty(t)?_e[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hh(t,r,s,n)&&(r=null),n||s===null?zh(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xt=Fh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ei=Symbol.for("react.element"),sn=Symbol.for("react.portal"),on=Symbol.for("react.fragment"),rc=Symbol.for("react.strict_mode"),$a=Symbol.for("react.profiler"),Hp=Symbol.for("react.provider"),Gp=Symbol.for("react.context"),nc=Symbol.for("react.forward_ref"),za=Symbol.for("react.suspense"),Ua=Symbol.for("react.suspense_list"),sc=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),_p=Symbol.for("react.offscreen"),Iu=Symbol.iterator;function Un(e){return e===null||typeof e!="object"?null:(e=Iu&&e[Iu]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Xo;function Xn(e){if(Xo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xo=t&&t[1]||""}return`
`+Xo+e}var Zo=!1;function ea(e,t){if(!e||Zo)return"";Zo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Zo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xn(e):""}function Gh(e){switch(e.tag){case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 2:case 15:return e=ea(e.type,!1),e;case 11:return e=ea(e.type.render,!1),e;case 1:return e=ea(e.type,!0),e;default:return""}}function Ha(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case on:return"Fragment";case sn:return"Portal";case $a:return"Profiler";case rc:return"StrictMode";case za:return"Suspense";case Ua:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gp:return(e.displayName||"Context")+".Consumer";case Hp:return(e._context.displayName||"Context")+".Provider";case nc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sc:return t=e.displayName||null,t!==null?t:Ha(e.type)||"Memo";case er:t=e._payload,e=e._init;try{return Ha(e(t))}catch{}}return null}function _h(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ha(t);case 8:return t===rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wh(e){var t=Wp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ti(e){e._valueTracker||(e._valueTracker=Wh(e))}function Vp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Wp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ga(e,t){var r=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Tu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qp(e,t){t=t.checked,t!=null&&tc(e,"checked",t,!1)}function _a(e,t){qp(e,t);var r=wr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wa(e,t.type,r):t.hasOwnProperty("defaultValue")&&Wa(e,t.type,wr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ru(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Wa(e,t,r){(t!=="number"||Mi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zn=Array.isArray;function vn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Va(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(Zn(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wr(r)}}function Kp(e,t){var r=wr(t.value),n=wr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Mu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ri,Yp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ms(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vh=["Webkit","ms","Moz","O"];Object.keys(rs).forEach(function(e){Vh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rs[t]=rs[e]})});function Jp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||rs.hasOwnProperty(e)&&rs[e]?(""+t).trim():t+"px"}function Xp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Jp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var qh=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ka(e,t){if(t){if(qh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Qa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ja=null,xn=null,yn=null;function Ou(e){if(e=$s(e)){if(typeof Ja!="function")throw Error(A(280));var t=e.stateNode;t&&(t=yo(t),Ja(e.stateNode,e.type,t))}}function Zp(e){xn?yn?yn.push(e):yn=[e]:xn=e}function ef(){if(xn){var e=xn,t=yn;if(yn=xn=null,Ou(e),t)for(e=0;e<t.length;e++)Ou(t[e])}}function tf(e,t){return e(t)}function rf(){}var ta=!1;function nf(e,t,r){if(ta)return e(t,r);ta=!0;try{return tf(e,t,r)}finally{ta=!1,(xn!==null||yn!==null)&&(rf(),ef())}}function gs(e,t){var r=e.stateNode;if(r===null)return null;var n=yo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var Xa=!1;if(Kt)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{Xa=!1}function Kh(e,t,r,n,s,i,a,l,c){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(f){this.onError(f)}}var ns=!1,Oi=null,Li=!1,Za=null,Qh={onError:function(e){ns=!0,Oi=e}};function Yh(e,t,r,n,s,i,a,l,c){ns=!1,Oi=null,Kh.apply(Qh,arguments)}function Jh(e,t,r,n,s,i,a,l,c){if(Yh.apply(this,arguments),ns){if(ns){var p=Oi;ns=!1,Oi=null}else throw Error(A(198));Li||(Li=!0,Za=p)}}function tn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function sf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lu(e){if(tn(e)!==e)throw Error(A(188))}function Xh(e){var t=e.alternate;if(!t){if(t=tn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Lu(s),e;if(i===n)return Lu(s),t;i=i.sibling}throw Error(A(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function of(e){return e=Xh(e),e!==null?af(e):null}function af(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=af(e);if(t!==null)return t;e=e.sibling}return null}var lf=ft.unstable_scheduleCallback,Au=ft.unstable_cancelCallback,Zh=ft.unstable_shouldYield,ev=ft.unstable_requestPaint,je=ft.unstable_now,tv=ft.unstable_getCurrentPriorityLevel,oc=ft.unstable_ImmediatePriority,cf=ft.unstable_UserBlockingPriority,Ai=ft.unstable_NormalPriority,rv=ft.unstable_LowPriority,uf=ft.unstable_IdlePriority,go=null,Ut=null;function nv(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(go,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:ov,sv=Math.log,iv=Math.LN2;function ov(e){return e>>>=0,e===0?32:31-(sv(e)/iv|0)|0}var ni=64,si=4194304;function es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=es(l):(i&=a,i!==0&&(n=es(i)))}else a=r&~s,a!==0?n=es(a):i!==0&&(n=es(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Mt(t),s=1<<r,n|=e[r],t&=~s;return n}function av(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Mt(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=av(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function el(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function df(){var e=ni;return ni<<=1,!(ni&4194240)&&(ni=64),e}function ra(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=r}function cv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Mt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ac(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Mt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ce=0;function pf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ff,lc,mf,gf,hf,tl=!1,ii=[],cr=null,ur=null,dr=null,hs=new Map,vs=new Map,sr=[],uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bu(e,t){switch(e){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(t.pointerId)}}function Gn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=$s(t),t!==null&&lc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dv(e,t,r,n,s){switch(t){case"focusin":return cr=Gn(cr,e,t,r,n,s),!0;case"dragenter":return ur=Gn(ur,e,t,r,n,s),!0;case"mouseover":return dr=Gn(dr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return hs.set(i,Gn(hs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,vs.set(i,Gn(vs.get(i)||null,e,t,r,n,s)),!0}return!1}function vf(e){var t=Ur(e.target);if(t!==null){var r=tn(t);if(r!==null){if(t=r.tag,t===13){if(t=sf(r),t!==null){e.blockedOn=t,hf(e.priority,function(){mf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ya=n,r.target.dispatchEvent(n),Ya=null}else return t=$s(r),t!==null&&lc(t),e.blockedOn=r,!1;t.shift()}return!0}function Fu(e,t,r){wi(e)&&r.delete(t)}function pv(){tl=!1,cr!==null&&wi(cr)&&(cr=null),ur!==null&&wi(ur)&&(ur=null),dr!==null&&wi(dr)&&(dr=null),hs.forEach(Fu),vs.forEach(Fu)}function _n(e,t){e.blockedOn===t&&(e.blockedOn=null,tl||(tl=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,pv)))}function xs(e){function t(s){return _n(s,e)}if(0<ii.length){_n(ii[0],e);for(var r=1;r<ii.length;r++){var n=ii[r];n.blockedOn===e&&(n.blockedOn=null)}}for(cr!==null&&_n(cr,e),ur!==null&&_n(ur,e),dr!==null&&_n(dr,e),hs.forEach(t),vs.forEach(t),r=0;r<sr.length;r++)n=sr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)vf(r),r.blockedOn===null&&sr.shift()}var bn=Xt.ReactCurrentBatchConfig,Fi=!0;function fv(e,t,r,n){var s=ce,i=bn.transition;bn.transition=null;try{ce=1,cc(e,t,r,n)}finally{ce=s,bn.transition=i}}function mv(e,t,r,n){var s=ce,i=bn.transition;bn.transition=null;try{ce=4,cc(e,t,r,n)}finally{ce=s,bn.transition=i}}function cc(e,t,r,n){if(Fi){var s=rl(e,t,r,n);if(s===null)pa(e,t,n,$i,r),Bu(e,n);else if(dv(s,e,t,r,n))n.stopPropagation();else if(Bu(e,n),t&4&&-1<uv.indexOf(e)){for(;s!==null;){var i=$s(s);if(i!==null&&ff(i),i=rl(e,t,r,n),i===null&&pa(e,t,n,$i,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else pa(e,t,n,null,r)}}var $i=null;function rl(e,t,r,n){if($i=null,e=ic(n),e=Ur(e),e!==null)if(t=tn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=sf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $i=e,null}function xf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tv()){case oc:return 1;case cf:return 4;case Ai:case rv:return 16;case uf:return 536870912;default:return 16}default:return 16}}var ar=null,uc=null,Ni=null;function yf(){if(Ni)return Ni;var e,t=uc,r=t.length,n,s="value"in ar?ar.value:ar.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ni=s.slice(e,1<n?1-n:void 0)}function Ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function $u(){return!1}function gt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oi:$u,this.isPropagationStopped=$u,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dc=gt(Ln),Fs=Ee({},Ln,{view:0,detail:0}),gv=gt(Fs),na,sa,Wn,ho=Ee({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(na=e.screenX-Wn.screenX,sa=e.screenY-Wn.screenY):sa=na=0,Wn=e),na)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),zu=gt(ho),hv=Ee({},ho,{dataTransfer:0}),vv=gt(hv),xv=Ee({},Fs,{relatedTarget:0}),ia=gt(xv),yv=Ee({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),bv=gt(yv),Sv=Ee({},Ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wv=gt(Sv),Nv=Ee({},Ln,{data:0}),Uu=gt(Nv),Ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jv[e])?!!t[e]:!1}function pc(){return Dv}var kv=Ee({},Fs,{key:function(e){if(e.key){var t=Ev[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(e){return e.type==="keypress"?Ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iv=gt(kv),Tv=Ee({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=gt(Tv),Rv=Ee({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),Pv=gt(Rv),Mv=Ee({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ov=gt(Mv),Lv=Ee({},ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Av=gt(Lv),Bv=[9,13,27,32],fc=Kt&&"CompositionEvent"in window,ss=null;Kt&&"documentMode"in document&&(ss=document.documentMode);var Fv=Kt&&"TextEvent"in window&&!ss,bf=Kt&&(!fc||ss&&8<ss&&11>=ss),Gu=String.fromCharCode(32),_u=!1;function Sf(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var an=!1;function $v(e,t){switch(e){case"compositionend":return wf(t);case"keypress":return t.which!==32?null:(_u=!0,Gu);case"textInput":return e=t.data,e===Gu&&_u?null:e;default:return null}}function zv(e,t){if(an)return e==="compositionend"||!fc&&Sf(e,t)?(e=yf(),Ni=uc=ar=null,an=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bf&&t.locale!=="ko"?null:t.data;default:return null}}var Uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uv[e.type]:t==="textarea"}function Nf(e,t,r,n){Zp(n),t=zi(t,"onChange"),0<t.length&&(r=new dc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var is=null,ys=null;function Hv(e){Of(e,0)}function vo(e){var t=un(e);if(Vp(t))return e}function Gv(e,t){if(e==="change")return t}var Ef=!1;if(Kt){var oa;if(Kt){var aa="oninput"in document;if(!aa){var Vu=document.createElement("div");Vu.setAttribute("oninput","return;"),aa=typeof Vu.oninput=="function"}oa=aa}else oa=!1;Ef=oa&&(!document.documentMode||9<document.documentMode)}function qu(){is&&(is.detachEvent("onpropertychange",Cf),ys=is=null)}function Cf(e){if(e.propertyName==="value"&&vo(ys)){var t=[];Nf(t,ys,e,ic(e)),nf(Hv,t)}}function _v(e,t,r){e==="focusin"?(qu(),is=t,ys=r,is.attachEvent("onpropertychange",Cf)):e==="focusout"&&qu()}function Wv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(ys)}function Vv(e,t){if(e==="click")return vo(t)}function qv(e,t){if(e==="input"||e==="change")return vo(t)}function Kv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Kv;function bs(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Fa.call(t,s)||!Lt(e[s],t[s]))return!1}return!0}function Ku(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qu(e,t){var r=Ku(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ku(r)}}function jf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Df(){for(var e=window,t=Mi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Mi(e.document)}return t}function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qv(e){var t=Df(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jf(r.ownerDocument.documentElement,r)){if(n!==null&&mc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Qu(r,i);var a=Qu(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yv=Kt&&"documentMode"in document&&11>=document.documentMode,ln=null,nl=null,os=null,sl=!1;function Yu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sl||ln==null||ln!==Mi(n)||(n=ln,"selectionStart"in n&&mc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),os&&bs(os,n)||(os=n,n=zi(nl,"onSelect"),0<n.length&&(t=new dc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ln)))}function ai(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cn={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionend:ai("Transition","TransitionEnd")},la={},kf={};Kt&&(kf=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);function xo(e){if(la[e])return la[e];if(!cn[e])return e;var t=cn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kf)return la[e]=t[r];return e}var If=xo("animationend"),Tf=xo("animationiteration"),Rf=xo("animationstart"),Pf=xo("transitionend"),Mf=new Map,Ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Mf.set(e,t),en(t,[e])}for(var ca=0;ca<Ju.length;ca++){var ua=Ju[ca],Jv=ua.toLowerCase(),Xv=ua[0].toUpperCase()+ua.slice(1);jr(Jv,"on"+Xv)}jr(If,"onAnimationEnd");jr(Tf,"onAnimationIteration");jr(Rf,"onAnimationStart");jr("dblclick","onDoubleClick");jr("focusin","onFocus");jr("focusout","onBlur");jr(Pf,"onTransitionEnd");En("onMouseEnter",["mouseout","mouseover"]);En("onMouseLeave",["mouseout","mouseover"]);En("onPointerEnter",["pointerout","pointerover"]);En("onPointerLeave",["pointerout","pointerover"]);en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));en("onBeforeInput",["compositionend","keypress","textInput","paste"]);en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function Xu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Jh(n,t,void 0,e),e.currentTarget=null}function Of(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,p=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Xu(s,l,p),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,p=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Xu(s,l,p),i=c}}}if(Li)throw e=Za,Li=!1,Za=null,e}function ve(e,t){var r=t[cl];r===void 0&&(r=t[cl]=new Set);var n=e+"__bubble";r.has(n)||(Lf(t,e,2,!1),r.add(n))}function da(e,t,r){var n=0;t&&(n|=4),Lf(r,e,n,t)}var li="_reactListening"+Math.random().toString(36).slice(2);function Ss(e){if(!e[li]){e[li]=!0,Up.forEach(function(r){r!=="selectionchange"&&(Zv.has(r)||da(r,!1,e),da(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[li]||(t[li]=!0,da("selectionchange",!1,t))}}function Lf(e,t,r,n){switch(xf(t)){case 1:var s=fv;break;case 4:s=mv;break;default:s=cc}r=s.bind(null,t,r,e),s=void 0,!Xa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function pa(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ur(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}nf(function(){var p=i,f=ic(r),u=[];e:{var d=Mf.get(e);if(d!==void 0){var m=dc,h=e;switch(e){case"keypress":if(Ei(r)===0)break e;case"keydown":case"keyup":m=Iv;break;case"focusin":h="focus",m=ia;break;case"focusout":h="blur",m=ia;break;case"beforeblur":case"afterblur":m=ia;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Pv;break;case If:case Tf:case Rf:m=bv;break;case Pf:m=Ov;break;case"scroll":m=gv;break;case"wheel":m=Av;break;case"copy":case"cut":case"paste":m=wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hu}var y=(t&4)!==0,N=!y&&e==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var g=p,x;g!==null;){x=g;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=gs(g,v),b!=null&&y.push(ws(g,b,x)))),N)break;g=g.return}0<y.length&&(d=new m(d,h,null,r,f),u.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&r!==Ya&&(h=r.relatedTarget||r.fromElement)&&(Ur(h)||h[Qt]))break e;if((m||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,m?(h=r.relatedTarget||r.toElement,m=p,h=h?Ur(h):null,h!==null&&(N=tn(h),h!==N||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=p),m!==h)){if(y=zu,b="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Hu,b="onPointerLeave",v="onPointerEnter",g="pointer"),N=m==null?d:un(m),x=h==null?d:un(h),d=new y(b,g+"leave",m,r,f),d.target=N,d.relatedTarget=x,b=null,Ur(f)===p&&(y=new y(v,g+"enter",h,r,f),y.target=x,y.relatedTarget=N,b=y),N=b,m&&h)t:{for(y=m,v=h,g=0,x=y;x;x=rn(x))g++;for(x=0,b=v;b;b=rn(b))x++;for(;0<g-x;)y=rn(y),g--;for(;0<x-g;)v=rn(v),x--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=rn(y),v=rn(v)}y=null}else y=null;m!==null&&Zu(u,d,m,y,!1),h!==null&&N!==null&&Zu(u,N,h,y,!0)}}e:{if(d=p?un(p):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var C=Gv;else if(Wu(d))if(Ef)C=qv;else{C=Wv;var w=_v}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=Vv);if(C&&(C=C(e,p))){Nf(u,C,r,f);break e}w&&w(e,d,p),e==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&Wa(d,"number",d.value)}switch(w=p?un(p):window,e){case"focusin":(Wu(w)||w.contentEditable==="true")&&(ln=w,nl=p,os=null);break;case"focusout":os=nl=ln=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,Yu(u,r,f);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":Yu(u,r,f)}var D;if(fc)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else an?Sf(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(bf&&r.locale!=="ko"&&(an||k!=="onCompositionStart"?k==="onCompositionEnd"&&an&&(D=yf()):(ar=f,uc="value"in ar?ar.value:ar.textContent,an=!0)),w=zi(p,k),0<w.length&&(k=new Uu(k,e,null,r,f),u.push({event:k,listeners:w}),D?k.data=D:(D=wf(r),D!==null&&(k.data=D)))),(D=Fv?$v(e,r):zv(e,r))&&(p=zi(p,"onBeforeInput"),0<p.length&&(f=new Uu("onBeforeInput","beforeinput",null,r,f),u.push({event:f,listeners:p}),f.data=D))}Of(u,t)})}function ws(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gs(e,r),i!=null&&n.unshift(ws(e,i,s)),i=gs(e,t),i!=null&&n.push(ws(e,i,s))),e=e.return}return n}function rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zu(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,p=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&p!==null&&(l=p,s?(c=gs(r,i),c!=null&&a.unshift(ws(r,c,l))):s||(c=gs(r,i),c!=null&&a.push(ws(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var e0=/\r\n?/g,t0=/\u0000|\uFFFD/g;function ed(e){return(typeof e=="string"?e:""+e).replace(e0,`
`).replace(t0,"")}function ci(e,t,r){if(t=ed(t),ed(e)!==t&&r)throw Error(A(425))}function Ui(){}var il=null,ol=null;function al(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ll=typeof setTimeout=="function"?setTimeout:void 0,r0=typeof clearTimeout=="function"?clearTimeout:void 0,td=typeof Promise=="function"?Promise:void 0,n0=typeof queueMicrotask=="function"?queueMicrotask:typeof td<"u"?function(e){return td.resolve(null).then(e).catch(s0)}:ll;function s0(e){setTimeout(function(){throw e})}function fa(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),xs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);xs(t)}function pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),zt="__reactFiber$"+An,Ns="__reactProps$"+An,Qt="__reactContainer$"+An,cl="__reactEvents$"+An,i0="__reactListeners$"+An,o0="__reactHandles$"+An;function Ur(e){var t=e[zt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qt]||r[zt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rd(e);e!==null;){if(r=e[zt])return r;e=rd(e)}return t}e=r,r=e.parentNode}return null}function $s(e){return e=e[zt]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function yo(e){return e[Ns]||null}var ul=[],dn=-1;function Dr(e){return{current:e}}function ye(e){0>dn||(e.current=ul[dn],ul[dn]=null,dn--)}function ge(e,t){dn++,ul[dn]=e.current,e.current=t}var Nr={},Qe=Dr(Nr),st=Dr(!1),qr=Nr;function Cn(e,t){var r=e.type.contextTypes;if(!r)return Nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function it(e){return e=e.childContextTypes,e!=null}function Hi(){ye(st),ye(Qe)}function nd(e,t,r){if(Qe.current!==Nr)throw Error(A(168));ge(Qe,t),ge(st,r)}function Af(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(A(108,_h(e)||"Unknown",s));return Ee({},r,n)}function Gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,qr=Qe.current,ge(Qe,e),ge(st,st.current),!0}function sd(e,t,r){var n=e.stateNode;if(!n)throw Error(A(169));r?(e=Af(e,t,qr),n.__reactInternalMemoizedMergedChildContext=e,ye(st),ye(Qe),ge(Qe,e)):ye(st),ge(st,r)}var _t=null,bo=!1,ma=!1;function Bf(e){_t===null?_t=[e]:_t.push(e)}function a0(e){bo=!0,Bf(e)}function kr(){if(!ma&&_t!==null){ma=!0;var e=0,t=ce;try{var r=_t;for(ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_t=null,bo=!1}catch(s){throw _t!==null&&(_t=_t.slice(e+1)),lf(oc,kr),s}finally{ce=t,ma=!1}}return null}var pn=[],fn=0,_i=null,Wi=0,xt=[],yt=0,Kr=null,Wt=1,Vt="";function Mr(e,t){pn[fn++]=Wi,pn[fn++]=_i,_i=e,Wi=t}function Ff(e,t,r){xt[yt++]=Wt,xt[yt++]=Vt,xt[yt++]=Kr,Kr=e;var n=Wt;e=Vt;var s=32-Mt(n)-1;n&=~(1<<s),r+=1;var i=32-Mt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Wt=1<<32-Mt(t)+s|r<<s|n,Vt=i+e}else Wt=1<<i|r<<s|n,Vt=e}function gc(e){e.return!==null&&(Mr(e,1),Ff(e,1,0))}function hc(e){for(;e===_i;)_i=pn[--fn],pn[fn]=null,Wi=pn[--fn],pn[fn]=null;for(;e===Kr;)Kr=xt[--yt],xt[yt]=null,Vt=xt[--yt],xt[yt]=null,Wt=xt[--yt],xt[yt]=null}var ut=null,lt=null,Se=!1,Rt=null;function $f(e,t){var r=bt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function id(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,lt=pr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Kr!==null?{id:Wt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ut=e,lt=null,!0):!1;default:return!1}}function dl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pl(e){if(Se){var t=lt;if(t){var r=t;if(!id(e,t)){if(dl(e))throw Error(A(418));t=pr(r.nextSibling);var n=ut;t&&id(e,t)?$f(n,r):(e.flags=e.flags&-4097|2,Se=!1,ut=e)}}else{if(dl(e))throw Error(A(418));e.flags=e.flags&-4097|2,Se=!1,ut=e}}}function od(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function ui(e){if(e!==ut)return!1;if(!Se)return od(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!al(e.type,e.memoizedProps)),t&&(t=lt)){if(dl(e))throw zf(),Error(A(418));for(;t;)$f(e,t),t=pr(t.nextSibling)}if(od(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){lt=pr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=ut?pr(e.stateNode.nextSibling):null;return!0}function zf(){for(var e=lt;e;)e=pr(e.nextSibling)}function jn(){lt=ut=null,Se=!1}function vc(e){Rt===null?Rt=[e]:Rt.push(e)}var l0=Xt.ReactCurrentBatchConfig;function Vn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function di(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ad(e){var t=e._init;return t(e._payload)}function Uf(e){function t(v,g){if(e){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=hr(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,x,b){return g===null||g.tag!==6?(g=Sa(x,v.mode,b),g.return=v,g):(g=s(g,x),g.return=v,g)}function c(v,g,x,b){var C=x.type;return C===on?f(v,g,x.props.children,b,x.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===er&&ad(C)===g.type)?(b=s(g,x.props),b.ref=Vn(v,g,x),b.return=v,b):(b=Ri(x.type,x.key,x.props,null,v.mode,b),b.ref=Vn(v,g,x),b.return=v,b)}function p(v,g,x,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=wa(x,v.mode,b),g.return=v,g):(g=s(g,x.children||[]),g.return=v,g)}function f(v,g,x,b,C){return g===null||g.tag!==7?(g=Vr(x,v.mode,b,C),g.return=v,g):(g=s(g,x),g.return=v,g)}function u(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Sa(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ei:return x=Ri(g.type,g.key,g.props,null,v.mode,x),x.ref=Vn(v,null,g),x.return=v,x;case sn:return g=wa(g,v.mode,x),g.return=v,g;case er:var b=g._init;return u(v,b(g._payload),x)}if(Zn(g)||Un(g))return g=Vr(g,v.mode,x,null),g.return=v,g;di(v,g)}return null}function d(v,g,x,b){var C=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:l(v,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ei:return x.key===C?c(v,g,x,b):null;case sn:return x.key===C?p(v,g,x,b):null;case er:return C=x._init,d(v,g,C(x._payload),b)}if(Zn(x)||Un(x))return C!==null?null:f(v,g,x,b,null);di(v,x)}return null}function m(v,g,x,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,l(g,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ei:return v=v.get(b.key===null?x:b.key)||null,c(g,v,b,C);case sn:return v=v.get(b.key===null?x:b.key)||null,p(g,v,b,C);case er:var w=b._init;return m(v,g,x,w(b._payload),C)}if(Zn(b)||Un(b))return v=v.get(x)||null,f(g,v,b,C,null);di(g,b)}return null}function h(v,g,x,b){for(var C=null,w=null,D=g,k=g=0,R=null;D!==null&&k<x.length;k++){D.index>k?(R=D,D=null):R=D.sibling;var M=d(v,D,x[k],b);if(M===null){D===null&&(D=R);break}e&&D&&M.alternate===null&&t(v,D),g=i(M,g,k),w===null?C=M:w.sibling=M,w=M,D=R}if(k===x.length)return r(v,D),Se&&Mr(v,k),C;if(D===null){for(;k<x.length;k++)D=u(v,x[k],b),D!==null&&(g=i(D,g,k),w===null?C=D:w.sibling=D,w=D);return Se&&Mr(v,k),C}for(D=n(v,D);k<x.length;k++)R=m(D,v,k,x[k],b),R!==null&&(e&&R.alternate!==null&&D.delete(R.key===null?k:R.key),g=i(R,g,k),w===null?C=R:w.sibling=R,w=R);return e&&D.forEach(function($){return t(v,$)}),Se&&Mr(v,k),C}function y(v,g,x,b){var C=Un(x);if(typeof C!="function")throw Error(A(150));if(x=C.call(x),x==null)throw Error(A(151));for(var w=C=null,D=g,k=g=0,R=null,M=x.next();D!==null&&!M.done;k++,M=x.next()){D.index>k?(R=D,D=null):R=D.sibling;var $=d(v,D,M.value,b);if($===null){D===null&&(D=R);break}e&&D&&$.alternate===null&&t(v,D),g=i($,g,k),w===null?C=$:w.sibling=$,w=$,D=R}if(M.done)return r(v,D),Se&&Mr(v,k),C;if(D===null){for(;!M.done;k++,M=x.next())M=u(v,M.value,b),M!==null&&(g=i(M,g,k),w===null?C=M:w.sibling=M,w=M);return Se&&Mr(v,k),C}for(D=n(v,D);!M.done;k++,M=x.next())M=m(D,v,k,M.value,b),M!==null&&(e&&M.alternate!==null&&D.delete(M.key===null?k:M.key),g=i(M,g,k),w===null?C=M:w.sibling=M,w=M);return e&&D.forEach(function(W){return t(v,W)}),Se&&Mr(v,k),C}function N(v,g,x,b){if(typeof x=="object"&&x!==null&&x.type===on&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ei:e:{for(var C=x.key,w=g;w!==null;){if(w.key===C){if(C=x.type,C===on){if(w.tag===7){r(v,w.sibling),g=s(w,x.props.children),g.return=v,v=g;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===er&&ad(C)===w.type){r(v,w.sibling),g=s(w,x.props),g.ref=Vn(v,w,x),g.return=v,v=g;break e}r(v,w);break}else t(v,w);w=w.sibling}x.type===on?(g=Vr(x.props.children,v.mode,b,x.key),g.return=v,v=g):(b=Ri(x.type,x.key,x.props,null,v.mode,b),b.ref=Vn(v,g,x),b.return=v,v=b)}return a(v);case sn:e:{for(w=x.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(v,g.sibling),g=s(g,x.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=wa(x,v.mode,b),g.return=v,v=g}return a(v);case er:return w=x._init,N(v,g,w(x._payload),b)}if(Zn(x))return h(v,g,x,b);if(Un(x))return y(v,g,x,b);di(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,x),g.return=v,v=g):(r(v,g),g=Sa(x,v.mode,b),g.return=v,v=g),a(v)):r(v,g)}return N}var Dn=Uf(!0),Hf=Uf(!1),Vi=Dr(null),qi=null,mn=null,xc=null;function yc(){xc=mn=qi=null}function bc(e){var t=Vi.current;ye(Vi),e._currentValue=t}function fl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Sn(e,t){qi=e,xc=mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(xc!==e)if(e={context:e,memoizedValue:t,next:null},mn===null){if(qi===null)throw Error(A(308));mn=e,qi.dependencies={lanes:0,firstContext:e}}else mn=mn.next=e;return t}var Hr=null;function Sc(e){Hr===null?Hr=[e]:Hr.push(e)}function Gf(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Sc(t)):(r.next=s.next,s.next=r),t.interleaved=r,Yt(e,n)}function Yt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var tr=!1;function wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,le&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Yt(e,r)}return s=n.interleaved,s===null?(t.next=t,Sc(n)):(t.next=s.next,s.next=t),n.interleaved=t,Yt(e,r)}function Ci(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ac(e,r)}}function ld(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ki(e,t,r,n){var s=e.updateQueue;tr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,p=c.next;c.next=null,a===null?i=p:a.next=p,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=p:l.next=p,f.lastBaseUpdate=c))}if(i!==null){var u=s.baseState;a=0,f=p=c=null,l=i;do{var d=l.lane,m=l.eventTime;if((n&d)===d){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,y=l;switch(d=t,m=r,y.tag){case 1:if(h=y.payload,typeof h=="function"){u=h.call(m,u,d);break e}u=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,d=typeof h=="function"?h.call(m,u,d):h,d==null)break e;u=Ee({},u,d);break e;case 2:tr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else m={eventTime:m,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(p=f=m,c=u):f=f.next=m,a|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(f===null&&(c=u),s.baseState=c,s.firstBaseUpdate=p,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Yr|=a,e.lanes=a,e.memoizedState=u}}function cd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(A(191,s));s.call(n)}}}var zs={},Ht=Dr(zs),Es=Dr(zs),Cs=Dr(zs);function Gr(e){if(e===zs)throw Error(A(174));return e}function Nc(e,t){switch(ge(Cs,t),ge(Es,e),ge(Ht,zs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qa(t,e)}ye(Ht),ge(Ht,t)}function kn(){ye(Ht),ye(Es),ye(Cs)}function Wf(e){Gr(Cs.current);var t=Gr(Ht.current),r=qa(t,e.type);t!==r&&(ge(Es,e),ge(Ht,r))}function Ec(e){Es.current===e&&(ye(Ht),ye(Es))}var we=Dr(0);function Qi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=[];function Cc(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var ji=Xt.ReactCurrentDispatcher,ha=Xt.ReactCurrentBatchConfig,Qr=0,Ne=null,Te=null,Me=null,Yi=!1,as=!1,js=0,c0=0;function Ve(){throw Error(A(321))}function jc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lt(e[r],t[r]))return!1;return!0}function Dc(e,t,r,n,s,i){if(Qr=i,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ji.current=e===null||e.memoizedState===null?f0:m0,e=r(n,s),as){i=0;do{if(as=!1,js=0,25<=i)throw Error(A(301));i+=1,Me=Te=null,t.updateQueue=null,ji.current=g0,e=r(n,s)}while(as)}if(ji.current=Ji,t=Te!==null&&Te.next!==null,Qr=0,Me=Te=Ne=null,Yi=!1,t)throw Error(A(300));return e}function kc(){var e=js!==0;return js=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ne.memoizedState=Me=e:Me=Me.next=e,Me}function Ct(){if(Te===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Me===null?Ne.memoizedState:Me.next;if(t!==null)Me=t,Te=e;else{if(e===null)throw Error(A(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Me===null?Ne.memoizedState=Me=e:Me=Me.next=e}return Me}function Ds(e,t){return typeof t=="function"?t(e):t}function va(e){var t=Ct(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=Te,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,p=i;do{var f=p.lane;if((Qr&f)===f)c!==null&&(c=c.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var u={lane:f,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};c===null?(l=c=u,a=n):c=c.next=u,Ne.lanes|=f,Yr|=f}p=p.next}while(p!==null&&p!==i);c===null?a=n:c.next=l,Lt(n,t.memoizedState)||(nt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ne.lanes|=i,Yr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xa(e){var t=Ct(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Lt(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Vf(){}function qf(e,t){var r=Ne,n=Ct(),s=t(),i=!Lt(n.memoizedState,s);if(i&&(n.memoizedState=s,nt=!0),n=n.queue,Ic(Yf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(r.flags|=2048,ks(9,Qf.bind(null,r,n,s,t),void 0,null),Oe===null)throw Error(A(349));Qr&30||Kf(r,t,s)}return s}function Kf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Qf(e,t,r,n){t.value=r,t.getSnapshot=n,Jf(t)&&Xf(e)}function Yf(e,t,r){return r(function(){Jf(t)&&Xf(e)})}function Jf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lt(e,r)}catch{return!0}}function Xf(e){var t=Yt(e,1);t!==null&&Ot(t,e,1,-1)}function ud(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:e},t.queue=e,e=e.dispatch=p0.bind(null,Ne,e),[t.memoizedState,e]}function ks(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Zf(){return Ct().memoizedState}function Di(e,t,r,n){var s=$t();Ne.flags|=e,s.memoizedState=ks(1|t,r,void 0,n===void 0?null:n)}function So(e,t,r,n){var s=Ct();n=n===void 0?null:n;var i=void 0;if(Te!==null){var a=Te.memoizedState;if(i=a.destroy,n!==null&&jc(n,a.deps)){s.memoizedState=ks(t,r,i,n);return}}Ne.flags|=e,s.memoizedState=ks(1|t,r,i,n)}function dd(e,t){return Di(8390656,8,e,t)}function Ic(e,t){return So(2048,8,e,t)}function em(e,t){return So(4,2,e,t)}function tm(e,t){return So(4,4,e,t)}function rm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nm(e,t,r){return r=r!=null?r.concat([e]):null,So(4,4,rm.bind(null,t,e),r)}function Tc(){}function sm(e,t){var r=Ct();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function im(e,t){var r=Ct();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function om(e,t,r){return Qr&21?(Lt(r,t)||(r=df(),Ne.lanes|=r,Yr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r)}function u0(e,t){var r=ce;ce=r!==0&&4>r?r:4,e(!0);var n=ha.transition;ha.transition={};try{e(!1),t()}finally{ce=r,ha.transition=n}}function am(){return Ct().memoizedState}function d0(e,t,r){var n=gr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lm(e))cm(t,r);else if(r=Gf(e,t,r,n),r!==null){var s=Xe();Ot(r,e,n,s),um(r,t,n)}}function p0(e,t,r){var n=gr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lm(e))cm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Lt(l,a)){var c=t.interleaved;c===null?(s.next=s,Sc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Gf(e,t,s,n),r!==null&&(s=Xe(),Ot(r,e,n,s),um(r,t,n))}}function lm(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function cm(e,t){as=Yi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function um(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ac(e,r)}}var Ji={readContext:Et,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},f0={readContext:Et,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:dd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Di(4194308,4,rm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Di(4194308,4,e,t)},useInsertionEffect:function(e,t){return Di(4,2,e,t)},useMemo:function(e,t){var r=$t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=d0.bind(null,Ne,e),[n.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:ud,useDebugValue:Tc,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=ud(!1),t=e[0];return e=u0.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ne,s=$t();if(Se){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),Oe===null)throw Error(A(349));Qr&30||Kf(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,dd(Yf.bind(null,n,i,e),[e]),n.flags|=2048,ks(9,Qf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=$t(),t=Oe.identifierPrefix;if(Se){var r=Vt,n=Wt;r=(n&~(1<<32-Mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=js++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=c0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m0={readContext:Et,useCallback:sm,useContext:Et,useEffect:Ic,useImperativeHandle:nm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:im,useReducer:va,useRef:Zf,useState:function(){return va(Ds)},useDebugValue:Tc,useDeferredValue:function(e){var t=Ct();return om(t,Te.memoizedState,e)},useTransition:function(){var e=va(Ds)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Vf,useSyncExternalStore:qf,useId:am,unstable_isNewReconciler:!1},g0={readContext:Et,useCallback:sm,useContext:Et,useEffect:Ic,useImperativeHandle:nm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:im,useReducer:xa,useRef:Zf,useState:function(){return xa(Ds)},useDebugValue:Tc,useDeferredValue:function(e){var t=Ct();return Te===null?t.memoizedState=e:om(t,Te.memoizedState,e)},useTransition:function(){var e=xa(Ds)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Vf,useSyncExternalStore:qf,useId:am,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ml(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ee({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wo={isMounted:function(e){return(e=e._reactInternals)?tn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xe(),s=gr(e),i=qt(n,s);i.payload=t,r!=null&&(i.callback=r),t=fr(e,i,s),t!==null&&(Ot(t,e,s,n),Ci(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xe(),s=gr(e),i=qt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fr(e,i,s),t!==null&&(Ot(t,e,s,n),Ci(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xe(),n=gr(e),s=qt(r,n);s.tag=2,t!=null&&(s.callback=t),t=fr(e,s,n),t!==null&&(Ot(t,e,n,r),Ci(t,e,n))}};function pd(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!bs(r,n)||!bs(s,i):!0}function dm(e,t,r){var n=!1,s=Nr,i=t.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=it(t)?qr:Qe.current,n=t.contextTypes,i=(n=n!=null)?Cn(e,s):Nr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function fd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function gl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},wc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=it(t)?qr:Qe.current,s.context=Cn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ml(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wo.enqueueReplaceState(s,s.state,null),Ki(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function In(e,t){try{var r="",n=t;do r+=Gh(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ya(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function hl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var h0=typeof WeakMap=="function"?WeakMap:Map;function pm(e,t,r){r=qt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zi||(Zi=!0,jl=n),hl(e,t)},r}function fm(e,t,r){r=qt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){hl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){hl(e,t),typeof n!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function md(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new h0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=T0.bind(null,e,t,r),t.then(e,e))}function gd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hd(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=qt(-1,1),t.tag=2,fr(r,t,1))),r.lanes|=1),e)}var v0=Xt.ReactCurrentOwner,nt=!1;function Je(e,t,r,n){t.child=e===null?Hf(t,null,r,n):Dn(t,e.child,r,n)}function vd(e,t,r,n,s){r=r.render;var i=t.ref;return Sn(t,s),n=Dc(e,t,r,n,i,s),r=kc(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jt(e,t,s)):(Se&&r&&gc(t),t.flags|=1,Je(e,t,n,s),t.child)}function xd(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Fc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,mm(e,t,i,n,s)):(e=Ri(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:bs,r(a,n)&&e.ref===t.ref)return Jt(e,t,s)}return t.flags|=1,e=hr(i,n),e.ref=t.ref,e.return=t,t.child=e}function mm(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(bs(i,n)&&e.ref===t.ref)if(nt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,Jt(e,t,s)}return vl(e,t,r,n,s)}function gm(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(hn,at),at|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(hn,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ge(hn,at),at|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ge(hn,at),at|=n;return Je(e,t,s,r),t.child}function hm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function vl(e,t,r,n,s){var i=it(r)?qr:Qe.current;return i=Cn(t,i),Sn(t,s),r=Dc(e,t,r,n,i,s),n=kc(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jt(e,t,s)):(Se&&n&&gc(t),t.flags|=1,Je(e,t,r,s),t.child)}function yd(e,t,r,n,s){if(it(r)){var i=!0;Gi(t)}else i=!1;if(Sn(t,s),t.stateNode===null)ki(e,t),dm(t,r,n),gl(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,p=r.contextType;typeof p=="object"&&p!==null?p=Et(p):(p=it(r)?qr:Qe.current,p=Cn(t,p));var f=r.getDerivedStateFromProps,u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==p)&&fd(t,a,n,p),tr=!1;var d=t.memoizedState;a.state=d,Ki(t,n,a,s),c=t.memoizedState,l!==n||d!==c||st.current||tr?(typeof f=="function"&&(ml(t,r,f,n),c=t.memoizedState),(l=tr||pd(t,r,l,n,d,c,p))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=p,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,_f(e,t),l=t.memoizedProps,p=t.type===t.elementType?l:It(t.type,l),a.props=p,u=t.pendingProps,d=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Et(c):(c=it(r)?qr:Qe.current,c=Cn(t,c));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==u||d!==c)&&fd(t,a,n,c),tr=!1,d=t.memoizedState,a.state=d,Ki(t,n,a,s);var h=t.memoizedState;l!==u||d!==h||st.current||tr?(typeof m=="function"&&(ml(t,r,m,n),h=t.memoizedState),(p=tr||pd(t,r,p,n,d,h,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,h,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,h,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=c,n=p):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return xl(e,t,r,n,i,s)}function xl(e,t,r,n,s,i){hm(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&sd(t,r,!1),Jt(e,t,i);n=t.stateNode,v0.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Dn(t,e.child,null,i),t.child=Dn(t,null,l,i)):Je(e,t,l,i),t.memoizedState=n.state,s&&sd(t,r,!0),t.child}function vm(e){var t=e.stateNode;t.pendingContext?nd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nd(e,t.context,!1),Nc(e,t.containerInfo)}function bd(e,t,r,n,s){return jn(),vc(s),t.flags|=256,Je(e,t,r,n),t.child}var yl={dehydrated:null,treeContext:null,retryLane:0};function bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function xm(e,t,r){var n=t.pendingProps,s=we.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ge(we,s&1),e===null)return pl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Co(a,n,0,null),e=Vr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bl(r),t.memoizedState=yl,e):Rc(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return x0(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=hr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=hr(l,i):(i=Vr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?bl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=yl,n}return i=e.child,e=i.sibling,n=hr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Rc(e,t){return t=Co({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pi(e,t,r,n){return n!==null&&vc(n),Dn(t,e.child,null,r),e=Rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x0(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ya(Error(A(422))),pi(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Co({mode:"visible",children:n.children},s,0,null),i=Vr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Dn(t,e.child,null,a),t.child.memoizedState=bl(a),t.memoizedState=yl,i);if(!(t.mode&1))return pi(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(A(419)),n=ya(i,n,void 0),pi(e,t,a,n)}if(l=(a&e.childLanes)!==0,nt||l){if(n=Oe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yt(e,s),Ot(n,e,s,-1))}return Bc(),n=ya(Error(A(421))),pi(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=R0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,lt=pr(s.nextSibling),ut=t,Se=!0,Rt=null,e!==null&&(xt[yt++]=Wt,xt[yt++]=Vt,xt[yt++]=Kr,Wt=e.id,Vt=e.overflow,Kr=t),t=Rc(t,n.children),t.flags|=4096,t)}function Sd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fl(e.return,t,r)}function ba(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function ym(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Je(e,t,n.children,r),n=we.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,r,t);else if(e.tag===19)Sd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ge(we,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Qi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ba(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ba(t,!0,r,null,i);break;case"together":ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ki(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=hr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function y0(e,t,r){switch(t.tag){case 3:vm(t),jn();break;case 5:Wf(t);break;case 1:it(t.type)&&Gi(t);break;case 4:Nc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ge(Vi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ge(we,we.current&1),t.flags|=128,null):r&t.child.childLanes?xm(e,t,r):(ge(we,we.current&1),e=Jt(e,t,r),e!==null?e.sibling:null);ge(we,we.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ym(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(we,we.current),n)break;return null;case 22:case 23:return t.lanes=0,gm(e,t,r)}return Jt(e,t,r)}var bm,Sl,Sm,wm;bm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sl=function(){};Sm=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Gr(Ht.current);var i=null;switch(r){case"input":s=Ga(e,s),n=Ga(e,n),i=[];break;case"select":s=Ee({},s,{value:void 0}),n=Ee({},n,{value:void 0}),i=[];break;case"textarea":s=Va(e,s),n=Va(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ui)}Ka(r,n);var a;r=null;for(p in s)if(!n.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var l=s[p];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(fs.hasOwnProperty(p)?i||(i=[]):(i=i||[]).push(p,null));for(p in n){var c=n[p];if(l=s!=null?s[p]:void 0,n.hasOwnProperty(p)&&c!==l&&(c!=null||l!=null))if(p==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(p,r)),r=c;else p==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(p,c)):p==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(p,""+c):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(fs.hasOwnProperty(p)?(c!=null&&p==="onScroll"&&ve("scroll",e),i||l===c||(i=[])):(i=i||[]).push(p,c))}r&&(i=i||[]).push("style",r);var p=i;(t.updateQueue=p)&&(t.flags|=4)}};wm=function(e,t,r,n){r!==n&&(t.flags|=4)};function qn(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function b0(e,t,r){var n=t.pendingProps;switch(hc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return it(t.type)&&Hi(),qe(t),null;case 3:return n=t.stateNode,kn(),ye(st),ye(Qe),Cc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ui(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rt!==null&&(Il(Rt),Rt=null))),Sl(e,t),qe(t),null;case 5:Ec(t);var s=Gr(Cs.current);if(r=t.type,e!==null&&t.stateNode!=null)Sm(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(A(166));return qe(t),null}if(e=Gr(Ht.current),ui(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[zt]=t,n[Ns]=i,e=(t.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(s=0;s<ts.length;s++)ve(ts[s],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":Tu(n,i),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ve("invalid",n);break;case"textarea":Pu(n,i),ve("invalid",n)}Ka(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ci(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ci(n.textContent,l,e),s=["children",""+l]):fs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ve("scroll",n)}switch(r){case"input":ti(n),Ru(n,i,!0);break;case"textarea":ti(n),Mu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ui)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[zt]=t,e[Ns]=n,bm(e,t,!1,!1),t.stateNode=e;e:{switch(a=Qa(r,n),r){case"dialog":ve("cancel",e),ve("close",e),s=n;break;case"iframe":case"object":case"embed":ve("load",e),s=n;break;case"video":case"audio":for(s=0;s<ts.length;s++)ve(ts[s],e);s=n;break;case"source":ve("error",e),s=n;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=n;break;case"details":ve("toggle",e),s=n;break;case"input":Tu(e,n),s=Ga(e,n),ve("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ee({},n,{value:void 0}),ve("invalid",e);break;case"textarea":Pu(e,n),s=Va(e,n),ve("invalid",e);break;default:s=n}Ka(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Xp(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yp(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ms(e,c):typeof c=="number"&&ms(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ve("scroll",e):c!=null&&tc(e,i,c,a))}switch(r){case"input":ti(e),Ru(e,n,!1);break;case"textarea":ti(e),Mu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?vn(e,!!n.multiple,i,!1):n.defaultValue!=null&&vn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)wm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(r=Gr(Cs.current),Gr(Ht.current),ui(t)){if(n=t.stateNode,r=t.memoizedProps,n[zt]=t,(i=n.nodeValue!==r)&&(e=ut,e!==null))switch(e.tag){case 3:ci(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ci(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zt]=t,t.stateNode=n}return qe(t),null;case 13:if(ye(we),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&lt!==null&&t.mode&1&&!(t.flags&128))zf(),jn(),t.flags|=98560,i=!1;else if(i=ui(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[zt]=t}else jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else Rt!==null&&(Il(Rt),Rt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Re===0&&(Re=3):Bc())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return kn(),Sl(e,t),e===null&&Ss(t.stateNode.containerInfo),qe(t),null;case 10:return bc(t.type._context),qe(t),null;case 17:return it(t.type)&&Hi(),qe(t),null;case 19:if(ye(we),i=t.memoizedState,i===null)return qe(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)qn(i,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Qi(e),a!==null){for(t.flags|=128,qn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ge(we,we.current&1|2),t.child}e=e.sibling}i.tail!==null&&je()>Tn&&(t.flags|=128,n=!0,qn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Qi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Se)return qe(t),null}else 2*je()-i.renderingStartTime>Tn&&r!==1073741824&&(t.flags|=128,n=!0,qn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=je(),t.sibling=null,r=we.current,ge(we,n?r&1|2:r&1),t):(qe(t),null);case 22:case 23:return Ac(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?at&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function S0(e,t){switch(hc(t),t.tag){case 1:return it(t.type)&&Hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(),ye(st),ye(Qe),Cc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ec(t),null;case 13:if(ye(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(we),null;case 4:return kn(),null;case 10:return bc(t.type._context),null;case 22:case 23:return Ac(),null;case 24:return null;default:return null}}var fi=!1,Ke=!1,w0=typeof WeakSet=="function"?WeakSet:Set,G=null;function gn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ce(e,t,n)}else r.current=null}function wl(e,t,r){try{r()}catch(n){Ce(e,t,n)}}var wd=!1;function N0(e,t){if(il=Fi,e=Df(),mc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,p=0,f=0,u=e,d=null;t:for(;;){for(var m;u!==r||s!==0&&u.nodeType!==3||(l=a+s),u!==i||n!==0&&u.nodeType!==3||(c=a+n),u.nodeType===3&&(a+=u.nodeValue.length),(m=u.firstChild)!==null;)d=u,u=m;for(;;){if(u===e)break t;if(d===r&&++p===s&&(l=a),d===i&&++f===n&&(c=a),(m=u.nextSibling)!==null)break;u=d,d=u.parentNode}u=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ol={focusedElem:e,selectionRange:r},Fi=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,N=h.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:It(t.type,y),N);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(b){Ce(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return h=wd,wd=!1,h}function ls(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&wl(t,r,i)}s=s.next}while(s!==n)}}function No(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Nl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Nm(e){var t=e.alternate;t!==null&&(e.alternate=null,Nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[Ns],delete t[cl],delete t[i0],delete t[o0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Em(e){return e.tag===5||e.tag===3||e.tag===4}function Nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function El(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ui));else if(n!==4&&(e=e.child,e!==null))for(El(e,t,r),e=e.sibling;e!==null;)El(e,t,r),e=e.sibling}function Cl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Cl(e,t,r),e=e.sibling;e!==null;)Cl(e,t,r),e=e.sibling}var Ue=null,Tt=!1;function Zt(e,t,r){for(r=r.child;r!==null;)Cm(e,t,r),r=r.sibling}function Cm(e,t,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(go,r)}catch{}switch(r.tag){case 5:Ke||gn(r,t);case 6:var n=Ue,s=Tt;Ue=null,Zt(e,t,r),Ue=n,Tt=s,Ue!==null&&(Tt?(e=Ue,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ue.removeChild(r.stateNode));break;case 18:Ue!==null&&(Tt?(e=Ue,r=r.stateNode,e.nodeType===8?fa(e.parentNode,r):e.nodeType===1&&fa(e,r),xs(e)):fa(Ue,r.stateNode));break;case 4:n=Ue,s=Tt,Ue=r.stateNode.containerInfo,Tt=!0,Zt(e,t,r),Ue=n,Tt=s;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&wl(r,t,a),s=s.next}while(s!==n)}Zt(e,t,r);break;case 1:if(!Ke&&(gn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ce(r,t,l)}Zt(e,t,r);break;case 21:Zt(e,t,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,Zt(e,t,r),Ke=n):Zt(e,t,r);break;default:Zt(e,t,r)}}function Ed(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new w0),t.forEach(function(n){var s=P0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Dt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ue=l.stateNode,Tt=!1;break e;case 3:Ue=l.stateNode.containerInfo,Tt=!0;break e;case 4:Ue=l.stateNode.containerInfo,Tt=!0;break e}l=l.return}if(Ue===null)throw Error(A(160));Cm(i,a,s),Ue=null,Tt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(p){Ce(s,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jm(t,e),t=t.sibling}function jm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Ft(e),n&4){try{ls(3,e,e.return),No(3,e)}catch(y){Ce(e,e.return,y)}try{ls(5,e,e.return)}catch(y){Ce(e,e.return,y)}}break;case 1:Dt(t,e),Ft(e),n&512&&r!==null&&gn(r,r.return);break;case 5:if(Dt(t,e),Ft(e),n&512&&r!==null&&gn(r,r.return),e.flags&32){var s=e.stateNode;try{ms(s,"")}catch(y){Ce(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&qp(s,i),Qa(l,a);var p=Qa(l,i);for(a=0;a<c.length;a+=2){var f=c[a],u=c[a+1];f==="style"?Xp(s,u):f==="dangerouslySetInnerHTML"?Yp(s,u):f==="children"?ms(s,u):tc(s,f,u,p)}switch(l){case"input":_a(s,i);break;case"textarea":Kp(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?vn(s,!!i.multiple,m,!1):d!==!!i.multiple&&(i.defaultValue!=null?vn(s,!!i.multiple,i.defaultValue,!0):vn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ns]=i}catch(y){Ce(e,e.return,y)}}break;case 6:if(Dt(t,e),Ft(e),n&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Ce(e,e.return,y)}}break;case 3:if(Dt(t,e),Ft(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xs(t.containerInfo)}catch(y){Ce(e,e.return,y)}break;case 4:Dt(t,e),Ft(e);break;case 13:Dt(t,e),Ft(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Oc=je())),n&4&&Ed(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Ke=(p=Ke)||f,Dt(t,e),Ke=p):Dt(t,e),Ft(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!f&&e.mode&1)for(G=e,f=e.child;f!==null;){for(u=G=f;G!==null;){switch(d=G,m=d.child,d.tag){case 0:case 11:case 14:case 15:ls(4,d,d.return);break;case 1:gn(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){Ce(n,r,y)}}break;case 5:gn(d,d.return);break;case 22:if(d.memoizedState!==null){jd(u);continue}}m!==null?(m.return=d,G=m):jd(u)}f=f.sibling}e:for(f=null,u=e;;){if(u.tag===5){if(f===null){f=u;try{s=u.stateNode,p?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,c=u.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Jp("display",a))}catch(y){Ce(e,e.return,y)}}}else if(u.tag===6){if(f===null)try{u.stateNode.nodeValue=p?"":u.memoizedProps}catch(y){Ce(e,e.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Dt(t,e),Ft(e),n&4&&Ed(e);break;case 21:break;default:Dt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Em(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ms(s,""),n.flags&=-33);var i=Nd(e);Cl(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Nd(e);El(e,l,a);break;default:throw Error(A(161))}}catch(c){Ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E0(e,t,r){G=e,Dm(e)}function Dm(e,t,r){for(var n=(e.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||fi;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ke;l=fi;var p=Ke;if(fi=a,(Ke=c)&&!p)for(G=s;G!==null;)a=G,c=a.child,a.tag===22&&a.memoizedState!==null?Dd(s):c!==null?(c.return=a,G=c):Dd(s);for(;i!==null;)G=i,Dm(i),i=i.sibling;G=s,fi=l,Ke=p}Cd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):Cd(e)}}function Cd(e){for(;G!==null;){var t=G;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||No(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:It(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cd(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cd(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var f=p.memoizedState;if(f!==null){var u=f.dehydrated;u!==null&&xs(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Ke||t.flags&512&&Nl(t)}catch(d){Ce(t,t.return,d)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function jd(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function Dd(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{No(4,t)}catch(c){Ce(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ce(t,s,c)}}var i=t.return;try{Nl(t)}catch(c){Ce(t,i,c)}break;case 5:var a=t.return;try{Nl(t)}catch(c){Ce(t,a,c)}}}catch(c){Ce(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var C0=Math.ceil,Xi=Xt.ReactCurrentDispatcher,Pc=Xt.ReactCurrentOwner,wt=Xt.ReactCurrentBatchConfig,le=0,Oe=null,Ie=null,Ge=0,at=0,hn=Dr(0),Re=0,Is=null,Yr=0,Eo=0,Mc=0,cs=null,rt=null,Oc=0,Tn=1/0,Gt=null,Zi=!1,jl=null,mr=null,mi=!1,lr=null,eo=0,us=0,Dl=null,Ii=-1,Ti=0;function Xe(){return le&6?je():Ii!==-1?Ii:Ii=je()}function gr(e){return e.mode&1?le&2&&Ge!==0?Ge&-Ge:l0.transition!==null?(Ti===0&&(Ti=df()),Ti):(e=ce,e!==0||(e=window.event,e=e===void 0?16:xf(e.type)),e):1}function Ot(e,t,r,n){if(50<us)throw us=0,Dl=null,Error(A(185));Bs(e,r,n),(!(le&2)||e!==Oe)&&(e===Oe&&(!(le&2)&&(Eo|=r),Re===4&&ir(e,Ge)),ot(e,n),r===1&&le===0&&!(t.mode&1)&&(Tn=je()+500,bo&&kr()))}function ot(e,t){var r=e.callbackNode;lv(e,t);var n=Bi(e,e===Oe?Ge:0);if(n===0)r!==null&&Au(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Au(r),t===1)e.tag===0?a0(kd.bind(null,e)):Bf(kd.bind(null,e)),n0(function(){!(le&6)&&kr()}),r=null;else{switch(pf(n)){case 1:r=oc;break;case 4:r=cf;break;case 16:r=Ai;break;case 536870912:r=uf;break;default:r=Ai}r=Lm(r,km.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function km(e,t){if(Ii=-1,Ti=0,le&6)throw Error(A(327));var r=e.callbackNode;if(wn()&&e.callbackNode!==r)return null;var n=Bi(e,e===Oe?Ge:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=to(e,n);else{t=n;var s=le;le|=2;var i=Tm();(Oe!==e||Ge!==t)&&(Gt=null,Tn=je()+500,Wr(e,t));do try{k0();break}catch(l){Im(e,l)}while(1);yc(),Xi.current=i,le=s,Ie!==null?t=0:(Oe=null,Ge=0,t=Re)}if(t!==0){if(t===2&&(s=el(e),s!==0&&(n=s,t=kl(e,s))),t===1)throw r=Is,Wr(e,0),ir(e,n),ot(e,je()),r;if(t===6)ir(e,n);else{if(s=e.current.alternate,!(n&30)&&!j0(s)&&(t=to(e,n),t===2&&(i=el(e),i!==0&&(n=i,t=kl(e,i))),t===1))throw r=Is,Wr(e,0),ir(e,n),ot(e,je()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(A(345));case 2:Or(e,rt,Gt);break;case 3:if(ir(e,n),(n&130023424)===n&&(t=Oc+500-je(),10<t)){if(Bi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ll(Or.bind(null,e,rt,Gt),t);break}Or(e,rt,Gt);break;case 4:if(ir(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Mt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*C0(n/1960))-n,10<n){e.timeoutHandle=ll(Or.bind(null,e,rt,Gt),n);break}Or(e,rt,Gt);break;case 5:Or(e,rt,Gt);break;default:throw Error(A(329))}}}return ot(e,je()),e.callbackNode===r?km.bind(null,e):null}function kl(e,t){var r=cs;return e.current.memoizedState.isDehydrated&&(Wr(e,t).flags|=256),e=to(e,t),e!==2&&(t=rt,rt=r,t!==null&&Il(t)),e}function Il(e){rt===null?rt=e:rt.push.apply(rt,e)}function j0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Lt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~Mc,t&=~Eo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mt(t),n=1<<r;e[r]=-1,t&=~n}}function kd(e){if(le&6)throw Error(A(327));wn();var t=Bi(e,0);if(!(t&1))return ot(e,je()),null;var r=to(e,t);if(e.tag!==0&&r===2){var n=el(e);n!==0&&(t=n,r=kl(e,n))}if(r===1)throw r=Is,Wr(e,0),ir(e,t),ot(e,je()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Or(e,rt,Gt),ot(e,je()),null}function Lc(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(Tn=je()+500,bo&&kr())}}function Jr(e){lr!==null&&lr.tag===0&&!(le&6)&&wn();var t=le;le|=1;var r=wt.transition,n=ce;try{if(wt.transition=null,ce=1,e)return e()}finally{ce=n,wt.transition=r,le=t,!(le&6)&&kr()}}function Ac(){at=hn.current,ye(hn)}function Wr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,r0(r)),Ie!==null)for(r=Ie.return;r!==null;){var n=r;switch(hc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hi();break;case 3:kn(),ye(st),ye(Qe),Cc();break;case 5:Ec(n);break;case 4:kn();break;case 13:ye(we);break;case 19:ye(we);break;case 10:bc(n.type._context);break;case 22:case 23:Ac()}r=r.return}if(Oe=e,Ie=e=hr(e.current,null),Ge=at=t,Re=0,Is=null,Mc=Eo=Yr=0,rt=cs=null,Hr!==null){for(t=0;t<Hr.length;t++)if(r=Hr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Hr=null}return e}function Im(e,t){do{var r=Ie;try{if(yc(),ji.current=Ji,Yi){for(var n=Ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Yi=!1}if(Qr=0,Me=Te=Ne=null,as=!1,js=0,Pc.current=null,r===null||r.return===null){Re=1,Is=t,Ie=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=Ge,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c,f=l,u=f.tag;if(!(f.mode&1)&&(u===0||u===11||u===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=gd(a);if(m!==null){m.flags&=-257,hd(m,a,l,i,t),m.mode&1&&md(i,p,t),t=m,c=p;var h=t.updateQueue;if(h===null){var y=new Set;y.add(c),t.updateQueue=y}else h.add(c);break e}else{if(!(t&1)){md(i,p,t),Bc();break e}c=Error(A(426))}}else if(Se&&l.mode&1){var N=gd(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),hd(N,a,l,i,t),vc(In(c,l));break e}}i=c=In(c,l),Re!==4&&(Re=2),cs===null?cs=[i]:cs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=pm(i,c,t);ld(i,v);break e;case 1:l=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(mr===null||!mr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=fm(i,l,t);ld(i,b);break e}}i=i.return}while(i!==null)}Pm(r)}catch(C){t=C,Ie===r&&r!==null&&(Ie=r=r.return);continue}break}while(1)}function Tm(){var e=Xi.current;return Xi.current=Ji,e===null?Ji:e}function Bc(){(Re===0||Re===3||Re===2)&&(Re=4),Oe===null||!(Yr&268435455)&&!(Eo&268435455)||ir(Oe,Ge)}function to(e,t){var r=le;le|=2;var n=Tm();(Oe!==e||Ge!==t)&&(Gt=null,Wr(e,t));do try{D0();break}catch(s){Im(e,s)}while(1);if(yc(),le=r,Xi.current=n,Ie!==null)throw Error(A(261));return Oe=null,Ge=0,Re}function D0(){for(;Ie!==null;)Rm(Ie)}function k0(){for(;Ie!==null&&!Zh();)Rm(Ie)}function Rm(e){var t=Om(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?Pm(e):Ie=t,Pc.current=null}function Pm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=S0(r,t),r!==null){r.flags&=32767,Ie=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Ie=null;return}}else if(r=b0(r,t,at),r!==null){Ie=r;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Re===0&&(Re=5)}function Or(e,t,r){var n=ce,s=wt.transition;try{wt.transition=null,ce=1,I0(e,t,r,n)}finally{wt.transition=s,ce=n}return null}function I0(e,t,r,n){do wn();while(lr!==null);if(le&6)throw Error(A(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(cv(e,i),e===Oe&&(Ie=Oe=null,Ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mi||(mi=!0,Lm(Ai,function(){return wn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var a=ce;ce=1;var l=le;le|=4,Pc.current=null,N0(e,r),jm(r,e),Qv(ol),Fi=!!il,ol=il=null,e.current=r,E0(r),ev(),le=l,ce=a,wt.transition=i}else e.current=r;if(mi&&(mi=!1,lr=e,eo=s),i=e.pendingLanes,i===0&&(mr=null),nv(r.stateNode),ot(e,je()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Zi)throw Zi=!1,e=jl,jl=null,e;return eo&1&&e.tag!==0&&wn(),i=e.pendingLanes,i&1?e===Dl?us++:(us=0,Dl=e):us=0,kr(),null}function wn(){if(lr!==null){var e=pf(eo),t=wt.transition,r=ce;try{if(wt.transition=null,ce=16>e?16:e,lr===null)var n=!1;else{if(e=lr,lr=null,eo=0,le&6)throw Error(A(331));var s=le;for(le|=4,G=e.current;G!==null;){var i=G,a=i.child;if(G.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var p=l[c];for(G=p;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:ls(8,f,i)}var u=f.child;if(u!==null)u.return=f,G=u;else for(;G!==null;){f=G;var d=f.sibling,m=f.return;if(Nm(f),f===p){G=null;break}if(d!==null){d.return=m,G=d;break}G=m}}}var h=i.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var N=y.sibling;y.sibling=null,y=N}while(y!==null)}}G=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,G=a;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ls(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,G=v;break e}G=i.return}}var g=e.current;for(G=g;G!==null;){a=G;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,G=x;else e:for(a=g;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:No(9,l)}}catch(C){Ce(l,l.return,C)}if(l===a){G=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,G=b;break e}G=l.return}}if(le=s,kr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(go,e)}catch{}n=!0}return n}finally{ce=r,wt.transition=t}}return!1}function Id(e,t,r){t=In(r,t),t=pm(e,t,1),e=fr(e,t,1),t=Xe(),e!==null&&(Bs(e,1,t),ot(e,t))}function Ce(e,t,r){if(e.tag===3)Id(e,e,r);else for(;t!==null;){if(t.tag===3){Id(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mr===null||!mr.has(n))){e=In(r,e),e=fm(t,e,1),t=fr(t,e,1),e=Xe(),t!==null&&(Bs(t,1,e),ot(t,e));break}}t=t.return}}function T0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&r,Oe===e&&(Ge&r)===r&&(Re===4||Re===3&&(Ge&130023424)===Ge&&500>je()-Oc?Wr(e,0):Mc|=r),ot(e,t)}function Mm(e,t){t===0&&(e.mode&1?(t=si,si<<=1,!(si&130023424)&&(si=4194304)):t=1);var r=Xe();e=Yt(e,t),e!==null&&(Bs(e,t,r),ot(e,r))}function R0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mm(e,r)}function P0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(t),Mm(e,r)}var Om;Om=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nt=!1,y0(e,t,r);nt=!!(e.flags&131072)}else nt=!1,Se&&t.flags&1048576&&Ff(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ki(e,t),e=t.pendingProps;var s=Cn(t,Qe.current);Sn(t,r),s=Dc(null,t,n,e,s,r);var i=kc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(n)?(i=!0,Gi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wc(t),s.updater=wo,t.stateNode=s,s._reactInternals=t,gl(t,n,e,r),t=xl(null,t,n,!0,i,r)):(t.tag=0,Se&&i&&gc(t),Je(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ki(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=O0(n),e=It(n,e),s){case 0:t=vl(null,t,n,e,r);break e;case 1:t=yd(null,t,n,e,r);break e;case 11:t=vd(null,t,n,e,r);break e;case 14:t=xd(null,t,n,It(n.type,e),r);break e}throw Error(A(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),vl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),yd(e,t,n,s,r);case 3:e:{if(vm(t),e===null)throw Error(A(387));n=t.pendingProps,i=t.memoizedState,s=i.element,_f(e,t),Ki(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=In(Error(A(423)),t),t=bd(e,t,n,r,s);break e}else if(n!==s){s=In(Error(A(424)),t),t=bd(e,t,n,r,s);break e}else for(lt=pr(t.stateNode.containerInfo.firstChild),ut=t,Se=!0,Rt=null,r=Hf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jn(),n===s){t=Jt(e,t,r);break e}Je(e,t,n,r)}t=t.child}return t;case 5:return Wf(t),e===null&&pl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,al(n,s)?a=null:i!==null&&al(n,i)&&(t.flags|=32),hm(e,t),Je(e,t,a,r),t.child;case 6:return e===null&&pl(t),null;case 13:return xm(e,t,r);case 4:return Nc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Dn(t,null,n,r):Je(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),vd(e,t,n,s,r);case 7:return Je(e,t,t.pendingProps,r),t.child;case 8:return Je(e,t,t.pendingProps.children,r),t.child;case 12:return Je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ge(Vi,n._currentValue),n._currentValue=a,i!==null)if(Lt(i.value,a)){if(i.children===s.children&&!st.current){t=Jt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=qt(-1,r&-r),c.tag=2;var p=i.updateQueue;if(p!==null){p=p.shared;var f=p.pending;f===null?c.next=c:(c.next=f.next,f.next=c),p.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),fl(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(A(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),fl(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Je(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Sn(t,r),s=Et(s),n=n(s),t.flags|=1,Je(e,t,n,r),t.child;case 14:return n=t.type,s=It(n,t.pendingProps),s=It(n.type,s),xd(e,t,n,s,r);case 15:return mm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:It(n,s),ki(e,t),t.tag=1,it(n)?(e=!0,Gi(t)):e=!1,Sn(t,r),dm(t,n,s),gl(t,n,s,r),xl(null,t,n,!0,e,r);case 19:return ym(e,t,r);case 22:return gm(e,t,r)}throw Error(A(156,t.tag))};function Lm(e,t){return lf(e,t)}function M0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,r,n){return new M0(e,t,r,n)}function Fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O0(e){if(typeof e=="function")return Fc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nc)return 11;if(e===sc)return 14}return 2}function hr(e,t){var r=e.alternate;return r===null?(r=bt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ri(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Fc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case on:return Vr(r.children,s,i,t);case rc:a=8,s|=8;break;case $a:return e=bt(12,r,t,s|2),e.elementType=$a,e.lanes=i,e;case za:return e=bt(13,r,t,s),e.elementType=za,e.lanes=i,e;case Ua:return e=bt(19,r,t,s),e.elementType=Ua,e.lanes=i,e;case _p:return Co(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hp:a=10;break e;case Gp:a=9;break e;case nc:a=11;break e;case sc:a=14;break e;case er:a=16,n=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=bt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Vr(e,t,r,n){return e=bt(7,e,n,t),e.lanes=r,e}function Co(e,t,r,n){return e=bt(22,e,n,t),e.elementType=_p,e.lanes=r,e.stateNode={isHidden:!1},e}function Sa(e,t,r){return e=bt(6,e,null,t),e.lanes=r,e}function wa(e,t,r){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $c(e,t,r,n,s,i,a,l,c){return e=new L0(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=bt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wc(i),e}function A0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Am(e){if(!e)return Nr;e=e._reactInternals;e:{if(tn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(it(r))return Af(e,r,t)}return t}function Bm(e,t,r,n,s,i,a,l,c){return e=$c(r,n,!0,e,s,i,a,l,c),e.context=Am(null),r=e.current,n=Xe(),s=gr(r),i=qt(n,s),i.callback=t??null,fr(r,i,s),e.current.lanes=s,Bs(e,s,n),ot(e,n),e}function jo(e,t,r,n){var s=t.current,i=Xe(),a=gr(s);return r=Am(r),t.context===null?t.context=r:t.pendingContext=r,t=qt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fr(s,t,a),e!==null&&(Ot(e,s,a,i),Ci(e,s,a)),a}function ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Td(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zc(e,t){Td(e,t),(e=e.alternate)&&Td(e,t)}function B0(){return null}var Fm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uc(e){this._internalRoot=e}Do.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));jo(e,t,null,null)};Do.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jr(function(){jo(null,e,null,null)}),t[Qt]=null}};function Do(e){this._internalRoot=e}Do.prototype.unstable_scheduleHydration=function(e){if(e){var t=gf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<sr.length&&t!==0&&t<sr[r].priority;r++);sr.splice(r,0,e),r===0&&vf(e)}};function Hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rd(){}function F0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var p=ro(a);i.call(p)}}var a=Bm(t,n,e,0,null,!1,!1,"",Rd);return e._reactRootContainer=a,e[Qt]=a.current,Ss(e.nodeType===8?e.parentNode:e),Jr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var p=ro(c);l.call(p)}}var c=$c(e,0,!1,null,null,!1,!1,"",Rd);return e._reactRootContainer=c,e[Qt]=c.current,Ss(e.nodeType===8?e.parentNode:e),Jr(function(){jo(t,c,r,n)}),c}function Io(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ro(a);l.call(c)}}jo(t,a,e,s)}else a=F0(r,t,e,s,n);return ro(a)}ff=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=es(t.pendingLanes);r!==0&&(ac(t,r|1),ot(t,je()),!(le&6)&&(Tn=je()+500,kr()))}break;case 13:Jr(function(){var n=Yt(e,1);if(n!==null){var s=Xe();Ot(n,e,1,s)}}),zc(e,1)}};lc=function(e){if(e.tag===13){var t=Yt(e,134217728);if(t!==null){var r=Xe();Ot(t,e,134217728,r)}zc(e,134217728)}};mf=function(e){if(e.tag===13){var t=gr(e),r=Yt(e,t);if(r!==null){var n=Xe();Ot(r,e,t,n)}zc(e,t)}};gf=function(){return ce};hf=function(e,t){var r=ce;try{return ce=e,t()}finally{ce=r}};Ja=function(e,t,r){switch(t){case"input":if(_a(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=yo(n);if(!s)throw Error(A(90));Vp(n),_a(n,s)}}}break;case"textarea":Kp(e,r);break;case"select":t=r.value,t!=null&&vn(e,!!r.multiple,t,!1)}};tf=Lc;rf=Jr;var $0={usingClientEntryPoint:!1,Events:[$s,un,yo,Zp,ef,Lc]},Kn={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z0={bundleType:Kn.bundleType,version:Kn.version,rendererPackageName:Kn.rendererPackageName,rendererConfig:Kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=of(e),e===null?null:e.stateNode},findFiberByHostInstance:Kn.findFiberByHostInstance||B0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gi.isDisabled&&gi.supportsFiber)try{go=gi.inject(z0),Ut=gi}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$0;mt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(t))throw Error(A(200));return A0(e,t,null,r)};mt.createRoot=function(e,t){if(!Hc(e))throw Error(A(299));var r=!1,n="",s=Fm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$c(e,1,!1,null,null,r,!1,n,s),e[Qt]=t.current,Ss(e.nodeType===8?e.parentNode:e),new Uc(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=of(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return Jr(e)};mt.hydrate=function(e,t,r){if(!ko(t))throw Error(A(200));return Io(null,e,t,!0,r)};mt.hydrateRoot=function(e,t,r){if(!Hc(e))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Fm;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Bm(t,null,e,1,r??null,s,!1,i,a),e[Qt]=t.current,Ss(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Do(t)};mt.render=function(e,t,r){if(!ko(t))throw Error(A(200));return Io(null,e,t,!1,r)};mt.unmountComponentAtNode=function(e){if(!ko(e))throw Error(A(40));return e._reactRootContainer?(Jr(function(){Io(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1};mt.unstable_batchedUpdates=Lc;mt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ko(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Io(e,t,r,!1,n)};mt.version="18.3.1-next-f1338f8080-20240426";function $m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($m)}catch(e){console.error(e)}}$m(),Fp.exports=mt;var Gc=Fp.exports;const U0=Kl(Gc);var Pd=Gc;Ba.createRoot=Pd.createRoot,Ba.hydrateRoot=Pd.hydrateRoot;const Ar=class Ar{static getInstance(){return Ar.instance||(Ar.instance=new Ar),Ar.instance}async fetchMessageData(t){if(!t)throw new Error("Sample ID is required");const r=await fetch("http://localhost:8085/api/messages/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sampleId:t})});if(!r.ok)throw new Error(`Error: ${r.status}`);return await r.json()}async generateMessage(t,r,n,s,i,a,l,c,p){if(!t)throw new Error("No hay datos iniciales disponibles.");let f={message:t,messageType:r,hostName:n,hostType:s,status:i||null};p?p.type==="Specimen"?f.specimen=a:p.type==="Block"?f.block=l:p.type==="Slide"&&(f.slide=c):(a&&(f.specimen=a),l&&(f.block=l),c&&(f.slide=c));const u=await fetch("http://localhost:8085/api/messages/convert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!u.ok)throw new Error(`Error: ${u.status}`);return await u.json()}async sendMessage(t){const r=await fetch("http://localhost:8085/api/messages/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Error: ${r.status}`);const n=r.headers.get("content-type");return n&&n.includes("application/json")?await r.json():[{message:await r.text(),receiveTime:new Date().toISOString()}]}async deleteAllMessages(){const t=await fetch("http://localhost:8085/api/messages/deleteAll",{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){const r=await t.text();throw new Error(r||"Error al eliminar respuestas")}}};fe(Ar,"instance");let Tl=Ar;const _r=Tl.getInstance(),Md="http://localhost:8085/api/hosts";class H0{constructor(){fe(this,"cachedHosts",[]);fe(this,"hostMappings",new Map);fe(this,"clientData",new Map);this.initializeHostMappings()}initializeHostMappings(){this.hostMappings.set("LIS","LIS_HL7"),this.hostMappings.set("UPATH CLOUD","UPATH_CLOUD"),this.hostMappings.set("VANTAGE WS","VANTAGE_WS"),this.hostMappings.set("AUTOMATION SOFTWARE","AUTOMATION_SW")}async getHosts(){try{console.log("Fetching hosts from backend...");let t=await fetch(`${Md}/clients`);if(!t.ok&&(console.warn("hostClients endpoint failed, trying hostsClient"),t=await fetch(`${Md}/client`),!t.ok))throw new Error(`Both endpoints failed: ${t.status}`);const r=await t.json();if(console.log("Received clients from backend:",r),r.length>0&&r.every(i=>Object.keys(i).length===0||!i.clientName&&!i.name&&!i.hostName&&!i.id))throw console.warn("Received empty client objects from backend"),new Error("Received empty client objects");const n=r.map(i=>{const a=i.clientName||i.name||i.hostName||i.id;return a&&this.clientData.set(a,i),a}).filter(i=>i!=null&&i.trim()!=="");console.log("Extracted host names:",n);const s=[...new Set(n)];if(s.length===0)throw console.warn("No valid host names received from backend, using fallback"),new Error("No valid host names in response");return this.cachedHosts=s,s}catch(t){throw console.error("Error obteniendo hosts desde el backend:",t),this.cachedHosts=[],new Error(`Failed to fetch hosts from backend: ${t}`)}}getCachedHosts(){return this.cachedHosts}getClientType(t){const r=this.clientData.get(t);return r==null?void 0:r.clientType}getClientData(t){return this.clientData.get(t)}migrateHost(t){if(this.cachedHosts.includes(t))return t;const r=this.hostMappings.get(t);if(r&&this.cachedHosts.includes(r))return r;const n=this.cachedHosts.find(s=>s.includes(t)||t.includes(s));return n||t}hostExists(t){return this.cachedHosts.includes(t)}getDetectedMigrations(){const t=[];return this.hostMappings.forEach((r,n)=>{this.cachedHosts.includes(r)&&!this.cachedHosts.includes(n)&&t.push({oldHost:n,newHost:r})}),t}addHostMapping(t,r){this.hostMappings.set(t,r)}async initialize(){await this.getHosts()}}const or=new H0,rr=class rr{constructor(){fe(this,"messages",[]);fe(this,"listeners",[])}static getInstance(){return rr.instance||(rr.instance=new rr,rr.instance.initializeMigrations()),rr.instance}subscribe(t){return this.listeners.push(t),t(this.messages),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(){this.listeners.forEach(t=>t(this.messages))}getMessages(){return[...this.messages]}addMessage(t,r,n,s){const i={id:Date.now().toString(),content:t,host:r,messageType:n,messageControlId:s,timestamp:new Date};return this.messages.push(i),this.notifyListeners(),i}removeMessage(t){this.messages=this.messages.filter(r=>r.id!==t),this.notifyListeners()}updateMessageResponses(t,r){this.messages=this.messages.map(n=>n.messageControlId===t?{...n,responses:r}:n),this.notifyListeners()}clearAllResponses(){this.messages=this.messages.map(t=>({...t,responses:void 0,sentTimestamp:void 0})),this.notifyListeners()}clearMessageResponses(t){this.messages=this.messages.map(r=>r.id===t?{...r,responses:void 0,sentTimestamp:void 0}:r),this.notifyListeners()}reorderMessages(t,r){const n=Array.from(this.messages),[s]=n.splice(t,1);n.splice(r,0,s),this.messages=n,this.notifyListeners()}async sendMessage(t){const r=or.migrateHost(t.host),n={message:t.content,hostName:r,messageType:t.messageType,controlId:t.messageControlId},s=await _r.sendMessage(n);return this.messages=this.messages.map(i=>i.id===t.id?{...i,host:r,responses:s,sentTimestamp:new Date}:i),this.notifyListeners(),s}async sendAllMessages(){if(this.messages.length===0)throw new Error("No hay mensajes guardados para enviar.");for(const t of this.messages)await this.sendMessage(t)}updateMessageContent(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,content:r}:n),this.notifyListeners()}updateMessageComment(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,comment:r.trim()||void 0}:n),this.notifyListeners()}updateMessageControlId(t,r){this.messages=this.messages.map(n=>n.id===t?{...n,messageControlId:r.trim()||void 0}:n),this.notifyListeners()}exportMessages(){const t={version:"1.0",exportDate:new Date().toISOString(),messages:this.messages.map(r=>{var n;return{...r,timestamp:r.timestamp.toISOString(),sentTimestamp:(n=r.sentTimestamp)==null?void 0:n.toISOString()}})};return JSON.stringify(t,null,2)}importMessages(t){try{const r=JSON.parse(t);if(!r.messages||!Array.isArray(r.messages))return{success:!1,message:"Formato de archivo invlido: no se encontraron mensajes"};const n=r.messages.map(s=>({...s,id:Date.now().toString()+Math.random().toString(36).substr(2,9),timestamp:new Date(s.timestamp),sentTimestamp:s.sentTimestamp?new Date(s.sentTimestamp):void 0,responses:void 0}));return this.messages=[...this.messages,...n],this.notifyListeners(),{success:!0,message:`${n.length} mensajes importados exitosamente`,importedCount:n.length}}catch{return{success:!1,message:"Error al procesar el archivo: formato JSON invlido"}}}clearAllMessages(){this.messages=[],this.notifyListeners()}migrateHostsInSavedMessages(){let t=!1;this.messages=this.messages.map(r=>{const n=or.migrateHost(r.host);return n!==r.host?(console.log(`Migrando mensaje ${r.id}: ${r.host}  ${n}`),t=!0,{...r,host:n}):r}),t&&(this.notifyListeners(),console.log("Migracin de hosts en mensajes guardados completada"))}initializeMigrations(){setTimeout(()=>{this.migrateHostsInSavedMessages()},1e3)}};fe(rr,"instance");let Rl=rr;const $e=Rl.getInstance(),nr=class nr{constructor(){fe(this,"lists",[]);fe(this,"activeListId",null);fe(this,"listeners",[]);fe(this,"STORAGE_KEY","messageLists");this.lists.length===0&&this.createList("Default","Lista principal de mensajes","#3B82F6")}static getInstance(){return nr.instance||(nr.instance=new nr,nr.instance.loadFromStorage()),nr.instance}subscribe(t){return this.listeners.push(t),t(this.lists,this.activeListId),()=>{this.listeners=this.listeners.filter(r=>r!==t)}}notifyListeners(){this.saveToStorage(),this.listeners.forEach(t=>t(this.lists,this.activeListId))}saveToStorage(){try{const t={lists:this.lists.map(r=>({...r,createdAt:r.createdAt.toISOString(),updatedAt:r.updatedAt.toISOString(),messages:r.messages.map(n=>{var s;return{...n,timestamp:n.timestamp.toISOString(),sentTimestamp:(s=n.sentTimestamp)==null?void 0:s.toISOString()}})})),activeListId:this.activeListId};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(t){console.error("Error saving message lists to localStorage:",t)}}loadFromStorage(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(t){const r=JSON.parse(t);this.lists=r.lists.map(n=>({...n,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt),messages:n.messages.map(s=>({...s,timestamp:new Date(s.timestamp),sentTimestamp:s.sentTimestamp?new Date(s.sentTimestamp):void 0}))})),this.activeListId=r.activeListId,this.lists.length===0&&this.createList("Default","Lista principal de mensajes","#3B82F6"),(!this.activeListId||!this.lists.find(n=>n.id===this.activeListId))&&(this.activeListId=this.lists[0].id)}}catch(t){console.error("Error loading message lists from localStorage:",t),this.createList("Default","Lista principal de mensajes","#3B82F6")}}createList(t,r,n){const s={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:t.trim(),description:r==null?void 0:r.trim(),color:n||"#3B82F6",createdAt:new Date,updatedAt:new Date,messages:[]};return this.lists.push(s),this.activeListId||(this.activeListId=s.id),this.notifyListeners(),s}updateList(t,r){this.lists=this.lists.map(n=>n.id===t?{...n,...r,updatedAt:new Date}:n),this.notifyListeners()}deleteList(t){if(this.lists.length<=1)throw new Error("No se puede eliminar la nica lista existente");this.lists=this.lists.filter(r=>r.id!==t),this.activeListId===t&&(this.activeListId=this.lists[0].id),this.notifyListeners()}duplicateList(t,r){const n=this.lists.find(i=>i.id===t);if(!n)throw new Error("Lista no encontrada");const s={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:r||`${n.name} (Copia)`,description:n.description,color:n.color,createdAt:new Date,updatedAt:new Date,messages:n.messages.map(i=>({...i,id:Date.now().toString()+Math.random().toString(36).substr(2,9),responses:void 0,sentTimestamp:void 0}))};return this.lists.push(s),this.notifyListeners(),s}getLists(){return[...this.lists]}getActiveList(){return this.lists.find(t=>t.id===this.activeListId)||null}setActiveList(t){this.lists.find(r=>r.id===t)&&(this.activeListId=t,this.notifyListeners())}addMessage(t,r,n,s,i){const a=i||this.activeListId;if(!a)throw new Error("No hay lista activa");const l={id:Date.now().toString()+Math.random().toString(36).substr(2,9),content:t,host:r,messageType:n,messageControlId:s,timestamp:new Date};return this.lists=this.lists.map(c=>c.id===a?{...c,messages:[...c.messages,l],updatedAt:new Date}:c),this.notifyListeners(),l}removeMessage(t,r){const n=r||this.activeListId;n&&(this.lists=this.lists.map(s=>s.id===n?{...s,messages:s.messages.filter(i=>i.id!==t),updatedAt:new Date}:s),this.notifyListeners())}moveMessage(t,r,n){var i;const s=(i=this.lists.find(a=>a.id===r))==null?void 0:i.messages.find(a=>a.id===t);s&&(this.lists=this.lists.map(a=>a.id===r?{...a,messages:a.messages.filter(l=>l.id!==t),updatedAt:new Date}:a),this.lists=this.lists.map(a=>a.id===n?{...a,messages:[...a.messages,{...s,responses:void 0,sentTimestamp:void 0}],updatedAt:new Date}:a),this.notifyListeners())}updateMessageResponses(t,r,n){const s=n||this.activeListId;if(!s){console.warn("updateMessageResponses: No target list ID");return}console.log(`MessageListsService.updateMessageResponses called with controlId: ${t}`,r),console.log(`Target list ID: ${s}`),console.log("Current lists:",this.lists.map(i=>({id:i.id,name:i.name,messageCount:i.messages.length}))),this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.messageControlId===t?{...a,responses:r}:a),updatedAt:new Date}:i),this.notifyListeners()}clearAllResponses(t){const r=t||this.activeListId;r&&(this.lists=this.lists.map(n=>n.id===r?{...n,messages:n.messages.map(s=>({...s,responses:void 0,sentTimestamp:void 0})),updatedAt:new Date}:n),this.notifyListeners())}clearMessageResponses(t,r){const n=r||this.activeListId;n&&(this.lists=this.lists.map(s=>s.id===n?{...s,messages:s.messages.map(i=>i.id===t?{...i,responses:void 0,sentTimestamp:void 0}:i),updatedAt:new Date}:s),this.notifyListeners())}reorderMessages(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>{if(i.id===s){const a=Array.from(i.messages),[l]=a.splice(t,1);return a.splice(r,0,l),{...i,messages:a,updatedAt:new Date}}return i}),this.notifyListeners())}reorderLists(t,r){const n=Array.from(this.lists),[s]=n.splice(t,1);n.splice(r,0,s),this.lists=n,this.notifyListeners()}async sendMessage(t,r){const n={message:t.content,hostName:t.host,messageType:t.messageType,controlId:t.messageControlId},s=await _r.sendMessage(n),i=r||this.activeListId;return i&&(this.lists=this.lists.map(a=>a.id===i?{...a,messages:a.messages.map(l=>l.id===t.id?{...l,responses:s,sentTimestamp:new Date}:l),updatedAt:new Date}:a),this.notifyListeners()),s}updateMessageContent(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.id===t?{...a,content:r}:a),updatedAt:new Date}:i),this.notifyListeners())}updateMessageComment(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.id===t?{...a,comment:r.trim()||void 0}:a),updatedAt:new Date}:i),this.notifyListeners())}updateMessageControlId(t,r,n){const s=n||this.activeListId;s&&(this.lists=this.lists.map(i=>i.id===s?{...i,messages:i.messages.map(a=>a.id===t?{...a,messageControlId:r.trim()||void 0}:a),updatedAt:new Date}:i),this.notifyListeners())}exportList(t){const r=this.lists.find(s=>s.id===t);if(!r)throw new Error("Lista no encontrada");const n={version:"1.0",exportDate:new Date().toISOString(),listInfo:{name:r.name,description:r.description,color:r.color},messages:r.messages.map(s=>{var i;return{...s,timestamp:s.timestamp.toISOString(),sentTimestamp:(i=s.sentTimestamp)==null?void 0:i.toISOString()}})};return JSON.stringify(n,null,2)}exportAllLists(){const t={version:"1.0",exportDate:new Date().toISOString(),lists:this.lists.map(r=>({...r,createdAt:r.createdAt.toISOString(),updatedAt:r.updatedAt.toISOString(),messages:r.messages.map(n=>{var s;return{...n,timestamp:n.timestamp.toISOString(),sentTimestamp:(s=n.sentTimestamp)==null?void 0:s.toISOString()}})}))};return JSON.stringify(t,null,2)}};fe(nr,"instance");let Pl=nr;const me=Pl.getInstance();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zm=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>j.createElement("svg",{ref:c,..._0,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:zm("lucide",s),...l},[...a.map(([p,f])=>j.createElement(p,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const r=j.forwardRef(({className:n,...s},i)=>j.createElement(W0,{ref:i,iconNode:t,className:zm(`lucide-${G0(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Er=be("ChevronDown",V0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xr=be("ChevronRight",q0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Um=be("CircleAlert",K0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y0=be("CircleCheckBig",Q0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hm=be("CircleX",J0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Z0=be("Copy",X0);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],tx=be("Download",ex);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],nx=be("Ellipsis",rx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Gm=be("GripVertical",sx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Od=be("Info",ix);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]],_m=be("ListTree",ox);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],lx=be("MessageCircle",ax);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]],ux=be("MessagesSquare",cx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],px=be("Pen",dx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vr=be("Plus",fx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ld=be("RefreshCw",mx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ml=be("RotateCcw",gx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],To=be("Save",hx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wm=be("Send",vx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Nn=be("SquarePen",xx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xr=be("Trash2",yx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Sx=be("Trash",bx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]],Nx=be("Tv",wx);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Cx=be("Upload",Ex);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],At=be("X",jx);function Ol(e,t){return Ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ol(e,t)}function Vm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ol(e,t)}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X.apply(null,arguments)}function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function Dx(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kx(e){var t=Dx(e,"string");return Ts(t)=="symbol"?t:t+""}function Ix(e,t,r){return(t=kx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ad(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ad(Object(r),!0).forEach(function(n){Ix(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ad(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Fd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Na=function(){return Math.random().toString(36).substring(7).split("").join(".")},$d={INIT:"@@redux/INIT"+Na(),REPLACE:"@@redux/REPLACE"+Na(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Na()}};function Tx(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function qm(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(tt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(tt(1));return r(qm)(e,t)}if(typeof e!="function")throw new Error(tt(2));var s=e,i=t,a=[],l=a,c=!1;function p(){l===a&&(l=a.slice())}function f(){if(c)throw new Error(tt(3));return i}function u(y){if(typeof y!="function")throw new Error(tt(4));if(c)throw new Error(tt(5));var N=!0;return p(),l.push(y),function(){if(N){if(c)throw new Error(tt(6));N=!1,p();var g=l.indexOf(y);l.splice(g,1),a=null}}}function d(y){if(!Tx(y))throw new Error(tt(7));if(typeof y.type>"u")throw new Error(tt(8));if(c)throw new Error(tt(9));try{c=!0,i=s(i,y)}finally{c=!1}for(var N=a=l,v=0;v<N.length;v++){var g=N[v];g()}return y}function m(y){if(typeof y!="function")throw new Error(tt(10));s=y,d({type:$d.REPLACE})}function h(){var y,N=u;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(tt(11));function x(){g.next&&g.next(f())}x();var b=N(x);return{unsubscribe:b}}},y[Fd]=function(){return this},y}return d({type:$d.INIT}),n={dispatch:d,subscribe:u,getState:f,replaceReducer:m},n[Fd]=h,n}function zd(e,t){return function(){return t(e.apply(this,arguments))}}function Ud(e,t){if(typeof e=="function")return zd(e,t);if(typeof e!="object"||e===null)throw new Error(tt(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=zd(s,t))}return r}function Km(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function Rx(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),i=function(){throw new Error(tt(15))},a={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(a)});return i=Km.apply(void 0,l)(s.dispatch),Bd(Bd({},s),{},{dispatch:i})}}}var Qm=xe.createContext(null);function Px(e){e()}var Ym=Px,Mx=function(t){return Ym=t},Ox=function(){return Ym};function Lx(){var e=Ox(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],i=t;i;)s.push(i),i=i.next;return s},subscribe:function(s){var i=!0,a=r={callback:s,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Hd={notify:function(){},get:function(){return[]}};function Jm(e,t){var r,n=Hd;function s(u){return c(),n.subscribe(u)}function i(){n.notify()}function a(){f.onStateChange&&f.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=Lx())}function p(){r&&(r(),r=void 0,n.clear(),n=Hd)}var f={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:a,isSubscribed:l,trySubscribe:c,tryUnsubscribe:p,getListeners:function(){return n}};return f}var Xm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect;function Ax(e){var t=e.store,r=e.context,n=e.children,s=j.useMemo(function(){var l=Jm(t);return{store:t,subscription:l}},[t]),i=j.useMemo(function(){return t.getState()},[t]);Xm(function(){var l=s.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[s,i]);var a=r||Qm;return xe.createElement(a.Provider,{value:s},n)}function no(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zm={exports:{}},ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Be=typeof Symbol=="function"&&Symbol.for,_c=Be?Symbol.for("react.element"):60103,Wc=Be?Symbol.for("react.portal"):60106,Ro=Be?Symbol.for("react.fragment"):60107,Po=Be?Symbol.for("react.strict_mode"):60108,Mo=Be?Symbol.for("react.profiler"):60114,Oo=Be?Symbol.for("react.provider"):60109,Lo=Be?Symbol.for("react.context"):60110,Vc=Be?Symbol.for("react.async_mode"):60111,Ao=Be?Symbol.for("react.concurrent_mode"):60111,Bo=Be?Symbol.for("react.forward_ref"):60112,Fo=Be?Symbol.for("react.suspense"):60113,Bx=Be?Symbol.for("react.suspense_list"):60120,$o=Be?Symbol.for("react.memo"):60115,zo=Be?Symbol.for("react.lazy"):60116,Fx=Be?Symbol.for("react.block"):60121,$x=Be?Symbol.for("react.fundamental"):60117,zx=Be?Symbol.for("react.responder"):60118,Ux=Be?Symbol.for("react.scope"):60119;function ht(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _c:switch(e=e.type,e){case Vc:case Ao:case Ro:case Mo:case Po:case Fo:return e;default:switch(e=e&&e.$$typeof,e){case Lo:case Bo:case zo:case $o:case Oo:return e;default:return t}}case Wc:return t}}}function eg(e){return ht(e)===Ao}ue.AsyncMode=Vc;ue.ConcurrentMode=Ao;ue.ContextConsumer=Lo;ue.ContextProvider=Oo;ue.Element=_c;ue.ForwardRef=Bo;ue.Fragment=Ro;ue.Lazy=zo;ue.Memo=$o;ue.Portal=Wc;ue.Profiler=Mo;ue.StrictMode=Po;ue.Suspense=Fo;ue.isAsyncMode=function(e){return eg(e)||ht(e)===Vc};ue.isConcurrentMode=eg;ue.isContextConsumer=function(e){return ht(e)===Lo};ue.isContextProvider=function(e){return ht(e)===Oo};ue.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_c};ue.isForwardRef=function(e){return ht(e)===Bo};ue.isFragment=function(e){return ht(e)===Ro};ue.isLazy=function(e){return ht(e)===zo};ue.isMemo=function(e){return ht(e)===$o};ue.isPortal=function(e){return ht(e)===Wc};ue.isProfiler=function(e){return ht(e)===Mo};ue.isStrictMode=function(e){return ht(e)===Po};ue.isSuspense=function(e){return ht(e)===Fo};ue.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ro||e===Ao||e===Mo||e===Po||e===Fo||e===Bx||typeof e=="object"&&e!==null&&(e.$$typeof===zo||e.$$typeof===$o||e.$$typeof===Oo||e.$$typeof===Lo||e.$$typeof===Bo||e.$$typeof===$x||e.$$typeof===zx||e.$$typeof===Ux||e.$$typeof===Fx)};ue.typeOf=ht;Zm.exports=ue;var Hx=Zm.exports,qc=Hx,Gx={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_x={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Wx={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Kc={};Kc[qc.ForwardRef]=Wx;Kc[qc.Memo]=tg;function Gd(e){return qc.isMemo(e)?tg:Kc[e.$$typeof]||Gx}var Vx=Object.defineProperty,qx=Object.getOwnPropertyNames,_d=Object.getOwnPropertySymbols,Kx=Object.getOwnPropertyDescriptor,Qx=Object.getPrototypeOf,Wd=Object.prototype;function rg(e,t,r){if(typeof t!="string"){if(Wd){var n=Qx(t);n&&n!==Wd&&rg(e,n,r)}var s=qx(t);_d&&(s=s.concat(_d(t)));for(var i=Gd(e),a=Gd(t),l=0;l<s.length;++l){var c=s[l];if(!_x[c]&&!(r&&r[c])&&!(a&&a[c])&&!(i&&i[c])){var p=Kx(t,c);try{Vx(e,c,p)}catch{}}}}return e}var Yx=rg;const Vd=Kl(Yx);var ng={exports:{}},pe={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uo=60103,Ho=60106,Us=60107,Hs=60108,Gs=60114,_s=60109,Ws=60110,Vs=60112,qs=60113,Qc=60120,Ks=60115,Qs=60116,sg=60121,ig=60122,og=60117,ag=60129,lg=60131;if(typeof Symbol=="function"&&Symbol.for){var Fe=Symbol.for;Uo=Fe("react.element"),Ho=Fe("react.portal"),Us=Fe("react.fragment"),Hs=Fe("react.strict_mode"),Gs=Fe("react.profiler"),_s=Fe("react.provider"),Ws=Fe("react.context"),Vs=Fe("react.forward_ref"),qs=Fe("react.suspense"),Qc=Fe("react.suspense_list"),Ks=Fe("react.memo"),Qs=Fe("react.lazy"),sg=Fe("react.block"),ig=Fe("react.server.block"),og=Fe("react.fundamental"),ag=Fe("react.debug_trace_mode"),lg=Fe("react.legacy_hidden")}function Bt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Uo:switch(e=e.type,e){case Us:case Gs:case Hs:case qs:case Qc:return e;default:switch(e=e&&e.$$typeof,e){case Ws:case Vs:case Qs:case Ks:case _s:return e;default:return t}}case Ho:return t}}}var Jx=_s,Xx=Uo,Zx=Vs,ey=Us,ty=Qs,ry=Ks,ny=Ho,sy=Gs,iy=Hs,oy=qs;pe.ContextConsumer=Ws;pe.ContextProvider=Jx;pe.Element=Xx;pe.ForwardRef=Zx;pe.Fragment=ey;pe.Lazy=ty;pe.Memo=ry;pe.Portal=ny;pe.Profiler=sy;pe.StrictMode=iy;pe.Suspense=oy;pe.isAsyncMode=function(){return!1};pe.isConcurrentMode=function(){return!1};pe.isContextConsumer=function(e){return Bt(e)===Ws};pe.isContextProvider=function(e){return Bt(e)===_s};pe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uo};pe.isForwardRef=function(e){return Bt(e)===Vs};pe.isFragment=function(e){return Bt(e)===Us};pe.isLazy=function(e){return Bt(e)===Qs};pe.isMemo=function(e){return Bt(e)===Ks};pe.isPortal=function(e){return Bt(e)===Ho};pe.isProfiler=function(e){return Bt(e)===Gs};pe.isStrictMode=function(e){return Bt(e)===Hs};pe.isSuspense=function(e){return Bt(e)===qs};pe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Us||e===Gs||e===ag||e===Hs||e===qs||e===Qc||e===lg||typeof e=="object"&&e!==null&&(e.$$typeof===Qs||e.$$typeof===Ks||e.$$typeof===_s||e.$$typeof===Ws||e.$$typeof===Vs||e.$$typeof===og||e.$$typeof===sg||e[0]===ig)};pe.typeOf=Bt;ng.exports=pe;var ay=ng.exports,ly=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],cy=["reactReduxForwardedRef"],uy=[],dy=[null,null];function py(e,t){var r=e[1];return[t.payload,r+1]}function qd(e,t,r){Xm(function(){return e.apply(void 0,t)},r)}function fy(e,t,r,n,s,i,a){e.current=n,t.current=s,r.current=!1,i.current&&(i.current=null,a())}function my(e,t,r,n,s,i,a,l,c,p){if(e){var f=!1,u=null,d=function(){if(!f){var y=t.getState(),N,v;try{N=n(y,s.current)}catch(g){v=g,u=g}v||(u=null),N===i.current?a.current||c():(i.current=N,l.current=N,a.current=!0,p({type:"STORE_UPDATED",payload:{error:v}}))}};r.onStateChange=d,r.trySubscribe(),d();var m=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,u)throw u};return m}}var gy=function(){return[null,0]};function hy(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,s=n===void 0?function(x){return"ConnectAdvanced("+x+")"}:n,i=r.methodName,a=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,p=r.shouldHandleStateChanges,f=p===void 0?!0:p,u=r.storeKey,d=u===void 0?"store":u;r.withRef;var m=r.forwardRef,h=m===void 0?!1:m,y=r.context,N=y===void 0?Qm:y,v=no(r,ly),g=N;return function(b){var C=b.displayName||b.name||"Component",w=s(C),D=X({},v,{getDisplayName:s,methodName:a,renderCountProp:c,shouldHandleStateChanges:f,storeKey:d,displayName:w,wrappedComponentName:C,WrappedComponent:b}),k=v.pure;function R(V){return e(V.dispatch,D)}var M=k?j.useMemo:function(V){return V()};function $(V){var B=j.useMemo(function(){var We=V.reactReduxForwardedRef,jt=no(V,cy);return[V.context,We,jt]},[V]),F=B[0],O=B[1],E=B[2],T=j.useMemo(function(){return F&&F.Consumer&&ay.isContextConsumer(xe.createElement(F.Consumer,null))?F:g},[F,g]),P=j.useContext(T),H=!!V.store&&!!V.store.getState&&!!V.store.dispatch;P&&P.store;var U=H?V.store:P.store,L=j.useMemo(function(){return R(U)},[U]),q=j.useMemo(function(){if(!f)return dy;var We=Jm(U,H?null:P.subscription),jt=We.notifyNestedSubs.bind(We);return[We,jt]},[U,H,P]),_=q[0],Z=q[1],ee=j.useMemo(function(){return H?P:X({},P,{subscription:_})},[H,P,_]),S=j.useReducer(py,uy,gy),I=S[0],te=I[0],Y=S[1];if(te&&te.error)throw te.error;var ie=j.useRef(),ne=j.useRef(E),K=j.useRef(),he=j.useRef(!1),De=M(function(){return K.current&&E===ne.current?K.current:L(U.getState(),E)},[U,te,E]);qd(fy,[ne,ie,he,E,De,K,Z]),qd(my,[f,U,_,L,ne,ie,he,K,Z,Y],[U,_,L]);var ke=j.useMemo(function(){return xe.createElement(b,X({},De,{ref:O}))},[O,b,De]),de=j.useMemo(function(){return f?xe.createElement(T.Provider,{value:ee},ke):ke},[T,ke,ee]);return de}var W=k?xe.memo($):$;if(W.WrappedComponent=b,W.displayName=$.displayName=w,h){var Q=xe.forwardRef(function(B,F){return xe.createElement(W,X({},B,{reactReduxForwardedRef:F}))});return Q.displayName=w,Q.WrappedComponent=b,Vd(Q,b)}return Vd(W,b)}}function Kd(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Ea(e,t){if(Kd(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!Kd(e[r[s]],t[r[s]]))return!1;return!0}function vy(e,t){var r={},n=function(a){var l=e[a];typeof l=="function"&&(r[a]=function(){return t(l.apply(void 0,arguments))})};for(var s in e)n(s);return r}function Yc(e){return function(r,n){var s=e(r,n);function i(){return s}return i.dependsOnOwnProps=!1,i}}function Qd(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function cg(e,t){return function(n,s){s.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Qd(e);var p=i(l,c);return typeof p=="function"&&(i.mapToProps=p,i.dependsOnOwnProps=Qd(p),p=i(l,c)),p},i}}function xy(e){return typeof e=="function"?cg(e):void 0}function yy(e){return e?void 0:Yc(function(t){return{dispatch:t}})}function by(e){return e&&typeof e=="object"?Yc(function(t){return vy(e,t)}):void 0}const Sy=[xy,yy,by];function wy(e){return typeof e=="function"?cg(e):void 0}function Ny(e){return e?void 0:Yc(function(){return{}})}const Ey=[wy,Ny];function Cy(e,t,r){return X({},r,e,t)}function jy(e){return function(r,n){n.displayName;var s=n.pure,i=n.areMergedPropsEqual,a=!1,l;return function(p,f,u){var d=e(p,f,u);return a?(!s||!i(d,l))&&(l=d):(a=!0,l=d),l}}}function Dy(e){return typeof e=="function"?jy(e):void 0}function ky(e){return e?void 0:function(){return Cy}}const Iy=[Dy,ky];var Ty=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ry(e,t,r,n){return function(i,a){return r(e(i,a),t(n,a),a)}}function Py(e,t,r,n,s){var i=s.areStatesEqual,a=s.areOwnPropsEqual,l=s.areStatePropsEqual,c=!1,p,f,u,d,m;function h(x,b){return p=x,f=b,u=e(p,f),d=t(n,f),m=r(u,d,f),c=!0,m}function y(){return u=e(p,f),t.dependsOnOwnProps&&(d=t(n,f)),m=r(u,d,f),m}function N(){return e.dependsOnOwnProps&&(u=e(p,f)),t.dependsOnOwnProps&&(d=t(n,f)),m=r(u,d,f),m}function v(){var x=e(p,f),b=!l(x,u);return u=x,b&&(m=r(u,d,f)),m}function g(x,b){var C=!a(b,f),w=!i(x,p,b,f);return p=x,f=b,C&&w?y():C?N():w?v():m}return function(b,C){return c?g(b,C):h(b,C)}}function My(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,i=no(t,Ty),a=r(e,i),l=n(e,i),c=s(e,i),p=i.pure?Py:Ry;return p(a,l,c,e,i)}var Oy=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Ca(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(i,a){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+a.wrappedComponentName+".")}}function Ly(e,t){return e===t}function Ay(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?hy:r,s=t.mapStateToPropsFactories,i=s===void 0?Ey:s,a=t.mapDispatchToPropsFactories,l=a===void 0?Sy:a,c=t.mergePropsFactories,p=c===void 0?Iy:c,f=t.selectorFactory,u=f===void 0?My:f;return function(m,h,y,N){N===void 0&&(N={});var v=N,g=v.pure,x=g===void 0?!0:g,b=v.areStatesEqual,C=b===void 0?Ly:b,w=v.areOwnPropsEqual,D=w===void 0?Ea:w,k=v.areStatePropsEqual,R=k===void 0?Ea:k,M=v.areMergedPropsEqual,$=M===void 0?Ea:M,W=no(v,Oy),Q=Ca(m,i,"mapStateToProps"),V=Ca(h,l,"mapDispatchToProps"),B=Ca(y,p,"mergeProps");return n(u,X({methodName:"connect",getDisplayName:function(O){return"Connect("+O+")"},shouldHandleStateChanges:!!m,initMapStateToProps:Q,initMapDispatchToProps:V,initMergeProps:B,pure:x,areStatesEqual:C,areOwnPropsEqual:D,areStatePropsEqual:R,areMergedPropsEqual:$},W))}}const ug=Ay();Mx(Gc.unstable_batchedUpdates);function By(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function dg(e,t){var r=j.useState(function(){return{inputs:t,result:e()}})[0],n=j.useRef(!0),s=j.useRef(r),i=n.current||!!(t&&s.current.inputs&&By(t,s.current.inputs)),a=i?s.current:{inputs:t,result:e()};return j.useEffect(function(){n.current=!1,s.current=a},[a]),a.result}function Fy(e,t){return dg(function(){return e},t)}var ae=dg,J=Fy,$y=!0,ja="Invariant failed";function zy(e,t){if(!e){if($y)throw new Error(ja);var r=typeof t=="function"?t():t,n=r?"".concat(ja,": ").concat(r):ja;throw new Error(n)}}var Pt=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,a=n-i,l=s-r,c={top:r,right:n,bottom:s,left:i,width:a,height:l,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return c},Jc=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Yd=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Uy=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Da={top:0,right:0,bottom:0,left:0},Xc=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?Da:n,i=t.border,a=i===void 0?Da:i,l=t.padding,c=l===void 0?Da:l,p=Pt(Jc(r,s)),f=Pt(Yd(r,a)),u=Pt(Yd(f,c));return{marginBox:p,borderBox:Pt(r),paddingBox:f,contentBox:u,margin:s,border:a,padding:c}},vt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&zy(!1),s},Hy=function(){return{x:window.pageXOffset,y:window.pageYOffset}},so=function(t,r){var n=t.borderBox,s=t.border,i=t.margin,a=t.padding,l=Uy(n,r);return Xc({borderBox:l,border:s,margin:i,padding:a})},io=function(t,r){return r===void 0&&(r=Hy()),so(t,r)},pg=function(t,r){var n={top:vt(r.marginTop),right:vt(r.marginRight),bottom:vt(r.marginBottom),left:vt(r.marginLeft)},s={top:vt(r.paddingTop),right:vt(r.paddingRight),bottom:vt(r.paddingBottom),left:vt(r.paddingLeft)},i={top:vt(r.borderTopWidth),right:vt(r.borderRightWidth),bottom:vt(r.borderBottomWidth),left:vt(r.borderLeftWidth)};return Xc({borderBox:t,margin:n,padding:s,border:i})},fg=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return pg(r,n)},Jd=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Gy(e,t){return!!(e===t||Jd(e)&&Jd(t))}function _y(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Gy(e[r],t[r]))return!1;return!0}function Le(e,t){t===void 0&&(t=_y);var r,n=[],s,i=!1;function a(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&t(l,n)||(s=e.apply(this,l),i=!0,r=this,n=l),s}return a}var Wy=function(t){var r=[],n=null,s=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};const Rs=Wy;function mg(e,t){}mg.bind(null,"warn");mg.bind(null,"error");function yr(){}function Vy(e,t){return X({},e,{},t)}function St(e,t,r){var n=t.map(function(s){var i=Vy(r,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){n.forEach(function(i){i()})}}var qy="Invariant failed";function oo(e){this.message=e}oo.prototype.toString=function(){return this.message};function z(e,t){if(!e)throw new oo(qy)}var Ky=function(e){Vm(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=yr,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var p=l.error;p instanceof oo&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=St(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(s){if(s instanceof oo){this.setState({});return}throw s},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(xe.Component),Qy=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ao=function(t){return t+1},Yy=function(t){return`
  You have lifted an item in position `+ao(t.source.index)+`
`},gg=function(t,r){var n=t.droppableId===r.droppableId,s=ao(t.index),i=ao(r.index);return n?`
      You have moved the item from position `+s+`
      to position `+i+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},hg=function(t,r,n){var s=r.droppableId===n.droppableId;return s?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Jy=function(t){var r=t.destination;if(r)return gg(t.source,r);var n=t.combine;return n?hg(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Xd=function(t){return`
  The item has returned to its starting position
  of `+ao(t.index)+`
`},Xy=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Xd(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+gg(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+hg(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Xd(t.source)+`
  `},Pi={dragHandleUsageInstructions:Qy,onDragStart:Yy,onDragUpdate:Jy,onDragEnd:Xy},Ae={x:0,y:0},He=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},ct=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},br=function(t,r){return t.x===r.x&&t.y===r.y},Bn=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Zr=function(t,r,n){var s;return n===void 0&&(n=0),s={},s[t]=r,s[t==="x"?"y":"x"]=n,s},Ps=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Zd=function(t,r){return Math.min.apply(Math,r.map(function(n){return Ps(t,n)}))},vg=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},Zy=function(e,t){var r=Pt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Ys=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},ep=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},eb={top:0,right:0,bottom:0,left:0},tb=function(t,r){return r?Ys(t,r.scroll.diff.displacement):t},rb=function(t,r,n){if(n&&n.increasedBy){var s;return X({},t,(s={},s[r.end]=t[r.end]+n.increasedBy[r.line],s))}return t},nb=function(t,r){return r&&r.shouldClipSubject?Zy(r.pageMarginBox,t):Pt(t)},Rn=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,s=e.frame,i=tb(t.marginBox,s),a=rb(i,n,r),l=nb(a,s);return{page:t,withPlaceholder:r,active:l}},Zc=function(e,t){e.frame||z(!1);var r=e.frame,n=ct(t,r.scroll.initial),s=Bn(n),i=X({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}}),a=Rn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=X({},e,{frame:i,subject:a});return l};function lo(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function eu(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Ir(e,t){if(e.find)return e.find(t);var r=eu(e,t);if(r!==-1)return e[r]}function xg(e){return Array.prototype.slice.call(e)}var yg=Le(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),bg=Le(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Go=Le(function(e){return lo(e)}),sb=Le(function(e){return lo(e)}),Fn=Le(function(e,t){var r=sb(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,s){return n.descriptor.index-s.descriptor.index});return r});function tu(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function _o(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Wo=Le(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),ib=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var a=tu(i);if(!a)return null;function l(y){var N={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return X({},i,{at:N})}var c=i.displaced.all,p=c.length?c[0]:null;if(t)return p?l(p):null;var f=Wo(r,s);if(!p){if(!f.length)return null;var u=f[f.length-1];return l(u.descriptor.id)}var d=eu(f,function(y){return y.descriptor.id===p});d===-1&&z(!1);var m=d-1;if(m<0)return null;var h=f[m];return l(h.descriptor.id)},$n=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Sg={point:Ae,value:0},Ms={invisible:{},visible:{},all:[]},ob={displaced:Ms,displacedBy:Sg,at:null},Nt=function(e,t){return function(r){return e<=r&&r<=t}},wg=function(e){var t=Nt(e.top,e.bottom),r=Nt(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(s)return!0;var i=t(n.top)||t(n.bottom),a=r(n.left)||r(n.right),l=i&&a;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,p=n.left<e.left&&n.right>e.right,f=c&&p;if(f)return!0;var u=c&&a||p&&i;return u}},ab=function(e){var t=Nt(e.top,e.bottom),r=Nt(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return s}},ru={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ng={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},lb=function(e){return function(t){var r=Nt(t.top,t.bottom),n=Nt(t.left,t.right);return function(s){return e===ru?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)}}},cb=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Ae;return Ys(t,n)},ub=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},db=function(t,r,n){return n(r)(t)},nu=function(t){var r=t.target,n=t.destination,s=t.viewport,i=t.withDroppableDisplacement,a=t.isVisibleThroughFrameFn,l=i?cb(r,n):r;return ub(l,n,a)&&db(l,s,a)},pb=function(t){return nu(X({},t,{isVisibleThroughFrameFn:wg}))},Eg=function(t){return nu(X({},t,{isVisibleThroughFrameFn:ab}))},fb=function(t){return nu(X({},t,{isVisibleThroughFrameFn:lb(t.destination.axis)}))},mb=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var s=r.invisible,i=r.visible;if(s[t])return!1;var a=i[t];return a?a.shouldAnimate:!0};function gb(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Pt(Jc(r,n))}function Os(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,s=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce(function(c,p){var f=gb(p,n),u=p.descriptor.id;c.all.push(u);var d=pb({target:f,destination:r,viewport:s,withDroppableDisplacement:!0});if(!d)return c.invisible[p.descriptor.id]=!0,c;var m=mb(u,a,i),h={draggableId:u,shouldAnimate:m};return c.visible[u]=h,c},{all:[],visible:{},invisible:{}})}function hb(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function tp(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,s=e.destination,i=hb(t,{inHomeList:r});return{displaced:Ms,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:i}}}}function co(e){var t=e.draggable,r=e.insideDestination,n=e.destination,s=e.viewport,i=e.displacedBy,a=e.last,l=e.index,c=e.forceShouldAnimate,p=$n(t,n);if(l==null)return tp({insideDestination:r,inHomeList:p,displacedBy:i,destination:n});var f=Ir(r,function(y){return y.descriptor.index===l});if(!f)return tp({insideDestination:r,inHomeList:p,displacedBy:i,destination:n});var u=Wo(t,r),d=r.indexOf(f),m=u.slice(d),h=Os({afterDragging:m,destination:n,displacedBy:i,last:a,viewport:s.frame,forceShouldAnimate:c});return{displaced:h,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function Cr(e,t){return!!t.effected[e]}var vb=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,s=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var a=s.draggableId,l=n[a],c=l.descriptor.index,p=Cr(a,i);return p?t?c:c-1:t?c+1:c},xb=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,s=e.location;if(!n.length)return null;var i=s.index,a=t?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,p=r?c:c+1;return a<l||a>p?null:a},yb=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,s=e.draggables,i=e.destination,a=e.insideDestination,l=e.previousImpact,c=e.viewport,p=e.afterCritical,f=l.at;if(f||z(!1),f.type==="REORDER"){var u=xb({isMovingForward:t,isInHomeList:r,location:f.destination,insideDestination:a});return u==null?null:co({draggable:n,insideDestination:a,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:u})}var d=vb({isMovingForward:t,destination:i,displaced:l.displaced,draggables:s,combine:f.combine,afterCritical:p});return d==null?null:co({draggable:n,insideDestination:a,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:d})},bb=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,s=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return Cr(n,r)?i?Ae:Bn(s.point):i?s.point:Ae},Sb=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,s=_o(r);s||z(!1);var i=s.draggableId,a=n[i].page.borderBox.center,l=bb({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return He(a,l)},Cg=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},wb=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},su=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},rp=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Zr(r.line,n.marginBox[r.end]+Cg(r,s),su(r,n.marginBox,s))},np=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Zr(r.line,n.marginBox[r.start]-wb(r,s),su(r,n.marginBox,s))},Nb=function(t){var r=t.axis,n=t.moveInto,s=t.isMoving;return Zr(r.line,n.contentBox[r.start]+Cg(r,s),su(r,n.contentBox,s))},Eb=function(e){var t=e.impact,r=e.draggable,n=e.draggables,s=e.droppable,i=e.afterCritical,a=Fn(s.descriptor.id,n),l=r.page,c=s.axis;if(!a.length)return Nb({axis:c,moveInto:s.page,isMoving:l});var p=t.displaced,f=t.displacedBy,u=p.all[0];if(u){var d=n[u];if(Cr(u,i))return np({axis:c,moveRelativeTo:d.page,isMoving:l});var m=so(d.page,f.point);return np({axis:c,moveRelativeTo:m,isMoving:l})}var h=a[a.length-1];if(h.descriptor.id===r.descriptor.id)return l.borderBox.center;if(Cr(h.descriptor.id,i)){var y=so(h.page,Bn(i.displacedBy.point));return rp({axis:c,moveRelativeTo:y,isMoving:l})}return rp({axis:c,moveRelativeTo:h.page,isMoving:l})},Ll=function(e,t){var r=e.frame;return r?He(t,r.scroll.diff.displacement):t},Cb=function(t){var r=t.impact,n=t.draggable,s=t.droppable,i=t.draggables,a=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!s||!c?l:c.type==="REORDER"?Eb({impact:r,draggable:n,draggables:i,droppable:s,afterCritical:a}):Sb({impact:r,draggables:i,afterCritical:a})},Vo=function(e){var t=Cb(e),r=e.droppable,n=r?Ll(r,t):t;return n},jg=function(e,t){var r=ct(t,e.scroll.initial),n=Bn(r),s=Pt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function sp(e,t){return e.map(function(r){return t[r]})}function jb(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var Db=function(e){var t=e.impact,r=e.viewport,n=e.destination,s=e.draggables,i=e.maxScrollChange,a=jg(r,He(r.scroll.current,i)),l=n.frame?Zc(n,He(n.frame.scroll.current,i)):n,c=t.displaced,p=Os({afterDragging:sp(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=Os({afterDragging:sp(c.all,s),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),u={},d={},m=[c,p,f];c.all.forEach(function(y){var N=jb(y,m);if(N){d[y]=N;return}u[y]=!0});var h=X({},t,{displaced:{all:c.all,invisible:u,visible:d}});return h},kb=function(e,t){return He(e.scroll.diff.displacement,t)},iu=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,s=kb(n,t),i=ct(s,r.page.borderBox.center);return He(r.client.borderBox.center,i)},Dg=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,s=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=a===void 0?!1:a,c=ct(n,t.page.borderBox.center),p=Ys(t.page.borderBox,c),f={target:p,destination:r,withDroppableDisplacement:i,viewport:s};return l?fb(f):Eg(f)},Ib=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,p=e.afterCritical;if(!n.isEnabled)return null;var f=Fn(n.descriptor.id,s),u=$n(r,n),d=ib({isMovingForward:t,draggable:r,destination:n,insideDestination:f,previousImpact:i})||yb({isMovingForward:t,isInHomeList:u,draggable:r,draggables:s,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:p});if(!d)return null;var m=Vo({impact:d,draggable:r,droppable:n,draggables:s,afterCritical:p}),h=Dg({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(h){var y=iu({pageBorderBoxCenter:m,draggable:r,viewport:a});return{clientSelection:y,impact:d,scrollJumpRequest:null}}var N=ct(m,l),v=Db({impact:d,viewport:a,destination:n,draggables:s,maxScrollChange:N});return{clientSelection:c,impact:v,scrollJumpRequest:N}},Ye=function(t){var r=t.subject.active;return r||z(!1),r},Tb=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,s=e.droppables,i=e.viewport,a=n.subject.active;if(!a)return null;var l=n.axis,c=Nt(a[l.start],a[l.end]),p=Go(s).filter(function(u){return u!==n}).filter(function(u){return u.isEnabled}).filter(function(u){return!!u.subject.active}).filter(function(u){return wg(i.frame)(Ye(u))}).filter(function(u){var d=Ye(u);return t?a[l.crossAxisEnd]<d[l.crossAxisEnd]:d[l.crossAxisStart]<a[l.crossAxisStart]}).filter(function(u){var d=Ye(u),m=Nt(d[l.start],d[l.end]);return c(d[l.start])||c(d[l.end])||m(a[l.start])||m(a[l.end])}).sort(function(u,d){var m=Ye(u)[l.crossAxisStart],h=Ye(d)[l.crossAxisStart];return t?m-h:h-m}).filter(function(u,d,m){return Ye(u)[l.crossAxisStart]===Ye(m[0])[l.crossAxisStart]});if(!p.length)return null;if(p.length===1)return p[0];var f=p.filter(function(u){var d=Nt(Ye(u)[l.start],Ye(u)[l.end]);return d(r[l.line])});return f.length===1?f[0]:f.length>1?f.sort(function(u,d){return Ye(u)[l.start]-Ye(d)[l.start]})[0]:p.sort(function(u,d){var m=Zd(r,ep(Ye(u))),h=Zd(r,ep(Ye(d)));return m!==h?m-h:Ye(u)[l.start]-Ye(d)[l.start]})[0]},ip=function(t,r){var n=t.page.borderBox.center;return Cr(t.descriptor.id,r)?ct(n,r.displacedBy.point):n},Rb=function(t,r){var n=t.page.borderBox;return Cr(t.descriptor.id,r)?Ys(n,Bn(r.displacedBy.point)):n},Pb=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,s=e.insideDestination,i=e.afterCritical,a=s.filter(function(l){return Eg({target:Rb(l,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var p=Ps(t,Ll(n,ip(l,i))),f=Ps(t,Ll(n,ip(c,i)));return p<f?-1:f<p?1:l.descriptor.index-c.descriptor.index});return a[0]||null},Js=Le(function(t,r){var n=r[t.line];return{value:n,point:Zr(t.line,n)}}),Mb=function(t,r,n){var s=t.axis;if(t.descriptor.mode==="virtual")return Zr(s.line,r[s.line]);var i=t.subject.page.contentBox[s.size],a=Fn(t.descriptor.id,n),l=a.reduce(function(f,u){return f+u.client.marginBox[s.size]},0),c=l+r[s.line],p=c-i;return p<=0?null:Zr(s.line,p)},kg=function(t,r){return X({},t,{scroll:X({},t.scroll,{max:r})})},Ig=function(t,r,n){var s=t.frame;$n(r,t)&&z(!1),t.subject.withPlaceholder&&z(!1);var i=Js(t.axis,r.displaceBy).point,a=Mb(t,i,n),l={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=Rn({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return X({},t,{subject:c})}var p=a?He(s.scroll.max,a):s.scroll.max,f=kg(s,p),u=Rn({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:f});return X({},t,{subject:u,frame:f})},Ob=function(t){var r=t.subject.withPlaceholder;r||z(!1);var n=t.frame;if(!n){var s=Rn({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return X({},t,{subject:s})}var i=r.oldFrameMaxScroll;i||z(!1);var a=kg(n,i),l=Rn({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return X({},t,{subject:l,frame:a})},Lb=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,s=e.draggable,i=e.draggables,a=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var p={displaced:Ms,displacedBy:Sg,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},f=Vo({impact:p,draggable:s,droppable:a,draggables:i,afterCritical:c}),u=$n(s,a)?a:Ig(a,s,i),d=Dg({draggable:s,destination:u,newPageBorderBoxCenter:f,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return d?p:null}var m=t[a.axis.line]<=r.page.borderBox.center[a.axis.line],h=function(){var N=r.descriptor.index;return r.descriptor.id===s.descriptor.id||m?N:N+1}(),y=Js(a.axis,s.displaceBy);return co({draggable:s,insideDestination:n,destination:a,viewport:l,displacedBy:y,last:Ms,index:h})},Ab=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,s=e.isOver,i=e.draggables,a=e.droppables,l=e.viewport,c=e.afterCritical,p=Tb({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:a,viewport:l});if(!p)return null;var f=Fn(p.descriptor.id,i),u=Pb({pageBorderBoxCenter:r,viewport:l,destination:p,insideDestination:f,afterCritical:c}),d=Lb({previousPageBorderBoxCenter:r,destination:p,draggable:n,draggables:i,moveRelativeTo:u,insideDestination:f,viewport:l,afterCritical:c});if(!d)return null;var m=Vo({impact:d,draggable:n,droppable:p,draggables:i,afterCritical:c}),h=iu({pageBorderBoxCenter:m,draggable:n,viewport:l});return{clientSelection:h,impact:d,scrollJumpRequest:null}},dt=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Bb=function(t,r){var n=dt(t);return n?r[n]:null},Fb=function(e){var t=e.state,r=e.type,n=Bb(t.impact,t.dimensions.droppables),s=!!n,i=t.dimensions.droppables[t.critical.droppable.id],a=n||i,l=a.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!s)return null;var p=r==="MOVE_DOWN"||r==="MOVE_RIGHT",f=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,d=t.dimensions,m=d.draggables,h=d.droppables;return c?Ib({isMovingForward:p,previousPageBorderBoxCenter:u,draggable:f,destination:a,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Ab({isMovingForward:p,previousPageBorderBoxCenter:u,draggable:f,isOver:a,draggables:m,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Lr(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Tg(e){var t=Nt(e.top,e.bottom),r=Nt(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function $b(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function zb(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,s=r.page.borderBox.center,i=n.map(function(a){var l=a.axis,c=Zr(a.axis.line,t.center[l.line],a.page.borderBox.center[l.crossAxisLine]);return{id:a.descriptor.id,distance:Ps(s,c)}}).sort(function(a,l){return l.distance-a.distance});return i[0]?i[0].id:null}function Ub(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,s=Go(n).filter(function(i){if(!i.isEnabled)return!1;var a=i.subject.active;if(!a||!$b(t,a))return!1;if(Tg(a)(t.center))return!0;var l=i.axis,c=a.center[l.crossAxisLine],p=t[l.crossAxisStart],f=t[l.crossAxisEnd],u=Nt(a[l.crossAxisStart],a[l.crossAxisEnd]),d=u(p),m=u(f);return!d&&!m?!0:d?p<c:f>c});return s.length?s.length===1?s[0].descriptor.id:zb({pageBorderBox:t,draggable:r,candidates:s}):null}var Rg=function(t,r){return Pt(Ys(t,r))},Hb=function(e,t){var r=e.frame;return r?Rg(t,r.scroll.diff.value):t};function Pg(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function Gb(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var _b=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,s=e.insideDestination,i=e.last,a=e.viewport,l=e.afterCritical,c=n.axis,p=Js(n.axis,r.displaceBy),f=p.value,u=t[c.start],d=t[c.end],m=Wo(r,s),h=Ir(m,function(N){var v=N.descriptor.id,g=N.page.borderBox.center[c.line],x=Cr(v,l),b=Pg({displaced:i,id:v});return x?b?d<=g:u<g-f:b?d<=g+f:u<g}),y=Gb({draggable:r,closest:h,inHomeList:$n(r,n)});return co({draggable:r,insideDestination:s,destination:n,viewport:a,last:i,displacedBy:p,index:y})},Wb=4,Vb=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,s=e.destination,i=e.insideDestination,a=e.afterCritical;if(!s.isCombineEnabled)return null;var l=s.axis,c=Js(s.axis,t.displaceBy),p=c.value,f=r[l.start],u=r[l.end],d=Wo(t,i),m=Ir(d,function(y){var N=y.descriptor.id,v=y.page.borderBox,g=v[l.size],x=g/Wb,b=Cr(N,a),C=Pg({displaced:n.displaced,id:N});return b?C?u>v[l.start]+x&&u<v[l.end]-x:f>v[l.start]-p+x&&f<v[l.end]-p-x:C?u>v[l.start]+p+x&&u<v[l.end]+p-x:f>v[l.start]+x&&f<v[l.end]-x});if(!m)return null;var h={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}};return h},Mg=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,s=e.droppables,i=e.previousImpact,a=e.viewport,l=e.afterCritical,c=Rg(r.page.borderBox,t),p=Ub({pageBorderBox:c,draggable:r,droppables:s});if(!p)return ob;var f=s[p],u=Fn(f.descriptor.id,n),d=Hb(f,c);return Vb({pageBorderBoxWithDroppableScroll:d,draggable:r,previousImpact:i,destination:f,insideDestination:u,afterCritical:l})||_b({pageBorderBoxWithDroppableScroll:d,draggable:r,destination:f,insideDestination:u,last:i.displaced,viewport:a,afterCritical:l})},ou=function(e,t){var r;return X({},e,(r={},r[t.descriptor.id]=t,r))},qb=function(t){var r=t.previousImpact,n=t.impact,s=t.droppables,i=dt(r),a=dt(n);if(!i||i===a)return s;var l=s[i];if(!l.subject.withPlaceholder)return s;var c=Ob(l);return ou(s,c)},Kb=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,s=e.previousImpact,i=e.impact,a=qb({previousImpact:s,impact:i,droppables:n}),l=dt(i);if(!l)return a;var c=n[l];if($n(t,c)||c.subject.withPlaceholder)return a;var p=Ig(c,t,r);return ou(a,p)},ds=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,s=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=s||t.viewport,c=n||t.dimensions,p=r||t.current.client.selection,f=ct(p,t.initial.client.selection),u={offset:f,selection:p,borderBoxCenter:He(t.initial.client.borderBoxCenter,f)},d={selection:He(u.selection,l.scroll.current),borderBoxCenter:He(u.borderBoxCenter,l.scroll.current),offset:He(u.offset,l.scroll.diff.value)},m={client:u,page:d};if(t.phase==="COLLECTING")return X({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var h=c.draggables[t.critical.draggable.id],y=i||Mg({pageOffset:d.offset,draggable:h,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),N=Kb({draggable:h,impact:y,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),v=X({},t,{current:m,dimensions:{draggables:c.draggables,droppables:N},impact:y,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return v};function Qb(e,t){return e.map(function(r){return t[r]})}var Og=function(e){var t=e.impact,r=e.viewport,n=e.draggables,s=e.destination,i=e.forceShouldAnimate,a=t.displaced,l=Qb(a.all,n),c=Os({afterDragging:l,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:a});return X({},t,{displaced:c})},Lg=function(e){var t=e.impact,r=e.draggable,n=e.droppable,s=e.draggables,i=e.viewport,a=e.afterCritical,l=Vo({impact:t,draggable:r,draggables:s,droppable:n,afterCritical:a});return iu({pageBorderBoxCenter:l,draggable:r,viewport:i})},Ag=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&z(!1);var s=t.impact,i=n||t.viewport,a=r||t.dimensions,l=a.draggables,c=a.droppables,p=l[t.critical.draggable.id],f=dt(s);f||z(!1);var u=c[f],d=Og({impact:s,viewport:i,destination:u,draggables:l}),m=Lg({impact:d,draggable:p,droppable:u,draggables:l,viewport:i,afterCritical:t.afterCritical});return ds({impact:d,clientSelection:m,state:t,dimensions:a,viewport:i})},Yb=function(e){return{index:e.index,droppableId:e.droppableId}},Bg=function(e){var t=e.draggable,r=e.home,n=e.draggables,s=e.viewport,i=Js(r.axis,t.displaceBy),a=Fn(r.descriptor.id,n),l=a.indexOf(t);l===-1&&z(!1);var c=a.slice(l+1),p=c.reduce(function(m,h){return m[h.descriptor.id]=!0,m},{}),f={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:p},u=Os({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:s.frame,forceShouldAnimate:!1}),d={displaced:u,displacedBy:i,at:{type:"REORDER",destination:Yb(t.descriptor)}};return{impact:d,afterCritical:f}},Jb=function(e,t){return{draggables:e.draggables,droppables:ou(e.droppables,t)}},Xb=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,s=so(t.client,r),i=io(s,n),a=X({},t,{placeholder:X({},t.placeholder,{client:s}),client:s,page:i});return a},Zb=function(e){var t=e.frame;return t||z(!1),t},eS=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,s=n.scroll.diff.value;return t.map(function(i){var a=i.descriptor.droppableId,l=r[a],c=Zb(l),p=c.scroll.diff.value,f=He(s,p),u=Xb({draggable:i,offset:f,initialWindowScroll:n.scroll.initial});return u})},tS=function(e){var t=e.state,r=e.published,n=r.modified.map(function(x){var b=t.dimensions.droppables[x.droppableId],C=Zc(b,x.scroll);return C}),s=X({},t.dimensions.droppables,{},yg(n)),i=bg(eS({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),a=X({},t.dimensions.draggables,{},i);r.removals.forEach(function(x){delete a[x]});var l={droppables:s,draggables:a},c=dt(t.impact),p=c?l.droppables[c]:null,f=l.draggables[t.critical.draggable.id],u=l.droppables[t.critical.droppable.id],d=Bg({draggable:f,home:u,draggables:a,viewport:t.viewport}),m=d.impact,h=d.afterCritical,y=p&&p.isCombineEnabled?t.impact:m,N=Mg({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:t.viewport,afterCritical:h}),v=X({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:N,onLiftImpact:m,dimensions:l,afterCritical:h,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return v;var g=X({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return g},Al=function(t){return t.movementMode==="SNAP"},ka=function(t,r,n){var s=Jb(t.dimensions,r);return!Al(t)||n?ds({state:t,dimensions:s}):Ag({state:t,dimensions:s})};function Ia(e){return e.isDragging&&e.movementMode==="SNAP"?X({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var op={phase:"IDLE",completed:null,shouldFlush:!1},rS=function(e,t){if(e===void 0&&(e=op),t.type==="FLUSH")return X({},op,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&z(!1);var r=t.payload,n=r.critical,s=r.clientSelection,i=r.viewport,a=r.dimensions,l=r.movementMode,c=a.draggables[n.draggable.id],p=a.droppables[n.droppable.id],f={selection:s,borderBoxCenter:c.client.borderBox.center,offset:Ae},u={client:f,page:{selection:He(f.selection,i.scroll.initial),borderBoxCenter:He(f.selection,i.scroll.initial),offset:He(f.selection,i.scroll.diff.value)}},d=Go(a.droppables).every(function(Y){return!Y.isFixedOnPage}),m=Bg({draggable:c,home:p,draggables:a.draggables,viewport:i}),h=m.impact,y=m.afterCritical,N={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:a,initial:u,current:u,isWindowScrollAllowed:d,impact:h,afterCritical:y,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return N}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&z(!1);var v=X({phase:"COLLECTING"},e,{phase:"COLLECTING"});return v}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||z(!1),tS({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Lr(e)||z(!1);var g=t.payload.client;return br(g,e.current.client.selection)?e:ds({state:e,clientSelection:g,impact:Al(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ia(e);Lr(e)||z(!1);var x=t.payload,b=x.id,C=x.newScroll,w=e.dimensions.droppables[b];if(!w)return e;var D=Zc(w,C);return ka(e,D,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Lr(e)||z(!1);var k=t.payload,R=k.id,M=k.isEnabled,$=e.dimensions.droppables[R];$||z(!1),$.isEnabled===M&&z(!1);var W=X({},$,{isEnabled:M});return ka(e,W,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Lr(e)||z(!1);var Q=t.payload,V=Q.id,B=Q.isCombineEnabled,F=e.dimensions.droppables[V];F||z(!1),F.isCombineEnabled===B&&z(!1);var O=X({},F,{isCombineEnabled:B});return ka(e,O,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Lr(e)||z(!1),e.isWindowScrollAllowed||z(!1);var E=t.payload.newScroll;if(br(e.viewport.scroll.current,E))return Ia(e);var T=jg(e.viewport,E);return Al(e)?Ag({state:e,viewport:T}):ds({state:e,viewport:T})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Lr(e))return e;var P=t.payload.maxScroll;if(br(P,e.viewport.scroll.max))return e;var H=X({},e.viewport,{scroll:X({},e.viewport.scroll,{max:P})});return X({phase:"DRAGGING"},e,{viewport:H})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&z(!1);var U=Fb({state:e,type:t.type});return U?ds({state:e,impact:U.impact,clientSelection:U.clientSelection,scrollJumpRequest:U.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var L=t.payload.reason;e.phase!=="COLLECTING"&&z(!1);var q=X({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:L});return q}if(t.type==="DROP_ANIMATE"){var _=t.payload,Z=_.completed,ee=_.dropDuration,S=_.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||z(!1);var I={phase:"DROP_ANIMATING",completed:Z,dropDuration:ee,newHomeClientOffset:S,dimensions:e.dimensions};return I}if(t.type==="DROP_COMPLETE"){var te=t.payload.completed;return{phase:"IDLE",completed:te,shouldFlush:!1}}return e},nS=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},sS=function(t){return{type:"LIFT",payload:t}},iS=function(t){return{type:"INITIAL_PUBLISH",payload:t}},oS=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},aS=function(){return{type:"COLLECTION_STARTING",payload:null}},lS=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},cS=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},uS=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Fg=function(t){return{type:"MOVE",payload:t}},dS=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},pS=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},fS=function(){return{type:"MOVE_UP",payload:null}},mS=function(){return{type:"MOVE_DOWN",payload:null}},gS=function(){return{type:"MOVE_RIGHT",payload:null}},hS=function(){return{type:"MOVE_LEFT",payload:null}},au=function(){return{type:"FLUSH",payload:null}},vS=function(t){return{type:"DROP_ANIMATE",payload:t}},lu=function(t){return{type:"DROP_COMPLETE",payload:t}},$g=function(t){return{type:"DROP",payload:t}},xS=function(t){return{type:"DROP_PENDING",payload:t}},zg=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},yS=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(s){return function(i){if(i.type!=="LIFT"){s(i);return}var a=i.payload,l=a.id,c=a.clientSelection,p=a.movementMode,f=r();f.phase==="DROP_ANIMATING"&&n(lu({completed:f.completed})),r().phase!=="IDLE"&&z(!1),n(au()),n(nS({draggableId:l,movementMode:p}));var u={shouldPublishImmediately:p==="SNAP"},d={draggableId:l,scrollOptions:u},m=e.startPublishing(d),h=m.critical,y=m.dimensions,N=m.viewport;n(iS({critical:h,dimensions:y,clientSelection:c,movementMode:p,viewport:N}))}}}},bS=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},cu={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ls={opacity:{drop:0,combining:.7},scale:{drop:.75}},uu={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Rr=uu.outOfTheWay+"s "+cu.outOfTheWay,ps={fluid:"opacity "+Rr,snap:"transform "+Rr+", opacity "+Rr,drop:function(t){var r=t+"s "+cu.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Rr,placeholder:"height "+Rr+", width "+Rr+", margin "+Rr},ap=function(t){return br(t,Ae)?null:"translate("+t.x+"px, "+t.y+"px)"},Bl={moveTo:ap,drop:function(t,r){var n=ap(t);return n?r?n+" scale("+Ls.scale.drop+")":n:null}},Fl=uu.minDropTime,Ug=uu.maxDropTime,SS=Ug-Fl,lp=1500,wS=.6,NS=function(e){var t=e.current,r=e.destination,n=e.reason,s=Ps(t,r);if(s<=0)return Fl;if(s>=lp)return Ug;var i=s/lp,a=Fl+SS*i,l=n==="CANCEL"?a*wS:a;return Number(l.toFixed(2))},ES=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,s=e.viewport,i=e.afterCritical,a=n.draggables,l=n.droppables,c=dt(t),p=c?l[c]:null,f=l[r.descriptor.droppableId],u=Lg({impact:t,draggable:r,draggables:a,afterCritical:i,droppable:p||f,viewport:s}),d=ct(u,r.client.borderBox.center);return d},CS=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,s=e.home,i=e.viewport,a=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=Og({draggables:t,impact:a,destination:s,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=X({},n,{displaced:Ms});return{impact:c,didDropInsideDroppable:!0}},jS=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(s){if(s.type!=="DROP"){n(s);return}var i=t(),a=s.payload.reason;if(i.phase==="COLLECTING"){r(xS({reason:a}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&z(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||z(!1);var c=i.critical,p=i.dimensions,f=p.draggables[i.critical.draggable.id],u=CS({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=u.impact,m=u.didDropInsideDroppable,h=m?tu(d):null,y=m?_o(d):null,N={index:c.draggable.index,droppableId:c.droppable.id},v={draggableId:f.descriptor.id,type:f.descriptor.type,source:N,reason:a,mode:i.movementMode,destination:h,combine:y},g=ES({impact:d,draggable:f,dimensions:p,viewport:i.viewport,afterCritical:i.afterCritical}),x={critical:i.critical,afterCritical:i.afterCritical,result:v,impact:d},b=!br(i.current.client.offset,g)||!!v.combine;if(!b){r(lu({completed:x}));return}var C=NS({current:i.current.client.offset,destination:g,reason:a}),w={newHomeClientOffset:g,dropDuration:C,completed:x};r(vS(w))}}}},Hg=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function DS(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function kS(e){var t=e.onWindowScroll;function r(){t(Hg())}var n=Rs(r),s=DS(n),i=yr;function a(){return i!==yr}function l(){a()&&z(!1),i=St(window,[s])}function c(){a()||z(!1),n.cancel(),i(),i=yr}return{start:l,stop:c,isActive:a}}var IS=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},TS=function(e){var t=kS({onWindowScroll:function(n){e.dispatch(dS({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&IS(n)&&t.stop(),r(n)}}},RS=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),s=function(a){t||r||(t=!0,e(a),clearTimeout(n))};return s.wasCalled=function(){return t},s},PS=function(){var e=[],t=function(i){var a=eu(e,function(p){return p.timerId===i});a===-1&&z(!1);var l=e.splice(a,1),c=l[0];c.callback()},r=function(i){var a=setTimeout(function(){return t(a)}),l={timerId:a,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:r,flush:n}},MS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},OS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},LS=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&s},Qn=function(t,r){r()},hi=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Ta=function(t,r,n,s){if(!t){n(s(r));return}var i=RS(n),a={announce:i};t(r,a),i.wasCalled()||n(s(r))},AS=function(e,t){var r=PS(),n=null,s=function(d,m){n&&z(!1),Qn("onBeforeCapture",function(){var h=e().onBeforeCapture;if(h){var y={draggableId:d,mode:m};h(y)}})},i=function(d,m){n&&z(!1),Qn("onBeforeDragStart",function(){var h=e().onBeforeDragStart;h&&h(hi(d,m))})},a=function(d,m){n&&z(!1);var h=hi(d,m);n={mode:m,lastCritical:d,lastLocation:h.source,lastCombine:null},r.add(function(){Qn("onDragStart",function(){return Ta(e().onDragStart,h,t,Pi.onDragStart)})})},l=function(d,m){var h=tu(m),y=_o(m);n||z(!1);var N=!LS(d,n.lastCritical);N&&(n.lastCritical=d);var v=!MS(n.lastLocation,h);v&&(n.lastLocation=h);var g=!OS(n.lastCombine,y);if(g&&(n.lastCombine=y),!(!N&&!v&&!g)){var x=X({},hi(d,n.mode),{combine:y,destination:h});r.add(function(){Qn("onDragUpdate",function(){return Ta(e().onDragUpdate,x,t,Pi.onDragUpdate)})})}},c=function(){n||z(!1),r.flush()},p=function(d){n||z(!1),n=null,Qn("onDragEnd",function(){return Ta(e().onDragEnd,d,t,Pi.onDragEnd)})},f=function(){if(n){var d=X({},hi(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});p(d)}};return{beforeCapture:s,beforeStart:i,start:a,update:l,flush:c,drop:p,abort:f}},BS=function(e,t){var r=AS(e,t);return function(n){return function(s){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var a=i.payload.critical;r.beforeStart(a,i.payload.movementMode),s(i),r.start(a,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),s(i),r.drop(l);return}if(s(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},FS=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&z(!1),e.dispatch(lu({completed:n.completed}))}}},$S=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(s){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),s(i),i.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(zg())}};r=requestAnimationFrame(function(){r=null,t=St(window,[a])})}}}},zS=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},US=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},HS=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},GS=function(e){return function(t){return function(r){return function(n){if(HS(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var s=t.getState();s.phase!=="DRAGGING"&&z(!1),e.start(s);return}r(n),e.scroll(t.getState())}}}},_S=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch($g({reason:n.reason})))}}}},WS=Km,VS=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,i=e.announce,a=e.autoScroller;return qm(rS,WS(Rx(bS(n),zS(t),yS(t),jS,FS,$S,_S,GS(a),TS,US(r),BS(s,i))))},Ra=function(){return{additions:{},removals:{},modified:{}}};function qS(e){var t=e.registry,r=e.callbacks,n=Ra(),s=null,i=function(){s||(r.collectionStarting(),s=requestAnimationFrame(function(){s=null;var f=n,u=f.additions,d=f.removals,m=f.modified,h=Object.keys(u).map(function(v){return t.draggable.getById(v).getDimension(Ae)}).sort(function(v,g){return v.descriptor.index-g.descriptor.index}),y=Object.keys(m).map(function(v){var g=t.droppable.getById(v),x=g.callbacks.getScrollWhileDragging();return{droppableId:v,scroll:x}}),N={additions:h,removals:Object.keys(d),modified:y};n=Ra(),r.publish(N)}))},a=function(f){var u=f.descriptor.id;n.additions[u]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},l=function(f){var u=f.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},c=function(){s&&(cancelAnimationFrame(s),s=null,n=Ra())};return{add:a,remove:l,stop:c}}var Gg=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,s=e.width,i=ct({x:r,y:t},{x:s,y:n}),a={x:Math.max(0,i.x),y:Math.max(0,i.y)};return a},_g=function(){var e=document.documentElement;return e||z(!1),e},Wg=function(){var e=_g(),t=Gg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},KS=function(){var e=Hg(),t=Wg(),r=e.y,n=e.x,s=_g(),i=s.clientWidth,a=s.clientHeight,l=n+i,c=r+a,p=Pt({top:r,left:n,right:l,bottom:c}),f={frame:p,scroll:{initial:e,current:e,max:t,diff:{value:Ae,displacement:Ae}}};return f},QS=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,s=KS(),i=s.scroll.current,a=t.droppable,l=n.droppable.getAllByType(a.type).map(function(u){return u.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(u){return u.getDimension(i)}),p={draggables:bg(c),droppables:yg(l)},f={dimensions:p,critical:t,viewport:s};return f};function cp(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var YS=function(e,t){var r=null,n=qS({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(m,h){e.droppable.exists(m)||z(!1),r&&t.updateDroppableIsEnabled({id:m,isEnabled:h})},i=function(m,h){r&&(e.droppable.exists(m)||z(!1),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:h}))},a=function(m,h){r&&(e.droppable.exists(m)||z(!1),t.updateDroppableScroll({id:m,newScroll:h}))},l=function(m,h){r&&e.droppable.getById(m).callbacks.scroll(h)},c=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(h){return h.callbacks.dragStopped()}),r.unsubscribe(),r=null}},p=function(m){r||z(!1);var h=r.critical.draggable;m.type==="ADDITION"&&cp(e,h,m.value)&&n.add(m.value),m.type==="REMOVAL"&&cp(e,h,m.value)&&n.remove(m.value)},f=function(m){r&&z(!1);var h=e.draggable.getById(m.draggableId),y=e.droppable.getById(h.descriptor.droppableId),N={draggable:h.descriptor,droppable:y.descriptor},v=e.subscribe(p);return r={critical:N,unsubscribe:v},QS({critical:N,registry:e,scrollOptions:m.scrollOptions})},u={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:f,stopPublishing:c};return u},Vg=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},JS=function(e){window.scrollBy(e.x,e.y)},XS=Le(function(e){return Go(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),ZS=function(t,r){var n=Ir(XS(r),function(s){return s.frame||z(!1),Tg(s.frame.pageMarginBox)(t)});return n},e1=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var s=n[r];return s.frame?s:null}var i=ZS(t,n);return i},Sr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},t1=function(e,t){var r=e[t.size]*Sr.startFromPercentage,n=e[t.size]*Sr.maxScrollAtPercentage,s={startScrollingFrom:r,maxScrollValueAt:n};return s},qg=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,s=r-t;if(s===0)return 0;var i=n-t,a=i/s;return a},du=1,r1=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Sr.maxPixelScroll;if(e===t.startScrollingFrom)return du;var r=qg({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,s=Sr.maxPixelScroll*Sr.ease(n);return Math.ceil(s)},up=Sr.durationDampening.accelerateAt,dp=Sr.durationDampening.stopDampeningAt,n1=function(e,t){var r=t,n=dp,s=Date.now(),i=s-r;if(i>=dp)return e;if(i<up)return du;var a=qg({startOfRange:up,endOfRange:n,current:i}),l=e*Sr.ease(a);return Math.ceil(l)},pp=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,s=e.shouldUseTimeDampening,i=r1(t,r);return i===0?0:s?Math.max(n1(i,n),du):i},fp=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,s=e.axis,i=e.shouldUseTimeDampening,a=t1(t,s),l=r[s.end]<r[s.start];return l?pp({distanceToEdge:r[s.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i}):-1*pp({distanceToEdge:r[s.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i})},s1=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,s=r.height>t.height,i=r.width>t.width;return!i&&!s?n:i&&s?null:{x:i?0:n.x,y:s?0:n.y}},i1=vg(function(e){return e===0?0:e}),Kg=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,s=e.center,i=e.shouldUseTimeDampening,a={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},l=fp({container:r,distanceToEdges:a,dragStartTime:t,axis:ru,shouldUseTimeDampening:i}),c=fp({container:r,distanceToEdges:a,dragStartTime:t,axis:Ng,shouldUseTimeDampening:i}),p=i1({x:c,y:l});if(br(p,Ae))return null;var f=s1({container:r,subject:n,proposedScroll:p});return f?br(f,Ae)?null:f:null},o1=vg(function(e){return e===0?0:e>0?1:-1}),pu=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,s=t.change,i=He(r,s),a={x:e(i.x,n.x),y:e(i.y,n.y)};return br(a,Ae)?null:a}}(),Qg=function(t){var r=t.max,n=t.current,s=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},a=o1(s),l=pu({max:i,current:n,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},fu=function(t,r){return Qg({current:t.scroll.current,max:t.scroll.max,change:r})},a1=function(t,r){if(!fu(t,r))return null;var n=t.scroll.max,s=t.scroll.current;return pu({current:s,max:n,change:r})},mu=function(t,r){var n=t.frame;return n?Qg({current:n.scroll.current,max:n.scroll.max,change:r}):!1},l1=function(t,r){var n=t.frame;return!n||!mu(t,r)?null:pu({current:n.scroll.current,max:n.scroll.max,change:r})},c1=function(e){var t=e.viewport,r=e.subject,n=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,a=Kg({dragStartTime:s,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return a&&fu(t,a)?a:null},u1=function(e){var t=e.droppable,r=e.subject,n=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var l=Kg({dragStartTime:s,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return l&&mu(t,l)?l:null},mp=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,s=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var p=t.viewport,f=c1({dragStartTime:r,viewport:p,subject:c,center:a,shouldUseTimeDampening:n});if(f){s(f);return}}var u=e1({center:a,destination:dt(t.impact),droppables:t.dimensions.droppables});if(u){var d=u1({dragStartTime:r,droppable:u,subject:c,center:a,shouldUseTimeDampening:n});d&&i(u.descriptor.id,d)}},d1=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=Rs(t),s=Rs(r),i=null,a=function(f){i||z(!1);var u=i,d=u.shouldUseTimeDampening,m=u.dragStartTime;mp({state:f,scrollWindow:n,scrollDroppable:s,dragStartTime:m,shouldUseTimeDampening:d})},l=function(f){i&&z(!1);var u=Date.now(),d=!1,m=function(){d=!0};mp({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),i={dragStartTime:u,shouldUseTimeDampening:d},d&&a(f)},c=function(){i&&(n.cancel(),s.cancel(),i=null)};return{start:l,stop:c,scroll:a}},p1=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,s=function(p,f){var u=He(p.current.client.selection,f);t({client:u})},i=function(p,f){if(!mu(p,f))return f;var u=l1(p,f);if(!u)return r(p.descriptor.id,f),null;var d=ct(f,u);r(p.descriptor.id,d);var m=ct(f,d);return m},a=function(p,f,u){if(!p||!fu(f,u))return u;var d=a1(f,u);if(!d)return n(u),null;var m=ct(u,d);n(m);var h=ct(u,m);return h},l=function(p){var f=p.scrollJumpRequest;if(f){var u=dt(p.impact);u||z(!1);var d=i(p.dimensions.droppables[u],f);if(d){var m=p.viewport,h=a(p.isWindowScrollAllowed,m,d);h&&s(p,h)}}};return l},f1=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,s=d1({scrollWindow:r,scrollDroppable:t}),i=p1({move:n,scrollWindow:r,scrollDroppable:t}),a=function(p){if(p.phase==="DRAGGING"){if(p.movementMode==="FLUID"){s.scroll(p);return}p.scrollJumpRequest&&i(p)}},l={scroll:a,start:s.start,stop:s.stop};return l},Pn="data-rbd",Mn=function(){var e=Pn+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),$l=function(){var e=Pn+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),m1=function(){var e=Pn+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),gp={contextId:Pn+"-scroll-container-context-id"},g1=function(t){return function(r){return"["+r+'="'+t+'"]'}},Yn=function(t,r){return t.map(function(n){var s=n.styles[r];return s?n.selector+" { "+s+" }":""}).join(" ")},h1="pointer-events: none;",v1=function(e){var t=g1(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Mn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:h1,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+ps.outOfTheWay+`;
    `;return{selector:t($l.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),s={selector:t(m1.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[n,r,s,i];return{always:Yn(a,"always"),resting:Yn(a,"resting"),dragging:Yn(a,"dragging"),dropAnimating:Yn(a,"dropAnimating"),userCancel:Yn(a,"userCancel")}},pt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect,Pa=function(){var t=document.querySelector("head");return t||z(!1),t},hp=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function x1(e,t){var r=ae(function(){return v1(e)},[e]),n=j.useRef(null),s=j.useRef(null),i=J(Le(function(u){var d=s.current;d||z(!1),d.textContent=u}),[]),a=J(function(u){var d=n.current;d||z(!1),d.textContent=u},[]);pt(function(){!n.current&&!s.current||z(!1);var u=hp(t),d=hp(t);return n.current=u,s.current=d,u.setAttribute(Pn+"-always",e),d.setAttribute(Pn+"-dynamic",e),Pa().appendChild(u),Pa().appendChild(d),a(r.always),i(r.resting),function(){var m=function(y){var N=y.current;N||z(!1),Pa().removeChild(N),y.current=null};m(n),m(s)}},[t,a,i,r.always,r.resting,e]);var l=J(function(){return i(r.dragging)},[i,r.dragging]),c=J(function(u){if(u==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),p=J(function(){s.current&&i(r.resting)},[i,r.resting]),f=ae(function(){return{dragging:l,dropping:c,resting:p}},[l,c,p]);return f}var Yg=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function qo(e){return e instanceof Yg(e).HTMLElement}function y1(e,t){var r="["+Mn.contextId+'="'+e+'"]',n=xg(document.querySelectorAll(r));if(!n.length)return null;var s=Ir(n,function(i){return i.getAttribute(Mn.draggableId)===t});return!s||!qo(s)?null:s}function b1(e){var t=j.useRef({}),r=j.useRef(null),n=j.useRef(null),s=j.useRef(!1),i=J(function(d,m){var h={id:d,focus:m};return t.current[d]=h,function(){var N=t.current,v=N[d];v!==h&&delete N[d]}},[]),a=J(function(d){var m=y1(e,d);m&&m!==document.activeElement&&m.focus()},[e]),l=J(function(d,m){r.current===d&&(r.current=m)},[]),c=J(function(){n.current||s.current&&(n.current=requestAnimationFrame(function(){n.current=null;var d=r.current;d&&a(d)}))},[a]),p=J(function(d){r.current=null;var m=document.activeElement;m&&m.getAttribute(Mn.draggableId)===d&&(r.current=d)},[]);pt(function(){return s.current=!0,function(){s.current=!1;var d=n.current;d&&cancelAnimationFrame(d)}},[]);var f=ae(function(){return{register:i,tryRecordFocus:p,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,p,c,l]);return f}function S1(){var e={draggables:{},droppables:{}},t=[];function r(u){return t.push(u),function(){var m=t.indexOf(u);m!==-1&&t.splice(m,1)}}function n(u){t.length&&t.forEach(function(d){return d(u)})}function s(u){return e.draggables[u]||null}function i(u){var d=s(u);return d||z(!1),d}var a={register:function(d){e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:function(d,m){var h=e.draggables[m.descriptor.id];h&&h.uniqueId===d.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:function(d){var m=d.descriptor.id,h=s(m);h&&d.uniqueId===h.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:d}))},getById:i,findById:s,exists:function(d){return!!s(d)},getAllByType:function(d){return lo(e.draggables).filter(function(m){return m.descriptor.type===d})}};function l(u){return e.droppables[u]||null}function c(u){var d=l(u);return d||z(!1),d}var p={register:function(d){e.droppables[d.descriptor.id]=d},unregister:function(d){var m=l(d.descriptor.id);m&&d.uniqueId===m.uniqueId&&delete e.droppables[d.descriptor.id]},getById:c,findById:l,exists:function(d){return!!l(d)},getAllByType:function(d){return lo(e.droppables).filter(function(m){return m.descriptor.type===d})}};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:p,subscribe:r,clean:f}}function w1(){var e=ae(S1,[]);return j.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var gu=xe.createContext(null),uo=function(){var e=document.body;return e||z(!1),e},N1={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},E1=function(t){return"rbd-announcement-"+t};function C1(e){var t=ae(function(){return E1(e)},[e]),r=j.useRef(null);j.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),X(i.style,N1),uo().appendChild(i),function(){setTimeout(function(){var c=uo();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=J(function(s){var i=r.current;if(i){i.textContent=s;return}},[]);return n}var j1=0,D1={separator:"::"};function hu(e,t){return t===void 0&&(t=D1),ae(function(){return""+e+t.separator+j1++},[t.separator,e])}function k1(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function I1(e){var t=e.contextId,r=e.text,n=hu("hidden-text",{separator:"-"}),s=ae(function(){return k1({contextId:t,uniqueId:n})},[n,t]);return j.useEffect(function(){var a=document.createElement("div");return a.id=s,a.textContent=r,a.style.display="none",uo().appendChild(a),function(){var c=uo();c.contains(a)&&c.removeChild(a)}},[s,r]),s}var Ko=xe.createContext(null);function Jg(e){var t=j.useRef(e);return j.useEffect(function(){t.current=e}),t}function T1(){var e=null;function t(){return!!e}function r(a){return a===e}function n(a){e&&z(!1);var l={abandon:a};return e=l,l}function s(){e||z(!1),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:i}}var R1=9,P1=13,vu=27,Xg=32,M1=33,O1=34,L1=35,A1=36,B1=37,F1=38,$1=39,z1=40,vi,U1=(vi={},vi[P1]=!0,vi[R1]=!0,vi),Zg=function(e){U1[e.keyCode]&&e.preventDefault()},Qo=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=Ir(t,function(n){return"on"+n in document});return r||e}(),eh=0,vp=5;function H1(e,t){return Math.abs(t.x-e.x)>=vp||Math.abs(t.y-e.y)>=vp}var xp={type:"IDLE"};function G1(e){var t=e.cancel,r=e.completed,n=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(a){var l=a.button,c=a.clientX,p=a.clientY;if(l===eh){var f={x:c,y:p},u=n();if(u.type==="DRAGGING"){a.preventDefault(),u.actions.move(f);return}u.type!=="PENDING"&&z(!1);var d=u.point;if(H1(d,f)){a.preventDefault();var m=u.actions.fluidLift(f);s({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(a){var l=n();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(a){n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:function(a){var l=n();if(l.type==="PENDING"){t();return}if(a.keyCode===vu){a.preventDefault(),t();return}Zg(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(a){var l=n();if(l.type==="IDLE"&&z(!1),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:Qo,fn:t}]}function _1(e){var t=j.useRef(xp),r=j.useRef(yr),n=ae(function(){return{eventName:"mousedown",fn:function(u){if(!u.defaultPrevented&&u.button===eh&&!(u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)){var d=e.findClosestDraggableId(u);if(d){var m=e.tryGetLock(d,a,{sourceEvent:u});if(m){u.preventDefault();var h={x:u.clientX,y:u.clientY};r.current(),p(m,h)}}}}}},[e]),s=ae(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(u){if(!u.defaultPrevented){var d=e.findClosestDraggableId(u);if(d){var m=e.findOptionsForDraggable(d);m&&(m.shouldRespectForcePress||e.canGetLock(d)&&u.preventDefault())}}}}},[e]),i=J(function(){var u={passive:!1,capture:!0};r.current=St(window,[s,n],u)},[s,n]),a=J(function(){var f=t.current;f.type!=="IDLE"&&(t.current=xp,r.current(),i())},[i]),l=J(function(){var f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=J(function(){var u={capture:!0,passive:!1},d=G1({cancel:l,completed:a,getPhase:function(){return t.current},setPhase:function(h){t.current=h}});r.current=St(window,d,u)},[l,a]),p=J(function(u,d){t.current.type!=="IDLE"&&z(!1),t.current={type:"PENDING",point:d,actions:u},c()},[c]);pt(function(){return i(),function(){r.current()}},[i])}var nn;function W1(){}var V1=(nn={},nn[O1]=!0,nn[M1]=!0,nn[A1]=!0,nn[L1]=!0,nn);function q1(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===vu){i.preventDefault(),r();return}if(i.keyCode===Xg){i.preventDefault(),n();return}if(i.keyCode===z1){i.preventDefault(),e.moveDown();return}if(i.keyCode===F1){i.preventDefault(),e.moveUp();return}if(i.keyCode===$1){i.preventDefault(),e.moveRight();return}if(i.keyCode===B1){i.preventDefault(),e.moveLeft();return}if(V1[i.keyCode]){i.preventDefault();return}Zg(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Qo,fn:r}]}function K1(e){var t=j.useRef(W1),r=ae(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==Xg)return;var a=e.findClosestDraggableId(i);if(!a)return;var l=e.tryGetLock(a,f,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,p=l.snapLift();t.current();function f(){c||z(!1),c=!1,t.current(),n()}t.current=St(window,q1(p,f),{capture:!0,passive:!1})}}},[e]),n=J(function(){var i={passive:!1,capture:!0};t.current=St(window,[r],i)},[r]);pt(function(){return n(),function(){t.current()}},[n])}var Ma={type:"IDLE"},Q1=120,Y1=.15;function J1(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.keyCode===vu&&s.preventDefault(),t()}},{eventName:Qo,fn:t}]}function X1(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;var l=i.touches[0],c=l.clientX,p=l.clientY,f={x:c,y:p};i.preventDefault(),a.actions.move(f)}},{eventName:"touchend",fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var a=n();a.type==="IDLE"&&z(!1);var l=i.touches[0];if(l){var c=l.force>=Y1;if(c){var p=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){p&&t();return}if(p){if(a.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:Qo,fn:t}]}function Z1(e){var t=j.useRef(Ma),r=j.useRef(yr),n=J(function(){return t.current},[]),s=J(function(m){t.current=m},[]),i=ae(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var h=e.findClosestDraggableId(m);if(h){var y=e.tryGetLock(h,l,{sourceEvent:m});if(y){var N=m.touches[0],v=N.clientX,g=N.clientY,x={x:v,y:g};r.current(),u(y,x)}}}}}},[e]),a=J(function(){var m={capture:!0,passive:!1};r.current=St(window,[i],m)},[i]),l=J(function(){var d=t.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),s(Ma),r.current(),a())},[a,s]),c=J(function(){var d=t.current;l(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[l]),p=J(function(){var m={capture:!0,passive:!1},h={cancel:c,completed:l,getPhase:n},y=St(window,X1(h),m),N=St(window,J1(h),m);r.current=function(){y(),N()}},[c,n,l]),f=J(function(){var m=n();m.type!=="PENDING"&&z(!1);var h=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:h,hasMoved:!1})},[n,s]),u=J(function(m,h){n().type!=="IDLE"&&z(!1);var y=setTimeout(f,Q1);s({type:"PENDING",point:h,actions:m,longPressTimerId:y}),p()},[p,n,s,f]);pt(function(){return a(),function(){r.current();var h=n();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),s(Ma))}},[n,a,s]),pt(function(){var m=St(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var ew={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function th(e,t){if(t==null)return!1;var r=!!ew[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:th(e,t.parentElement)}function tw(e,t){var r=t.target;return qo(r)?th(e,r):!1}var rw=function(e){return Pt(e.getBoundingClientRect()).center};function nw(e){return e instanceof Yg(e).Element}var sw=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=Ir(t,function(n){return n in Element.prototype});return r||e}();function rh(e,t){return e==null?null:e[sw](t)?e:rh(e.parentElement,t)}function iw(e,t){return e.closest?e.closest(t):rh(e,t)}function ow(e){return"["+Mn.contextId+'="'+e+'"]'}function aw(e,t){var r=t.target;if(!nw(r))return null;var n=ow(e),s=iw(r,n);return!s||!qo(s)?null:s}function lw(e,t){var r=aw(e,t);return r?r.getAttribute(Mn.draggableId):null}function cw(e,t){var r="["+$l.contextId+'="'+e+'"]',n=xg(document.querySelectorAll(r)),s=Ir(n,function(i){return i.getAttribute($l.id)===t});return!s||!qo(s)?null:s}function uw(e){e.preventDefault()}function xi(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function nh(e){var t=e.lockAPI,r=e.store,n=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(s);return!(!i||!i.options.isEnabled||!Vg(r.getState(),s))}function dw(e){var t=e.lockAPI,r=e.contextId,n=e.store,s=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent,c=nh({lockAPI:t,store:n,registry:s,draggableId:i});if(!c)return null;var p=s.draggable.getById(i),f=cw(r,p.descriptor.id);if(!f||l&&!p.options.canDragInteractiveElements&&tw(f,l))return null;var u=t.claim(a||yr),d="PRE_DRAG";function m(){return p.options.shouldRespectForcePress}function h(){return t.isActive(u)}function y(w,D){xi({expected:w,phase:d,isLockActive:h,shouldWarn:!0})&&n.dispatch(D())}var N=y.bind(null,"DRAGGING");function v(w){function D(){t.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(D(),d!=="PRE_DRAG"&&z(!1)),n.dispatch(sS(w.liftActionArgs)),d="DRAGGING";function k(R,M){if(M===void 0&&(M={shouldBlockNextClick:!1}),w.cleanup(),M.shouldBlockNextClick){var $=St(window,[{eventName:"click",fn:uw,options:{once:!0,passive:!1,capture:!0}}]);setTimeout($)}D(),n.dispatch($g({reason:R}))}return X({isActive:function(){return xi({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(M){return k("DROP",M)},cancel:function(M){return k("CANCEL",M)}},w.actions)}function g(w){var D=Rs(function(R){N(function(){return Fg({client:R})})}),k=v({liftActionArgs:{id:i,clientSelection:w,movementMode:"FLUID"},cleanup:function(){return D.cancel()},actions:{move:D}});return X({},k,{move:D})}function x(){var w={moveUp:function(){return N(fS)},moveRight:function(){return N(gS)},moveDown:function(){return N(mS)},moveLeft:function(){return N(hS)}};return v({liftActionArgs:{id:i,clientSelection:rw(f),movementMode:"SNAP"},cleanup:yr,actions:w})}function b(){var w=xi({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0});w&&t.release()}var C={isActive:function(){return xi({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:g,snapLift:x,abort:b};return C}var pw=[_1,K1,Z1];function fw(e){var t=e.contextId,r=e.store,n=e.registry,s=e.customSensors,i=e.enableDefaultSensors,a=[].concat(i?pw:[],s||[]),l=j.useState(function(){return T1()})[0],c=J(function(g,x){g.isDragging&&!x.isDragging&&l.tryAbandon()},[l]);pt(function(){var g=r.getState(),x=r.subscribe(function(){var b=r.getState();c(g,b),g=b});return x},[l,r,c]),pt(function(){return l.tryAbandon},[l.tryAbandon]);for(var p=J(function(v){return nh({lockAPI:l,registry:n,store:r,draggableId:v})},[l,n,r]),f=J(function(v,g,x){return dw({lockAPI:l,registry:n,contextId:t,store:r,draggableId:v,forceSensorStop:g,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null})},[t,l,n,r]),u=J(function(v){return lw(t,v)},[t]),d=J(function(v){var g=n.draggable.findById(v);return g?g.options:null},[n.draggable]),m=J(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(au()))},[l,r]),h=J(l.isClaimed,[l]),y=ae(function(){return{canGetLock:p,tryGetLock:f,findClosestDraggableId:u,findOptionsForDraggable:d,tryReleaseLock:m,isLockClaimed:h}},[p,f,u,d,m,h]),N=0;N<a.length;N++)a[N](y)}var mw=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Jn(e){return e.current||z(!1),e.current}function gw(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,s=e.nonce,i=e.dragHandleUsageInstructions,a=j.useRef(null),l=Jg(e),c=J(function(){return mw(l.current)},[l]),p=C1(t),f=I1({contextId:t,text:i}),u=x1(t,s),d=J(function(R){Jn(a).dispatch(R)},[]),m=ae(function(){return Ud({publishWhileDragging:oS,updateDroppableScroll:lS,updateDroppableIsEnabled:cS,updateDroppableIsCombineEnabled:uS,collectionStarting:aS},d)},[d]),h=w1(),y=ae(function(){return YS(h,m)},[h,m]),N=ae(function(){return f1(X({scrollWindow:JS,scrollDroppable:y.scrollDroppable},Ud({move:Fg},d)))},[y.scrollDroppable,d]),v=b1(t),g=ae(function(){return VS({announce:p,autoScroller:N,dimensionMarshal:y,focusMarshal:v,getResponders:c,styleMarshal:u})},[p,N,y,v,c,u]);a.current=g;var x=J(function(){var R=Jn(a),M=R.getState();M.phase!=="IDLE"&&R.dispatch(au())},[]),b=J(function(){var R=Jn(a).getState();return R.isDragging||R.phase==="DROP_ANIMATING"},[]),C=ae(function(){return{isDragging:b,tryAbort:x}},[b,x]);r(C);var w=J(function(R){return Vg(Jn(a).getState(),R)},[]),D=J(function(){return Lr(Jn(a).getState())},[]),k=ae(function(){return{marshal:y,focus:v,contextId:t,canLift:w,isMovementAllowed:D,dragHandleUsageInstructionsId:f,registry:h}},[t,y,f,v,w,D,h]);return fw({contextId:t,store:g,registry:h,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),j.useEffect(function(){return x},[x]),xe.createElement(Ko.Provider,{value:k},xe.createElement(Ax,{context:gu,store:g},e.children))}var hw=0;function vw(){return ae(function(){return""+hw++},[])}function sh(e){var t=vw(),r=e.dragHandleUsageInstructions||Pi.dragHandleUsageInstructions;return xe.createElement(Ky,null,function(n){return xe.createElement(gw,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var ih=function(t){return function(r){return t===r}},xw=ih("scroll"),yw=ih("auto"),yp=function(t,r){return r(t.overflowX)||r(t.overflowY)},bw=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return yp(n,xw)||yp(n,yw)},Sw=function(){return!1},ww=function e(t){return t==null?null:t===document.body?Sw()?t:null:t===document.documentElement?null:bw(t)?t:e(t.parentElement)},zl=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Nw=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},Ew=function(e){var t=ww(e),r=Nw(e);return{closestScrollable:t,isFixedOnPage:r}},Cw=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,s=e.isFixedOnPage,i=e.direction,a=e.client,l=e.page,c=e.closest,p=function(){if(!c)return null;var m=c.scrollSize,h=c.client,y=Gg({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:h,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:y,diff:{value:Ae,displacement:Ae}}}}(),f=i==="vertical"?ru:Ng,u=Rn({page:l,withPlaceholder:null,axis:f,frame:p}),d={descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:f,isEnabled:r,client:a,page:l,frame:p,subject:u};return d},jw=function(t,r){var n=fg(t);if(!r||t!==r)return n;var s=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,a=s+r.scrollHeight,l=i+r.scrollWidth,c={top:s,right:l,bottom:a,left:i},p=Jc(c,n.border),f=Xc({borderBox:p,margin:n.margin,border:n.border,padding:n.padding});return f},Dw=function(e){var t=e.ref,r=e.descriptor,n=e.env,s=e.windowScroll,i=e.direction,a=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,p=n.closestScrollable,f=jw(t,p),u=io(f,s),d=function(){if(!p)return null;var h=fg(p),y={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:h,page:io(h,s),scroll:zl(p),scrollSize:y,shouldClipSubject:c}}(),m=Cw({descriptor:r,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:u,closest:d});return m},kw={passive:!1},Iw={passive:!0},bp=function(e){return e.shouldPublishImmediately?kw:Iw};function po(e){var t=j.useContext(e);return t||z(!1),t}var yi=function(t){return t&&t.env.closestScrollable||null};function Tw(e){var t=j.useRef(null),r=po(Ko),n=hu("droppable"),s=r.registry,i=r.marshal,a=Jg(e),l=ae(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=j.useRef(l),p=ae(function(){return Le(function(b,C){t.current||z(!1);var w={x:b,y:C};i.updateDroppableScroll(l.id,w)})},[l.id,i]),f=J(function(){var b=t.current;return!b||!b.env.closestScrollable?Ae:zl(b.env.closestScrollable)},[]),u=J(function(){var b=f();p(b.x,b.y)},[f,p]),d=ae(function(){return Rs(u)},[u]),m=J(function(){var b=t.current,C=yi(b);b&&C||z(!1);var w=b.scrollOptions;if(w.shouldPublishImmediately){u();return}d()},[d,u]),h=J(function(b,C){t.current&&z(!1);var w=a.current,D=w.getDroppableRef();D||z(!1);var k=Ew(D),R={ref:D,descriptor:l,env:k,scrollOptions:C};t.current=R;var M=Dw({ref:D,descriptor:l,env:k,windowScroll:b,direction:w.direction,isDropDisabled:w.isDropDisabled,isCombineEnabled:w.isCombineEnabled,shouldClipSubject:!w.ignoreContainerClipping}),$=k.closestScrollable;return $&&($.setAttribute(gp.contextId,r.contextId),$.addEventListener("scroll",m,bp(R.scrollOptions))),M},[r.contextId,l,m,a]),y=J(function(){var b=t.current,C=yi(b);return b&&C||z(!1),zl(C)},[]),N=J(function(){var b=t.current;b||z(!1);var C=yi(b);t.current=null,C&&(d.cancel(),C.removeAttribute(gp.contextId),C.removeEventListener("scroll",m,bp(b.scrollOptions)))},[m,d]),v=J(function(b){var C=t.current;C||z(!1);var w=yi(C);w||z(!1),w.scrollTop+=b.y,w.scrollLeft+=b.x},[]),g=ae(function(){return{getDimensionAndWatchScroll:h,getScrollWhileDragging:y,dragStopped:N,scroll:v}},[N,h,y,v]),x=ae(function(){return{uniqueId:n,descriptor:l,callbacks:g}},[g,l,n]);pt(function(){return c.current=x.descriptor,s.droppable.register(x),function(){t.current&&N(),s.droppable.unregister(x)}},[g,l,N,x,i,s.droppable]),pt(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),pt(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Oa(){}var Sp={width:0,height:0,margin:eb},Rw=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate;return r||s==="close"?Sp:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},Pw=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate,i=Rw({isAnimatingOpenOnMount:r,placeholder:n,animate:s});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?ps.placeholder:null}};function Mw(e){var t=j.useRef(null),r=J(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,s=e.onTransitionEnd,i=e.onClose,a=e.contextId,l=j.useState(e.animate==="open"),c=l[0],p=l[1];j.useEffect(function(){return c?n!=="open"?(r(),p(!1),Oa):t.current?Oa:(t.current=setTimeout(function(){t.current=null,p(!1)}),r):Oa},[n,c,r]);var f=J(function(d){d.propertyName==="height"&&(s(),n==="close"&&i())},[n,i,s]),u=Pw({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return xe.createElement(e.placeholder.tagName,{style:u,"data-rbd-placeholder-context-id":a,onTransitionEnd:f,ref:e.innerRef})}var Ow=xe.memo(Mw),xu=xe.createContext(null),Lw=function(e){Vm(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(s,i){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(xe.PureComponent),wp={dragging:5e3,dropAnimating:4500},Aw=function(t,r){return r?ps.drop(r.duration):t?ps.snap:ps.fluid},Bw=function(t,r){return t?r?Ls.opacity.drop:Ls.opacity.combining:null},Fw=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function $w(e){var t=e.dimension,r=t.client,n=e.offset,s=e.combineWith,i=e.dropping,a=!!s,l=Fw(e),c=!!i,p=c?Bl.drop(n,a):Bl.moveTo(n),f={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Aw(l,i),transform:p,opacity:Bw(a,c),zIndex:c?wp.dropAnimating:wp.dragging,pointerEvents:"none"};return f}function zw(e){return{transform:Bl.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Uw(e){return e.type==="DRAGGING"?$w(e):zw(e)}function Hw(e,t,r){r===void 0&&(r=Ae);var n=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=pg(s,n),a=io(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},p={descriptor:e,placeholder:l,displaceBy:c,client:i,page:a};return p}function Gw(e){var t=hu("draggable"),r=e.descriptor,n=e.registry,s=e.getDraggableRef,i=e.canDragInteractiveElements,a=e.shouldRespectForcePress,l=e.isEnabled,c=ae(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}},[i,l,a]),p=J(function(m){var h=s();return h||z(!1),Hw(r,h,m)},[r,s]),f=ae(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:p}},[r,p,c,t]),u=j.useRef(f),d=j.useRef(!0);pt(function(){return n.draggable.register(u.current),function(){return n.draggable.unregister(u.current)}},[n.draggable]),pt(function(){if(d.current){d.current=!1;return}var m=u.current;u.current=f,n.draggable.update(f,m)},[f,n.draggable])}function _w(e){e.preventDefault()}function Ww(e){var t=j.useRef(null),r=J(function(R){t.current=R},[]),n=J(function(){return t.current},[]),s=po(Ko),i=s.contextId,a=s.dragHandleUsageInstructionsId,l=s.registry,c=po(xu),p=c.type,f=c.droppableId,u=ae(function(){return{id:e.draggableId,index:e.index,type:p,droppableId:f}},[e.draggableId,e.index,p,f]),d=e.children,m=e.draggableId,h=e.isEnabled,y=e.shouldRespectForcePress,N=e.canDragInteractiveElements,v=e.isClone,g=e.mapped,x=e.dropAnimationFinished;if(!v){var b=ae(function(){return{descriptor:u,registry:l,getDraggableRef:n,canDragInteractiveElements:N,shouldRespectForcePress:y,isEnabled:h}},[u,l,n,N,y,h]);Gw(b)}var C=ae(function(){return h?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:_w}:null},[i,a,m,h]),w=J(function(R){g.type==="DRAGGING"&&g.dropping&&R.propertyName==="transform"&&x()},[x,g]),D=ae(function(){var R=Uw(g),M=g.type==="DRAGGING"&&g.dropping?w:null,$={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":m,style:R,onTransitionEnd:M},dragHandleProps:C};return $},[i,C,m,g,w,r]),k=ae(function(){return{draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}},[u.droppableId,u.id,u.index,u.type]);return d(D,g.snapshot,k)}var oh=function(e,t){return e===t},ah=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},Vw=function(t){return t.combine?t.combine.draggableId:null},qw=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Kw(){var e=Le(function(s,i){return{x:s,y:i}}),t=Le(function(s,i,a,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:a,combineWith:l,combineTargetFor:null}}),r=Le(function(s,i,a,l,c,p,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:p,mode:i,offset:s,dimension:a,forceShouldAnimate:f,snapshot:t(i,l,c,p,null)}}}),n=function(i,a){if(i.isDragging){if(i.critical.draggable.id!==a.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],p=dt(i.impact),f=qw(i.impact),u=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,c,a.isClone,p,f,u)}if(i.phase==="DROP_ANIMATING"){var d=i.completed;if(d.result.draggableId!==a.draggableId)return null;var m=a.isClone,h=i.dimensions.draggables[a.draggableId],y=d.result,N=y.mode,v=ah(y),g=Vw(y),x=i.dropDuration,b={duration:x,curve:cu.drop,moveTo:i.newHomeClientOffset,opacity:g?Ls.opacity.drop:null,scale:g?Ls.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:h,dropping:b,draggingOver:v,combineWith:g,mode:N,forceShouldAnimate:null,snapshot:t(N,m,v,g,b)}}}return null};return n}function lh(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Qw={mapped:{type:"SECONDARY",offset:Ae,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:lh(null)}};function Yw(){var e=Le(function(a,l){return{x:a,y:l}}),t=Le(lh),r=Le(function(a,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(Ae,l,!0):null},s=function(l,c,p,f){var u=p.displaced.visible[l],d=!!(f.inVirtualList&&f.effected[l]),m=_o(p),h=m&&m.draggableId===l?c:null;if(!u){if(!d)return n(h);if(p.displaced.invisible[l])return null;var y=Bn(f.displacedBy.point),N=e(y.x,y.y);return r(N,h,!0)}if(d)return n(h);var v=p.displacedBy.point,g=e(v.x,v.y);return r(g,h,u.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:s(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var p=l.completed;return p.result.draggableId===c.draggableId?null:s(c.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null};return i}var Jw=function(){var t=Kw(),r=Yw(),n=function(i,a){return t(i,a)||r(i,a)||Qw};return n},Xw={dropAnimationFinished:zg},Zw=ug(Jw,Xw,null,{context:gu,pure:!0,areStatePropsEqual:oh})(Ww);function ch(e){var t=po(xu),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:xe.createElement(Zw,e)}function uh(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return xe.createElement(ch,X({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function eN(e){var t=j.useContext(Ko);t||z(!1);var r=t.contextId,n=t.isMovementAllowed,s=j.useRef(null),i=j.useRef(null),a=e.children,l=e.droppableId,c=e.type,p=e.mode,f=e.direction,u=e.ignoreContainerClipping,d=e.isDropDisabled,m=e.isCombineEnabled,h=e.snapshot,y=e.useClone,N=e.updateViewportMaxScroll,v=e.getContainerForClone,g=J(function(){return s.current},[]),x=J(function($){s.current=$},[]);J(function(){return i.current},[]);var b=J(function($){i.current=$},[]),C=J(function(){n()&&N({maxScroll:Wg()})},[n,N]);Tw({droppableId:l,type:c,mode:p,direction:f,isDropDisabled:d,isCombineEnabled:m,ignoreContainerClipping:u,getDroppableRef:g});var w=xe.createElement(Lw,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function($){var W=$.onClose,Q=$.data,V=$.animate;return xe.createElement(Ow,{placeholder:Q,onClose:W,innerRef:b,animate:V,contextId:r,onTransitionEnd:C})}),D=ae(function(){return{innerRef:x,placeholder:w,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,w,x]),k=y?y.dragging.draggableId:null,R=ae(function(){return{droppableId:l,type:c,isUsingCloneFor:k}},[l,k,c]);function M(){if(!y)return null;var $=y.dragging,W=y.render,Q=xe.createElement(ch,{draggableId:$.draggableId,index:$.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(V,B){return W(V,B,$)});return U0.createPortal(Q,v())}return xe.createElement(xu.Provider,{value:R},a(D,h),M())}var La=function(t,r){return t===r.droppable.type},Np=function(t,r){return r.draggables[t.draggable.id]},tN=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=X({},t,{shouldAnimatePlaceholder:!1}),n=Le(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),s=Le(function(a,l,c,p,f,u){var d=f.descriptor.id,m=f.descriptor.droppableId===a;if(m){var h=u?{render:u,dragging:n(f.descriptor)}:null,y={isDraggingOver:c,draggingOverWith:c?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:h}}if(!l)return r;if(!p)return t;var N={isDraggingOver:c,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:N,useClone:null}}),i=function(l,c){var p=c.droppableId,f=c.type,u=!c.isDropDisabled,d=c.renderClone;if(l.isDragging){var m=l.critical;if(!La(f,m))return r;var h=Np(m,l.dimensions),y=dt(l.impact)===p;return s(p,u,y,y,h,d)}if(l.phase==="DROP_ANIMATING"){var N=l.completed;if(!La(f,N.critical))return r;var v=Np(N.critical,l.dimensions);return s(p,u,ah(N.result)===p,dt(N.impact)===p,v,d)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var g=l.completed;if(!La(f,g.critical))return r;var x=dt(g.impact)===p,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),C=g.critical.droppable.id===p;return x?b?t:r:C?t:r}return r};return i},rN={updateViewportMaxScroll:pS};function nN(){return document.body||z(!1),document.body}var sN={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:nN},dh=ug(tN,rN,null,{context:gu,pure:!0,areStatePropsEqual:oh})(eN);dh.defaultProps=sN;const iN=e=>{const t=e.trim();return t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")},oN=e=>{const t=e.trim();return t.startsWith("<")&&t.includes(">")},aN=e=>{try{const t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(t){return console.warn("Failed to parse JSON response:",t),e}},lN=e=>{if(!e.trim().startsWith("<"))return e;try{let t=e.replace(/></g,`>
<`).replace(/^\s+|\s+$/g,"").split(`
`),r="",n=0;for(let s of t){const i=s.trim();i&&(i.startsWith("</")&&(n=Math.max(0,n-1)),r+="  ".repeat(n)+i+`
`,i.startsWith("<")&&!i.startsWith("</")&&!i.endsWith("/>")&&!i.includes("</",1)&&n++)}return r.trim()}catch(t){return console.warn("Failed to format XML response:",t),e}},cN=e=>{try{const t=JSON.parse(e);return t.code!==void 0?{hasError:!0,errorDetails:t.message||t.description||`Error code: ${t.code}`}:t.error?{hasError:!0,errorDetails:t.error}:t.success===!1?{hasError:!0,errorDetails:t.message||t.error||"Operation failed"}:t.status==="error"||t.status==="failed"?{hasError:!0,errorDetails:t.message||t.error||"Operation failed"}:t.statusCode&&t.statusCode>=400?{hasError:!0,errorDetails:`HTTP ${t.statusCode}: ${t.message||"Error"}`}:t.errorMessage?{hasError:!0,errorDetails:t.errorMessage}:t.errors&&Array.isArray(t.errors)&&t.errors.length>0?{hasError:!0,errorDetails:t.errors.join(", ")}:{hasError:!1}}catch{return e.includes('"code":')?{hasError:!0,errorDetails:"JSON response contains error code"}:{hasError:e.includes("ERR|"),errorDetails:e.includes("ERR|")?"HL7 Error detected":void 0}}},uN=e=>{try{const t=e.match(/<faultstring>(.*?)<\/faultstring>/i);let r=t?t[1]:"";const n=e.match(/<text[^>]*>(.*?)<\/text>/i);return n&&n[1]&&(r=n[1].replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),r||"SOAP Fault detected"}catch{return"SOAP Fault detected (unable to parse details)"}},dN=e=>e.includes("ERR|")?{hasError:!0,errorDetails:"HL7 Error detected"}:e.toLowerCase().includes("<error>")||e.toLowerCase().includes("<fault>")||e.toLowerCase().includes("<exception>")?{hasError:!0,errorDetails:"XML Error detected"}:e.toLowerCase().includes("soap-env:fault")||e.toLowerCase().includes("soap:fault")||e.toLowerCase().includes("soapenv:fault")?{hasError:!0,errorDetails:uN(e)}:{hasError:!1},Yo=e=>{const t=e.trim();if(iN(t)){const n=cN(t);return{content:aN(t),format:"json",isFormatted:!0,hasError:n.hasError,errorDetails:n.errorDetails}}if(oN(t)){const n=dN(t);return{content:lN(t),format:"xml",isFormatted:!0,hasError:n.hasError,errorDetails:n.errorDetails}}const r=t.includes("ERR|");return{content:t,format:"text",isFormatted:!1,hasError:r,errorDetails:r?"HL7 Error detected":void 0}},fo=e=>Yo(e).hasError||!1,ph=({children:e,...t})=>{const[r,n]=j.useState(!1);return j.useEffect(()=>{const s=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(s),n(!1)}},[]),r?o.jsx(dh,{...t,children:e}):null},pN=({lists:e,activeListId:t,onSelectList:r,onCreateList:n,onUpdateList:s,onDeleteList:i,onDuplicateList:a,onExportList:l,onImportList:c,onReorderLists:p})=>{const[f,u]=j.useState(!1),[d,m]=j.useState(!1),[h,y]=j.useState(!1),[N,v]=j.useState(null),[g,x]=j.useState({name:"",description:"",color:"#3B82F6"}),b=j.useRef(null),C=e.find(B=>B.id===t),w=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#6B7280","#F97316"];j.useEffect(()=>{const B=O=>{b.current&&!b.current.contains(O.target)&&u(!1)},F=O=>{O.key==="Escape"&&(u(!1),m(!1),y(!1))};return f&&(document.addEventListener("mousedown",B),document.addEventListener("keydown",F)),()=>{document.removeEventListener("mousedown",B),document.removeEventListener("keydown",F)}},[f]);const D=()=>{x({name:"",description:"",color:"#3B82F6"}),m(!0),u(!1)},k=B=>{x({name:B.name,description:B.description||"",color:B.color||"#3B82F6"}),v(B.id),y(!0),u(!1)},R=B=>{B.preventDefault(),B.stopPropagation(),g.name.trim()&&(n(g.name.trim(),g.description.trim()||void 0,g.color),m(!1),x({name:"",description:"",color:"#3B82F6"}))},M=B=>{B.preventDefault(),B.stopPropagation(),N&&g.name.trim()&&(s(N,{name:g.name.trim(),description:g.description.trim()||void 0,color:g.color}),y(!1),v(null),x({name:"",description:"",color:"#3B82F6"}))},$=B=>{if(!B.destination)return;const F=B.source.index,O=B.destination.index;F!==O&&p(F,O)},W=B=>{const F=prompt(`Nombre para la copia de "${B.name}":`,`${B.name} (Copia)`);F!=null&&F.trim()&&a(B.id,F.trim()),u(!1)},Q=B=>{if(e.length<=1){alert("No se puede eliminar la nica lista existente.");return}confirm(`Ests seguro de que quieres eliminar la lista "${B.name}"? Esta accin no se puede deshacer.`)&&i(B.id),u(!1)},V=({isOpen:B,onClose:F,title:O,children:E})=>B?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:T=>{T.target===T.currentTarget&&F()},children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",onClick:T=>T.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:O}),o.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600",children:""})]}),E]})}):null;return o.jsxs("div",{className:"relative",ref:b,children:[o.jsxs("button",{onClick:()=>u(!f),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(C==null?void 0:C.color)||"#3B82F6"}}),o.jsx("span",{className:"font-medium text-gray-700",children:(C==null?void 0:C.name)||"Sin lista"}),o.jsx(Er,{size:16,className:`text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),"      ",f&&o.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-300 rounded-lg shadow-lg z-50",onClick:B=>B.stopPropagation(),children:[o.jsx("div",{className:"p-2 border-b border-gray-200",children:o.jsxs("button",{onClick:D,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-md transition-colors",children:[o.jsx(vr,{size:16}),"Nueva Lista"]})}),"          ",o.jsx("div",{className:"max-h-60 overflow-y-auto",children:o.jsxs(sh,{onDragEnd:$,children:["              ",o.jsx(ph,{droppableId:"lists",children:(B,F)=>o.jsxs("div",{...B.droppableProps,ref:B.innerRef,className:`${F.isDraggingOver?"bg-blue-50 border-blue-200":""} transition-all duration-200 rounded-md`,children:[e.map((O,E)=>o.jsx(uh,{draggableId:O.id,index:E,children:(T,P)=>{var H;return o.jsx("div",{ref:T.innerRef,...T.draggableProps,className:`group relative border-b border-gray-100 last:border-b-0 transition-all duration-200 ${P.isDragging?"shadow-lg rounded-lg bg-white border border-blue-200 z-50 opacity-90":"hover:bg-gray-50 opacity-100"}`,style:{...T.draggableProps.style,...P.isDragging&&{transform:`${(H=T.draggableProps.style)==null?void 0:H.transform} rotate(1deg)`}},children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{...T.dragHandleProps,className:"flex items-center justify-center p-3 cursor-grab active:cursor-grabbing text-gray-500 hover:text-gray-700 opacity-70 group-hover:opacity-100 transition-opacity",children:o.jsx(Gm,{size:14})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("button",{onClick:()=>{r(O.id),u(!1)},className:`w-full flex items-center gap-3 px-3 py-3 text-sm transition-colors ${O.id===t?"bg-blue-50 text-blue-800 font-medium":"text-gray-800 hover:bg-gray-100 hover:text-gray-900"}`,children:[o.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:O.color||"#3B82F6"}}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:`font-semibold ${O.id===t?"text-blue-900":"text-gray-900"}`,children:O.name}),O.description&&o.jsx("div",{className:`text-xs truncate ${O.id===t?"text-blue-600":"text-gray-600"}`,children:O.description}),o.jsxs("div",{className:`text-xs ${O.id===t?"text-blue-500":"text-gray-500"}`,children:[O.messages.length," mensaje",O.messages.length!==1?"s":""]})]})]}),o.jsx("div",{className:"px-3 pb-2 opacity-70 group-hover:opacity-100 transition-opacity",children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx("button",{onClick:U=>{U.stopPropagation(),k(O)},className:"p-1.5 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded transition-colors",title:"Editar lista",children:o.jsx(px,{size:14})}),o.jsx("button",{onClick:U=>{U.stopPropagation(),W(O)},className:"p-1.5 text-gray-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors",title:"Duplicar lista",children:o.jsx(Z0,{size:14})}),o.jsx("button",{onClick:U=>{U.stopPropagation(),l(O.id)},className:"p-1.5 text-gray-600 hover:text-orange-700 hover:bg-orange-50 rounded transition-colors",title:"Exportar lista",children:o.jsx(tx,{size:14})}),e.length>1&&o.jsx("button",{onClick:U=>{U.stopPropagation(),Q(O)},className:"p-1.5 text-gray-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Eliminar lista",children:o.jsx(xr,{size:14})})]})})]})]})})}},O.id)),B.placeholder]})})]})}),o.jsx("div",{className:"p-2 border-t border-gray-200",children:o.jsxs("button",{onClick:()=>{c(),u(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-md transition-colors",children:[o.jsx(Cx,{size:16}),"Importar Lista"]})})]}),o.jsxs(V,{isOpen:d,onClose:()=>m(!1),title:"Nueva Lista",children:["        ",o.jsxs("form",{onSubmit:R,className:"space-y-4",children:["          ",o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),o.jsx("input",{type:"text",value:g.name,onChange:B=>x({...g,name:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de la lista",autoFocus:!0,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),o.jsx("textarea",{value:g.description,onChange:B=>x({...g,description:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripcin opcional",rows:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),o.jsx("div",{className:"flex gap-2",children:w.map(B=>o.jsx("button",{type:"button",onClick:()=>x({...g,color:B}),className:`w-8 h-8 rounded-full border-2 transition-all ${g.color===B?"border-gray-400 scale-110":"border-gray-200"}`,style:{backgroundColor:B}},B))})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Crear"})]})]})]}),o.jsxs(V,{isOpen:h,onClose:()=>y(!1),title:"Editar Lista",children:["        ",o.jsxs("form",{onSubmit:M,className:"space-y-4",children:[o.jsxs("div",{children:["            ",o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),"            ",o.jsx("input",{type:"text",value:g.name,onChange:B=>x({...g,name:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de la lista",autoFocus:!0,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),o.jsx("textarea",{value:g.description,onChange:B=>x({...g,description:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripcin opcional",rows:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),o.jsx("div",{className:"flex gap-2",children:w.map(B=>o.jsx("button",{type:"button",onClick:()=>x({...g,color:B}),className:`w-8 h-8 rounded-full border-2 transition-all ${g.color===B?"border-gray-400 scale-110":"border-gray-200"}`,style:{backgroundColor:B}},B))})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Guardar"})]})]})]}),"      ",(f||d||h)&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{u(!1)}})]})},Br=class Br{constructor(){fe(this,"state");fe(this,"callbacks",new Set);fe(this,"autoCloseTimeout",null);this.state={isVisible:!1,message:"",type:"info"}}static getInstance(){return Br.instance||(Br.instance=new Br),Br.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}show(t,r="info",n=!0){this.autoCloseTimeout&&(window.clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.updateState({isVisible:!0,message:t,type:r}),n&&(this.autoCloseTimeout=window.setTimeout(()=>{this.close()},5e3))}showSuccess(t,r=!0){this.show(t,"success",r)}showError(t,r=!0){this.show(t,"error",r)}showWarning(t,r=!0){this.show(t,"warning",r)}showInfo(t,r=!0){this.show(t,"info",r)}close(){this.autoCloseTimeout&&(window.clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.updateState({isVisible:!1})}isVisible(){return this.state.isVisible}getCurrentMessage(){return this.state.message}getCurrentType(){return this.state.type}clear(){this.autoCloseTimeout&&(clearTimeout(this.autoCloseTimeout),this.autoCloseTimeout=null),this.state={isVisible:!1,message:"",type:"info"},this.notifySubscribers()}};fe(Br,"instance");let Ul=Br;const Pe=Ul.getInstance(),fN=({children:e,content:t,position:r="bottom"})=>{const[n,s]=j.useState(!1);if(!t.trim())return o.jsx(o.Fragment,{children:e});const i={top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"},a={top:"top-full left-1/2 transform -translate-x-1/2 -mt-1",bottom:"bottom-full left-1/2 transform -translate-x-1/2 -mb-1",left:"left-full top-1/2 transform -translate-y-1/2 -ml-1",right:"right-full top-1/2 transform -translate-y-1/2 -mr-1"};return o.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[e,n&&o.jsxs("div",{className:`absolute z-50 px-3 py-2 text-sm text-white bg-gray-800 rounded-lg shadow-lg whitespace-normal max-w-xs ${i[r]}`,style:{wordBreak:"break-word",minWidth:"200px",maxWidth:"300px"},children:[t,o.jsx("div",{className:`absolute w-2 h-2 bg-gray-800 transform rotate-45 ${a[r]}`})]})]})},mN=({isOpen:e,onClose:t,onMessageClick:r,onEditMessage:n})=>{const[s,i]=j.useState(new Set),[a,l]=j.useState([]),[c,p]=j.useState(null),[f,u]=j.useState(!1),[d,m]=j.useState(!1),[h,y]=j.useState(-1),[N,v]=j.useState(null),[g,x]=j.useState(3),[b,C]=j.useState(!1),[w,D]=j.useState(384),[k,R]=j.useState(!1),M=j.useRef(!1),$=a.find(S=>S.id===c),W=($==null?void 0:$.messages)||[];j.useEffect(()=>me.subscribe((I,te)=>{l(I),p(te)}),[]);const Q=j.useMemo(()=>{let S=300;const I=W.reduce((he,De)=>{const ke=(De.host+De.messageType).length+5;return ke>he?ke:he},0),te=$!=null&&$.name?$.name.length+15:0,Y=$!=null&&$.description?$.description.length+10:0,ie=18+5,K=Math.max(I,te,Y,ie)*8+120;return S=Math.min(Math.max(K,320),650),S},[W,$]);j.useEffect(()=>{D(Q)},[Q]);const V=S=>{if(M.current){const I=window.innerWidth-S.clientX;D(Math.min(Math.max(I,320),650))}},B=()=>{M.current=!1,R(!1),document.body.style.cursor="",document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",B)};if(j.useEffect(()=>()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",B),document.body.style.cursor="",N&&clearTimeout(N)},[N]),!e)return null;const F=S=>{if(!S.destination)return;const I=S.source.index,te=S.destination.index;I!==te&&me.reorderMessages(I,te)},O=S=>{M.current=!0,R(!0),document.body.style.cursor="col-resize",document.addEventListener("mousemove",V),document.addEventListener("mouseup",B)},E=S=>new Date(S).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),T=S=>{const I=new Set(s);I.has(S)?I.delete(S):I.add(S),i(I)},P=async S=>{try{await me.sendMessage(S)}catch(I){console.error("Error sending message:",I),alert("Error al enviar el mensaje. Por favor, intenta de nuevo.")}},H=async()=>{if(W.length!==0){u(!0);try{for(const S of W)await me.sendMessage(S)}catch(S){console.error("Error sending all messages:",S),alert("Error al enviar los mensajes. Algunos mensajes pueden no haberse enviado.")}finally{u(!1)}}},U=async()=>{if(W.length===0)return;m(!0),y(0);const S=async I=>{if(I>=W.length){m(!1),y(-1);return}const te=W[I];y(I);try{console.log(` Sending message ${I+1}/${W.length}: ${te.messageType}`);const Y=await me.sendMessage(te);if(console.log(` Received ${Y.length} response(s) for message ${I+1}:`),Y.forEach((ne,K)=>{console.log(`  Response ${K+1}:`,ne.message)}),Y&&Y.length>0&&Y.some(ne=>{if(!ne.message)return!1;const K=ne.message.toLowerCase();return!!(K.includes("ack")||K.includes("msa")||K.includes("acknowledgment")||K.includes("<issuccessful>")||K.includes("<succeed>")||K.includes("success")&&!K.includes("false")||K.includes("200 ok")||K.includes("status: 200"))}))console.log(` ACK received for message ${I+1}, sending next immediately`),setTimeout(()=>S(I+1),100);else{console.log(` No ACK received for message ${I+1}, waiting ${g} seconds`);const ne=window.setTimeout(()=>{console.log(` ${g} seconds elapsed, sending next message ${I+2}`),S(I+1)},g*1e3);v(ne)}}catch(Y){console.error(` Error sending message ${I+1}:`,Y);const ie=window.setTimeout(()=>{console.log(` Retrying after error, sending message ${I+2}`),S(I+1)},g*1e3);v(ie)}};try{await S(0)}catch(I){console.error("Error in send with waiting ACK process:",I),m(!1),y(-1)}},L=async()=>{try{await _r.deleteAllMessages(),me.clearAllResponses(),Pe.showSuccess("Deleted all messages from monitoring. All acks deleted successfully")}catch(S){console.error("Failed to clear all responses:",S),me.clearAllResponses(),Pe.showWarning("Ack deleted (Server error)")}},q=S=>{W.find(te=>te.id===S)&&c&&(me.clearMessageResponses(S),Pe.showInfo("Message responses cleared successfully"))},_=S=>{me.removeMessage(S)},Z=S=>{try{const I=me.exportList(S),te=new Blob([I],{type:"application/json"}),Y=URL.createObjectURL(te),ie=document.createElement("a"),ne=a.find(K=>K.id===S);ie.href=Y,ie.download=`${(ne==null?void 0:ne.name)||"lista"}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),URL.revokeObjectURL(Y)}catch(I){console.error("Error exporting list:",I),alert("Error al exportar la lista.")}},ee=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=async I=>{var Y,ie,ne,K,he;const te=(Y=I.target.files)==null?void 0:Y[0];if(te)try{const De=await te.text(),ke=JSON.parse(De),de=me.createList(((ie=ke.listInfo)==null?void 0:ie.name)||"Lista Importada",(ne=ke.listInfo)==null?void 0:ne.description,(K=ke.listInfo)==null?void 0:K.color);if(ke.messages&&Array.isArray(ke.messages))for(const We of ke.messages)me.addMessage(We.content,We.host,We.messageType,We.messageControlId,de.id);alert(`Lista "${de.name}" importada exitosamente con ${((he=ke.messages)==null?void 0:he.length)||0} mensajes.`)}catch(De){console.error("Error importing list:",De),alert("Error al importar la lista. Verifica que el archivo sea vlido.")}},S.click()};return o.jsxs("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-lg border-l border-gray-200 z-50 transform transition-transform duration-300 flex flex-col",style:{width:`${w}px`,transition:k?"none":"width 0.2s ease"},children:[o.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 -ml-1 cursor-col-resize hover:bg-blue-200 active:bg-blue-300 z-10",onMouseDown:O}),o.jsxs("div",{className:"flex flex-col p-3 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mensajes Guardados"}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:o.jsx(At,{size:20})})]}),"        ",o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsxs("div",{className:"flex-1",children:["            ",o.jsx(pN,{lists:a,activeListId:c,onSelectList:S=>me.setActiveList(S),onCreateList:(S,I,te)=>me.createList(S,I,te),onUpdateList:(S,I)=>me.updateList(S,I),onDeleteList:S=>me.deleteList(S),onDuplicateList:(S,I)=>me.duplicateList(S,I),onExportList:Z,onImportList:ee,onReorderLists:(S,I)=>me.reorderLists(S,I)})]}),W.length>0&&o.jsx("button",{onClick:L,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Limpiar todas las respuestas de esta lista",children:o.jsx(Ml,{size:18})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:W.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("p",{className:"text-gray-500",children:"No hay mensajes en esta lista"})}):o.jsxs(sh,{onDragEnd:F,children:["            ",o.jsx(ph,{droppableId:"messages",children:S=>o.jsxs("div",{className:"p-3 space-y-3",...S.droppableProps,ref:S.innerRef,children:[W.map((I,te)=>{var ne;const Y=I.responses&&I.responses.length>0,ie=Y&&((ne=I.responses)==null?void 0:ne.some(K=>fo(K.message)));return o.jsx(uh,{draggableId:I.id,index:te,children:(K,he)=>{var De,ke;return o.jsxs("div",{ref:K.innerRef,...K.draggableProps,className:`rounded-lg border transition-shadow ${he.isDragging?"shadow-lg":""} ${ie?"bg-red-50 border-red-200":Y?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center border-b border-gray-200",children:[o.jsx("div",{...K.dragHandleProps,className:"flex items-center justify-center p-2 cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600",children:o.jsx(Gm,{size:16})}),o.jsx("div",{className:"flex-1 p-2",children:o.jsx(fN,{content:I.comment||"",position:"bottom",children:o.jsxs("div",{className:"text-sm flex items-center",children:[o.jsx("span",{className:"font-medium text-blue-600",children:I.host}),o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:`${ie?"text-red-700":Y?"text-green-700":"text-gray-700"}`,children:I.messageType}),I.comment&&o.jsx("span",{className:"ml-2 text-orange-500",title:"Tiene comentarios",children:o.jsx(lx,{size:14})})]})})})]}),o.jsx("div",{className:"cursor-pointer",onClick:()=>r(I),children:o.jsxs("div",{className:"p-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("div",{className:"text-xs text-gray-500",children:I.sentTimestamp?`Enviado: ${E(I.sentTimestamp)}`:""}),o.jsxs("div",{className:"flex gap-1",onClick:de=>de.stopPropagation(),children:[o.jsx("button",{onClick:de=>{de.stopPropagation(),T(I.id)},className:"p-1 text-gray-600 hover:bg-gray-200 rounded",title:"Ver/ocultar respuesta",children:s.has(I.id)?o.jsx(Er,{size:16}):o.jsx(Xr,{size:16})}),o.jsx("button",{onClick:de=>{de.stopPropagation(),q(I.id)},className:"p-1 text-gray-400 hover:bg-gray-200 rounded",title:"Limpiar respuestas",children:o.jsx(Ml,{size:16})}),o.jsx("button",{onClick:de=>{de.stopPropagation(),!I.sentTimestamp&&n&&n(I)},disabled:!!I.sentTimestamp||!n,className:`p-1 rounded transition-colors ${I.sentTimestamp||!n?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-100 cursor-pointer"}`,title:n?I.sentTimestamp?"No se puede editar mensaje enviado":"Editar mensaje":"Edicin no disponible",children:o.jsx(Nn,{size:16})}),o.jsx("button",{onClick:de=>{de.stopPropagation(),P(I)},className:"p-1 text-green-600 hover:bg-green-100 rounded",title:"Enviar mensaje",children:o.jsx(Wm,{size:16})}),o.jsx("button",{onClick:de=>{de.stopPropagation(),_(I.id)},className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Eliminar mensaje",children:o.jsx(Sx,{size:16})})]})]}),s.has(I.id)&&o.jsxs("div",{className:"bg-white p-2 rounded text-xs font-mono max-h-32 overflow-y-auto hover:bg-gray-50 cursor-text mb-2",onClick:de=>de.stopPropagation(),children:[I.content.substring(0,200),I.content.length>200&&"..."]}),I.responses&&I.responses.length>0&&s.has(I.id)&&o.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",onClick:de=>de.stopPropagation(),children:[o.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-1",children:["Respuesta",(((De=I.responses)==null?void 0:De.length)||0)>1?"s":"",":"]}),o.jsx("div",{className:"space-y-2",children:(ke=I.responses)==null?void 0:ke.map((de,We)=>{var zn;const jt=fo(de.message),Tr=Yo(de.message),Xs=new Date(de.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:`p-2 rounded text-xs font-mono max-h-40 overflow-y-auto border cursor-text ${jt?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{className:"flex gap-2",children:[(((zn=I.responses)==null?void 0:zn.length)||0)>1&&o.jsxs("div",{className:`text-xs font-semibold ${jt?"text-red-600":"text-green-600"}`,children:["#",We+1]}),o.jsx("div",{className:`text-xs px-1 py-0.5 rounded ${Tr.format==="json"?"bg-blue-100 text-blue-700":Tr.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:Tr.format.toUpperCase()})]}),o.jsx("div",{className:`text-xs ${jt?"text-red-500":"text-green-500"}`,children:Xs})]}),o.jsx("div",{className:`text-xs leading-relaxed font-mono ${jt?"text-red-800":"text-green-800"}`,dangerouslySetInnerHTML:{__html:Tr.content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;")}})]},We)})})]})]})})]})}},I.id)}),S.placeholder,"                "]})})]})}),W.length>0&&o.jsxs("div",{className:"p-3 border-t border-gray-200 space-y-2",children:[o.jsx("button",{onClick:H,disabled:f||d,className:`w-full py-2 px-3 rounded-lg text-white font-medium transition-colors text-sm ${f||d?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:f?"Sending...":`Send All (${W.length})`}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex",children:[o.jsx("button",{onClick:U,disabled:f||d,className:`flex-1 py-2 px-3 rounded-l-lg text-white font-medium transition-colors text-sm ${f||d?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:d?`Sending ${h+1}/${W.length} (Waiting ACK)`:`Send Waiting ACK (${W.length})`}),o.jsx("button",{onClick:()=>C(!b),disabled:f||d,className:`px-2 py-2 rounded-r-lg text-white transition-colors ${f||d?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 border-l border-blue-500"}`,title:"Configure ACK timeout",children:o.jsx(nx,{size:16})})]}),b&&o.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-50",children:[o.jsxs("div",{className:"mb-2",children:[o.jsxs("label",{className:"block text-xs text-gray-700 font-medium mb-1",children:["ACK Timeout: ",g,"s"]}),o.jsx("input",{type:"range",min:"0.5",max:"7",step:"0.5",value:g,onChange:S=>x(Number(S.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #3B82F6 0%, #3B82F6 ${(g-.5)/6.5*100}%, #E5E7EB ${(g-.5)/6.5*100}%, #E5E7EB 100%)`}}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"0.5s"}),o.jsx("span",{children:"7s"})]})]}),o.jsx("button",{onClick:()=>C(!1),className:"w-full text-xs py-1 px-2 bg-gray-100 hover:bg-gray-200 rounded text-gray-600",children:"Close"})]})]})]})]})},gN=({isOpen:e,onClose:t,message:r})=>{var s,i;if(!e||!r)return null;const n=a=>new Date(a).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mensaje Completo"}),"            ",o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium text-blue-600",children:r.host}),o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:"text-gray-700",children:r.messageType}),r.sentTimestamp&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsxs("span",{className:"text-gray-500",children:["Enviado: ",n(r.sentTimestamp)]})]})]})]}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:o.jsx(At,{size:20})})]}),o.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contenido del Mensaje:"}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:o.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap text-gray-800",children:r.content})})]}),r.responses&&r.responses.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Respuesta",(((s=r.responses)==null?void 0:s.length)||0)>1?"s":""," del Servidor:"]}),"                ",o.jsxs("div",{className:"space-y-3",children:["                ",(i=r.responses)==null?void 0:i.map((a,l)=>{var u;const c=fo(a.message),p=Yo(a.message),f=new Date(a.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:`p-4 rounded-lg border ${c?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex gap-2",children:[(((u=r.responses)==null?void 0:u.length)||0)>1&&o.jsxs("div",{className:`text-xs font-semibold ${c?"text-red-600":"text-green-600"}`,children:["Respuesta #",l+1]}),o.jsx("div",{className:`text-xs px-2 py-1 rounded ${p.format==="json"?"bg-blue-100 text-blue-700":p.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:p.format.toUpperCase()})]}),o.jsxs("div",{className:`text-xs ${c?"text-red-500":"text-green-500"}`,children:["Recibido: ",f]})]}),o.jsx("pre",{className:`text-xs font-mono whitespace-pre-wrap ${c?"text-red-800":"text-green-800"}`,children:p.content})]},l)})]})]})]})})]})})},hN=({isOpen:e,onClose:t,message:r,onSave:n,onSaveComment:s,onSaveControlId:i})=>{var D,k;const[a,l]=j.useState(""),[c,p]=j.useState(""),[f,u]=j.useState(""),[d,m]=j.useState(!1);j.useEffect(()=>{r&&(l(r.content),p(r.comment||""),u(r.messageControlId||""),m(!1))},[r]);const h=R=>{const M=R.target.value;l(M),m(M!==(r==null?void 0:r.content)||c!==((r==null?void 0:r.comment)||"")||f!==((r==null?void 0:r.messageControlId)||""))},y=R=>{const M=R.target.value;p(M),m(a!==(r==null?void 0:r.content)||M!==((r==null?void 0:r.comment)||"")||f!==((r==null?void 0:r.messageControlId)||""))},N=R=>{const M=R.target.value;u(M),m(a!==(r==null?void 0:r.content)||c!==((r==null?void 0:r.comment)||"")||M!==((r==null?void 0:r.messageControlId)||""))},v=()=>{r&&d&&(a!==r.content&&n(r.id,a),c!==(r.comment||"")&&s(r.id,c),f!==(r.messageControlId||"")&&i(r.id,f),t())},g=()=>{r&&(l(r.content),p(r.comment||""),u(r.messageControlId||""),m(!1))},x=R=>{R.ctrlKey&&R.key==="s"&&(R.preventDefault(),v()),R.key==="Escape"&&t()};if(!e||!r)return null;const b=!r.sentTimestamp,C=R=>(typeof R=="string"?new Date(R):R).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),w=r.responses&&r.responses.length>0?r.responses[r.responses.length-1].receiveTime:null;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:b?"Editar Mensaje":"Ver Mensaje (Solo Lectura)"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-blue-600",children:r.host}),o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:"text-gray-700",children:r.messageType}),r.sentTimestamp&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-500 mx-1",children:""}),o.jsx("span",{className:"text-green-600 font-medium",children:"Enviado"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Creado:"}),o.jsx("span",{className:"ml-1 text-gray-700",children:C(r.timestamp)})]}),r.sentTimestamp&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Enviado:"}),o.jsx("span",{className:"ml-1 text-green-600 font-medium",children:C(r.sentTimestamp)})]}),w&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"ltima respuesta:"}),o.jsx("span",{className:"ml-1 text-purple-600 font-medium",children:C(w)})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[b&&d&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:g,className:"p-2 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Resetear cambios",children:o.jsx(Ml,{size:18})}),o.jsx("button",{onClick:v,className:"p-2 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Guardar cambios (Ctrl+S)",children:o.jsx(To,{size:18})})]}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded",children:o.jsx(At,{size:20})})]})]}),"        ",o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Contenido del Mensaje:"}),b&&o.jsx("div",{className:"text-xs text-gray-500",children:"Usa Ctrl+S para guardar  Esc para cerrar"})]}),b?o.jsx("textarea",{value:a,onChange:h,onKeyDown:x,className:"w-full h-96 p-4 bg-gray-50 border border-gray-300 rounded-lg font-mono text-xs resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contenido del mensaje...",autoFocus:!0}):o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border h-96 overflow-y-auto",children:o.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap text-gray-800",children:r.content})}),b&&d&&o.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:o.jsxs("p",{className:"text-sm text-yellow-800",children:[o.jsx("span",{className:"font-medium",children:"Cambios sin guardar"})," - Presiona Ctrl+S para guardar o el botn de resetear para descartar."]})}),!b&&o.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("span",{className:"font-medium",children:"Mensaje enviado"})," - Este mensaje ya fue enviado y no puede ser modificado."]})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Comentarios:"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Los comentarios aparecern como tooltips en la barra lateral"})]}),o.jsx("textarea",{value:c,onChange:y,onKeyDown:x,className:"w-full h-20 p-3 bg-gray-50 border border-gray-300 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Agrega un comentario para este mensaje (opcional)..."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Control ID:"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Identificador nico para el mensaje (opcional)"})]}),o.jsx("input",{type:"text",value:f,onChange:N,onKeyDown:x,className:"w-full h-10 px-3 bg-gray-50 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ingresa un Control ID personalizado (opcional)..."})]}),r.responses&&r.responses.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Respuesta",(((D=r.responses)==null?void 0:D.length)||0)>1?"s":""," del Servidor:"]}),"                ",o.jsx("div",{className:"space-y-3",children:(k=r.responses)==null?void 0:k.map((R,M)=>{var Q;const $=R.message.includes("ERR|"),W=new Date(R.receiveTime).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:`p-4 rounded-lg border ${$?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[(((Q=r.responses)==null?void 0:Q.length)||0)>1&&o.jsxs("div",{className:`text-xs font-semibold ${$?"text-red-600":"text-green-600"}`,children:["Respuesta #",M+1]}),o.jsxs("div",{className:`text-xs ${$?"text-red-500":"text-green-500"}`,children:["Recibido: ",W]})]}),o.jsx("pre",{className:`text-xs font-mono whitespace-pre-wrap ${$?"text-red-800":"text-green-800"}`,children:R.message})]},M)})})]})]})}),"        ",b&&o.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Los cambios se guardarn automticamente al cerrar si hay modificaciones."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:v,disabled:!d,className:`px-4 py-2 rounded-lg transition-colors ${d?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Guardar Cambios"})]})]})]})})},Fr=class Fr{constructor(){fe(this,"state");fe(this,"callbacks",new Set);this.state={isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1,isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1,isSidebarOpen:!1,isServerSidebarOpen:!1,isMessageSaved:!1,messageCopied:!1,error:null}}static getInstance(){return Fr.instance||(Fr.instance=new Fr),Fr.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}togglePatientModal(){this.updateState({isPatientModalOpen:!this.state.isPatientModalOpen})}togglePhysicianModal(){this.updateState({isPhysicianModalOpen:!this.state.isPhysicianModalOpen})}togglePathologistModal(){this.updateState({isPathologistModalOpen:!this.state.isPathologistModalOpen})}toggleHierarchyModal(){this.updateState({isHierarchyModalOpen:!this.state.isHierarchyModalOpen})}toggleTechnicianModal(){this.updateState({isTechnicianModalOpen:!this.state.isTechnicianModalOpen})}toggleSpecimenSelectorModal(){this.updateState({isSpecimenSelectorModalOpen:!this.state.isSpecimenSelectorModalOpen})}toggleBlockSelectorModal(){this.updateState({isBlockSelectorModalOpen:!this.state.isBlockSelectorModalOpen})}toggleSlideSelectorModal(){this.updateState({isSlideSelectorModalOpen:!this.state.isSlideSelectorModalOpen})}toggleEntitySelectorModal(){this.updateState({isEntitySelectorModalOpen:!this.state.isEntitySelectorModalOpen})}setFetchingData(t){this.updateState({isFetchingData:t})}setGeneratingMessage(t){this.updateState({isGeneratingMessage:t})}setSendingMessage(t){this.updateState({isSendingMessage:t})}setSendingAll(t){this.updateState({isSendingAll:t})}setClearingAll(t){this.updateState({isClearingAll:t})}toggleSidebar(){this.updateState({isSidebarOpen:!this.state.isSidebarOpen})}toggleServerSidebar(){console.log(" UIStateService - toggleServerSidebar - ANTES:",this.state.isServerSidebarOpen),this.updateState({isServerSidebarOpen:!this.state.isServerSidebarOpen}),console.log(" UIStateService - toggleServerSidebar - DESPUS:",this.state.isServerSidebarOpen)}setMessageSaved(t){this.updateState({isMessageSaved:t}),t&&setTimeout(()=>{this.updateState({isMessageSaved:!1})},1500)}setMessageCopied(t){this.updateState({messageCopied:t}),t&&setTimeout(()=>{this.updateState({messageCopied:!1})},2e3)}setError(t){this.updateState({error:t})}clearError(){this.updateState({error:null})}closeAllModals(){this.updateState({isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1})}resetLoadingStates(){this.updateState({isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1})}resetAllStates(){this.state={isPatientModalOpen:!1,isPhysicianModalOpen:!1,isPathologistModalOpen:!1,isHierarchyModalOpen:!1,isTechnicianModalOpen:!1,isSpecimenSelectorModalOpen:!1,isBlockSelectorModalOpen:!1,isSlideSelectorModalOpen:!1,isEntitySelectorModalOpen:!1,isFetchingData:!1,isGeneratingMessage:!1,isSendingMessage:!1,isSendingAll:!1,isClearingAll:!1,isSidebarOpen:!1,isServerSidebarOpen:!1,isMessageSaved:!1,messageCopied:!1,error:null},this.notifySubscribers()}};fe(Fr,"instance");let Hl=Fr;const se=Hl.getInstance(),ze=[{id:"IN_PROGRESS",name:"IN_PROGRESS",description:"Work in progress"},{id:"SIGN_OUT",name:"SIGN_OUT",description:"Signed out"},{id:"ADDEND",name:"ADDEND",description:"Addendum"},{id:"AMEND",name:"AMEND",description:"Amendment"},{id:"CANCEL",name:"CANCEL",description:"Cancelled"}],Gl=[{id:"EMBEDDED",name:"EMBEDDED",description:"Embedded"},{id:"MARKED",name:"MARKED",description:"Marked"},{id:"VERIFIED",name:"VERIFIED",description:"Verified"},{id:"ASSEMBLED",name:"ASSEMBLED",description:"Assembled"},{id:"ASSIGNED",name:"ASSIGNED",description:"Assigned"},{id:"ADDITION",name:"ADDITION",description:"Addition"},{id:"CANCELED",name:"CANCELED",description:"Canceled"}],vN=[{id:"SCANNED",name:"SCANNED",description:"Slide has been scanned"},{id:"SCANNED_ERROR",name:"SCANNED_ERROR",description:"Error during scanning"},{id:"TRANSFER_OK",name:"TRANSFER_OK",description:"Transfer completed successfully"},{id:"TRANSFER_ERROR",name:"TRANSFER_ERROR",description:"Error during transfer"},{id:"PRESCAN_OK",name:"PRESCAN_OK",description:"Prescan completed successfully"},{id:"PRESCAN_ERROR",name:"PRESCAN_ERROR",description:"Error during prescan"},{id:"PRESCAN_QC",name:"PRESCAN_QC",description:"Prescan quality control"},{id:"SCAN_SCHEDULED",name:"SCAN_SCHEDULED",description:"Scan has been scheduled"},{id:"SCAN_ISSUE",name:"SCAN_ISSUE",description:"Issue with scan"},{id:"SCAN_QC",name:"SCAN_QC",description:"Scan quality control"}],Ep=[{id:"SlideStaining",name:"SlideStaining",description:"Slide is being stained"},{id:"SlideStained",name:"SlideStained",description:"Slide has been stained"}],Pr=[{id:"LIS",name:"LIS",messageTypes:[{id:"OML21",name:"OML21"},{id:"ADTA28",name:"ADTA28"},{id:"ADTA08",name:"ADTA08"},{id:"CASE_UPDATE",name:"CASE_UPDATE",requiresStatusSelector:!0,statusOptions:ze},{id:"DELETE_CASE",name:"DELETE_CASE"},{id:"DELETE_SPECIMEN",name:"DELETE_SPECIMEN",requiresSpecimenSelector:!0},{id:"DELETE_SLIDE",name:"DELETE_SLIDE",requiresSlideSelector:!0}],statusOptions:ze},{id:"VTG",name:"VTG",messageTypes:[{id:"OEWF",name:"OEWF"},{id:"ADDITION",name:"ADDITION",requiresSpecimenSelector:!0},{id:"SPECIMEN_UPDATE",name:"SPECIMEN_UPDATE",requiresSpecimenSelector:!0,requiresStatusSelector:!0,statusOptions:ze},{id:"BLOCK_UPDATE",name:"BLOCK_UPDATE",requiresSpecimenSelector:!0,requiresBlockSelector:!0,requiresStatusSelector:!0,statusOptions:ze},{id:"SLIDE_UPDATE",name:"SLIDE_UPDATE",requiresSpecimenSelector:!0,requiresBlockSelector:!0,requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:ze}],statusOptions:ze},{id:"VANTAGE WS",name:"VANTAGE WS",messageTypes:[{id:"ProcessVANTAGEEvent",name:"ProcessVANTAGEEvent",requiresEntitySelector:!0,requiresStatusSelector:!0,statusOptions:Gl},{id:"ProcessNewOrderRequest",name:"ProcessNewOrderRequest"},{id:"ProcessChangeOrderRequest",name:"ProcessChangeOrderRequest"},{id:"ProcessCancelOrderRequest",name:"ProcessCancelOrderRequest"},{id:"ProcessNewOrder",name:"ProcessNewOrder"},{id:"ProcessChangeOrder",name:"ProcessChangeOrder"},{id:"ProcessCancelOrder",name:"ProcessCancelOrder"},{id:"ProcessAssignedPathologistUpdate",name:"ProcessAssignedPathologistUpdate"},{id:"ProcessPhysicianUpdate",name:"ProcessPhysicianUpdate"},{id:"ProcessPatientUpdate",name:"ProcessPatientUpdate"},{id:"ProcessApplicationACK",name:"ProcessApplicationACK"}],statusOptions:Gl},{id:"UPATH CLOUD",name:"UPATH CLOUD",messageTypes:[{id:"sendScannedSlideImageLabelId",name:"sendScannedSlideImageLabelId",requiresSlideSelector:!0},{id:"sendReleasedSpecimen",name:"sendReleasedSpecimen",requiresSpecimenSelector:!0},{id:"sendSlideWSAData",name:"sendSlideWSAData",requiresSlideSelector:!0,requiresEntitySelector:!0,requiresStatusSelector:!0,statusOptions:ze},{id:"BLOCK_UPDATE",name:"BLOCK_UPDATE"},{id:"SLIDE_UPDATE",name:"SLIDE_UPDATE"}],statusOptions:ze},{id:"DP600",name:"DP600",messageTypes:[{id:"sendScannedSlideImageLabelId",name:"sendScannedSlideImageLabelId",requiresSlideSelector:!0},{id:"sendUpdatedSlideStatus",name:"sendUpdatedSlideStatus",requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:vN}],statusOptions:ze},{id:"AUTOMATION_SW",name:"AUTOMATION SOFTWARE",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS UPDATE",requiresEntitySelector:!0}],statusOptions:ze},{id:"HISTOBOT",name:"HISTOBOT",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS_UPDATE",requiresEntitySelector:!0}],statusOptions:ze},{id:"HISTOBOT_SENSITIVE_DATA",name:"HISTOBOT_SENSITIVE_DATA",messageTypes:[{id:"RETRIEVAL",name:"RETRIEVAL",requiresEntitySelector:!0},{id:"STATUS_UPDATE",name:"STATUS_UPDATE",requiresEntitySelector:!0}],statusOptions:ze},{id:"LIS_HL7",name:"LIS_HL7",messageTypes:[{id:"OML21",name:"OML21"},{id:"ADTA28",name:"ADTA28"},{id:"ADTA08",name:"ADTA08"},{id:"CASE_UPDATE",name:"CASE_UPDATE",requiresStatusSelector:!0,statusOptions:ze},{id:"DELETE_CASE",name:"DELETE_CASE"},{id:"DELETE_SPECIMEN",name:"DELETE_SPECIMEN",requiresSpecimenSelector:!0},{id:"DELETE_SLIDE",name:"DELETE_SLIDE",requiresSlideSelector:!0}],statusOptions:ze},{id:"VSS",name:"VSS",messageTypes:[{id:"UpdateSlideStatus",name:"UpdateSlideStatus",requiresSlideSelector:!0,requiresStatusSelector:!0,statusOptions:Ep}],statusOptions:Ep}];class kt{static getHostConfig(t){let r=Pr.find(n=>n.id===t);if(r)return r;if(t.startsWith("histobot")||t.includes("HISTOBOT")){const n=Pr.find(s=>s.id==="HISTOBOT");if(n)return{...n,id:t,name:t}}if(t.includes("LIS")){const n=Pr.find(s=>s.id==="LIS_HL7");if(n)return{...n,id:t,name:t}}if(t.includes("VTG")){const n=Pr.find(s=>s.id==="VTG");if(n)return{...n,id:t,name:t}}if(t.includes("VSS")){const n=Pr.find(s=>s.id==="VSS");if(n)return{...n,id:t,name:t}}if(t.includes("DP600")){const n=Pr.find(s=>s.id==="DP600");if(n)return{...n,id:t,name:t}}return{id:t,name:t,messageTypes:[{id:"GENERIC_MESSAGE",name:"Generic Message"}],statusOptions:ze}}static getMessageTypeConfig(t,r){const n=this.getHostConfig(t);return n==null?void 0:n.messageTypes.find(s=>s.id===r)}static getHostOptions(){return Pr.map(t=>({id:t.id,name:t.name}))}static getMessageTypesForHost(t){const r=this.getHostConfig(t);return(r==null?void 0:r.messageTypes)||[]}static getStatusOptions(t,r){if(r){const s=this.getMessageTypeConfig(t,r);if(s!=null&&s.statusOptions)return s.statusOptions}const n=this.getHostConfig(t);return(n==null?void 0:n.statusOptions)||ze}static shouldShowSpecimenSelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresSpecimenSelector)||(s==null?void 0:s.requiresSpecimenSelector)||!1}static shouldShowBlockSelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresBlockSelector)||(s==null?void 0:s.requiresBlockSelector)||!1}static shouldShowSlideSelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresSlideSelector)||(s==null?void 0:s.requiresSlideSelector)||!1}static shouldShowEntitySelector(t,r){const n=this.getMessageTypeConfig(t,r),s=this.getHostConfig(t);return(n==null?void 0:n.requiresEntitySelector)||(s==null?void 0:s.requiresEntitySelector)||!1}static shouldShowStatusSelector(t,r){const n=this.getMessageTypeConfig(t,r);return(n==null?void 0:n.requiresStatusSelector)||!1}static getSelectorRequirements(t,r){return{showSpecimenSelector:this.shouldShowSpecimenSelector(t,r),showBlockSelector:this.shouldShowBlockSelector(t,r),showSlideSelector:this.shouldShowSlideSelector(t,r),showEntitySelector:this.shouldShowEntitySelector(t,r),showStatusSelector:this.shouldShowStatusSelector(t,r)}}}const $r=class $r{constructor(){fe(this,"state");fe(this,"callbacks",new Set);this.state={sampleId:"",selectedHost:"",selectedType:"",selectedStatus:"IN_PROGRESS",message:null,generatedMessage:"",currentMessageControlId:void 0,sendResponse:[],patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,availableReagents:[],selectedSlideReagents:[],messageTypes:[],dynamicHosts:[],isLoadingHosts:!1},this.initializeDefaultReagents(),this.initializeDynamicHosts()}get hosts(){return this.state.dynamicHosts.length>0?this.state.dynamicHosts:kt.getHostOptions()}get statusOptions(){return ze}get statusVTGWSOptions(){return Gl}getCurrentStatusOptions(){const{selectedHost:t,selectedType:r}=this.state;return kt.getStatusOptions(t,r)}async initializeDynamicHosts(){this.updateState({isLoadingHosts:!0});try{await or.initialize();const r=or.getCachedHosts().map(n=>({id:n,name:n}));if(this.updateState({dynamicHosts:r,isLoadingHosts:!1}),this.state.selectedHost&&!or.hostExists(this.state.selectedHost)){const n=or.migrateHost(this.state.selectedHost);n!==this.state.selectedHost&&(console.log(`Migrando host ${this.state.selectedHost}  ${n}`),this.setSelectedHost(n))}}catch(t){console.error("Error inicializando hosts dinmicos:",t),this.updateState({isLoadingHosts:!1})}}initializeDefaultReagents(){const t=[{substanceName:"Hematoxylin & Eosin",substanceOtherName:"H&E Stain",substanceType:"Stain",manufacturer:"Sigma-Aldrich",lotNumber:"HE2024001",lotSerialNumber:"SN-HE-001",catalogNumber:"CAT-HE-2024",intendedUseFlag:"Routine Staining",expirationDateTime:"2025-12-31T23:59:59",receivedDateTime:"2024-01-15T08:00:00"}];this.updateState({availableReagents:t})}static getInstance(){return $r.instance||($r.instance=new $r),$r.instance}subscribe(t){return this.callbacks.add(t),()=>{this.callbacks.delete(t)}}getState(){return{...this.state}}notifySubscribers(){this.callbacks.forEach(t=>t(this.getState()))}updateState(t){this.state={...this.state,...t},this.notifySubscribers()}setSampleId(t){this.updateState({sampleId:t})}setSelectedHost(t){const r=kt.getMessageTypesForHost(t),n="IN_PROGRESS";this.updateState({selectedHost:t,selectedType:"",selectedStatus:n,messageTypes:r,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null})}setSelectedType(t){const r=kt.getStatusOptions(this.state.selectedHost,t),n=r.length>0?r[0].id:"IN_PROGRESS";this.updateState({selectedType:t,selectedStatus:n,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null})}setSelectedStatus(t){this.updateState({selectedStatus:t})}setMessage(t){var r,n,s,i,a,l,c,p;this.updateState({message:t}),t&&this.updateState({patientInfo:t.patient||null,physicianInfo:t.physician||null,pathologistInfo:((i=(s=(n=(r=t.patient)==null?void 0:r.orders)==null?void 0:n.orderList)==null?void 0:s[0])==null?void 0:i.pathologist)||null,technicianInfo:((p=(c=(l=(a=t.patient)==null?void 0:a.orders)==null?void 0:l.orderList)==null?void 0:c[0])==null?void 0:p.technician)||null})}setGeneratedMessage(t){this.updateState({generatedMessage:t})}setCurrentMessageControlId(t){this.updateState({currentMessageControlId:t})}setSendResponse(t){this.updateState({sendResponse:t})}clearSendResponse(){this.updateState({sendResponse:[]})}setPatientInfo(t){if(this.updateState({patientInfo:t}),this.state.message){const r={...this.state.message,patient:t};this.updateState({message:r})}}setPhysicianInfo(t){if(this.updateState({physicianInfo:t}),this.state.message){const r={...this.state.message,physician:t};this.updateState({message:r})}}setPathologistInfo(t){var r,n,s,i;if(this.updateState({pathologistInfo:t}),(s=(n=(r=this.state.message)==null?void 0:r.patient)==null?void 0:n.orders)!=null&&s.orderList){const a={...this.state.message};(i=a.patient)!=null&&i.orders&&(a.patient.orders.orderList=a.patient.orders.orderList.map(l=>({...l,pathologist:t}))),this.updateState({message:a})}}setTechnicianInfo(t){var r,n,s,i;if(this.updateState({technicianInfo:t}),(s=(n=(r=this.state.message)==null?void 0:r.patient)==null?void 0:n.orders)!=null&&s.orderList){const a={...this.state.message};(i=a.patient)!=null&&i.orders&&(a.patient.orders.orderList=a.patient.orders.orderList.map(l=>({...l,technician:t}))),this.updateState({message:a})}}setSelectedSpecimen(t){this.updateState({selectedSpecimen:t})}setSelectedBlock(t){this.updateState({selectedBlock:t})}setSelectedSlide(t){const r=(t==null?void 0:t.reagents)||[];this.updateState({selectedSlide:t,selectedSlideReagents:r})}setSelectedEntity(t,r){t==="Specimen"?this.updateState({selectedSpecimen:r,selectedBlock:null,selectedSlide:null,selectedEntity:{type:t,id:r.id}}):t==="Block"?this.updateState({selectedSpecimen:null,selectedBlock:r,selectedSlide:null,selectedEntity:{type:t,id:r.id}}):t==="Slide"?this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:r,selectedEntity:{type:t,id:r.id}}):t==="Order"&&this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:{type:t,id:r.sampleId}})}setAvailableReagents(t){this.updateState({availableReagents:t})}addReagentToSlide(t){const r=this.state.selectedSlideReagents;r.find(n=>n.substanceName===t.substanceName&&n.lotNumber===t.lotNumber)||this.updateState({selectedSlideReagents:[...r,t]})}removeReagentFromSlide(t){const r=this.state.selectedSlideReagents,n=t.split("-"),s=parseInt(n[n.length-1]);this.updateState({selectedSlideReagents:r.filter((i,a)=>a!==s)})}clearSlideReagents(){this.updateState({selectedSlideReagents:[]})}getAvailableReagents(){return this.state.availableReagents}getSelectedSlideReagents(){return this.state.selectedSlideReagents}updateSelectedSlideWithReagents(){if(this.state.selectedSlide&&this.state.selectedSlideReagents.length>0){const t={...this.state.selectedSlide,reagents:this.state.selectedSlideReagents};this.updateState({selectedSlide:t})}}getShowSpecimenSelector(){const{selectedHost:t,selectedType:r}=this.state;return kt.shouldShowSpecimenSelector(t,r)}getShowBlockSelector(){const{selectedHost:t,selectedType:r}=this.state;return kt.shouldShowBlockSelector(t,r)}getShowSlideSelector(){const{selectedHost:t,selectedType:r}=this.state;return kt.shouldShowSlideSelector(t,r)}getShowEntitySelector(){const{selectedHost:t,selectedType:r}=this.state;return kt.shouldShowEntitySelector(t,r)}getShowStatusSelector(){const{selectedHost:t,selectedType:r}=this.state;return kt.shouldShowStatusSelector(t,r)}isGenerateButtonDisabled(t,r){const{selectedHost:n,selectedType:s,selectedSpecimen:i,selectedSlide:a,selectedBlock:l,selectedEntity:c}=this.state;return r||!n||!s||t||this.getShowSpecimenSelector()&&!i||this.getShowSlideSelector()&&!a||this.getShowBlockSelector()&&!l||this.getShowEntitySelector()&&!c}clearAllSelections(){this.updateState({selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,selectedSlideReagents:[]})}clearEntityInformation(){this.updateState({patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null})}resetFormState(){this.state={sampleId:"",selectedHost:"",selectedType:"",selectedStatus:"IN_PROGRESS",message:null,generatedMessage:"",currentMessageControlId:void 0,sendResponse:[],patientInfo:null,physicianInfo:null,pathologistInfo:null,technicianInfo:null,selectedSpecimen:null,selectedBlock:null,selectedSlide:null,selectedEntity:null,availableReagents:this.state.availableReagents,selectedSlideReagents:[],messageTypes:[],dynamicHosts:this.state.dynamicHosts,isLoadingHosts:this.state.isLoadingHosts},this.notifySubscribers()}async refreshHosts(){await this.initializeDynamicHosts()}get isLoadingHosts(){return this.state.isLoadingHosts}migrateHostIfNeeded(t){return or.migrateHost(t)}};fe($r,"instance");let _l=$r;const re=_l.getInstance(),zr=class zr{constructor(){fe(this,"updateCallbacks",[]);this.setupPollingForUpdates(),this.setupGlobalUpdateListener()}static getInstance(){return zr.instance||(zr.instance=new zr),zr.instance}registerUpdateCallback(t){this.updateCallbacks.push(t),console.log(" Registered update callback. Total callbacks:",this.updateCallbacks.length)}unregisterUpdateCallback(t){this.updateCallbacks=this.updateCallbacks.filter(r=>r!==t),console.log(" Unregistered update callback. Total callbacks:",this.updateCallbacks.length)}notifyCallbacks(t,r){if(console.log(` Notifying ${this.updateCallbacks.length} callbacks for controlId: ${t}`,r),this.updateCallbacks.length===0){console.warn("  No callbacks registered to receive updates!");return}this.updateCallbacks.forEach((n,s)=>{try{console.log(` Calling callback ${s+1}/${this.updateCallbacks.length} for controlId: ${t}`),n(t,r),console.log(` Callback ${s+1} executed successfully`)}catch(i){console.error(` Error calling callback ${s+1}:`,i)}})}updateResponses(t,r){console.log(" updateResponses called for controlId:",t,"with",r.length,"responses");const n=r.map(s=>typeof s=="string"?{message:s,receiveTime:new Date().toISOString()}:s);console.log(" Notifying callbacks for controlId:",t,"with converted responses:",n),this.notifyCallbacks(t,n)}setupPollingForUpdates(){console.log(" Setting up polling for message updates..."),setInterval(()=>{try{if(typeof globalThis<"u"&&globalThis.messageUpdates){const t=globalThis.messageUpdates,r=Object.keys(t);r.length>0&&(console.log(" Polling found updates for controlIds:",r),r.forEach(n=>{const s=t[n];s&&Array.isArray(s)&&(console.log(" Processing polled update for controlId:",n,s),this.updateResponses(n,s),delete t[n])}))}if(typeof window<"u"&&window.messageUpdates){const t=window.messageUpdates,r=Object.keys(t);r.length>0&&(console.log(" Polling found window updates for controlIds:",r),r.forEach(n=>{const s=t[n];s&&Array.isArray(s)&&(console.log(" Processing window update for controlId:",n,s),this.updateResponses(n,s),delete t[n])}))}}catch(t){console.error(" Error in polling for updates:",t)}},500)}setupGlobalUpdateListener(){console.log(" Setting up global update listeners..."),window.updateMessageResponses=(t,r)=>{console.log(" Global update function called for controlId:",t,r),this.updateResponses(t,r)},window.addEventListener("messageUpdate",t=>{const{controlId:r,responses:n}=t.detail;r&&n&&(console.log(" Received messageUpdate event for controlId:",r,n),this.updateResponses(r,n))}),console.log(" Global update listeners set up successfully")}};fe(zr,"instance");let Wl=zr;const Cp=Wl.getInstance(),xN=()=>{const[e,t]=j.useState(se.getState()),[r,n]=j.useState(re.getState()),[s,i]=j.useState($e.getMessages()),[a,l]=j.useState(Pe.getState());j.useEffect(()=>{const S=se.subscribe(t),I=re.subscribe(n),te=$e.subscribe(i),Y=Pe.subscribe(l),ie=(ne,K)=>{console.log(`handleMessageUpdate called with controlId: ${ne}`,K),$e.updateMessageResponses(ne,K),me.updateMessageResponses(ne,K),re.getState().currentMessageControlId===ne&&(console.log("Updating main form sendResponse because controlId matches current message"),re.setSendResponse(K))};return console.log("Registering message update callback"),Cp.registerUpdateCallback(ie),()=>{S(),I(),te(),Y(),console.log("Unregistering message update callback"),Cp.unregisterUpdateCallback(ie)}},[]);const c=async S=>{const I=S.target.value;re.setSampleId(I),setTimeout(async()=>{I.trim()===re.getState().sampleId&&(I.trim()?await b(I):(re.setMessage(null),re.clearEntityInformation(),se.setFetchingData(!1)))},500)},p=S=>{re.setSelectedHost(S.target.value)},f=S=>{re.setSelectedType(S.target.value)},u=S=>{re.setSelectedStatus(S.target.value)},d=S=>{re.setPatientInfo(S)},m=S=>{re.setPhysicianInfo(S)},h=S=>{re.setPathologistInfo(S)},y=S=>{re.setTechnicianInfo(S)},N=S=>{re.setSelectedSpecimen(S)},v=S=>{re.setSelectedBlock(S)},g=S=>{re.setSelectedSlide(S)},x=(S,I)=>{re.setSelectedEntity(S,I)},b=async S=>{if(!S){se.setFetchingData(!1);return}try{se.setFetchingData(!0),se.clearError();const I=await _r.fetchMessageData(S);re.setMessage(I)}catch(I){console.error("Error fetching data:",I),se.setError("Error al obtener los datos. Por favor intente nuevamente.")}finally{se.setFetchingData(!1)}},C=async()=>{const S=re.getState();if(!S.sampleId||!S.selectedType){re.setGeneratedMessage("Por favor, completa todos los campos.");return}if(S.selectedHost==="LIS"&&S.selectedType==="DELETE_SPECIMEN"&&!S.selectedSpecimen||S.selectedHost==="UPATH_CLOUD"&&S.selectedType==="sendReleasedSpecimen"&&!S.selectedSpecimen){re.setGeneratedMessage("Por favor, selecciona un specimen para eliminar.");return}if(S.selectedHost==="LIS"&&S.selectedType==="DELETE_SLIDE"&&!S.selectedSlide||S.selectedHost==="UPATH_CLOUD"&&S.selectedType==="sendScannedSlideImageLabelId"&&!S.selectedSlide||S.selectedHost==="DP600"&&S.selectedType==="sendScannedSlideImageLabelId"&&!S.selectedSlide||S.selectedHost==="DP600"&&S.selectedType==="sendUpdatedSlideStatus"&&!S.selectedSlide||S.selectedHost==="VANTAGE_WS"&&S.selectedType==="ProcessVANTAGEEvent"&&!S.selectedEntity){re.setGeneratedMessage("Por favor, selecciona una entidad para procesar.");return}if(S.selectedHost==="DP600"&&S.selectedType==="sendUpdatedSlideStatus"&&!S.selectedStatus){re.setGeneratedMessage("Por favor, selecciona un status para el slide.");return}try{se.setGeneratingMessage(!0),se.clearError(),re.clearSendResponse(),re.updateSelectedSlideWithReagents();const I=kt.getHostConfig(S.selectedHost),te=(I==null?void 0:I.name)||S.selectedHost;let Y=or.getClientType(S.selectedHost);Y||(Y=I==null?void 0:I.id),Y||(Y=S.selectedHost),console.log(`Sending message with hostName: ${te}, hostType: ${Y} (from clientType)`);const ie=await _r.generateMessage(S.message,S.selectedType,te,Y,re.getShowStatusSelector()?S.selectedStatus:void 0,S.selectedSpecimen||void 0,S.selectedBlock||void 0,S.selectedSlide||void 0,S.selectedEntity||void 0);re.setGeneratedMessage(ie.message),re.setCurrentMessageControlId(ie.controlId)}catch(I){console.error("Error generating message:",I),se.setError("Error al generar mensaje. Por favor intente nuevamente."),re.setGeneratedMessage("")}finally{se.setGeneratingMessage(!1)}},w=async()=>{const S=re.getState();if(!S.generatedMessage||!S.selectedHost||!S.selectedType){se.setError("No hay mensaje para enviar o faltan datos.");return}try{se.setSendingMessage(!0),se.clearError();const I=await _r.sendMessage({message:S.generatedMessage,hostName:S.selectedHost,messageType:S.selectedType,controlId:S.currentMessageControlId});re.setSendResponse(I),console.log("Mensaje enviado exitosamente")}catch(I){console.error("Error sending message:",I),se.setError("Error al enviar mensaje. Por favor intente nuevamente.")}finally{se.setSendingMessage(!1)}},D=()=>{const S=re.getState();S.generatedMessage&&navigator.clipboard.writeText(S.generatedMessage).then(()=>{se.setMessageCopied(!0)}).catch(I=>{console.error("Error al copiar: ",I)})},k=S=>{re.setGeneratedMessage(S)},R=()=>{const S=re.getState();if(!S.generatedMessage||!S.selectedHost||!S.selectedType){se.setError("No hay mensaje para guardar o faltan datos.");return}me.addMessage(S.generatedMessage,S.selectedHost,S.selectedType,S.currentMessageControlId),se.setMessageSaved(!0),Pe.showSuccess("Mensaje guardado exitosamente")},M=S=>{$e.removeMessage(S)},$=async()=>{try{se.setClearingAll(!0),await _r.deleteAllMessages(),$e.clearAllResponses(),Pe.showSuccess("Deleted all messages from monitoring. All acks deleted successfully")}catch(S){console.error("Error calling deleteAll endpoint:",S),$e.clearAllResponses(),Pe.showWarning("Ack deleted (Server error)")}finally{se.setClearingAll(!1)}},W=S=>{$e.clearMessageResponses(S),Pe.showInfo("All messages deleted successfully")},Q=(S,I)=>{$e.reorderMessages(S,I)},V=async S=>{try{const I=await $e.sendMessage(S);console.log("Mensaje guardado enviado exitosamente:",I)}catch(I){console.error("Error sending saved message:",I),se.setError("Error al enviar mensaje guardado.")}},B=async()=>{if(s.length===0){se.setError("No hay mensajes guardados para enviar.");return}try{se.setSendingAll(!0),se.clearError();for(const S of s)await V(S);console.log("Todos los mensajes enviados exitosamente")}catch(S){console.error("Error sending all messages:",S),se.setError("Error al enviar todos los mensajes.")}finally{se.setSendingAll(!1)}},F=(S,I)=>{const te=I.map(Y=>({message:Y,receiveTime:new Date().toISOString()}));$e.updateMessageResponses(S,te)},O=(S,I)=>{$e.updateMessageContent(S,I),Pe.showSuccess("Mensaje actualizado exitosamente")},E=(S,I)=>{$e.updateMessageComment(S,I),Pe.showSuccess("Comentario actualizado exitosamente")},T=(S,I)=>{$e.updateMessageControlId(S,I),Pe.showSuccess("Control ID actualizado exitosamente")},P=()=>{try{const S=$e.exportMessages(),I=new Blob([S],{type:"application/json"}),te=URL.createObjectURL(I),Y=document.createElement("a");Y.href=te,Y.download=`saved-messages-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(te),Pe.showSuccess("Mensajes exportados exitosamente")}catch(S){console.error("Error exporting messages:",S),Pe.showError("Error al exportar mensajes")}},H=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=I=>{var Y;const te=(Y=I.target.files)==null?void 0:Y[0];if(te){const ie=new FileReader;ie.onload=ne=>{var K;try{const he=(K=ne.target)==null?void 0:K.result,De=$e.importMessages(he);De.success?Pe.showSuccess(De.message):Pe.showError(De.message)}catch(he){console.error("Error importing messages:",he),Pe.showError("Error al importar mensajes")}},ie.readAsText(te)}},S.click()},U=re.getShowSpecimenSelector(),L=re.getShowBlockSelector(),q=re.getShowSlideSelector(),_=re.getShowEntitySelector(),Z=re.getShowStatusSelector(),ee=re.isGenerateButtonDisabled(e.isFetchingData,e.isGeneratingMessage);return{message:r.message,sampleId:r.sampleId,selectedHost:r.selectedHost,selectedType:r.selectedType,selectedStatus:r.selectedStatus,generatedMessage:r.generatedMessage,patientInfo:r.patientInfo,physicianInfo:r.physicianInfo,pathologistInfo:r.pathologistInfo,technicianInfo:r.technicianInfo,selectedSpecimen:r.selectedSpecimen,selectedBlock:r.selectedBlock,selectedSlide:r.selectedSlide,selectedEntity:r.selectedEntity,sendResponse:r.sendResponse,messageCopied:e.messageCopied,isPatientModalOpen:e.isPatientModalOpen,isPhysicianModalOpen:e.isPhysicianModalOpen,isPathologistModalOpen:e.isPathologistModalOpen,isHierarchyModalOpen:e.isHierarchyModalOpen,isFetchingData:e.isFetchingData,isGeneratingMessage:e.isGeneratingMessage,isSendingMessage:e.isSendingMessage,error:e.error,isTechnicianModalOpen:e.isTechnicianModalOpen,isSpecimenSelectorModalOpen:e.isSpecimenSelectorModalOpen,isBlockSelectorModalOpen:e.isBlockSelectorModalOpen,isSlideSelectorModalOpen:e.isSlideSelectorModalOpen,isEntitySelectorModalOpen:e.isEntitySelectorModalOpen,isSidebarOpen:e.isSidebarOpen,isServerSidebarOpen:(()=>(console.log(" HOOK - isServerSidebarOpen:",e.isServerSidebarOpen),e.isServerSidebarOpen))(),isSendingAll:e.isSendingAll,isClearingAll:e.isClearingAll,isMessageSaved:e.isMessageSaved,hosts:re.hosts,isLoadingHosts:re.isLoadingHosts,messageTypes:r.messageTypes,showSpecimenSelector:U,showBlockSelector:L,showSlideSelector:q,showEntitySelector:_,showStatusSelector:Z,generateButtonDisabled:ee,savedMessages:s,snackbar:a,closeSnackbar:()=>Pe.close(),handleSampleIdChange:c,handleHostChange:p,handleTypeChange:f,handleStatusChange:u,handlePatientInfoSave:d,handlePhysicianInfoSave:m,handlePathologistInfoSave:h,handleTechnicianInfoSave:y,handleSpecimenSelect:N,handleBlockSelect:v,handleSlideSelect:g,handleEntitySelect:x,togglePatientModal:()=>se.togglePatientModal(),togglePhysicianModal:()=>se.togglePhysicianModal(),togglePathologistModal:()=>se.togglePathologistModal(),toggleHierarchyModal:()=>se.toggleHierarchyModal(),toggleTechnicianModal:()=>se.toggleTechnicianModal(),toggleSpecimenSelectorModal:()=>se.toggleSpecimenSelectorModal(),toggleBlockSelectorModal:()=>se.toggleBlockSelectorModal(),toggleSlideSelectorModal:()=>se.toggleSlideSelectorModal(),toggleEntitySelectorModal:()=>se.toggleEntitySelectorModal(),toggleSidebar:()=>se.toggleSidebar(),toggleServerSidebar:()=>{console.log(" HOOK - toggleServerSidebar ejecutndose"),se.toggleServerSidebar(),console.log(" HOOK - toggleServerSidebar ejecutado")},generateMessage:C,sendMessage:w,copyToClipboard:D,updateGeneratedMessage:k,saveMessageToSidebar:R,removeSavedMessage:M,clearAllResponses:$,clearMessageResponses:W,reorderSavedMessages:Q,sendSavedMessage:V,sendAllSavedMessages:B,updateMessageResponses:F,updateMessageContent:O,updateMessageComment:E,updateMessageControlId:T,exportMessages:P,importMessages:H}},yN=({isSidebarOpen:e,isServerSidebarOpen:t,isMessageSaved:r,onToggleSidebar:n,onToggleServerSidebar:s,children:i})=>o.jsx("div",{className:"flex min-h-screen bg-gray-100",children:o.jsx("div",{className:`flex-1 transition-all duration-300 ${e?"mr-96":""} ${t?"ml-96":""}`,children:o.jsxs("div",{className:"max-w-4xl mx-auto my-8 p-8 bg-white rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Message Generator"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{console.log(" BOTN SERVER SIDEBAR CLICKEADO!"),s()},className:`p-2 rounded-lg transition-colors ${t?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,title:"Server Management",children:o.jsx(Nx,{size:24})}),o.jsx("button",{onClick:n,className:`p-2 rounded-lg transition-colors ${r?"bg-green-600 text-white hover:bg-green-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,title:"Saved Messages",children:o.jsx(ux,{size:24})})]})]}),i]})})}),bN=({sampleId:e,isFetchingData:t,handleSampleIdChange:r,togglePatientModal:n,togglePhysicianModal:s,togglePathologistModal:i,toggleTechnicianModal:a,toggleHierarchyModal:l})=>o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{htmlFor:"sampleId",className:"block text-sm font-medium text-gray-700",children:"Sample ID"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:n,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-100 text-blue-700 hover:bg-blue-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Patient"]}),o.jsxs("button",{onClick:s,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-100 text-green-700 hover:bg-green-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Physician"]}),o.jsxs("button",{onClick:i,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-purple-100 text-purple-700 hover:bg-purple-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Pathologist"]}),o.jsxs("button",{onClick:a,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-pink-100 text-pink-700 hover:bg-pink-200"} rounded-md transition-colors text-sm`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Technician"]}),o.jsxs("button",{onClick:l,disabled:!e||t,className:`inline-flex items-center px-3 py-1 ${!e||t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-amber-100 text-amber-700 hover:bg-amber-200"} rounded-md transition-colors text-sm`,children:[o.jsx(_m,{className:"h-4 w-4 mr-1"}),"Edit Hierarchy"]})]})]}),o.jsx("input",{type:"text",id:"sampleId",value:e,onChange:r,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Insert Sample ID"}),t&&o.jsxs("div",{className:"mt-2 flex items-center text-sm text-blue-600",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})]}),SN=({selectedHost:e,selectedType:t,selectedStatus:r,messageTypes:n,hosts:s,isLoadingHosts:i,handleHostChange:a,handleTypeChange:l,handleStatusChange:c,toggleSpecimenSelectorModal:p,toggleBlockSelectorModal:f,toggleSlideSelectorModal:u,toggleEntitySelectorModal:d,showSpecimenSelector:m,showBlockSelector:h,showSlideSelector:y,showEntitySelector:N,showStatusSelector:v,message:g,selectedSpecimen:x,selectedBlock:b,selectedSlide:C,selectedEntity:w})=>{const D=kt.getStatusOptions(e,t);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"hostType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Host"}),"        ",o.jsxs("select",{id:"hostType",value:e,onChange:a,disabled:i,className:`w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all ${i?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("option",{value:"",children:i?"Loading hosts...":"Select a host"}),s.map(k=>o.jsx("option",{value:k.id,children:k.name},k.id))]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("label",{htmlFor:"messageType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("select",{id:"messageType",value:t,onChange:l,disabled:!e,className:`flex-grow px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all ${e?"":"cursor-not-allowed bg-gray-100"}`,children:[o.jsx("option",{value:"",children:"Select type"}),n.map(k=>o.jsx("option",{value:k.id,children:k.name},k.id))]}),v&&o.jsx("select",{id:"statusSelector",value:r,onChange:c,className:"w-1/3 px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all",children:D.map(k=>o.jsx("option",{value:k.id,children:k.name},k.id))}),m&&o.jsxs("button",{onClick:p,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-amber-500 text-white hover:bg-amber-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Specimen"}),x&&o.jsx("span",{className:"ml-1 font-bold",children:""})]}),h&&o.jsxs("button",{onClick:f,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Block"}),b&&o.jsx("span",{className:"ml-1 font-bold",children:""})]}),y&&!N&&o.jsxs("button",{onClick:u,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Slide"}),C&&o.jsx("span",{className:"ml-1 font-bold",children:""})]}),N&&o.jsxs("button",{onClick:d,disabled:!g,className:`px-4 py-2 rounded-lg flex items-center space-x-1 ${g?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Select Entity"}),w&&o.jsx("span",{className:"ml-1 font-bold",children:""})]})]}),!e&&o.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"First select a host"}),m&&x&&o.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-amber-800",children:["Specimen selected: ",o.jsx("span",{className:"font-semibold",children:x.id})]})}),h&&b&&o.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-amber-800",children:["Block selected: ",o.jsx("span",{className:"font-semibold",children:b.id})]})}),y&&C&&!N&&o.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:["Slide selected: ",o.jsx("span",{className:"font-semibold",children:C.id})]})}),N&&w&&o.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-800",children:[w.type," selected: ",o.jsx("span",{className:"font-semibold",children:w.id})]})}),v&&o.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-800",children:["Status selected: ",o.jsx("span",{className:"font-semibold",children:r})]})})]})]})},wN=({generateMessage:e,isGeneratingMessage:t,disabled:r})=>o.jsx("button",{onClick:e,disabled:r,className:`w-full py-3 px-6 rounded-lg text-lg font-medium transition-colors ${r?"bg-gray-400 text-white cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:t?"Generating...":"Generate Message"}),NN=({message:e,onSave:t,onCancel:r})=>{const[n,s]=j.useState(e);j.useEffect(()=>{s(e)},[e]);const i=()=>{t(n)};return o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Editar Mensaje:"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1 rounded border text-green-600 hover:text-green-800 border-green-300 hover:border-green-500 transition-colors",children:[o.jsx(To,{size:16}),"Guardar"]}),o.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1 rounded border text-red-600 hover:text-red-800 border-red-300 hover:border-red-500 transition-colors",children:[o.jsx(At,{size:16}),"Cancelar"]})]})]}),o.jsx("textarea",{value:n,onChange:a=>s(a.target.value),className:"w-full h-96 p-4 border border-gray-300 rounded-lg font-mono text-sm resize-vertical focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Edita tu mensaje aqu..."})]})},EN=({generatedMessage:e,messageCopied:t,copyToClipboard:r,onSendMessage:n,isSendingMessage:s,onMessageUpdate:i,onSaveMessage:a})=>{const[l,c]=j.useState(!1);if(!e)return null;const p=d=>{i(d),c(!1)},f=()=>{c(!1)},u=()=>{c(!l)};return o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Mensaje Generado:"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:r,className:"text-indigo-600 hover:text-indigo-800 flex items-center px-3 py-1 rounded border border-indigo-300 hover:border-indigo-500 transition-colors",children:t?"Copied!":"Copy"}),o.jsxs("button",{onClick:u,className:"text-blue-600 hover:text-blue-800 flex items-center gap-2 px-3 py-1 rounded border border-blue-300 hover:border-blue-500 transition-colors",children:[o.jsx(Nn,{size:16}),l?"Vista previa":"Editar"]}),o.jsxs("button",{onClick:a,className:"text-purple-600 hover:text-purple-800 flex items-center gap-2 px-3 py-1 rounded border border-purple-300 hover:border-purple-500 transition-colors",children:[o.jsx(To,{size:16}),"Guardar"]}),o.jsxs("button",{onClick:n,disabled:s,className:`flex items-center gap-2 px-3 py-1 rounded border transition-colors ${s?"bg-gray-400 text-white border-gray-400 cursor-not-allowed":"text-green-600 hover:text-green-800 border-green-300 hover:border-green-500"}`,children:[o.jsx(Wm,{size:16}),s?"Sending...":"Send"]})]})]}),l?o.jsx(NN,{message:e,onSave:p,onCancel:f}):o.jsx("div",{className:"relative",children:o.jsx("pre",{className:"bg-gray-50 p-6 rounded-lg overflow-auto max-h-[400px] text-sm whitespace-pre-wrap shadow-inner border border-gray-200",children:e})})]})},CN=({sendResponse:e})=>{if(!e||e.length===0)return null;const t=n=>fo(n.message),r=n=>new Date(n).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:"mt-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:["Respuesta",e.length>1?"s":""," del Servidor:"]}),"      ",o.jsx("div",{className:"space-y-3",children:e.map((n,s)=>{const i=t(n),a=Yo(n.message);return o.jsxs("div",{className:`p-4 rounded-lg border ${i?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex gap-2",children:[e.length>1&&o.jsxs("div",{className:`text-xs font-semibold ${i?"text-red-600":"text-green-600"}`,children:["Respuesta #",s+1]}),o.jsx("div",{className:`text-xs px-2 py-1 rounded ${a.format==="json"?"bg-blue-100 text-blue-700":a.format==="xml"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:a.format.toUpperCase()}),i&&o.jsx("div",{className:"text-xs px-2 py-1 rounded bg-red-100 text-red-700",children:"ERROR"})]}),o.jsxs("div",{className:`text-xs ${i?"text-red-500":"text-green-500"}`,children:["Recibido: ",r(n.receiveTime)]})]}),i&&a.errorDetails&&o.jsxs("div",{className:"mb-3 p-3 bg-red-100 border border-red-200 rounded",children:[o.jsx("div",{className:"text-xs font-semibold text-red-700 mb-1",children:"Detalle del Error:"}),o.jsx("div",{className:"text-sm text-red-800",children:a.errorDetails})]}),o.jsx("pre",{className:`text-sm whitespace-pre-wrap font-mono ${i?"text-red-800":"text-green-800"}`,children:a.content})]},s)})})]})},jN=({sampleId:e,selectedHost:t,selectedType:r,selectedStatus:n,generatedMessage:s,messageCopied:i,isFetchingData:a,isGeneratingMessage:l,isSendingMessage:c,generateButtonDisabled:p,messageTypes:f,hosts:u,isLoadingHosts:d,selectedSpecimen:m,selectedBlock:h,selectedSlide:y,selectedEntity:N,showSpecimenSelector:v,showBlockSelector:g,showSlideSelector:x,showEntitySelector:b,showStatusSelector:C,message:w,sendResponse:D,error:k,handleSampleIdChange:R,handleHostChange:M,handleTypeChange:$,handleStatusChange:W,togglePatientModal:Q,togglePhysicianModal:V,togglePathologistModal:B,toggleTechnicianModal:F,toggleHierarchyModal:O,toggleSpecimenSelectorModal:E,toggleBlockSelectorModal:T,toggleSlideSelectorModal:P,toggleEntitySelectorModal:H,generateMessage:U,sendMessage:L,copyToClipboard:q,updateGeneratedMessage:_,saveMessageToSidebar:Z})=>o.jsxs(o.Fragment,{children:[o.jsx(bN,{sampleId:e,isFetchingData:a,handleSampleIdChange:R,togglePatientModal:Q,togglePhysicianModal:V,togglePathologistModal:B,toggleTechnicianModal:F,toggleHierarchyModal:O}),o.jsx(SN,{selectedHost:t,selectedType:r,selectedStatus:n,messageTypes:f,hosts:u,isLoadingHosts:d,handleHostChange:M,handleTypeChange:$,handleStatusChange:W,toggleSpecimenSelectorModal:E,toggleBlockSelectorModal:T,toggleSlideSelectorModal:P,toggleEntitySelectorModal:H,showSpecimenSelector:v,showBlockSelector:g,showSlideSelector:x,showEntitySelector:b,showStatusSelector:C,message:w,selectedSpecimen:m,selectedSlide:y,selectedBlock:h,selectedEntity:N}),o.jsx(wN,{generateMessage:U,isGeneratingMessage:l,disabled:p}),k&&o.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-lg",children:k}),o.jsx(EN,{generatedMessage:s,messageCopied:i,copyToClipboard:q,onSendMessage:L,isSendingMessage:c,onMessageUpdate:_,onSaveMessage:Z}),o.jsx(CN,{sendResponse:D})]}),DN=({isOpen:e,onClose:t,patientInfo:r,onSave:n})=>{const[s,i]=j.useState({code:"",firstName:"",lastName:"",middleName:"",suffix:"",secondSurname:"",dateOfBirth:"",sex:"M",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:"",orders:{orderList:[]}});j.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",suffix:r.suffix||"",secondSurname:r.secondSurname||"",dateOfBirth:r.dateOfBirth||"",sex:r.sex||"M",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||"",orders:r.orders||{orderList:[]}})},[r]);const a=c=>{const{name:p,value:f}=c.target;i(u=>({...u,[p]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Paciente"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sex",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sexo"}),o.jsxs("select",{id:"sex",name:"sex",value:s.sex,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white",children:[o.jsx("option",{value:"M",children:"Masculino"}),o.jsx("option",{value:"F",children:"Femenino"}),o.jsx("option",{value:"O",children:"Otro"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Nacimiento (AAAAMMDD)"}),o.jsx("input",{type:"text",id:"dateOfBirth",name:"dateOfBirth",value:s.dateOfBirth,onChange:a,placeholder:"AAAAMMDD",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},kN=({isOpen:e,onClose:t,physicianInfo:r,onSave:n})=>{const[s,i]=j.useState({code:"",firstName:"",lastName:"",middleName:"",prefix:"",suffix:"",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:""});j.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",prefix:r.prefix||"",suffix:r.suffix||"",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||""})},[r]);const a=c=>{const{name:p,value:f}=c.target;i(u=>({...u,[p]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Mdico"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"prefix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefijo"}),o.jsx("input",{type:"text",id:"prefix",name:"prefix",value:s.prefix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"suffix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sufijo"}),o.jsx("input",{type:"text",id:"suffix",name:"suffix",value:s.suffix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},IN=({isOpen:e,onClose:t,pathologistInfo:r,onSave:n})=>{const[s,i]=j.useState({code:"",firstName:"",lastName:"",middleName:"",prefix:"",suffix:"",address:"",city:"",country:"",state:"",zip:"",homePhone:"",workPhone:"",mobile:"",email:""});j.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||"",prefix:r.prefix||"",suffix:r.suffix||"",address:r.address||"",city:r.city||"",country:r.country||"",state:r.state||"",zip:r.zip||"",homePhone:r.homePhone||"",workPhone:r.workPhone||"",mobile:r.mobile||"",email:r.email||""})},[r]);const a=c=>{const{name:p,value:f}=c.target;i(u=>({...u,[p]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Patlogo"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"prefix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefijo"}),o.jsx("input",{type:"text",id:"prefix",name:"prefix",value:s.prefix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"suffix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sufijo"}),o.jsx("input",{type:"text",id:"suffix",name:"suffix",value:s.suffix,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},TN=({isOpen:e,onClose:t,technicianInfo:r,onSave:n})=>{const[s,i]=j.useState({code:"",firstName:"",lastName:"",middleName:""});j.useEffect(()=>{r&&i({code:r.code||"",firstName:r.firstName||"",lastName:r.lastName||"",middleName:r.middleName||""})},[r]);const a=c=>{const{name:p,value:f}=c.target;i(u=>({...u,[p]:f}))},l=c=>{c.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Editar Informacin del Tcnico"}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),o.jsx("input",{type:"text",id:"code",name:"code",value:s.code,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"middleName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Segundo Nombre"}),o.jsx("input",{type:"text",id:"middleName",name:"middleName",value:s.middleName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},RN=({specimen:e,onClose:t,onSave:r})=>{var d,m,h,y,N,v,g,x,b,C,w,D,k,R,M,$,W;const[n,s]=j.useState({...e}),[i,a]=j.useState({type:"GROSSDESCRIPTION",value:""}),l=Q=>{const{name:V,value:B}=Q.target;if(V==="id")s({...n,id:B,externalId:B});else if(V.startsWith("procedure.")){const F=V.split(".")[1],O=V.split(".")[2];n.procedure||(n.procedure={}),O?(n.procedure[F]||(n.procedure[F]={}),n.procedure[F][O]=B):n.procedure[F]=B,s({...n})}else s({...n,[V]:B})},c=Q=>{const{name:V,value:B}=Q.target;a({...i,[V]:B})},p=()=>{if(!i.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const Q={type:i.type,value:i.value,artifact:"SPECIMEN"};i.type==="QUALITYISSUE"&&i.optionalValue&&(Q.optionalType="RESOLUTION",Q.optionalValue=i.optionalValue),n.supplementalInfos.supplementalInfoList.push(Q),a({type:"GROSSDESCRIPTION",value:""}),s({...n})},f=Q=>{var V;(V=n.supplementalInfos)!=null&&V.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(Q,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,s({...n}))},u=Q=>{Q.preventDefault(),r(n)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-2xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Edit Specimen"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(At,{size:24})})]}),o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),o.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),o.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Tissue Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsx("input",{type:"text",name:"procedure.tissue.type",value:((m=(d=n.procedure)==null?void 0:d.tissue)==null?void 0:m.type)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"procedure.tissue.description",value:((y=(h=n.procedure)==null?void 0:h.tissue)==null?void 0:y.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subtype"}),o.jsx("input",{type:"text",name:"procedure.tissue.subtype",value:((v=(N=n.procedure)==null?void 0:N.tissue)==null?void 0:v.subtype)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subtype Description"}),o.jsx("input",{type:"text",name:"procedure.tissue.subtypeDescription",value:((x=(g=n.procedure)==null?void 0:g.tissue)==null?void 0:x.subtypeDescription)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Surgical Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"procedure.surgical.name",value:((C=(b=n.procedure)==null?void 0:b.surgical)==null?void 0:C.name)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"procedure.surgical.description",value:((D=(w=n.procedure)==null?void 0:w.surgical)==null?void 0:D.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Anatomic Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Site"}),o.jsx("input",{type:"text",name:"procedure.anatomic.site",value:((R=(k=n.procedure)==null?void 0:k.anatomic)==null?void 0:R.site)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"procedure.anatomic.description",value:(($=(M=n.procedure)==null?void 0:M.anatomic)==null?void 0:$.description)||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),((W=n.supplementalInfos)==null?void 0:W.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((Q,V)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("span",{className:"font-medium mr-2",children:[Q.type,":"]}),o.jsx("span",{children:Q.value})]}),o.jsx("button",{type:"button",onClick:()=>f(V),className:"text-red-500 hover:text-red-700",children:o.jsx(xr,{size:16})})]},`suppl-${V}`))]}),o.jsxs("div",{className:"border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),o.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsxs("select",{name:"type",value:i.type,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),o.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),o.jsx("option",{value:"RECUT",children:"RECUT"}),o.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),o.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),o.jsx("input",{type:"text",name:"value",value:i.value,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs("button",{type:"button",onClick:p,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[o.jsx(vr,{size:16,className:"mr-1"}),"Add"]})})]}),i.type==="QUALITYISSUE"&&o.jsx("div",{className:"mt-3 grid grid-cols-5 gap-3",children:o.jsxs("div",{className:"col-span-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),o.jsx("input",{type:"text",name:"optionalValue",value:i.optionalValue||"",onChange:c,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},PN=({block:e,onClose:t,onSave:r})=>{var d;const[n,s]=j.useState({...e}),[i,a]=j.useState({type:"GROSSDESCRIPTION",value:""}),l=m=>{const{name:h,value:y}=m.target;s(h==="id"?{...n,id:y,externalId:y}:{...n,[h]:y})},c=m=>{const{name:h,value:y}=m.target;a({...i,[h]:y})},p=()=>{if(!i.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const m={type:i.type,value:i.value,artifact:"BLOCK"};i.type==="QUALITYISSUE"&&i.optionalValue&&(m.optionalType="RESOLUTION",m.optionalValue=i.optionalValue),n.supplementalInfos.supplementalInfoList.push(m),a({type:"GROSSDESCRIPTION",value:""}),s({...n})},f=m=>{var h;(h=n.supplementalInfos)!=null&&h.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(m,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,s({...n}))},u=m=>{m.preventDefault(),r(n)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Edit Block"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(At,{size:24})})]}),o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),o.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),o.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),((d=n.supplementalInfos)==null?void 0:d.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((m,h)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("span",{className:"font-medium mr-2",children:[m.type,":"]}),o.jsx("span",{children:m.value})]}),o.jsx("button",{type:"button",onClick:()=>f(h),className:"text-red-500 hover:text-red-700",children:o.jsx(xr,{size:16})})]},`suppl-${h}`))]}),o.jsxs("div",{className:"border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsxs("select",{name:"type",value:i.type,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),o.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),o.jsx("option",{value:"RECUT",children:"RECUT"}),o.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),o.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),o.jsx("input",{type:"text",name:"value",value:i.value,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),i.type==="QUALITYISSUE"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),o.jsx("input",{type:"text",name:"optionalValue",value:i.optionalValue||"",onChange:c,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("button",{type:"button",onClick:p,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[o.jsx(vr,{size:16,className:"mr-1"}),"Add Information"]})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},MN=({slide:e,onClose:t,onSave:r})=>{var D,k,R,M,$,W,Q,V,B,F,O;const[n,s]=j.useState({...e}),[i,a]=j.useState({type:"GROSSDESCRIPTION",value:""}),[l,c]=j.useState(!1),[p,f]=j.useState(null),[u,d]=j.useState({substanceName:"UV INHIBITOR",substanceOtherName:"Other substance Name",substanceType:"ANTIBODY",manufacturer:"Ventana Medical Systems",lotNumber:"1236",lotSerialNumber:"56251",catalogNumber:"228664",intendedUseFlag:"K510",expirationDateTime:"2016-09-02T12:00",receivedDateTime:"2015-09-02T12:00"}),m=()=>({substanceName:"UV INHIBITOR",substanceOtherName:"Other substance Name",substanceType:"ANTIBODY",manufacturer:"Ventana Medical Systems",lotNumber:"1236",lotSerialNumber:"56251",catalogNumber:"228664",intendedUseFlag:"K510",expirationDateTime:"2016-09-02T12:00",receivedDateTime:"2015-09-02T12:00"}),h=E=>{const{name:T,value:P}=E.target;if(T==="id")s({...n,id:P,externalId:P});else if(T.startsWith("stainProtocol.")){const H=T.split(".")[1];n.stainProtocol||(n.stainProtocol={}),n.stainProtocol[H]=P,s({...n})}else if(T.startsWith("control.")){const H=T.split(".")[1];n.control||(n.control={}),n.control[H]=P,s({...n})}else s(T==="isRescanned"?{...n,isRescanned:P==="true"}:{...n,[T]:P})},y=E=>{const{name:T,value:P}=E.target;a({...i,[T]:P})},N=()=>{if(!i.value.trim())return;n.supplementalInfos||(n.supplementalInfos={supplementalInfoList:[]});const E={type:i.type,value:i.value,artifact:"SLIDE"};i.type==="QUALITYISSUE"&&i.optionalValue&&(E.optionalType="RESOLUTION",E.optionalValue=i.optionalValue),n.supplementalInfos.supplementalInfoList.push(E),a({type:"GROSSDESCRIPTION",value:""}),s({...n})},v=E=>{var T;(T=n.supplementalInfos)!=null&&T.supplementalInfoList&&(n.supplementalInfos.supplementalInfoList.splice(E,1),n.supplementalInfos.supplementalInfoList.length===0&&delete n.supplementalInfos,s({...n}))},g=()=>{var T;if(!((T=u.substanceName)!=null&&T.trim()))return;const E={substanceName:u.substanceName,substanceOtherName:u.substanceOtherName||"",substanceType:u.substanceType||"",manufacturer:u.manufacturer||"",lotNumber:u.lotNumber||"",lotSerialNumber:u.lotSerialNumber||"",catalogNumber:u.catalogNumber||"",intendedUseFlag:u.intendedUseFlag||"",expirationDateTime:u.expirationDateTime||"",receivedDateTime:u.receivedDateTime||""};n.reagents||(n.reagents=[]),n.reagents.push(E),d(m()),s({...n}),c(!1)},x=E=>{var P;const T=(P=n.reagents)==null?void 0:P[E];T&&(d({substanceName:T.substanceName||"",substanceOtherName:T.substanceOtherName||"",substanceType:T.substanceType||"",manufacturer:T.manufacturer||"",lotNumber:T.lotNumber||"",lotSerialNumber:T.lotSerialNumber||"",catalogNumber:T.catalogNumber||"",intendedUseFlag:T.intendedUseFlag||"",expirationDateTime:T.expirationDateTime||"",receivedDateTime:T.receivedDateTime||""}),f(E),c(!0))},b=()=>{var T;if(!((T=u.substanceName)!=null&&T.trim())||p===null)return;const E={substanceName:u.substanceName,substanceOtherName:u.substanceOtherName||"",substanceType:u.substanceType||"",manufacturer:u.manufacturer||"",lotNumber:u.lotNumber||"",lotSerialNumber:u.lotSerialNumber||"",catalogNumber:u.catalogNumber||"",intendedUseFlag:u.intendedUseFlag||"",expirationDateTime:u.expirationDateTime||"",receivedDateTime:u.receivedDateTime||""};n.reagents&&p<n.reagents.length&&(n.reagents[p]=E),d(m()),f(null),s({...n}),c(!1)},C=E=>{n.reagents&&(n.reagents.splice(E,1),n.reagents.length===0&&delete n.reagents,s({...n}))},w=E=>{E.preventDefault(),r(n)};return o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:[o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-2xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Edit Slide"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(At,{size:24})})]}),o.jsxs("form",{onSubmit:w,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),o.jsx("input",{type:"text",name:"id",value:n.id||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sequence"}),o.jsx("input",{type:"text",name:"sequence",value:n.sequence||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Stain Protocol"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"stainProtocol.name",value:((D=n.stainProtocol)==null?void 0:D.name)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Number"}),o.jsx("input",{type:"text",name:"stainProtocol.number",value:((k=n.stainProtocol)==null?void 0:k.number)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Identifier"}),o.jsx("input",{type:"text",name:"stainProtocol.identifier",value:((R=n.stainProtocol)==null?void 0:R.identifier)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"stainProtocol.description",value:((M=n.stainProtocol)==null?void 0:M.description)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Control"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"control.name",value:(($=n.control)==null?void 0:$.name)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("input",{type:"text",name:"control.description",value:((W=n.control)==null?void 0:W.description)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scoring"}),o.jsx("input",{type:"text",name:"control.scoring",value:((Q=n.control)==null?void 0:Q.scoring)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Clone"}),o.jsx("input",{type:"text",name:"control.clone",value:((V=n.control)==null?void 0:V.clone)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vendor"}),o.jsx("input",{type:"text",name:"control.vendor",value:((B=n.control)==null?void 0:B.vendor)||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Additional Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Is Rescanned"}),o.jsxs("select",{name:"isRescanned",value:n.isRescanned?"true":"false",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"false",children:"No"}),o.jsx("option",{value:"true",children:"Yes"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Label Printed"}),o.jsx("input",{type:"text",name:"labelPrinted",value:n.labelPrinted||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rescan Comment"}),o.jsx("input",{type:"text",name:"rescanComment",value:n.rescanComment||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Reagents"}),n.reagents&&n.reagents.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Current Reagents"}),n.reagents.map((E,T)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx("span",{className:"font-medium mr-2",children:E.substanceName}),E.manufacturer&&o.jsxs("span",{className:"text-sm text-gray-600",children:["(",E.manufacturer,")"]}),E.lotNumber&&o.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Lot: ",E.lotNumber]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>x(T),className:"text-blue-500 hover:text-blue-700 px-2 py-1 text-sm border border-blue-500 rounded hover:bg-blue-50",children:"Change"}),o.jsx("button",{type:"button",onClick:()=>C(T),className:"text-red-500 hover:text-red-700",children:o.jsx(xr,{size:16})})]})]},`reagent-${T}`))]}),o.jsx("div",{className:"mb-4",children:o.jsxs("button",{type:"button",onClick:()=>{d(m()),f(null),c(!0)},className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center",children:[o.jsx(vr,{size:16,className:"mr-1"}),"Add Reagent"]})}),o.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Supplemental Information"}),((F=n.supplementalInfos)==null?void 0:F.supplementalInfoList)&&n.supplementalInfos.supplementalInfoList.length>0&&o.jsxs("div",{className:"mb-4 border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Existing Information"}),n.supplementalInfos.supplementalInfoList.map((E,T)=>o.jsxs("div",{className:"flex items-center mb-2 p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsxs("span",{className:"font-medium mr-2",children:[E.type,":"]}),o.jsx("span",{children:E.value})]}),o.jsx("button",{type:"button",onClick:()=>v(T),className:"text-red-500 hover:text-red-700",children:o.jsx(xr,{size:16})})]},`suppl-${T}`))]}),o.jsxs("div",{className:"border rounded-md p-3",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Add New Information"}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),o.jsxs("select",{name:"type",value:i.type,onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"GROSSDESCRIPTION",children:"GROSSDESCRIPTION"}),o.jsx("option",{value:"QUALITYISSUE",children:"QUALITYISSUE"}),o.jsx("option",{value:"RECUT",children:"RECUT"}),o.jsx("option",{value:"SPECIALINSTRUCTION",children:"SPECIALINSTRUCTION"}),o.jsx("option",{value:"TISSUEPIECES",children:"TISSUEPIECES"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value"}),o.jsx("input",{type:"text",name:"value",value:i.value,onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs("button",{type:"button",onClick:N,className:"w-full px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center justify-center",children:[o.jsx(vr,{size:16,className:"mr-1"}),"Add"]})})]}),i.type==="QUALITYISSUE"&&o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution (Optional)"}),o.jsx("input",{type:"text",name:"optionalValue",value:i.optionalValue||"",onChange:y,placeholder:"Continue processing, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]}),l&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-lg max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold",children:p!==null?"Edit Reagent":"Add Reagent"}),o.jsx("button",{onClick:()=>{c(!1),d(m()),f(null)},className:"text-gray-500 hover:text-gray-700",children:o.jsx(At,{size:20})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Substance Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:u.substanceName||"",onChange:E=>d({...u,substanceName:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Hematoxylin & Eosin"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Substance Other Name"}),o.jsx("input",{type:"text",value:u.substanceOtherName||"",onChange:E=>d({...u,substanceOtherName:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Substance Type"}),o.jsx("input",{type:"text",value:u.substanceType||"",onChange:E=>d({...u,substanceType:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Manufacturer"}),o.jsx("input",{type:"text",value:u.manufacturer||"",onChange:E=>d({...u,manufacturer:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lot Number"}),o.jsx("input",{type:"text",value:u.lotNumber||"",onChange:E=>d({...u,lotNumber:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lot Serial Number"}),o.jsx("input",{type:"text",value:u.lotSerialNumber||"",onChange:E=>d({...u,lotSerialNumber:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catalog Number"}),o.jsx("input",{type:"text",value:u.catalogNumber||"",onChange:E=>d({...u,catalogNumber:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Intended Use Flag"}),o.jsx("input",{type:"text",value:u.intendedUseFlag||"",onChange:E=>d({...u,intendedUseFlag:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expiration Date/Time"}),o.jsx("input",{type:"datetime-local",value:u.expirationDateTime||"",onChange:E=>d({...u,expirationDateTime:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Received Date/Time"}),o.jsx("input",{type:"datetime-local",value:u.receivedDateTime||"",onChange:E=>d({...u,receivedDateTime:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{c(!1),d(m()),f(null)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p!==null?b:g,disabled:!((O=u.substanceName)!=null&&O.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:p!==null?"Update Reagent":"Add Reagent"})]})]})})]})},ON=({isOpen:e,onClose:t,message:r})=>{var R,M,$,W,Q,V,B;const[n,s]=j.useState({}),[i,a]=j.useState({}),[l,c]=j.useState({}),[p,f]=j.useState(null),[u,d]=j.useState(null),[m,h]=j.useState(null);if(!e||!r)return null;const y=($=(M=(R=r.patient)==null?void 0:R.orders)==null?void 0:M.orderList)==null?void 0:$[0];if(!y)return null;const N=F=>{s({...n,[F]:!n[F]})},v=(F,O)=>{const E=`${F}-${O}`;a({...i,[E]:!i[E]})},g=F=>{if(/^\d+$/.test(F))return String(parseInt(F)+1);if(/^[A-Za-z]$/.test(F)){const O=F.charCodeAt(0);return String.fromCharCode(O+1)}return`${F}-new`},x=()=>{var q,_,Z,ee,S;if(!((q=y.specimens)!=null&&q.specimenList))return;const F=y.specimens.specimenList[y.specimens.specimenList.length-1],O=g(F.sequence),E=F.id.replace(/([^;]+)$/,O),T={...JSON.parse(JSON.stringify(F)),id:E,sequence:O,externalId:E,blocks:{blockList:[]}},P=(Z=(_=F.blocks)==null?void 0:_.blockList)==null?void 0:Z[F.blocks.blockList.length-1],H={...JSON.parse(JSON.stringify(P)),id:E+";1",sequence:1,externalId:E+";1",slides:{slideList:[]}},U=(S=(ee=P==null?void 0:P.slides)==null?void 0:ee.slideList)==null?void 0:S[P.slides.slideList.length-1],L={...JSON.parse(JSON.stringify(U)),id:E+";1;1",sequence:1,externalId:E+";1;1"};H.slides.slideList.push(L),T.blocks.blockList.push(H),y.specimens.specimenList.push(T),s({...n})},b=F=>{var q,_,Z,ee,S;const O=(_=(q=y.specimens)==null?void 0:q.specimenList)==null?void 0:_[F];if(!O||!((Z=O.blocks)!=null&&Z.blockList))return;const E=O.blocks.blockList[O.blocks.blockList.length-1],T=g(E.sequence),P=E.id.replace(/(.*);(\d+)$/,`$1;${T}`),H={...JSON.parse(JSON.stringify(E)),id:P,sequence:T,externalId:P,slides:{slideList:[]}},U=(S=(ee=E==null?void 0:E.slides)==null?void 0:ee.slideList)==null?void 0:S[E.slides.slideList.length-1],L={...JSON.parse(JSON.stringify(U)),id:P+";1",sequence:1,externalId:P+";1"};H.slides.slideList.push(L),O.blocks.blockList.push(H),a({...i})},C=(F,O)=>{var q,_,Z,ee,S;const E=(_=(q=y.specimens)==null?void 0:q.specimenList)==null?void 0:_[F],T=(ee=(Z=E==null?void 0:E.blocks)==null?void 0:Z.blockList)==null?void 0:ee[O];if(!T||!((S=T.slides)!=null&&S.slideList))return;const P=T.slides.slideList[T.slides.slideList.length-1],H=g(P.sequence),U=P.id.replace(/(.*);(\d+)$/,`$1;${H}`),L={...JSON.parse(JSON.stringify(P)),id:U,sequence:H,externalId:U};T.slides.slideList.push(L),c({...l})},w=F=>{var O;(O=y.specimens)!=null&&O.specimenList&&(y.specimens.specimenList.splice(F,1),s({...n}))},D=(F,O)=>{var T,P,H;const E=(P=(T=y.specimens)==null?void 0:T.specimenList)==null?void 0:P[F];!E||!((H=E.blocks)!=null&&H.blockList)||(E.blocks.blockList.splice(O,1),a({...i}))},k=(F,O,E)=>{var H,U,L,q,_;const T=(U=(H=y.specimens)==null?void 0:H.specimenList)==null?void 0:U[F],P=(q=(L=T==null?void 0:T.blocks)==null?void 0:L.blockList)==null?void 0:q[O];!P||!((_=P.slides)!=null&&_.slideList)||(P.slides.slideList.splice(E,1),c({...l}))};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Order Hierarchy"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:[o.jsx(_m,{className:"mr-2",size:20}),"Order: ",y.sampleId||"No ID"]}),(Q=(W=y.specimens)==null?void 0:W.specimenList)==null?void 0:Q.map((F,O)=>{var E,T,P,H;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>N(O),children:[n[O]?o.jsx(Er,{className:"mr-1 text-gray-600",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",F.id||"No ID"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>f({specimen:F,index:O}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit specimen",children:o.jsx(Nn,{size:16})}),o.jsx("button",{onClick:()=>w(O),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete specimen",children:o.jsx(xr,{size:16})})]})]}),n[O]&&o.jsxs(o.Fragment,{children:[(T=(E=F.blocks)==null?void 0:E.blockList)==null?void 0:T.map((U,L)=>{var q,_,Z,ee;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"font-medium text-gray-700 flex items-center cursor-pointer flex-grow",onClick:()=>v(O,L),children:[i[`${O}-${L}`]?o.jsx(Er,{className:"mr-1 text-gray-500",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-500",size:16}),"Block: ",U.id||"No ID"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>d({block:U,specimenIndex:O,blockIndex:L}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit block",children:o.jsx(Nn,{size:16})}),o.jsx("button",{onClick:()=>D(O,L),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete block",children:o.jsx(xr,{size:16})})]})]}),i[`${O}-${L}`]&&o.jsxs(o.Fragment,{children:[(_=(q=U.slides)==null?void 0:q.slideList)==null?void 0:_.map((S,I)=>o.jsx("div",{className:"ml-6 mt-1 border-l-2 pl-4 border-gray-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"text-gray-600 flex-grow",children:["Slide: ",S.id||"No ID"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>h({slide:S,specimenIndex:O,blockIndex:L,slideIndex:I}),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"Edit slide",children:o.jsx(Nn,{size:16})}),o.jsx("button",{onClick:()=>k(O,L,I),className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete slide",children:o.jsx(xr,{size:16})})]})]})},`slide-${I}`)),(((ee=(Z=U.slides)==null?void 0:Z.slideList)==null?void 0:ee.length)||0)>0&&o.jsx("div",{className:"ml-6 mt-2",children:o.jsxs("button",{onClick:()=>C(O,L),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[o.jsx(vr,{size:14,className:"mr-1"}),"Add Slide"]})})]})]},`block-${L}`)}),(((H=(P=F.blocks)==null?void 0:P.blockList)==null?void 0:H.length)||0)>0&&o.jsx("div",{className:"ml-6 mt-3",children:o.jsxs("button",{onClick:()=>b(O),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[o.jsx(vr,{size:14,className:"mr-1"}),"Add Block"]})})]})]},`specimen-${O}`)}),(((B=(V=y.specimens)==null?void 0:V.specimenList)==null?void 0:B.length)||0)>0&&o.jsx("div",{className:"ml-6 mt-4",children:o.jsxs("button",{onClick:x,className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[o.jsx(vr,{size:14,className:"mr-1"}),"Add Specimen"]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Close"})}),p&&o.jsx(RN,{specimen:p.specimen,onClose:()=>f(null),onSave:F=>{var O;(O=y.specimens)!=null&&O.specimenList&&(y.specimens.specimenList[p.index]=F,f(null),s({...n}))}}),u&&o.jsx(PN,{block:u.block,onClose:()=>d(null),onSave:F=>{var E,T,P;const O=(T=(E=y.specimens)==null?void 0:E.specimenList)==null?void 0:T[u.specimenIndex];O&&((P=O.blocks)!=null&&P.blockList)&&(O.blocks.blockList[u.blockIndex]=F,d(null),a({...i}))}}),m&&o.jsx(MN,{slide:m.slide,onClose:()=>h(null),onSave:F=>{var T,P,H,U,L;const O=(P=(T=y.specimens)==null?void 0:T.specimenList)==null?void 0:P[m.specimenIndex],E=(U=(H=O==null?void 0:O.blocks)==null?void 0:H.blockList)==null?void 0:U[m.blockIndex];E&&((L=E.slides)!=null&&L.slideList)&&(E.slides.slideList[m.slideIndex]=F,h(null),c({...l}))}})]})})},LN=({isPatientModalOpen:e,isPhysicianModalOpen:t,isPathologistModalOpen:r,isHierarchyModalOpen:n,isTechnicianModalOpen:s,patientInfo:i,physicianInfo:a,pathologistInfo:l,technicianInfo:c,message:p,togglePatientModal:f,togglePhysicianModal:u,togglePathologistModal:d,toggleHierarchyModal:m,toggleTechnicianModal:h,handlePatientInfoSave:y,handlePhysicianInfoSave:N,handlePathologistInfoSave:v,handleTechnicianInfoSave:g})=>o.jsxs(o.Fragment,{children:[o.jsx(DN,{isOpen:e,onClose:f,patientInfo:i,onSave:y}),o.jsx(kN,{isOpen:t,onClose:u,physicianInfo:a,onSave:N}),o.jsx(IN,{isOpen:r,onClose:d,pathologistInfo:l,onSave:v}),o.jsx(ON,{isOpen:n,onClose:m,message:p}),o.jsx(TN,{isOpen:s,onClose:h,technicianInfo:c,onSave:g})]}),AN=({isOpen:e,onClose:t,message:r,onSelectSpecimen:n})=>{var p,f,u,d,m;const[s,i]=j.useState({});if(!e||!r)return null;const a=(u=(f=(p=r.patient)==null?void 0:p.orders)==null?void 0:f.orderList)==null?void 0:u[0];if(!a)return null;const l=h=>{i({...s,[h]:!s[h]})},c=h=>{n(h),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select a Specimen"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",a.sampleId||"No ID"]}),(m=(d=a.specimens)==null?void 0:d.specimenList)==null?void 0:m.map((h,y)=>o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>l(y),children:[s[y]?o.jsx(Er,{className:"mr-1 text-gray-600",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",h.id||"No ID"]}),o.jsx("button",{onClick:()=>c(h),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),s[y]&&o.jsxs("div",{className:"ml-6 mt-2 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"ID:"})," ",h.id]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Sequence:"})," ",h.sequence]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Entity Name:"})," ",h.entityName]}),h.externalId&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"External ID:"})," ",h.externalId]})]})]},`specimen-${y}`))]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},BN=({isOpen:e,onClose:t,message:r,onSelectBlock:n})=>{var p,f,u,d,m;const[s,i]=j.useState({});if(j.useEffect(()=>{var h,y,N,v;if(r){const g=(N=(y=(h=r.patient)==null?void 0:h.orders)==null?void 0:y.orderList)==null?void 0:N[0];if((v=g==null?void 0:g.specimens)!=null&&v.specimenList){const x=g.specimens.specimenList.reduce((b,C,w)=>(b[w]=!0,b),{});i(x)}}},[e]),!e||!r)return null;const a=(u=(f=(p=r.patient)==null?void 0:p.orders)==null?void 0:f.orderList)==null?void 0:u[0];if(!a)return console.log("No order found in message"),null;const l=h=>{i({...s,[h]:!s[h]})},c=h=>{console.log("Selected block:",h),n(h),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select a Block"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",a.sampleId||"No ID"]}),(m=(d=a.specimens)==null?void 0:d.specimenList)==null?void 0:m.map((h,y)=>{var N,v;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>l(y),children:[s[y]?o.jsx(Er,{className:"mr-1 text-gray-600",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",h.id||"No ID"]})}),s[y]&&((v=(N=h.blocks)==null?void 0:N.blockList)==null?void 0:v.map((g,x)=>o.jsx("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Block: ",g.id||"No ID"]}),o.jsx("button",{onClick:()=>c(g),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]})},`block-${x}`)))]},`specimen-${y}`)})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},FN=({isOpen:e,onClose:t,message:r,onSelectSlide:n})=>{var d,m,h,y,N;const[s,i]=j.useState({}),[a,l]=j.useState({});if(j.useEffect(()=>{var v,g,x,b;if(r){const C=(x=(g=(v=r.patient)==null?void 0:v.orders)==null?void 0:g.orderList)==null?void 0:x[0];if((b=C==null?void 0:C.specimens)!=null&&b.specimenList){const w=C.specimens.specimenList.reduce((k,R,M)=>(k[M]=!0,k),{}),D=C.specimens.specimenList.reduce((k,R)=>{var M,$;return($=(M=R.blocks)==null?void 0:M.blockList)==null||$.forEach(W=>{k[W.id]=!0}),k},{});i(w),l(D)}}},[e]),!e||!r)return null;const c=(h=(m=(d=r.patient)==null?void 0:d.orders)==null?void 0:m.orderList)==null?void 0:h[0];if(!c)return console.log("No order found in message"),null;const p=v=>{i({...s,[v]:!s[v]})},f=v=>{l({...a,[v]:!a[v]})},u=v=>{console.log("Selected slide:",v),n(v),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select a Slide"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",c.sampleId||"No ID"]}),(N=(y=c.specimens)==null?void 0:y.specimenList)==null?void 0:N.map((v,g)=>{var x,b;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>p(g),children:[s[g]?o.jsx(Er,{className:"mr-1 text-gray-600",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-600",size:16}),"Specimen: ",v.id||"No ID"]})}),s[g]&&((b=(x=v.blocks)==null?void 0:x.blockList)==null?void 0:b.map((C,w)=>{var D,k;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"font-medium flex items-center cursor-pointer flex-grow",onClick:()=>f(C.id),children:[a[C.id]?o.jsx(Er,{className:"mr-1 text-gray-600",size:16}):o.jsx(Xr,{className:"mr-1 text-gray-600",size:16}),"Block: ",C.id||"No ID"]})}),a[C.id]&&((k=(D=C.slides)==null?void 0:D.slideList)==null?void 0:k.map((R,M)=>{var $;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-blue-100",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Slide: ",R.id||"No ID"]}),o.jsx("button",{onClick:()=>u(R),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),o.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[o.jsxs("p",{children:["Sequence: ",R.sequence]}),(($=R.stainProtocol)==null?void 0:$.name)&&o.jsxs("p",{children:["Stain: ",R.stainProtocol.name]})]})]},`slide-${M}`)}))]},`block-${w}`)}))]},`specimen-${g}`)})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},$N=({isOpen:e,onClose:t,message:r,onSelectEntity:n})=>{var u,d,m,h,y,N,v,g,x;const[s,i]=j.useState("orders");if(j.useEffect(()=>{var b,C,w,D;if(r){const k=(w=(C=(b=r.patient)==null?void 0:b.orders)==null?void 0:C.orderList)==null?void 0:w[0];(D=k==null?void 0:k.specimens)!=null&&D.specimenList}},[e,r]),!e||!r)return null;const a=(m=(d=(u=r.patient)==null?void 0:u.orders)==null?void 0:d.orderList)==null?void 0:m[0];if(!a)return null;const l=b=>{n("Specimen",b),t()},c=b=>{n("Block",b),t()},p=b=>{n("Slide",b),t()},f=b=>{n("Order",b),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 max-w-3xl max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Select an Entity"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),"        ",o.jsxs("div",{className:"flex border-b border-gray-200 mb-4",children:[o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="orders"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("orders"),children:"Orders"}),o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="specimens"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("specimens"),children:"Specimens"}),o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="blocks"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("blocks"),children:"Blocks"}),o.jsx("button",{className:`py-2 px-4 border-b-2 ${s==="slides"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("slides"),children:"Slides"})]}),o.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:["          ",o.jsxs("div",{className:"font-semibold text-lg flex items-center",children:["Order: ",a.sampleId||"No ID"]}),s==="orders"&&o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-purple-300",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-medium flex items-center cursor-pointer flex-grow",children:o.jsxs("span",{children:["Order: ",a.sampleId||"No ID"]})}),o.jsx("button",{onClick:()=>f(a),className:"ml-2 px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors text-sm",children:"Select"})]}),o.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Sample ID:"})," ",a.sampleId]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Entity Name:"})," ",a.entityName]}),a.extSampleId&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"External Sample ID:"})," ",a.extSampleId]}),a.status&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Status:"})," ",a.status]}),a.workFlow&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Workflow:"})," ",a.workFlow]})]})]}),s==="specimens"&&((y=(h=a.specimens)==null?void 0:h.specimenList)==null?void 0:y.map((b,C)=>o.jsx("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-medium flex items-center cursor-pointer flex-grow",children:o.jsxs("span",{children:["Specimen: ",b.id||"No ID"]})}),o.jsx("button",{onClick:()=>l(b),className:"ml-2 px-3 py-1 bg-amber-500 text-white rounded hover:bg-amber-600 transition-colors text-sm",children:"Select"})]})},`specimen-${C}`))),s==="blocks"&&((v=(N=a.specimens)==null?void 0:N.specimenList)==null?void 0:v.map((b,C)=>{var w,D;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:[o.jsxs("div",{className:"font-medium",children:["Specimen: ",b.id||"No ID"]}),(D=(w=b.blocks)==null?void 0:w.blockList)==null?void 0:D.map((k,R)=>o.jsx("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Block: ",k.id||"No ID"]}),o.jsx("button",{onClick:()=>c(k),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]})},`block-${R}`))]},`specimen-blocks-${C}`)})),s==="slides"&&((x=(g=a.specimens)==null?void 0:g.specimenList)==null?void 0:x.map((b,C)=>{var w,D;return o.jsxs("div",{className:"ml-6 mt-3 border-l-2 pl-4 border-gray-300",children:["              ",o.jsxs("div",{className:"font-medium",children:["Specimen: ",b.id||"No ID"]}),(D=(w=b.blocks)==null?void 0:w.blockList)==null?void 0:D.map((k,R)=>{var M,$;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-gray-200",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Block: ",k.id||"No ID"]}),($=(M=k.slides)==null?void 0:M.slideList)==null?void 0:$.map((W,Q)=>{var V;return o.jsxs("div",{className:"ml-6 mt-2 border-l-2 pl-4 border-blue-100",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Slide: ",W.id||"No ID"]}),o.jsx("button",{onClick:()=>p(W),className:"ml-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"Select"})]}),o.jsxs("div",{className:"ml-2 mt-1 text-xs text-gray-600",children:[o.jsxs("p",{children:["Sequence: ",W.sequence]}),((V=W.stainProtocol)==null?void 0:V.name)&&o.jsxs("p",{children:["Stain: ",W.stainProtocol.name]})]})]},`slide-${Q}`)})]},`block-slides-${R}`)})]},`specimen-slides-${C}`)}))]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})})]})})},zN=({isSpecimenSelectorModalOpen:e,isBlockSelectorModalOpen:t,isSlideSelectorModalOpen:r,isEntitySelectorModalOpen:n,message:s,toggleSpecimenSelectorModal:i,toggleBlockSelectorModal:a,toggleSlideSelectorModal:l,toggleEntitySelectorModal:c,handleSpecimenSelect:p,handleBlockSelect:f,handleSlideSelect:u,handleEntitySelect:d})=>o.jsxs(o.Fragment,{children:[o.jsx(AN,{isOpen:e,onClose:i,message:s,onSelectSpecimen:p}),o.jsx(BN,{isOpen:t,onClose:a,message:s,onSelectBlock:f}),o.jsx(FN,{isOpen:r,onClose:l,message:s,onSelectSlide:u}),o.jsx($N,{isOpen:n,onClose:c,message:s,onSelectEntity:d})]}),UN=({message:e,type:t,isVisible:r,onClose:n,duration:s=1500})=>{if(j.useEffect(()=>{if(r&&s>0){const p=setTimeout(()=>{n()},s);return()=>clearTimeout(p)}},[r,s,n]),!r)return null;const i=()=>{switch(t){case"success":return{bg:"bg-green-500",text:"text-white",icon:o.jsx(Y0,{size:20})};case"error":return{bg:"bg-red-500",text:"text-white",icon:o.jsx(Hm,{size:20})};case"warning":return{bg:"bg-yellow-500",text:"text-white",icon:o.jsx(Um,{size:20})};case"info":return{bg:"bg-blue-500",text:"text-white",icon:o.jsx(Od,{size:20})};default:return{bg:"bg-gray-500",text:"text-white",icon:o.jsx(Od,{size:20})}}},{bg:a,text:l,icon:c}=i();return o.jsxs("div",{className:`fixed top-4 right-4 ${a} ${l} px-4 py-3 rounded-lg shadow-lg z-50 flex items-center gap-3 max-w-md transform transition-all duration-300 ease-in-out ${r?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:[c,o.jsx("span",{className:"flex-1 text-sm font-medium",children:e}),o.jsx("button",{onClick:n,className:`${l} hover:opacity-70 transition-opacity`,children:o.jsx(At,{size:16})})]})},HN=({isSidebarOpen:e,snackbar:t,onToggleSidebar:r,onCloseSnackbar:n})=>{const[s,i]=j.useState(!1),[a,l]=j.useState(null),[c,p]=j.useState(!1),[f,u]=j.useState(null),d=x=>{l(x),i(!0)},m=()=>{i(!1),l(null)},h=x=>{u(x),p(!0)},y=(x,b)=>{me.updateMessageContent(x,b),p(!1),u(null)},N=(x,b)=>{me.updateMessageComment(x,b)},v=(x,b)=>{me.updateMessageControlId(x,b)},g=()=>{p(!1),u(null)};return o.jsxs(o.Fragment,{children:[o.jsx(mN,{isOpen:e,onClose:r,onMessageClick:d,onEditMessage:h}),o.jsx(gN,{isOpen:s,onClose:m,message:a}),o.jsx(hN,{isOpen:c,onClose:g,message:f,onSave:y,onSaveComment:N,onSaveControlId:v}),o.jsx(UN,{message:t.message,type:t.type,isVisible:t.isVisible,onClose:n})]})},fh=e=>{var t;return((t=e.responses)==null?void 0:t.find(r=>r.isDefault))||null},Vl=e=>{const t=fh(e);return(t==null?void 0:t.applicationResponse)||{isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}},ql=e=>{const t=fh(e);return(t==null?void 0:t.communicationResponse)||{isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}},jp="http://localhost:8085/api/hosts";class GN{constructor(){fe(this,"cachedServers",[])}async getServers(){try{console.log("Fetching servers from backend...");const t=await fetch(`${jp}/servers`);if(!t.ok){let s=`HTTP ${t.status}: ${t.statusText}`;try{const i=await t.text();i&&(s+=` - ${i}`)}catch{}throw new Error(s)}const r=await t.json();console.log("Received servers from backend:",r);const n=r.map(s=>({...s,applicationResponse:Vl(s),communicationResponse:ql(s)}));return this.cachedServers=n,n}catch(t){throw console.error("Error fetching servers:",t),t}}getCachedServers(){return this.cachedServers}async toggleServer(t){try{console.log("Toggling server:",t);const n=(await this.getServers()).find(i=>(i.serverName||i.name||i.hostName)===t);if(!n)throw new Error(`Server not found: ${t}`);const s={serverName:n.serverName,isRunning:!n.isRunning,applicationResponse:n.applicationResponse,communicationResponse:n.communicationResponse};return await this.modifyServer(s)}catch(r){throw console.error("Error toggling server:",r),r}}async modifyServer(t){var r,n,s,i,a,l,c,p,f,u,d,m,h,y;try{let N=[];t.responses?N=t.responses:(t.applicationResponse||t.communicationResponse)&&(N=[{messageType:"ACK",isDefault:!0,applicationResponse:{isEnable:((r=t.applicationResponse)==null?void 0:r.isEnable)||!1,isError:((n=t.applicationResponse)==null?void 0:n.isError)||!1,errorText:((s=t.applicationResponse)==null?void 0:s.errorText)||"",customResponse:{useCustomResponse:((a=(i=t.applicationResponse)==null?void 0:i.customResponse)==null?void 0:a.enabled)||!1,customResponseText:((c=(l=t.applicationResponse)==null?void 0:l.customResponse)==null?void 0:c.text)||""}},communicationResponse:{isEnable:((p=t.communicationResponse)==null?void 0:p.isEnable)||!1,isError:((f=t.communicationResponse)==null?void 0:f.isError)||!1,errorText:((u=t.communicationResponse)==null?void 0:u.errorText)||"",customResponse:{useCustomResponse:((m=(d=t.communicationResponse)==null?void 0:d.customResponse)==null?void 0:m.enabled)||!1,customResponseText:((y=(h=t.communicationResponse)==null?void 0:h.customResponse)==null?void 0:y.text)||""}}}]);const v={serverName:t.serverName,isRunning:t.isRunning||!1,responses:N,hostType:t.hostType||"",location:t.location||""};console.log(" Sending to backend:",v);const g=await fetch(`${jp}/servers/modifyServer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const x=await g.json();console.log("Server modified successfully:",x);const b={...x,applicationResponse:Vl(x),communicationResponse:ql(x)},C=this.cachedServers.findIndex(w=>(w.serverName||w.name||w.hostName)===t.serverName);return C>=0&&(this.cachedServers[C]=b),b}catch(N){throw console.error("Error modifying server:",N),N}}clearCache(){this.cachedServers=[]}}const Aa=new GN,_N=({server:e,isOpen:t,onClose:r,onSave:n})=>{var R,M,$,W,Q,V,B,F,O,E,T,P,H,U;const[s,i]=j.useState([]),[a,l]=j.useState(0),[c,p]=j.useState(!1),[f,u]=j.useState(null),[d,m]=j.useState({isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}),[h,y]=j.useState({isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:""}}),N=L=>L?!["VSS","VIRTUOSO","DP"].includes(L.toUpperCase()):!0,v=L=>L?L.toUpperCase()==="VTG":!0;j.useEffect(()=>{var L,q,_,Z,ee,S,I,te;if(e){if(console.log(" Initializing modal with server data:",e),console.log(" Server responses from backend:",e.responses),console.log(" HostType:",e.hostType,"- Show response selector:",v(e.hostType)),e.responses&&e.responses.length>0){const Y=e.responses.map(K=>{var he,De,ke,de,We,jt,Tr,Xs,zn,yu,bu,Su,wu,Nu;return{messageType:K.messageType,isDefault:K.isDefault,applicationResponse:{isEnable:((he=K.applicationResponse)==null?void 0:he.isEnable)||!1,isError:((De=K.applicationResponse)==null?void 0:De.isError)||!1,errorText:((ke=K.applicationResponse)==null?void 0:ke.errorText)||"",customResponse:{enabled:((We=(de=K.applicationResponse)==null?void 0:de.customResponse)==null?void 0:We.useCustomResponse)||!1,text:((Tr=(jt=K.applicationResponse)==null?void 0:jt.customResponse)==null?void 0:Tr.customResponseText)||""}},communicationResponse:{isEnable:((Xs=K.communicationResponse)==null?void 0:Xs.isEnable)||!1,isError:((zn=K.communicationResponse)==null?void 0:zn.isError)||!1,errorText:((yu=K.communicationResponse)==null?void 0:yu.errorText)||"",customResponse:{enabled:((Su=(bu=K.communicationResponse)==null?void 0:bu.customResponse)==null?void 0:Su.useCustomResponse)||!1,text:((Nu=(wu=K.communicationResponse)==null?void 0:wu.customResponse)==null?void 0:Nu.customResponseText)||""}}}});i(Y);const ie=Y.findIndex(K=>K.isDefault),ne=ie!==-1?ie:0;if(l(ne),console.log(" Default response selection:",{defaultResponseIndex:ie,selectedIndex:ne,selectedResponseType:(L=Y[ne])==null?void 0:L.messageType,isDefault:(q=Y[ne])==null?void 0:q.isDefault}),Y.length>0){const K=Y[ne],he={...K.applicationResponse};N(e.hostType)||(he.isEnable=!1,he.isError=!1,he.errorText="",he.customResponse={enabled:!1,text:((_=he.customResponse)==null?void 0:_.text)||""}),m(he),y(K.communicationResponse)}}else{console.log(" ApplicationResponse from backend:",e.applicationResponse),console.log(" CommunicationResponse from backend:",e.communicationResponse);const Y=Vl(e),ie=ql(e),ne={isEnable:Y.isEnable||!1,isError:Y.isError||!1,errorText:Y.errorText||"",customResponse:{enabled:((Z=Y.customResponse)==null?void 0:Z.useCustomResponse)||!1,text:((ee=Y.customResponse)==null?void 0:ee.customResponseText)||""}};N(e.hostType)||(ne.isEnable=!1,ne.isError=!1,ne.errorText="",ne.customResponse={enabled:!1,text:((S=ne.customResponse)==null?void 0:S.text)||""}),m(ne);const K={isEnable:ie.isEnable||!1,isError:ie.isError||!1,errorText:ie.errorText||"",customResponse:{enabled:((I=ie.customResponse)==null?void 0:I.useCustomResponse)||!1,text:((te=ie.customResponse)==null?void 0:te.customResponseText)||""}};y(K),i([{messageType:"Default",isDefault:!0,applicationResponse:ne,communicationResponse:K}]),l(0)}u(null),console.log(" Modal initialization complete")}},[e]);const g=async()=>{var L,q,_,Z,ee,S;if(e){p(!0),u(null);try{const I=[...s];I[a]&&(I[a]={...I[a],applicationResponse:{isEnable:d.isEnable,isError:d.isError,errorText:d.errorText,customResponse:(L=d.customResponse)!=null&&L.enabled?{useCustomResponse:!0,customResponseText:((q=d.customResponse)==null?void 0:q.text)||""}:{useCustomResponse:!1,customResponseText:((_=d.customResponse)==null?void 0:_.text)||""}},communicationResponse:{isEnable:h.isEnable,isError:h.isError,errorText:h.errorText,customResponse:(Z=h.customResponse)!=null&&Z.enabled?{useCustomResponse:!0,customResponseText:((ee=h.customResponse)==null?void 0:ee.text)||""}:{useCustomResponse:!1,customResponseText:((S=h.customResponse)==null?void 0:S.text)||""}}});const te={serverName:e.serverName,isRunning:e.isRunning,responses:I,applicationResponse:d,communicationResponse:h};console.log(" Saving server data:",te),await n(te),r()}catch(I){u(I instanceof Error?I.message:"Error saving server configuration")}finally{p(!1)}}},x=(L,q,_,Z=!1)=>{var ee,S;if(!(Z&&_==="isEnable"&&!L[_]&&!N(e==null?void 0:e.hostType))){if(_==="isEnable"&&!L[_])q({...L,isEnable:!0,isError:!1,errorText:"",customResponse:L.customResponse||{enabled:!1,text:""}});else if(_==="isEnable"&&L[_])q({...L,isEnable:!1,isError:!1,errorText:"",customResponse:{enabled:!1,text:((ee=L.customResponse)==null?void 0:ee.text)||""}});else if(_==="isError"&&L.isEnable){const I=!L[_];q({...L,isError:I,errorText:I&&L.errorText||"",customResponse:I?{enabled:!1,text:((S=L.customResponse)==null?void 0:S.text)||""}:L.customResponse||{enabled:!1,text:""}})}}},b=(L,q,_)=>{q({...L,errorText:_})},C=(L,q)=>{var _,Z;if(L.isEnable&&!L.isError){const ee=((_=L.customResponse)==null?void 0:_.enabled)||!1,S=((Z=L.customResponse)==null?void 0:Z.text)||"";console.log(" Toggling customResponse:",{isCurrentlyEnabled:ee,currentText:S,willBeEnabled:!ee}),q({...L,customResponse:{enabled:!ee,text:S},isError:ee?L.isError:!1,errorText:ee?L.errorText:""})}},w=(L,q,_)=>{var Z,ee,S;console.log(" Updating customResponse text:",{currentEnabled:(Z=L.customResponse)==null?void 0:Z.enabled,currentText:(ee=L.customResponse)==null?void 0:ee.text,newText:_}),q({...L,customResponse:{enabled:((S=L.customResponse)==null?void 0:S.enabled)||!1,text:_}})},D=L=>{if(!L)return L;const q=L.split(/(\*originalControlId\*|\*controlId\*)/g);return o.jsx(o.Fragment,{children:q.map((_,Z)=>_==="*originalControlId*"||_==="*controlId*"?o.jsx("span",{className:"bg-yellow-200 text-yellow-800 font-semibold px-1 rounded",children:_},Z):o.jsx("span",{children:_},Z))})},k=L=>!!(L&&(L.includes("*originalControlId*")||L.includes("*controlId*")));return!t||!e?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Edit Server: ",e.serverName||e.name||"Unknown"]}),o.jsx("button",{onClick:r,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:o.jsx(At,{size:20})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[v(e==null?void 0:e.hostType)&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Response to Edit:"}),o.jsx("select",{value:a,onChange:L=>{var Z;const q=parseInt(L.target.value);l(q);const _=s[q];if(_){const ee={..._.applicationResponse};N(e.hostType)||(ee.isEnable=!1,ee.isError=!1,ee.errorText="",ee.customResponse={enabled:!1,text:((Z=ee.customResponse)==null?void 0:Z.text)||""}),m(ee),y(_.communicationResponse)}},className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:s.map((L,q)=>o.jsxs("option",{value:q,children:[L.messageType," ",L.isDefault?"(Default)":""]},q))}),s[a]&&o.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Editing: ",o.jsx("span",{className:"font-medium",children:s[a].messageType}),s[a].isDefault&&o.jsx("span",{className:"text-blue-600 font-medium",children:" (Default Response)"})]})]}),f&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Um,{size:16,className:"text-red-600 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-red-700",children:f})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-medium text-gray-700",children:"Application Response"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:d.isEnable||!1,disabled:!N(e==null?void 0:e.hostType),onChange:()=>x(d,m,"isEnable",!0),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsxs("span",{className:`text-sm ${N(e==null?void 0:e.hostType)?"text-gray-600":"text-gray-400"}`,children:["Enabled ",!N(e==null?void 0:e.hostType)&&o.jsxs("span",{className:"text-xs text-red-500",children:["(Restricted for WS Host with ",e==null?void 0:e.hostType," type)"]})]})]}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:d.isError||!1,disabled:!d.isEnable,onChange:()=>x(d,m,"isError",!0),className:"w-4 h-4 text-red-600 rounded border-gray-300 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${d.isEnable?"text-gray-600":"text-gray-400"}`,children:"Has Error"})]}),d.isError&&d.isEnable&&o.jsx("div",{className:"ml-7 mt-2",children:o.jsx("input",{type:"text",placeholder:"Enter error description...",value:d.errorText||"",onChange:L=>b(d,m,L.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:((R=d.customResponse)==null?void 0:R.enabled)||!1,disabled:!d.isEnable||d.isError,onChange:()=>C(d,m),className:"w-4 h-4 text-green-600 rounded border-gray-300 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${d.isEnable&&!d.isError?"text-gray-600":"text-gray-400"}`,children:"Custom Response"})]}),((M=d.customResponse)==null?void 0:M.enabled)&&d.isEnable&&!d.isError&&o.jsxs("div",{className:"ml-7 mt-2",children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Custom Response Message:"}),o.jsx("div",{className:"relative",children:o.jsx("textarea",{placeholder:"Enter custom response (e.g., HL7 ACK message)...",value:(($=d.customResponse)==null?void 0:$.text)||"",onChange:L=>w(d,m,L.target.value),rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono resize-vertical min-h-[100px]",style:{background:k(((W=d.customResponse)==null?void 0:W.text)||"")?"linear-gradient(90deg, rgba(254, 249, 195, 0.3) 0%, rgba(254, 249, 195, 0.1) 100%)":"white"}})}),k(((Q=d.customResponse)==null?void 0:Q.text)||"")&&o.jsx("div",{className:"flex items-center justify-end mt-1",children:o.jsx("div",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full font-medium border border-yellow-200",children:" Dynamic ID detected"})}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Tip: Use ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*originalControlId*"})," and ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*controlId*"})," as placeholders for dynamic message ID replacement"]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-medium text-gray-700",children:"Communication Response"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:h.isEnable||!1,onChange:()=>x(h,y,"isEnable",!1),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Enabled"})]}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:h.isError||!1,disabled:!h.isEnable,onChange:()=>x(h,y,"isError",!1),className:"w-4 h-4 text-red-600 rounded border-gray-300 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${h.isEnable?"text-gray-600":"text-gray-400"}`,children:"Has Error"})]}),h.isError&&h.isEnable&&o.jsx("div",{className:"ml-7 mt-2",children:o.jsx("input",{type:"text",placeholder:"Enter error description...",value:h.errorText||"",onChange:L=>b(h,y,L.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})}),o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:((V=h.customResponse)==null?void 0:V.enabled)||!1,disabled:!h.isEnable||h.isError,onChange:()=>C(h,y),className:"w-4 h-4 text-green-600 rounded border-gray-300 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("span",{className:`text-sm ${h.isEnable&&!h.isError?"text-gray-600":"text-gray-400"}`,children:"Custom Response"})]}),((B=h.customResponse)==null?void 0:B.enabled)&&h.isEnable&&!h.isError&&o.jsxs("div",{className:"ml-7 mt-2",children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Custom Response Message:"}),o.jsx("div",{className:"relative",children:o.jsx("textarea",{placeholder:"Enter custom response (e.g., HL7 ACK message)...",value:((F=h.customResponse)==null?void 0:F.text)||"",onChange:L=>w(h,y,L.target.value),rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono resize-vertical min-h-[100px]",style:{background:k(((O=h.customResponse)==null?void 0:O.text)||"")?"linear-gradient(90deg, rgba(254, 249, 195, 0.3) 0%, rgba(254, 249, 195, 0.1) 100%)":"white"}})}),k(((E=h.customResponse)==null?void 0:E.text)||"")&&o.jsx("div",{className:"flex items-center justify-end mt-1",children:o.jsx("div",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full font-medium border border-yellow-200",children:" Dynamic ID detected"})}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Tip: Use ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*originalControlId*"})," and ",o.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"*controlId*"})," as placeholders for dynamic message ID replacement"]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-3",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Preview:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-xs font-medium",children:["App: ",d.isError?"":d.isEnable?"":""]}),d.isError&&d.errorText&&o.jsxs("span",{className:"text-red-600 italic text-xs",children:["(",d.errorText,")"]})]}),((T=d.customResponse)==null?void 0:T.enabled)&&((P=d.customResponse)==null?void 0:P.text)&&!d.isError&&o.jsxs("div",{className:"mt-1 p-2 bg-green-50 border border-green-200 rounded text-xs",children:[o.jsx("div",{className:"text-green-700 font-medium mb-1",children:"Custom Response:"}),o.jsx("div",{className:"font-mono text-green-600 break-all whitespace-pre-wrap max-h-20 overflow-y-auto",children:D(d.customResponse.text)})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-xs font-medium",children:["Comm: ",h.isError?"":h.isEnable?"":""]}),h.isError&&h.errorText&&o.jsxs("span",{className:"text-red-600 italic text-xs",children:["(",h.errorText,")"]})]}),((H=h.customResponse)==null?void 0:H.enabled)&&((U=h.customResponse)==null?void 0:U.text)&&!h.isError&&o.jsxs("div",{className:"mt-1 p-2 bg-green-50 border border-green-200 rounded text-xs",children:[o.jsx("div",{className:"text-green-700 font-medium mb-1",children:"Custom Response:"}),o.jsx("div",{className:"font-mono text-green-600 break-all whitespace-pre-wrap max-h-20 overflow-y-auto",children:D(h.customResponse.text)})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[o.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Cancel"}),o.jsx("button",{onClick:g,disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(To,{size:16}),o.jsx("span",{children:"Save"})]})})]})]})})},WN=({isServerSidebarOpen:e,onToggleServerSidebar:t})=>{const[r,n]=j.useState([]),[s,i]=j.useState(!1),[a,l]=j.useState(null),[c,p]=j.useState(new Set),[f,u]=j.useState(!1),[d,m]=j.useState(null),h=async()=>{i(!0),l(null);try{const w=await Aa.getServers();n(w)}catch(w){const D=`Error loading servers: ${w instanceof Error?w.message:"Unknown error"}`;l(D),console.error("Error loading servers:",w)}finally{i(!1)}},y=async w=>{p(D=>new Set(D).add(w));try{const D=await Aa.toggleServer(w);n(k=>k.map(R=>(R.serverName||R.name||R.hostName)===w?D:R))}catch(D){console.error("Error toggling server:",D),l(`Error toggling server ${w}`)}finally{p(D=>{const k=new Set(D);return k.delete(w),k})}};j.useEffect(()=>{e&&h()},[e]);const N=w=>{m(w),u(!0)},v=()=>{u(!1),m(null)},g=async w=>{try{const D=await Aa.modifyServer(w);n(k=>k.map(R=>(R.serverName||R.name)===D.serverName?D:R)),console.log("Server updated successfully:",D)}catch(D){throw console.error("Error updating server:",D),D}},x=w=>w.serverName||w.name||w.hostName||w.id||"Unknown Server",b=w=>{var D,k;return w?typeof w=="boolean"?w?o.jsx("span",{className:"text-green-500 font-semibold",children:""}):o.jsx("span",{className:"text-red-500 font-semibold",children:""}):w.isError?o.jsx("span",{className:"text-yellow-500 font-semibold",children:""}):w.isEnable?(D=w.customResponse)!=null&&D.enabled&&((k=w.customResponse)!=null&&k.text)?o.jsx("span",{className:"text-blue-500 font-semibold",title:`Custom: ${w.customResponse.text}`,children:""}):o.jsx("span",{className:"text-green-500 font-semibold",children:""}):o.jsx("span",{className:"text-red-500 font-semibold",children:""}):o.jsx("span",{className:"text-red-500 font-semibold",children:""})},C=w=>w.applicationResponse!==void 0||w.communicationResponse!==void 0;return e?o.jsxs("div",{className:"fixed left-0 top-0 h-full w-96 bg-white shadow-lg z-50 overflow-y-auto border-r border-gray-200",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Server Management"}),o.jsx("button",{onClick:t,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:o.jsx(At,{size:20})})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-medium text-gray-700",children:"Server Status"}),o.jsx("button",{onClick:h,disabled:s,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 disabled:opacity-50",title:"Refresh servers",children:o.jsx(Ld,{size:16,className:s?"animate-spin":""})})]}),s&&o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ld,{size:16,className:"animate-spin"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Loading servers..."})]})}),a&&o.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Hm,{size:16,className:"text-red-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-red-600",children:"Connection Error"}),o.jsx("p",{className:"text-xs text-red-500 mt-1",children:a}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Make sure the backend server is running on port 8085"})]})]})}),!s&&!a&&o.jsx("div",{className:"space-y-2",children:r.length===0?o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-gray-600",children:"No servers found"})}):r.map((w,D)=>{const k=x(w),R=c.has(k);return o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-700",children:k}),C(w)&&o.jsxs("div",{className:"bg-gray-100 rounded-md px-2 py-1 mt-2 inline-flex items-center gap-2",children:[o.jsxs("div",{className:"text-xs text-gray-600 flex items-center gap-1",children:[o.jsx("span",{children:"App:"}),b(w.applicationResponse),o.jsx("span",{children:"|"}),o.jsx("span",{children:"Comm:"}),b(w.communicationResponse)]}),o.jsx("button",{onClick:()=>N(w),className:"p-0.5 rounded text-blue-600 hover:text-blue-700 hover:bg-blue-50 transition-colors",title:"Edit server configuration",children:o.jsx(Nn,{size:12})})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("button",{onClick:()=>y(k),disabled:R,className:`
                              relative inline-flex h-4 w-8 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent 
                              transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2
                              ${w.isRunning?"bg-green-500 focus:ring-green-600":"bg-red-500 focus:ring-red-600"}
                              ${R?"opacity-50 cursor-not-allowed":""}
                            `,children:o.jsx("span",{className:`
                                pointer-events-none inline-block h-3 w-3 transform rounded-full bg-white shadow ring-0 
                                transition duration-200 ease-in-out
                                ${w.isRunning?"translate-x-4":"translate-x-0"}
                                ${R?"animate-pulse":""}
                              `})})})]})},D)})})]})}),o.jsx(_N,{server:d,isOpen:f,onClose:v,onSave:g})]}):null},VN=()=>{const e=xN();return o.jsxs(yN,{isSidebarOpen:e.isSidebarOpen,isServerSidebarOpen:e.isServerSidebarOpen,isMessageSaved:e.isMessageSaved,onToggleSidebar:e.toggleSidebar,onToggleServerSidebar:e.toggleServerSidebar,children:[o.jsx(jN,{sampleId:e.sampleId,selectedHost:e.selectedHost,selectedType:e.selectedType,selectedStatus:e.selectedStatus,generatedMessage:e.generatedMessage,messageCopied:e.messageCopied,isFetchingData:e.isFetchingData,isGeneratingMessage:e.isGeneratingMessage,isSendingMessage:e.isSendingMessage,generateButtonDisabled:e.generateButtonDisabled,messageTypes:e.messageTypes,hosts:e.hosts,isLoadingHosts:e.isLoadingHosts,selectedSpecimen:e.selectedSpecimen,selectedBlock:e.selectedBlock,selectedSlide:e.selectedSlide,selectedEntity:e.selectedEntity,showSpecimenSelector:e.showSpecimenSelector,showBlockSelector:e.showBlockSelector,showSlideSelector:e.showSlideSelector,showEntitySelector:e.showEntitySelector,showStatusSelector:e.showStatusSelector,message:e.message,sendResponse:e.sendResponse,error:e.error,handleSampleIdChange:e.handleSampleIdChange,handleHostChange:e.handleHostChange,handleTypeChange:e.handleTypeChange,handleStatusChange:e.handleStatusChange,togglePatientModal:e.togglePatientModal,togglePhysicianModal:e.togglePhysicianModal,togglePathologistModal:e.togglePathologistModal,toggleTechnicianModal:e.toggleTechnicianModal,toggleHierarchyModal:e.toggleHierarchyModal,toggleSpecimenSelectorModal:e.toggleSpecimenSelectorModal,toggleBlockSelectorModal:e.toggleBlockSelectorModal,toggleSlideSelectorModal:e.toggleSlideSelectorModal,toggleEntitySelectorModal:e.toggleEntitySelectorModal,generateMessage:e.generateMessage,sendMessage:e.sendMessage,copyToClipboard:e.copyToClipboard,updateGeneratedMessage:e.updateGeneratedMessage,saveMessageToSidebar:e.saveMessageToSidebar}),o.jsx(LN,{isPatientModalOpen:e.isPatientModalOpen,isPhysicianModalOpen:e.isPhysicianModalOpen,isPathologistModalOpen:e.isPathologistModalOpen,isHierarchyModalOpen:e.isHierarchyModalOpen,isTechnicianModalOpen:e.isTechnicianModalOpen,patientInfo:e.patientInfo,physicianInfo:e.physicianInfo,pathologistInfo:e.pathologistInfo,technicianInfo:e.technicianInfo,message:e.message,togglePatientModal:e.togglePatientModal,togglePhysicianModal:e.togglePhysicianModal,togglePathologistModal:e.togglePathologistModal,toggleHierarchyModal:e.toggleHierarchyModal,toggleTechnicianModal:e.toggleTechnicianModal,handlePatientInfoSave:e.handlePatientInfoSave,handlePhysicianInfoSave:e.handlePhysicianInfoSave,handlePathologistInfoSave:e.handlePathologistInfoSave,handleTechnicianInfoSave:e.handleTechnicianInfoSave}),o.jsx(zN,{isSpecimenSelectorModalOpen:e.isSpecimenSelectorModalOpen,isBlockSelectorModalOpen:e.isBlockSelectorModalOpen,isSlideSelectorModalOpen:e.isSlideSelectorModalOpen,isEntitySelectorModalOpen:e.isEntitySelectorModalOpen,message:e.message,toggleSpecimenSelectorModal:e.toggleSpecimenSelectorModal,toggleBlockSelectorModal:e.toggleBlockSelectorModal,toggleSlideSelectorModal:e.toggleSlideSelectorModal,toggleEntitySelectorModal:e.toggleEntitySelectorModal,handleSpecimenSelect:e.handleSpecimenSelect,handleBlockSelect:e.handleBlockSelect,handleSlideSelect:e.handleSlideSelect,handleEntitySelect:e.handleEntitySelect}),"      ",o.jsx(HN,{isSidebarOpen:e.isSidebarOpen,snackbar:e.snackbar,onToggleSidebar:e.toggleSidebar,onCloseSnackbar:e.closeSnackbar}),o.jsx(WN,{isServerSidebarOpen:(()=>(console.log(" MessageGenerator - pasando isServerSidebarOpen:",e.isServerSidebarOpen),e.isServerSidebarOpen))(),onToggleServerSidebar:e.toggleServerSidebar})]})};function qN(){return o.jsx("div",{className:"min-h-screen bg-gray-100 py-6",children:o.jsx(VN,{})})}const KN=()=>{try{const e=$e.getMessages();if(e.length===0){console.log("No messages to migrate");return}const r=me.getLists().find(i=>i.name==="Default"||i.name==="Mensajes Migrados");if(r&&r.messages.length>0){console.log("Migration already completed");return}let n=r;n||(n=me.createList("Mensajes Migrados","Mensajes importados del sistema anterior","#3B82F6"));let s=0;for(const i of e)try{me.addMessage(i.content,i.host,i.messageType,i.messageControlId,n.id),s++}catch(a){console.error("Error migrating message:",i.id,a)}try{$e.clearAllMessages()}catch(i){console.warn("Could not clear old messages service:",i)}if(console.log(`Successfully migrated ${s} messages to the new lists system`),s>0){const i=document.createElement("div");i.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #10B981;
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 1000;
        font-family: system-ui, -apple-system, sans-serif;
        font-size: 14px;
        max-width: 300px;
      `,i.textContent=` ${s} mensajes migrados al nuevo sistema de listas`,document.body.appendChild(i),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},5e3)}}catch(e){console.error("Error during migration:",e);const t=document.createElement("div");t.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: #EF4444;
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 14px;
      max-width: 300px;
    `,t.textContent=" Error al migrar mensajes. Consulta la consola para ms detalles.",document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},5e3)}};KN();console.log(" MAIN.TSX BUILD TEST - November 5th BUILD");Ba.createRoot(document.getElementById("root")).render(o.jsx(qN,{}));
